/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["pages/_app"],{

/***/ "./node_modules/browser-tabs-lock/index.js":
/*!*************************************************!*\
  !*** ./node_modules/browser-tabs-lock/index.js ***!
  \*************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar _this = this;\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nvar processLock_1 = __webpack_require__(/*! ./processLock */ \"./node_modules/browser-tabs-lock/processLock.js\");\n/**\n * @author: SuperTokens (https://github.com/supertokens)\n * This library was created as a part of a larger project, SuperTokens(https://supertokens.io) - the best session management solution.\n * You can also check out our other projects on https://github.com/supertokens\n *\n * To contribute to this package visit https://github.com/supertokens/browser-tabs-lock\n * If you face any problems you can file an issue on https://github.com/supertokens/browser-tabs-lock/issues\n *\n * If you have any questions or if you just want to say hi visit https://supertokens.io/discord\n */\n/**\n * @constant\n * @type {string}\n * @default\n * @description All the locks taken by this package will have this as prefix\n*/\nvar LOCK_STORAGE_KEY = 'browser-tabs-lock-key';\nvar DEFAULT_STORAGE_HANDLER = {\n    key: function (index) { return __awaiter(_this, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            throw new Error(\"Unsupported\");\n        });\n    }); },\n    getItem: function (key) { return __awaiter(_this, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            throw new Error(\"Unsupported\");\n        });\n    }); },\n    clear: function () { return __awaiter(_this, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            return [2 /*return*/, window.localStorage.clear()];\n        });\n    }); },\n    removeItem: function (key) { return __awaiter(_this, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            throw new Error(\"Unsupported\");\n        });\n    }); },\n    setItem: function (key, value) { return __awaiter(_this, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            throw new Error(\"Unsupported\");\n        });\n    }); },\n    keySync: function (index) {\n        return window.localStorage.key(index);\n    },\n    getItemSync: function (key) {\n        return window.localStorage.getItem(key);\n    },\n    clearSync: function () {\n        return window.localStorage.clear();\n    },\n    removeItemSync: function (key) {\n        return window.localStorage.removeItem(key);\n    },\n    setItemSync: function (key, value) {\n        return window.localStorage.setItem(key, value);\n    },\n};\n/**\n * @function delay\n * @param {number} milliseconds - How long the delay should be in terms of milliseconds\n * @returns {Promise<void>}\n */\nfunction delay(milliseconds) {\n    return new Promise(function (resolve) { return setTimeout(resolve, milliseconds); });\n}\n/**\n * @function generateRandomString\n * @params {number} length - How long the random string should be\n * @returns {string}\n * @description returns random string whose length is equal to the length passed as parameter\n */\nfunction generateRandomString(length) {\n    var CHARS = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz';\n    var randomstring = '';\n    for (var i = 0; i < length; i++) {\n        var INDEX = Math.floor(Math.random() * CHARS.length);\n        randomstring += CHARS[INDEX];\n    }\n    return randomstring;\n}\n/**\n * @function getLockId\n * @returns {string}\n * @description Generates an id which will be unique for the browser tab\n */\nfunction getLockId() {\n    return Date.now().toString() + generateRandomString(15);\n}\nvar SuperTokensLock = /** @class */ (function () {\n    function SuperTokensLock(storageHandler) {\n        this.acquiredIatSet = new Set();\n        this.storageHandler = undefined;\n        this.id = getLockId();\n        this.acquireLock = this.acquireLock.bind(this);\n        this.releaseLock = this.releaseLock.bind(this);\n        this.releaseLock__private__ = this.releaseLock__private__.bind(this);\n        this.waitForSomethingToChange = this.waitForSomethingToChange.bind(this);\n        this.refreshLockWhileAcquired = this.refreshLockWhileAcquired.bind(this);\n        this.storageHandler = storageHandler;\n        if (SuperTokensLock.waiters === undefined) {\n            SuperTokensLock.waiters = [];\n        }\n    }\n    /**\n     * @async\n     * @memberOf Lock\n     * @function acquireLock\n     * @param {string} lockKey - Key for which the lock is being acquired\n     * @param {number} [timeout=5000] - Maximum time for which the function will wait to acquire the lock\n     * @returns {Promise<boolean>}\n     * @description Will return true if lock is being acquired, else false.\n     *              Also the lock can be acquired for maximum 10 secs\n     */\n    SuperTokensLock.prototype.acquireLock = function (lockKey, timeout) {\n        if (timeout === void 0) { timeout = 5000; }\n        return __awaiter(this, void 0, void 0, function () {\n            var iat, MAX_TIME, STORAGE_KEY, STORAGE, lockObj, TIMEOUT_KEY, lockObjPostDelay, parsedLockObjPostDelay;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        iat = Date.now() + generateRandomString(4);\n                        MAX_TIME = Date.now() + timeout;\n                        STORAGE_KEY = LOCK_STORAGE_KEY + \"-\" + lockKey;\n                        STORAGE = this.storageHandler === undefined ? DEFAULT_STORAGE_HANDLER : this.storageHandler;\n                        _a.label = 1;\n                    case 1:\n                        if (!(Date.now() < MAX_TIME)) return [3 /*break*/, 8];\n                        return [4 /*yield*/, delay(30)];\n                    case 2:\n                        _a.sent();\n                        lockObj = STORAGE.getItemSync(STORAGE_KEY);\n                        if (!(lockObj === null)) return [3 /*break*/, 5];\n                        TIMEOUT_KEY = this.id + \"-\" + lockKey + \"-\" + iat;\n                        // there is a problem if setItem happens at the exact same time for 2 different processes.. so we add some random delay here.\n                        return [4 /*yield*/, delay(Math.floor(Math.random() * 25))];\n                    case 3:\n                        // there is a problem if setItem happens at the exact same time for 2 different processes.. so we add some random delay here.\n                        _a.sent();\n                        STORAGE.setItemSync(STORAGE_KEY, JSON.stringify({\n                            id: this.id,\n                            iat: iat,\n                            timeoutKey: TIMEOUT_KEY,\n                            timeAcquired: Date.now(),\n                            timeRefreshed: Date.now()\n                        }));\n                        return [4 /*yield*/, delay(30)];\n                    case 4:\n                        _a.sent(); // this is to prevent race conditions. This time must be more than the time it takes for storage.setItem\n                        lockObjPostDelay = STORAGE.getItemSync(STORAGE_KEY);\n                        if (lockObjPostDelay !== null) {\n                            parsedLockObjPostDelay = JSON.parse(lockObjPostDelay);\n                            if (parsedLockObjPostDelay.id === this.id && parsedLockObjPostDelay.iat === iat) {\n                                this.acquiredIatSet.add(iat);\n                                this.refreshLockWhileAcquired(STORAGE_KEY, iat);\n                                return [2 /*return*/, true];\n                            }\n                        }\n                        return [3 /*break*/, 7];\n                    case 5:\n                        SuperTokensLock.lockCorrector(this.storageHandler === undefined ? DEFAULT_STORAGE_HANDLER : this.storageHandler);\n                        return [4 /*yield*/, this.waitForSomethingToChange(MAX_TIME)];\n                    case 6:\n                        _a.sent();\n                        _a.label = 7;\n                    case 7:\n                        iat = Date.now() + generateRandomString(4);\n                        return [3 /*break*/, 1];\n                    case 8: return [2 /*return*/, false];\n                }\n            });\n        });\n    };\n    SuperTokensLock.prototype.refreshLockWhileAcquired = function (storageKey, iat) {\n        return __awaiter(this, void 0, void 0, function () {\n            var _this = this;\n            return __generator(this, function (_a) {\n                setTimeout(function () { return __awaiter(_this, void 0, void 0, function () {\n                    var STORAGE, lockObj, parsedLockObj;\n                    return __generator(this, function (_a) {\n                        switch (_a.label) {\n                            case 0: return [4 /*yield*/, processLock_1.default().lock(iat)];\n                            case 1:\n                                _a.sent();\n                                if (!this.acquiredIatSet.has(iat)) {\n                                    processLock_1.default().unlock(iat);\n                                    return [2 /*return*/];\n                                }\n                                STORAGE = this.storageHandler === undefined ? DEFAULT_STORAGE_HANDLER : this.storageHandler;\n                                lockObj = STORAGE.getItemSync(storageKey);\n                                if (lockObj !== null) {\n                                    parsedLockObj = JSON.parse(lockObj);\n                                    parsedLockObj.timeRefreshed = Date.now();\n                                    STORAGE.setItemSync(storageKey, JSON.stringify(parsedLockObj));\n                                    processLock_1.default().unlock(iat);\n                                }\n                                else {\n                                    processLock_1.default().unlock(iat);\n                                    return [2 /*return*/];\n                                }\n                                this.refreshLockWhileAcquired(storageKey, iat);\n                                return [2 /*return*/];\n                        }\n                    });\n                }); }, 1000);\n                return [2 /*return*/];\n            });\n        });\n    };\n    SuperTokensLock.prototype.waitForSomethingToChange = function (MAX_TIME) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, new Promise(function (resolve) {\n                            var resolvedCalled = false;\n                            var startedAt = Date.now();\n                            var MIN_TIME_TO_WAIT = 50; // ms\n                            var removedListeners = false;\n                            function stopWaiting() {\n                                if (!removedListeners) {\n                                    window.removeEventListener('storage', stopWaiting);\n                                    SuperTokensLock.removeFromWaiting(stopWaiting);\n                                    clearTimeout(timeOutId);\n                                    removedListeners = true;\n                                }\n                                if (!resolvedCalled) {\n                                    resolvedCalled = true;\n                                    var timeToWait = MIN_TIME_TO_WAIT - (Date.now() - startedAt);\n                                    if (timeToWait > 0) {\n                                        setTimeout(resolve, timeToWait);\n                                    }\n                                    else {\n                                        resolve(null);\n                                    }\n                                }\n                            }\n                            window.addEventListener('storage', stopWaiting);\n                            SuperTokensLock.addToWaiting(stopWaiting);\n                            var timeOutId = setTimeout(stopWaiting, Math.max(0, MAX_TIME - Date.now()));\n                        })];\n                    case 1:\n                        _a.sent();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    SuperTokensLock.addToWaiting = function (func) {\n        this.removeFromWaiting(func);\n        if (SuperTokensLock.waiters === undefined) {\n            return;\n        }\n        SuperTokensLock.waiters.push(func);\n    };\n    SuperTokensLock.removeFromWaiting = function (func) {\n        if (SuperTokensLock.waiters === undefined) {\n            return;\n        }\n        SuperTokensLock.waiters = SuperTokensLock.waiters.filter(function (i) { return i !== func; });\n    };\n    SuperTokensLock.notifyWaiters = function () {\n        if (SuperTokensLock.waiters === undefined) {\n            return;\n        }\n        var waiters = SuperTokensLock.waiters.slice(); // so that if Lock.waiters is changed it's ok.\n        waiters.forEach(function (i) { return i(); });\n    };\n    /**\n     * @function releaseLock\n     * @memberOf Lock\n     * @param {string} lockKey - Key for which lock is being released\n     * @returns {void}\n     * @description Release a lock.\n     */\n    SuperTokensLock.prototype.releaseLock = function (lockKey) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.releaseLock__private__(lockKey)];\n                    case 1: return [2 /*return*/, _a.sent()];\n                }\n            });\n        });\n    };\n    /**\n     * @function releaseLock\n     * @memberOf Lock\n     * @param {string} lockKey - Key for which lock is being released\n     * @returns {void}\n     * @description Release a lock.\n     */\n    SuperTokensLock.prototype.releaseLock__private__ = function (lockKey) {\n        return __awaiter(this, void 0, void 0, function () {\n            var STORAGE, STORAGE_KEY, lockObj, parsedlockObj;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        STORAGE = this.storageHandler === undefined ? DEFAULT_STORAGE_HANDLER : this.storageHandler;\n                        STORAGE_KEY = LOCK_STORAGE_KEY + \"-\" + lockKey;\n                        lockObj = STORAGE.getItemSync(STORAGE_KEY);\n                        if (lockObj === null) {\n                            return [2 /*return*/];\n                        }\n                        parsedlockObj = JSON.parse(lockObj);\n                        if (!(parsedlockObj.id === this.id)) return [3 /*break*/, 2];\n                        return [4 /*yield*/, processLock_1.default().lock(parsedlockObj.iat)];\n                    case 1:\n                        _a.sent();\n                        this.acquiredIatSet.delete(parsedlockObj.iat);\n                        STORAGE.removeItemSync(STORAGE_KEY);\n                        processLock_1.default().unlock(parsedlockObj.iat);\n                        SuperTokensLock.notifyWaiters();\n                        _a.label = 2;\n                    case 2: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    /**\n     * @function lockCorrector\n     * @returns {void}\n     * @description If a lock is acquired by a tab and the tab is closed before the lock is\n     *              released, this function will release those locks\n     */\n    SuperTokensLock.lockCorrector = function (storageHandler) {\n        var MIN_ALLOWED_TIME = Date.now() - 5000;\n        var STORAGE = storageHandler;\n        var KEYS = [];\n        var currIndex = 0;\n        while (true) {\n            var key = STORAGE.keySync(currIndex);\n            if (key === null) {\n                break;\n            }\n            KEYS.push(key);\n            currIndex++;\n        }\n        var notifyWaiters = false;\n        for (var i = 0; i < KEYS.length; i++) {\n            var LOCK_KEY = KEYS[i];\n            if (LOCK_KEY.includes(LOCK_STORAGE_KEY)) {\n                var lockObj = STORAGE.getItemSync(LOCK_KEY);\n                if (lockObj !== null) {\n                    var parsedlockObj = JSON.parse(lockObj);\n                    if ((parsedlockObj.timeRefreshed === undefined && parsedlockObj.timeAcquired < MIN_ALLOWED_TIME) ||\n                        (parsedlockObj.timeRefreshed !== undefined && parsedlockObj.timeRefreshed < MIN_ALLOWED_TIME)) {\n                        STORAGE.removeItemSync(LOCK_KEY);\n                        notifyWaiters = true;\n                    }\n                }\n            }\n        }\n        if (notifyWaiters) {\n            SuperTokensLock.notifyWaiters();\n        }\n    };\n    SuperTokensLock.waiters = undefined;\n    return SuperTokensLock;\n}());\nexports[\"default\"] = SuperTokensLock;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvYnJvd3Nlci10YWJzLWxvY2svaW5kZXguanMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0Esb0NBQW9DLE1BQU0sK0JBQStCLFlBQVk7QUFDckYsbUNBQW1DLE1BQU0sbUNBQW1DLFlBQVk7QUFDeEYsZ0NBQWdDLGlFQUFpRSx3QkFBd0I7QUFDekg7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLGNBQWMsNkJBQTZCLDBCQUEwQixjQUFjLHFCQUFxQjtBQUN4RyxpQkFBaUIsb0RBQW9ELHFFQUFxRSxjQUFjO0FBQ3hKLHVCQUF1QixzQkFBc0I7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDO0FBQ3hDLG1DQUFtQyxTQUFTO0FBQzVDLG1DQUFtQyxXQUFXLFVBQVU7QUFDeEQsMENBQTBDLGNBQWM7QUFDeEQ7QUFDQSw4R0FBOEcsT0FBTztBQUNySCxpRkFBaUYsaUJBQWlCO0FBQ2xHLHlEQUF5RCxnQkFBZ0IsUUFBUTtBQUNqRiwrQ0FBK0MsZ0JBQWdCLGdCQUFnQjtBQUMvRTtBQUNBLGtDQUFrQztBQUNsQztBQUNBO0FBQ0EsVUFBVSxZQUFZLGFBQWEsU0FBUyxVQUFVO0FBQ3RELG9DQUFvQyxTQUFTO0FBQzdDO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxvQkFBb0IsbUJBQU8sQ0FBQyxzRUFBZTtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QjtBQUM1QjtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUssSUFBSTtBQUNULDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUssSUFBSTtBQUNULHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUssSUFBSTtBQUNULGlDQUFpQztBQUNqQztBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUssSUFBSTtBQUNULHFDQUFxQztBQUNyQztBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUssSUFBSTtBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsYUFBYTtBQUNiO0FBQ0E7QUFDQSw0Q0FBNEMsMkNBQTJDO0FBQ3ZGO0FBQ0E7QUFDQTtBQUNBLFlBQVksUUFBUTtBQUNwQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixZQUFZO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QixlQUFlLFFBQVE7QUFDdkIsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBLG1DQUFtQztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUM7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckIsaUJBQWlCLElBQUk7QUFDckI7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1REFBdUQ7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdGQUFnRixvQkFBb0I7QUFDcEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVEQUF1RDtBQUN2RCx1Q0FBdUMsYUFBYTtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QixpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QixpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsaUJBQWlCO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELGtCQUFlIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9icm93c2VyLXRhYnMtbG9jay9pbmRleC5qcz85OTAxIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZShyZXN1bHQudmFsdWUpOyB9KS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG52YXIgX19nZW5lcmF0b3IgPSAodGhpcyAmJiB0aGlzLl9fZ2VuZXJhdG9yKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgYm9keSkge1xuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XG4gICAgcmV0dXJuIGcgPSB7IG5leHQ6IHZlcmIoMCksIFwidGhyb3dcIjogdmVyYigxKSwgXCJyZXR1cm5cIjogdmVyYigyKSB9LCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSksIGc7XG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xuICAgICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XG4gICAgICAgIHdoaWxlIChfKSB0cnkge1xuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xuICAgICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cbiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XG4gICAgfVxufTtcbnZhciBfdGhpcyA9IHRoaXM7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgcHJvY2Vzc0xvY2tfMSA9IHJlcXVpcmUoXCIuL3Byb2Nlc3NMb2NrXCIpO1xuLyoqXG4gKiBAYXV0aG9yOiBTdXBlclRva2VucyAoaHR0cHM6Ly9naXRodWIuY29tL3N1cGVydG9rZW5zKVxuICogVGhpcyBsaWJyYXJ5IHdhcyBjcmVhdGVkIGFzIGEgcGFydCBvZiBhIGxhcmdlciBwcm9qZWN0LCBTdXBlclRva2VucyhodHRwczovL3N1cGVydG9rZW5zLmlvKSAtIHRoZSBiZXN0IHNlc3Npb24gbWFuYWdlbWVudCBzb2x1dGlvbi5cbiAqIFlvdSBjYW4gYWxzbyBjaGVjayBvdXQgb3VyIG90aGVyIHByb2plY3RzIG9uIGh0dHBzOi8vZ2l0aHViLmNvbS9zdXBlcnRva2Vuc1xuICpcbiAqIFRvIGNvbnRyaWJ1dGUgdG8gdGhpcyBwYWNrYWdlIHZpc2l0IGh0dHBzOi8vZ2l0aHViLmNvbS9zdXBlcnRva2Vucy9icm93c2VyLXRhYnMtbG9ja1xuICogSWYgeW91IGZhY2UgYW55IHByb2JsZW1zIHlvdSBjYW4gZmlsZSBhbiBpc3N1ZSBvbiBodHRwczovL2dpdGh1Yi5jb20vc3VwZXJ0b2tlbnMvYnJvd3Nlci10YWJzLWxvY2svaXNzdWVzXG4gKlxuICogSWYgeW91IGhhdmUgYW55IHF1ZXN0aW9ucyBvciBpZiB5b3UganVzdCB3YW50IHRvIHNheSBoaSB2aXNpdCBodHRwczovL3N1cGVydG9rZW5zLmlvL2Rpc2NvcmRcbiAqL1xuLyoqXG4gKiBAY29uc3RhbnRcbiAqIEB0eXBlIHtzdHJpbmd9XG4gKiBAZGVmYXVsdFxuICogQGRlc2NyaXB0aW9uIEFsbCB0aGUgbG9ja3MgdGFrZW4gYnkgdGhpcyBwYWNrYWdlIHdpbGwgaGF2ZSB0aGlzIGFzIHByZWZpeFxuKi9cbnZhciBMT0NLX1NUT1JBR0VfS0VZID0gJ2Jyb3dzZXItdGFicy1sb2NrLWtleSc7XG52YXIgREVGQVVMVF9TVE9SQUdFX0hBTkRMRVIgPSB7XG4gICAga2V5OiBmdW5jdGlvbiAoaW5kZXgpIHsgcmV0dXJuIF9fYXdhaXRlcihfdGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5zdXBwb3J0ZWRcIik7XG4gICAgICAgIH0pO1xuICAgIH0pOyB9LFxuICAgIGdldEl0ZW06IGZ1bmN0aW9uIChrZXkpIHsgcmV0dXJuIF9fYXdhaXRlcihfdGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5zdXBwb3J0ZWRcIik7XG4gICAgICAgIH0pO1xuICAgIH0pOyB9LFxuICAgIGNsZWFyOiBmdW5jdGlvbiAoKSB7IHJldHVybiBfX2F3YWl0ZXIoX3RoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCB3aW5kb3cubG9jYWxTdG9yYWdlLmNsZWFyKCldO1xuICAgICAgICB9KTtcbiAgICB9KTsgfSxcbiAgICByZW1vdmVJdGVtOiBmdW5jdGlvbiAoa2V5KSB7IHJldHVybiBfX2F3YWl0ZXIoX3RoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVuc3VwcG9ydGVkXCIpO1xuICAgICAgICB9KTtcbiAgICB9KTsgfSxcbiAgICBzZXRJdGVtOiBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkgeyByZXR1cm4gX19hd2FpdGVyKF90aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbnN1cHBvcnRlZFwiKTtcbiAgICAgICAgfSk7XG4gICAgfSk7IH0sXG4gICAga2V5U3luYzogZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICAgIHJldHVybiB3aW5kb3cubG9jYWxTdG9yYWdlLmtleShpbmRleCk7XG4gICAgfSxcbiAgICBnZXRJdGVtU3luYzogZnVuY3Rpb24gKGtleSkge1xuICAgICAgICByZXR1cm4gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKGtleSk7XG4gICAgfSxcbiAgICBjbGVhclN5bmM6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHdpbmRvdy5sb2NhbFN0b3JhZ2UuY2xlYXIoKTtcbiAgICB9LFxuICAgIHJlbW92ZUl0ZW1TeW5jOiBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHJldHVybiB3aW5kb3cubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oa2V5KTtcbiAgICB9LFxuICAgIHNldEl0ZW1TeW5jOiBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICAgICAgICByZXR1cm4gd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKGtleSwgdmFsdWUpO1xuICAgIH0sXG59O1xuLyoqXG4gKiBAZnVuY3Rpb24gZGVsYXlcbiAqIEBwYXJhbSB7bnVtYmVyfSBtaWxsaXNlY29uZHMgLSBIb3cgbG9uZyB0aGUgZGVsYXkgc2hvdWxkIGJlIGluIHRlcm1zIG9mIG1pbGxpc2Vjb25kc1xuICogQHJldHVybnMge1Byb21pc2U8dm9pZD59XG4gKi9cbmZ1bmN0aW9uIGRlbGF5KG1pbGxpc2Vjb25kcykge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXR1cm4gc2V0VGltZW91dChyZXNvbHZlLCBtaWxsaXNlY29uZHMpOyB9KTtcbn1cbi8qKlxuICogQGZ1bmN0aW9uIGdlbmVyYXRlUmFuZG9tU3RyaW5nXG4gKiBAcGFyYW1zIHtudW1iZXJ9IGxlbmd0aCAtIEhvdyBsb25nIHRoZSByYW5kb20gc3RyaW5nIHNob3VsZCBiZVxuICogQHJldHVybnMge3N0cmluZ31cbiAqIEBkZXNjcmlwdGlvbiByZXR1cm5zIHJhbmRvbSBzdHJpbmcgd2hvc2UgbGVuZ3RoIGlzIGVxdWFsIHRvIHRoZSBsZW5ndGggcGFzc2VkIGFzIHBhcmFtZXRlclxuICovXG5mdW5jdGlvbiBnZW5lcmF0ZVJhbmRvbVN0cmluZyhsZW5ndGgpIHtcbiAgICB2YXIgQ0hBUlMgPSAnMDEyMzQ1Njc4OUFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFRaYWJjZGVmZ2hpa2xtbm9wcXJzdHV2d3h5eic7XG4gICAgdmFyIHJhbmRvbXN0cmluZyA9ICcnO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIElOREVYID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogQ0hBUlMubGVuZ3RoKTtcbiAgICAgICAgcmFuZG9tc3RyaW5nICs9IENIQVJTW0lOREVYXTtcbiAgICB9XG4gICAgcmV0dXJuIHJhbmRvbXN0cmluZztcbn1cbi8qKlxuICogQGZ1bmN0aW9uIGdldExvY2tJZFxuICogQHJldHVybnMge3N0cmluZ31cbiAqIEBkZXNjcmlwdGlvbiBHZW5lcmF0ZXMgYW4gaWQgd2hpY2ggd2lsbCBiZSB1bmlxdWUgZm9yIHRoZSBicm93c2VyIHRhYlxuICovXG5mdW5jdGlvbiBnZXRMb2NrSWQoKSB7XG4gICAgcmV0dXJuIERhdGUubm93KCkudG9TdHJpbmcoKSArIGdlbmVyYXRlUmFuZG9tU3RyaW5nKDE1KTtcbn1cbnZhciBTdXBlclRva2Vuc0xvY2sgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU3VwZXJUb2tlbnNMb2NrKHN0b3JhZ2VIYW5kbGVyKSB7XG4gICAgICAgIHRoaXMuYWNxdWlyZWRJYXRTZXQgPSBuZXcgU2V0KCk7XG4gICAgICAgIHRoaXMuc3RvcmFnZUhhbmRsZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuaWQgPSBnZXRMb2NrSWQoKTtcbiAgICAgICAgdGhpcy5hY3F1aXJlTG9jayA9IHRoaXMuYWNxdWlyZUxvY2suYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5yZWxlYXNlTG9jayA9IHRoaXMucmVsZWFzZUxvY2suYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5yZWxlYXNlTG9ja19fcHJpdmF0ZV9fID0gdGhpcy5yZWxlYXNlTG9ja19fcHJpdmF0ZV9fLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMud2FpdEZvclNvbWV0aGluZ1RvQ2hhbmdlID0gdGhpcy53YWl0Rm9yU29tZXRoaW5nVG9DaGFuZ2UuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5yZWZyZXNoTG9ja1doaWxlQWNxdWlyZWQgPSB0aGlzLnJlZnJlc2hMb2NrV2hpbGVBY3F1aXJlZC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnN0b3JhZ2VIYW5kbGVyID0gc3RvcmFnZUhhbmRsZXI7XG4gICAgICAgIGlmIChTdXBlclRva2Vuc0xvY2sud2FpdGVycyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBTdXBlclRva2Vuc0xvY2sud2FpdGVycyA9IFtdO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBhc3luY1xuICAgICAqIEBtZW1iZXJPZiBMb2NrXG4gICAgICogQGZ1bmN0aW9uIGFjcXVpcmVMb2NrXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGxvY2tLZXkgLSBLZXkgZm9yIHdoaWNoIHRoZSBsb2NrIGlzIGJlaW5nIGFjcXVpcmVkXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt0aW1lb3V0PTUwMDBdIC0gTWF4aW11bSB0aW1lIGZvciB3aGljaCB0aGUgZnVuY3Rpb24gd2lsbCB3YWl0IHRvIGFjcXVpcmUgdGhlIGxvY2tcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxib29sZWFuPn1cbiAgICAgKiBAZGVzY3JpcHRpb24gV2lsbCByZXR1cm4gdHJ1ZSBpZiBsb2NrIGlzIGJlaW5nIGFjcXVpcmVkLCBlbHNlIGZhbHNlLlxuICAgICAqICAgICAgICAgICAgICBBbHNvIHRoZSBsb2NrIGNhbiBiZSBhY3F1aXJlZCBmb3IgbWF4aW11bSAxMCBzZWNzXG4gICAgICovXG4gICAgU3VwZXJUb2tlbnNMb2NrLnByb3RvdHlwZS5hY3F1aXJlTG9jayA9IGZ1bmN0aW9uIChsb2NrS2V5LCB0aW1lb3V0KSB7XG4gICAgICAgIGlmICh0aW1lb3V0ID09PSB2b2lkIDApIHsgdGltZW91dCA9IDUwMDA7IH1cbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGlhdCwgTUFYX1RJTUUsIFNUT1JBR0VfS0VZLCBTVE9SQUdFLCBsb2NrT2JqLCBUSU1FT1VUX0tFWSwgbG9ja09ialBvc3REZWxheSwgcGFyc2VkTG9ja09ialBvc3REZWxheTtcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlhdCA9IERhdGUubm93KCkgKyBnZW5lcmF0ZVJhbmRvbVN0cmluZyg0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIE1BWF9USU1FID0gRGF0ZS5ub3coKSArIHRpbWVvdXQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBTVE9SQUdFX0tFWSA9IExPQ0tfU1RPUkFHRV9LRVkgKyBcIi1cIiArIGxvY2tLZXk7XG4gICAgICAgICAgICAgICAgICAgICAgICBTVE9SQUdFID0gdGhpcy5zdG9yYWdlSGFuZGxlciA9PT0gdW5kZWZpbmVkID8gREVGQVVMVF9TVE9SQUdFX0hBTkRMRVIgOiB0aGlzLnN0b3JhZ2VIYW5kbGVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2EubGFiZWwgPSAxO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShEYXRlLm5vdygpIDwgTUFYX1RJTUUpKSByZXR1cm4gWzMgLypicmVhayovLCA4XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIGRlbGF5KDMwKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2tPYmogPSBTVE9SQUdFLmdldEl0ZW1TeW5jKFNUT1JBR0VfS0VZKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKGxvY2tPYmogPT09IG51bGwpKSByZXR1cm4gWzMgLypicmVhayovLCA1XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFRJTUVPVVRfS0VZID0gdGhpcy5pZCArIFwiLVwiICsgbG9ja0tleSArIFwiLVwiICsgaWF0O1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhlcmUgaXMgYSBwcm9ibGVtIGlmIHNldEl0ZW0gaGFwcGVucyBhdCB0aGUgZXhhY3Qgc2FtZSB0aW1lIGZvciAyIGRpZmZlcmVudCBwcm9jZXNzZXMuLiBzbyB3ZSBhZGQgc29tZSByYW5kb20gZGVsYXkgaGVyZS5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIGRlbGF5KE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDI1KSldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGVyZSBpcyBhIHByb2JsZW0gaWYgc2V0SXRlbSBoYXBwZW5zIGF0IHRoZSBleGFjdCBzYW1lIHRpbWUgZm9yIDIgZGlmZmVyZW50IHByb2Nlc3Nlcy4uIHNvIHdlIGFkZCBzb21lIHJhbmRvbSBkZWxheSBoZXJlLlxuICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgU1RPUkFHRS5zZXRJdGVtU3luYyhTVE9SQUdFX0tFWSwgSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiB0aGlzLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlhdDogaWF0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVvdXRLZXk6IFRJTUVPVVRfS0VZLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVBY3F1aXJlZDogRGF0ZS5ub3coKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lUmVmcmVzaGVkOiBEYXRlLm5vdygpXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBkZWxheSgzMCldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7IC8vIHRoaXMgaXMgdG8gcHJldmVudCByYWNlIGNvbmRpdGlvbnMuIFRoaXMgdGltZSBtdXN0IGJlIG1vcmUgdGhhbiB0aGUgdGltZSBpdCB0YWtlcyBmb3Igc3RvcmFnZS5zZXRJdGVtXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2NrT2JqUG9zdERlbGF5ID0gU1RPUkFHRS5nZXRJdGVtU3luYyhTVE9SQUdFX0tFWSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobG9ja09ialBvc3REZWxheSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlZExvY2tPYmpQb3N0RGVsYXkgPSBKU09OLnBhcnNlKGxvY2tPYmpQb3N0RGVsYXkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXJzZWRMb2NrT2JqUG9zdERlbGF5LmlkID09PSB0aGlzLmlkICYmIHBhcnNlZExvY2tPYmpQb3N0RGVsYXkuaWF0ID09PSBpYXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hY3F1aXJlZElhdFNldC5hZGQoaWF0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWZyZXNoTG9ja1doaWxlQWNxdWlyZWQoU1RPUkFHRV9LRVksIGlhdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCB0cnVlXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCA3XTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgICAgICAgICAgU3VwZXJUb2tlbnNMb2NrLmxvY2tDb3JyZWN0b3IodGhpcy5zdG9yYWdlSGFuZGxlciA9PT0gdW5kZWZpbmVkID8gREVGQVVMVF9TVE9SQUdFX0hBTkRMRVIgOiB0aGlzLnN0b3JhZ2VIYW5kbGVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMud2FpdEZvclNvbWV0aGluZ1RvQ2hhbmdlKE1BWF9USU1FKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLmxhYmVsID0gNztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgICAgICAgICAgICAgaWF0ID0gRGF0ZS5ub3coKSArIGdlbmVyYXRlUmFuZG9tU3RyaW5nKDQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgMV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgODogcmV0dXJuIFsyIC8qcmV0dXJuKi8sIGZhbHNlXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBTdXBlclRva2Vuc0xvY2sucHJvdG90eXBlLnJlZnJlc2hMb2NrV2hpbGVBY3F1aXJlZCA9IGZ1bmN0aW9uIChzdG9yYWdlS2V5LCBpYXQpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgcmV0dXJuIF9fYXdhaXRlcihfdGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIFNUT1JBR0UsIGxvY2tPYmosIHBhcnNlZExvY2tPYmo7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6IHJldHVybiBbNCAvKnlpZWxkKi8sIHByb2Nlc3NMb2NrXzEuZGVmYXVsdCgpLmxvY2soaWF0KV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5hY3F1aXJlZElhdFNldC5oYXMoaWF0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc0xvY2tfMS5kZWZhdWx0KCkudW5sb2NrKGlhdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU1RPUkFHRSA9IHRoaXMuc3RvcmFnZUhhbmRsZXIgPT09IHVuZGVmaW5lZCA/IERFRkFVTFRfU1RPUkFHRV9IQU5ETEVSIDogdGhpcy5zdG9yYWdlSGFuZGxlcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9ja09iaiA9IFNUT1JBR0UuZ2V0SXRlbVN5bmMoc3RvcmFnZUtleSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsb2NrT2JqICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJzZWRMb2NrT2JqID0gSlNPTi5wYXJzZShsb2NrT2JqKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlZExvY2tPYmoudGltZVJlZnJlc2hlZCA9IERhdGUubm93KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTVE9SQUdFLnNldEl0ZW1TeW5jKHN0b3JhZ2VLZXksIEpTT04uc3RyaW5naWZ5KHBhcnNlZExvY2tPYmopKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3NMb2NrXzEuZGVmYXVsdCgpLnVubG9jayhpYXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc0xvY2tfMS5kZWZhdWx0KCkudW5sb2NrKGlhdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWZyZXNoTG9ja1doaWxlQWNxdWlyZWQoc3RvcmFnZUtleSwgaWF0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTsgfSwgMTAwMCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgU3VwZXJUb2tlbnNMb2NrLnByb3RvdHlwZS53YWl0Rm9yU29tZXRoaW5nVG9DaGFuZ2UgPSBmdW5jdGlvbiAoTUFYX1RJTUUpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOiByZXR1cm4gWzQgLyp5aWVsZCovLCBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXNvbHZlZENhbGxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdGFydGVkQXQgPSBEYXRlLm5vdygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBNSU5fVElNRV9UT19XQUlUID0gNTA7IC8vIG1zXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlbW92ZWRMaXN0ZW5lcnMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBzdG9wV2FpdGluZygpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFyZW1vdmVkTGlzdGVuZXJzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignc3RvcmFnZScsIHN0b3BXYWl0aW5nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN1cGVyVG9rZW5zTG9jay5yZW1vdmVGcm9tV2FpdGluZyhzdG9wV2FpdGluZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZU91dElkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZWRMaXN0ZW5lcnMgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcmVzb2x2ZWRDYWxsZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmVkQ2FsbGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aW1lVG9XYWl0ID0gTUlOX1RJTUVfVE9fV0FJVCAtIChEYXRlLm5vdygpIC0gc3RhcnRlZEF0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aW1lVG9XYWl0ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQocmVzb2x2ZSwgdGltZVRvV2FpdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKG51bGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzdG9yYWdlJywgc3RvcFdhaXRpbmcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN1cGVyVG9rZW5zTG9jay5hZGRUb1dhaXRpbmcoc3RvcFdhaXRpbmcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aW1lT3V0SWQgPSBzZXRUaW1lb3V0KHN0b3BXYWl0aW5nLCBNYXRoLm1heCgwLCBNQVhfVElNRSAtIERhdGUubm93KCkpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFN1cGVyVG9rZW5zTG9jay5hZGRUb1dhaXRpbmcgPSBmdW5jdGlvbiAoZnVuYykge1xuICAgICAgICB0aGlzLnJlbW92ZUZyb21XYWl0aW5nKGZ1bmMpO1xuICAgICAgICBpZiAoU3VwZXJUb2tlbnNMb2NrLndhaXRlcnMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIFN1cGVyVG9rZW5zTG9jay53YWl0ZXJzLnB1c2goZnVuYyk7XG4gICAgfTtcbiAgICBTdXBlclRva2Vuc0xvY2sucmVtb3ZlRnJvbVdhaXRpbmcgPSBmdW5jdGlvbiAoZnVuYykge1xuICAgICAgICBpZiAoU3VwZXJUb2tlbnNMb2NrLndhaXRlcnMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIFN1cGVyVG9rZW5zTG9jay53YWl0ZXJzID0gU3VwZXJUb2tlbnNMb2NrLndhaXRlcnMuZmlsdGVyKGZ1bmN0aW9uIChpKSB7IHJldHVybiBpICE9PSBmdW5jOyB9KTtcbiAgICB9O1xuICAgIFN1cGVyVG9rZW5zTG9jay5ub3RpZnlXYWl0ZXJzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoU3VwZXJUb2tlbnNMb2NrLndhaXRlcnMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciB3YWl0ZXJzID0gU3VwZXJUb2tlbnNMb2NrLndhaXRlcnMuc2xpY2UoKTsgLy8gc28gdGhhdCBpZiBMb2NrLndhaXRlcnMgaXMgY2hhbmdlZCBpdCdzIG9rLlxuICAgICAgICB3YWl0ZXJzLmZvckVhY2goZnVuY3Rpb24gKGkpIHsgcmV0dXJuIGkoKTsgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAZnVuY3Rpb24gcmVsZWFzZUxvY2tcbiAgICAgKiBAbWVtYmVyT2YgTG9ja1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBsb2NrS2V5IC0gS2V5IGZvciB3aGljaCBsb2NrIGlzIGJlaW5nIHJlbGVhc2VkXG4gICAgICogQHJldHVybnMge3ZvaWR9XG4gICAgICogQGRlc2NyaXB0aW9uIFJlbGVhc2UgYSBsb2NrLlxuICAgICAqL1xuICAgIFN1cGVyVG9rZW5zTG9jay5wcm90b3R5cGUucmVsZWFzZUxvY2sgPSBmdW5jdGlvbiAobG9ja0tleSkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6IHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMucmVsZWFzZUxvY2tfX3ByaXZhdGVfXyhsb2NrS2V5KV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTogcmV0dXJuIFsyIC8qcmV0dXJuKi8sIF9hLnNlbnQoKV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQGZ1bmN0aW9uIHJlbGVhc2VMb2NrXG4gICAgICogQG1lbWJlck9mIExvY2tcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbG9ja0tleSAtIEtleSBmb3Igd2hpY2ggbG9jayBpcyBiZWluZyByZWxlYXNlZFxuICAgICAqIEByZXR1cm5zIHt2b2lkfVxuICAgICAqIEBkZXNjcmlwdGlvbiBSZWxlYXNlIGEgbG9jay5cbiAgICAgKi9cbiAgICBTdXBlclRva2Vuc0xvY2sucHJvdG90eXBlLnJlbGVhc2VMb2NrX19wcml2YXRlX18gPSBmdW5jdGlvbiAobG9ja0tleSkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgU1RPUkFHRSwgU1RPUkFHRV9LRVksIGxvY2tPYmosIHBhcnNlZGxvY2tPYmo7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICBTVE9SQUdFID0gdGhpcy5zdG9yYWdlSGFuZGxlciA9PT0gdW5kZWZpbmVkID8gREVGQVVMVF9TVE9SQUdFX0hBTkRMRVIgOiB0aGlzLnN0b3JhZ2VIYW5kbGVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgU1RPUkFHRV9LRVkgPSBMT0NLX1NUT1JBR0VfS0VZICsgXCItXCIgKyBsb2NrS2V5O1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9ja09iaiA9IFNUT1JBR0UuZ2V0SXRlbVN5bmMoU1RPUkFHRV9LRVkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxvY2tPYmogPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJzZWRsb2NrT2JqID0gSlNPTi5wYXJzZShsb2NrT2JqKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKHBhcnNlZGxvY2tPYmouaWQgPT09IHRoaXMuaWQpKSByZXR1cm4gWzMgLypicmVhayovLCAyXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHByb2Nlc3NMb2NrXzEuZGVmYXVsdCgpLmxvY2socGFyc2VkbG9ja09iai5pYXQpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hY3F1aXJlZElhdFNldC5kZWxldGUocGFyc2VkbG9ja09iai5pYXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgU1RPUkFHRS5yZW1vdmVJdGVtU3luYyhTVE9SQUdFX0tFWSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzTG9ja18xLmRlZmF1bHQoKS51bmxvY2socGFyc2VkbG9ja09iai5pYXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgU3VwZXJUb2tlbnNMb2NrLm5vdGlmeVdhaXRlcnMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLmxhYmVsID0gMjtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOiByZXR1cm4gWzIgLypyZXR1cm4qL107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQGZ1bmN0aW9uIGxvY2tDb3JyZWN0b3JcbiAgICAgKiBAcmV0dXJucyB7dm9pZH1cbiAgICAgKiBAZGVzY3JpcHRpb24gSWYgYSBsb2NrIGlzIGFjcXVpcmVkIGJ5IGEgdGFiIGFuZCB0aGUgdGFiIGlzIGNsb3NlZCBiZWZvcmUgdGhlIGxvY2sgaXNcbiAgICAgKiAgICAgICAgICAgICAgcmVsZWFzZWQsIHRoaXMgZnVuY3Rpb24gd2lsbCByZWxlYXNlIHRob3NlIGxvY2tzXG4gICAgICovXG4gICAgU3VwZXJUb2tlbnNMb2NrLmxvY2tDb3JyZWN0b3IgPSBmdW5jdGlvbiAoc3RvcmFnZUhhbmRsZXIpIHtcbiAgICAgICAgdmFyIE1JTl9BTExPV0VEX1RJTUUgPSBEYXRlLm5vdygpIC0gNTAwMDtcbiAgICAgICAgdmFyIFNUT1JBR0UgPSBzdG9yYWdlSGFuZGxlcjtcbiAgICAgICAgdmFyIEtFWVMgPSBbXTtcbiAgICAgICAgdmFyIGN1cnJJbmRleCA9IDA7XG4gICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgICB2YXIga2V5ID0gU1RPUkFHRS5rZXlTeW5jKGN1cnJJbmRleCk7XG4gICAgICAgICAgICBpZiAoa2V5ID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBLRVlTLnB1c2goa2V5KTtcbiAgICAgICAgICAgIGN1cnJJbmRleCsrO1xuICAgICAgICB9XG4gICAgICAgIHZhciBub3RpZnlXYWl0ZXJzID0gZmFsc2U7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgS0VZUy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIExPQ0tfS0VZID0gS0VZU1tpXTtcbiAgICAgICAgICAgIGlmIChMT0NLX0tFWS5pbmNsdWRlcyhMT0NLX1NUT1JBR0VfS0VZKSkge1xuICAgICAgICAgICAgICAgIHZhciBsb2NrT2JqID0gU1RPUkFHRS5nZXRJdGVtU3luYyhMT0NLX0tFWSk7XG4gICAgICAgICAgICAgICAgaWYgKGxvY2tPYmogIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBhcnNlZGxvY2tPYmogPSBKU09OLnBhcnNlKGxvY2tPYmopO1xuICAgICAgICAgICAgICAgICAgICBpZiAoKHBhcnNlZGxvY2tPYmoudGltZVJlZnJlc2hlZCA9PT0gdW5kZWZpbmVkICYmIHBhcnNlZGxvY2tPYmoudGltZUFjcXVpcmVkIDwgTUlOX0FMTE9XRURfVElNRSkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIChwYXJzZWRsb2NrT2JqLnRpbWVSZWZyZXNoZWQgIT09IHVuZGVmaW5lZCAmJiBwYXJzZWRsb2NrT2JqLnRpbWVSZWZyZXNoZWQgPCBNSU5fQUxMT1dFRF9USU1FKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgU1RPUkFHRS5yZW1vdmVJdGVtU3luYyhMT0NLX0tFWSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBub3RpZnlXYWl0ZXJzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAobm90aWZ5V2FpdGVycykge1xuICAgICAgICAgICAgU3VwZXJUb2tlbnNMb2NrLm5vdGlmeVdhaXRlcnMoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU3VwZXJUb2tlbnNMb2NrLndhaXRlcnMgPSB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIFN1cGVyVG9rZW5zTG9jaztcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBTdXBlclRva2Vuc0xvY2s7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/browser-tabs-lock/index.js\n"));

/***/ }),

/***/ "./node_modules/browser-tabs-lock/processLock.js":
/*!*******************************************************!*\
  !*** ./node_modules/browser-tabs-lock/processLock.js ***!
  \*******************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nvar ProcessLocking = /** @class */ (function () {\n    function ProcessLocking() {\n        var _this = this;\n        this.locked = new Map();\n        this.addToLocked = function (key, toAdd) {\n            var callbacks = _this.locked.get(key);\n            if (callbacks === undefined) {\n                if (toAdd === undefined) {\n                    _this.locked.set(key, []);\n                }\n                else {\n                    _this.locked.set(key, [toAdd]);\n                }\n            }\n            else {\n                if (toAdd !== undefined) {\n                    callbacks.unshift(toAdd);\n                    _this.locked.set(key, callbacks);\n                }\n            }\n        };\n        this.isLocked = function (key) {\n            return _this.locked.has(key);\n        };\n        this.lock = function (key) {\n            return new Promise(function (resolve, reject) {\n                if (_this.isLocked(key)) {\n                    _this.addToLocked(key, resolve);\n                }\n                else {\n                    _this.addToLocked(key);\n                    resolve();\n                }\n            });\n        };\n        this.unlock = function (key) {\n            var callbacks = _this.locked.get(key);\n            if (callbacks === undefined || callbacks.length === 0) {\n                _this.locked.delete(key);\n                return;\n            }\n            var toCall = callbacks.pop();\n            _this.locked.set(key, callbacks);\n            if (toCall !== undefined) {\n                setTimeout(toCall, 0);\n            }\n        };\n    }\n    ProcessLocking.getInstance = function () {\n        if (ProcessLocking.instance === undefined) {\n            ProcessLocking.instance = new ProcessLocking();\n        }\n        return ProcessLocking.instance;\n    };\n    return ProcessLocking;\n}());\nfunction getLock() {\n    return ProcessLocking.getInstance();\n}\nexports[\"default\"] = getLock;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvYnJvd3Nlci10YWJzLWxvY2svcHJvY2Vzc0xvY2suanMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxrQkFBZSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvYnJvd3Nlci10YWJzLWxvY2svcHJvY2Vzc0xvY2suanM/NzBiNCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBQcm9jZXNzTG9ja2luZyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBQcm9jZXNzTG9ja2luZygpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5sb2NrZWQgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMuYWRkVG9Mb2NrZWQgPSBmdW5jdGlvbiAoa2V5LCB0b0FkZCkge1xuICAgICAgICAgICAgdmFyIGNhbGxiYWNrcyA9IF90aGlzLmxvY2tlZC5nZXQoa2V5KTtcbiAgICAgICAgICAgIGlmIChjYWxsYmFja3MgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGlmICh0b0FkZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmxvY2tlZC5zZXQoa2V5LCBbXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5sb2NrZWQuc2V0KGtleSwgW3RvQWRkXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHRvQWRkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2tzLnVuc2hpZnQodG9BZGQpO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5sb2NrZWQuc2V0KGtleSwgY2FsbGJhY2tzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuaXNMb2NrZWQgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMubG9ja2VkLmhhcyhrZXkpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmxvY2sgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5pc0xvY2tlZChrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmFkZFRvTG9ja2VkKGtleSwgcmVzb2x2ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5hZGRUb0xvY2tlZChrZXkpO1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMudW5sb2NrID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgdmFyIGNhbGxiYWNrcyA9IF90aGlzLmxvY2tlZC5nZXQoa2V5KTtcbiAgICAgICAgICAgIGlmIChjYWxsYmFja3MgPT09IHVuZGVmaW5lZCB8fCBjYWxsYmFja3MubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMubG9ja2VkLmRlbGV0ZShrZXkpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciB0b0NhbGwgPSBjYWxsYmFja3MucG9wKCk7XG4gICAgICAgICAgICBfdGhpcy5sb2NrZWQuc2V0KGtleSwgY2FsbGJhY2tzKTtcbiAgICAgICAgICAgIGlmICh0b0NhbGwgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQodG9DYWxsLCAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG4gICAgUHJvY2Vzc0xvY2tpbmcuZ2V0SW5zdGFuY2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChQcm9jZXNzTG9ja2luZy5pbnN0YW5jZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBQcm9jZXNzTG9ja2luZy5pbnN0YW5jZSA9IG5ldyBQcm9jZXNzTG9ja2luZygpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBQcm9jZXNzTG9ja2luZy5pbnN0YW5jZTtcbiAgICB9O1xuICAgIHJldHVybiBQcm9jZXNzTG9ja2luZztcbn0oKSk7XG5mdW5jdGlvbiBnZXRMb2NrKCkge1xuICAgIHJldHVybiBQcm9jZXNzTG9ja2luZy5nZXRJbnN0YW5jZSgpO1xufVxuZXhwb3J0cy5kZWZhdWx0ID0gZ2V0TG9jaztcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/browser-tabs-lock/processLock.js\n"));

/***/ }),

/***/ "./node_modules/next/dist/build/polyfills/process.js":
/*!***********************************************************!*\
  !*** ./node_modules/next/dist/build/polyfills/process.js ***!
  \***********************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nvar _global_process, _global_process1;\nmodule.exports = ((_global_process = __webpack_require__.g.process) == null ? void 0 : _global_process.env) && typeof ((_global_process1 = __webpack_require__.g.process) == null ? void 0 : _global_process1.env) === \"object\" ? __webpack_require__.g.process : __webpack_require__(/*! ../../compiled/process */ \"./node_modules/next/dist/compiled/process/browser.js\");\n\n//# sourceMappingURL=process.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3BvbHlmaWxscy9wcm9jZXNzLmpzLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQSxxQ0FBcUMscUJBQU0saUZBQWlGLHFCQUFNLGtFQUFrRSxxQkFBTSxXQUFXLG1CQUFPLENBQUMsb0ZBQXdCOztBQUVyUCIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3BvbHlmaWxscy9wcm9jZXNzLmpzP2NhNjUiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX2dsb2JhbF9wcm9jZXNzLCBfZ2xvYmFsX3Byb2Nlc3MxO1xubW9kdWxlLmV4cG9ydHMgPSAoKF9nbG9iYWxfcHJvY2VzcyA9IGdsb2JhbC5wcm9jZXNzKSA9PSBudWxsID8gdm9pZCAwIDogX2dsb2JhbF9wcm9jZXNzLmVudikgJiYgdHlwZW9mICgoX2dsb2JhbF9wcm9jZXNzMSA9IGdsb2JhbC5wcm9jZXNzKSA9PSBudWxsID8gdm9pZCAwIDogX2dsb2JhbF9wcm9jZXNzMS5lbnYpID09PSBcIm9iamVjdFwiID8gZ2xvYmFsLnByb2Nlc3MgOiByZXF1aXJlKFwiLi4vLi4vY29tcGlsZWQvcHJvY2Vzc1wiKTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cHJvY2Vzcy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/next/dist/build/polyfills/process.js\n"));

/***/ }),

/***/ "./node_modules/next/dist/build/webpack/loaders/css-loader/src/index.js??ruleSet[1].rules[1].oneOf[13].use[1]!./node_modules/next/dist/build/webpack/loaders/postcss-loader/src/index.js??ruleSet[1].rules[1].oneOf[13].use[2]!./src/styles/globals.css":
/*!**************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/css-loader/src/index.js??ruleSet[1].rules[1].oneOf[13].use[1]!./node_modules/next/dist/build/webpack/loaders/postcss-loader/src/index.js??ruleSet[1].rules[1].oneOf[13].use[2]!./src/styles/globals.css ***!
  \**************************************************************************************************************************************************************************************************************************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_next_dist_build_webpack_loaders_css_loader_src_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../node_modules/next/dist/build/webpack/loaders/css-loader/src/runtime/api.js */ \"./node_modules/next/dist/build/webpack/loaders/css-loader/src/runtime/api.js\");\n/* harmony import */ var _node_modules_next_dist_build_webpack_loaders_css_loader_src_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_next_dist_build_webpack_loaders_css_loader_src_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);\n// Imports\n\nvar ___CSS_LOADER_EXPORT___ = _node_modules_next_dist_build_webpack_loaders_css_loader_src_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()(true);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"/*\\n! tailwindcss v3.3.2 | MIT License | https://tailwindcss.com\\n*//*\\n1. Prevent padding and border from affecting element width. (https://github.com/mozdevs/cssremedy/issues/4)\\n2. Allow adding a border to an element by just adding a border-width. (https://github.com/tailwindcss/tailwindcss/pull/116)\\n*/\\n\\n*,\\n::before,\\n::after {\\n  box-sizing: border-box; /* 1 */\\n  border-width: 0; /* 2 */\\n  border-style: solid; /* 2 */\\n  border-color: currentColor; /* 2 */\\n}\\n\\n::before,\\n::after {\\n  --tw-content: '';\\n}\\n\\n/*\\n1. Use a consistent sensible line-height in all browsers.\\n2. Prevent adjustments of font size after orientation changes in iOS.\\n3. Use a more readable tab size.\\n4. Use the user's configured `sans` font-family by default.\\n5. Use the user's configured `sans` font-feature-settings by default.\\n6. Use the user's configured `sans` font-variation-settings by default.\\n*/\\n\\nhtml {\\n  line-height: 1.5; /* 1 */\\n  -webkit-text-size-adjust: 100%; /* 2 */\\n  -moz-tab-size: 4; /* 3 */\\n  -o-tab-size: 4;\\n     tab-size: 4; /* 3 */\\n  font-family: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto, \\\"Helvetica Neue\\\", Arial, \\\"Noto Sans\\\", sans-serif, \\\"Apple Color Emoji\\\", \\\"Segoe UI Emoji\\\", \\\"Segoe UI Symbol\\\", \\\"Noto Color Emoji\\\"; /* 4 */\\n  font-feature-settings: normal; /* 5 */\\n  font-variation-settings: normal; /* 6 */\\n}\\n\\n/*\\n1. Remove the margin in all browsers.\\n2. Inherit line-height from `html` so users can set them as a class directly on the `html` element.\\n*/\\n\\nbody {\\n  margin: 0; /* 1 */\\n  line-height: inherit; /* 2 */\\n}\\n\\n/*\\n1. Add the correct height in Firefox.\\n2. Correct the inheritance of border color in Firefox. (https://bugzilla.mozilla.org/show_bug.cgi?id=190655)\\n3. Ensure horizontal rules are visible by default.\\n*/\\n\\nhr {\\n  height: 0; /* 1 */\\n  color: inherit; /* 2 */\\n  border-top-width: 1px; /* 3 */\\n}\\n\\n/*\\nAdd the correct text decoration in Chrome, Edge, and Safari.\\n*/\\n\\nabbr:where([title]) {\\n  -webkit-text-decoration: underline dotted;\\n          text-decoration: underline dotted;\\n}\\n\\n/*\\nRemove the default font size and weight for headings.\\n*/\\n\\nh1,\\nh2,\\nh3,\\nh4,\\nh5,\\nh6 {\\n  font-size: inherit;\\n  font-weight: inherit;\\n}\\n\\n/*\\nReset links to optimize for opt-in styling instead of opt-out.\\n*/\\n\\na {\\n  color: inherit;\\n  text-decoration: inherit;\\n}\\n\\n/*\\nAdd the correct font weight in Edge and Safari.\\n*/\\n\\nb,\\nstrong {\\n  font-weight: bolder;\\n}\\n\\n/*\\n1. Use the user's configured `mono` font family by default.\\n2. Correct the odd `em` font sizing in all browsers.\\n*/\\n\\ncode,\\nkbd,\\nsamp,\\npre {\\n  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, \\\"Liberation Mono\\\", \\\"Courier New\\\", monospace; /* 1 */\\n  font-size: 1em; /* 2 */\\n}\\n\\n/*\\nAdd the correct font size in all browsers.\\n*/\\n\\nsmall {\\n  font-size: 80%;\\n}\\n\\n/*\\nPrevent `sub` and `sup` elements from affecting the line height in all browsers.\\n*/\\n\\nsub,\\nsup {\\n  font-size: 75%;\\n  line-height: 0;\\n  position: relative;\\n  vertical-align: baseline;\\n}\\n\\nsub {\\n  bottom: -0.25em;\\n}\\n\\nsup {\\n  top: -0.5em;\\n}\\n\\n/*\\n1. Remove text indentation from table contents in Chrome and Safari. (https://bugs.chromium.org/p/chromium/issues/detail?id=999088, https://bugs.webkit.org/show_bug.cgi?id=201297)\\n2. Correct table border color inheritance in all Chrome and Safari. (https://bugs.chromium.org/p/chromium/issues/detail?id=935729, https://bugs.webkit.org/show_bug.cgi?id=195016)\\n3. Remove gaps between table borders by default.\\n*/\\n\\ntable {\\n  text-indent: 0; /* 1 */\\n  border-color: inherit; /* 2 */\\n  border-collapse: collapse; /* 3 */\\n}\\n\\n/*\\n1. Change the font styles in all browsers.\\n2. Remove the margin in Firefox and Safari.\\n3. Remove default padding in all browsers.\\n*/\\n\\nbutton,\\ninput,\\noptgroup,\\nselect,\\ntextarea {\\n  font-family: inherit; /* 1 */\\n  font-size: 100%; /* 1 */\\n  font-weight: inherit; /* 1 */\\n  line-height: inherit; /* 1 */\\n  color: inherit; /* 1 */\\n  margin: 0; /* 2 */\\n  padding: 0; /* 3 */\\n}\\n\\n/*\\nRemove the inheritance of text transform in Edge and Firefox.\\n*/\\n\\nbutton,\\nselect {\\n  text-transform: none;\\n}\\n\\n/*\\n1. Correct the inability to style clickable types in iOS and Safari.\\n2. Remove default button styles.\\n*/\\n\\nbutton,\\n[type='button'],\\n[type='reset'],\\n[type='submit'] {\\n  -webkit-appearance: button; /* 1 */\\n  background-color: transparent; /* 2 */\\n  background-image: none; /* 2 */\\n}\\n\\n/*\\nUse the modern Firefox focus style for all focusable elements.\\n*/\\n\\n:-moz-focusring {\\n  outline: auto;\\n}\\n\\n/*\\nRemove the additional `:invalid` styles in Firefox. (https://github.com/mozilla/gecko-dev/blob/2f9eacd9d3d995c937b4251a5557d95d494c9be1/layout/style/res/forms.css#L728-L737)\\n*/\\n\\n:-moz-ui-invalid {\\n  box-shadow: none;\\n}\\n\\n/*\\nAdd the correct vertical alignment in Chrome and Firefox.\\n*/\\n\\nprogress {\\n  vertical-align: baseline;\\n}\\n\\n/*\\nCorrect the cursor style of increment and decrement buttons in Safari.\\n*/\\n\\n::-webkit-inner-spin-button,\\n::-webkit-outer-spin-button {\\n  height: auto;\\n}\\n\\n/*\\n1. Correct the odd appearance in Chrome and Safari.\\n2. Correct the outline style in Safari.\\n*/\\n\\n[type='search'] {\\n  -webkit-appearance: textfield; /* 1 */\\n  outline-offset: -2px; /* 2 */\\n}\\n\\n/*\\nRemove the inner padding in Chrome and Safari on macOS.\\n*/\\n\\n::-webkit-search-decoration {\\n  -webkit-appearance: none;\\n}\\n\\n/*\\n1. Correct the inability to style clickable types in iOS and Safari.\\n2. Change font properties to `inherit` in Safari.\\n*/\\n\\n::-webkit-file-upload-button {\\n  -webkit-appearance: button; /* 1 */\\n  font: inherit; /* 2 */\\n}\\n\\n/*\\nAdd the correct display in Chrome and Safari.\\n*/\\n\\nsummary {\\n  display: list-item;\\n}\\n\\n/*\\nRemoves the default spacing and border for appropriate elements.\\n*/\\n\\nblockquote,\\ndl,\\ndd,\\nh1,\\nh2,\\nh3,\\nh4,\\nh5,\\nh6,\\nhr,\\nfigure,\\np,\\npre {\\n  margin: 0;\\n}\\n\\nfieldset {\\n  margin: 0;\\n  padding: 0;\\n}\\n\\nlegend {\\n  padding: 0;\\n}\\n\\nol,\\nul,\\nmenu {\\n  list-style: none;\\n  margin: 0;\\n  padding: 0;\\n}\\n\\n/*\\nPrevent resizing textareas horizontally by default.\\n*/\\n\\ntextarea {\\n  resize: vertical;\\n}\\n\\n/*\\n1. Reset the default placeholder opacity in Firefox. (https://github.com/tailwindlabs/tailwindcss/issues/3300)\\n2. Set the default placeholder color to the user's configured gray 400 color.\\n*/\\n\\ninput::-moz-placeholder, textarea::-moz-placeholder {\\n  opacity: 1; /* 1 */\\n  color: #9ca3af; /* 2 */\\n}\\n\\ninput::placeholder,\\ntextarea::placeholder {\\n  opacity: 1; /* 1 */\\n  color: #9ca3af; /* 2 */\\n}\\n\\n/*\\nSet the default cursor for buttons.\\n*/\\n\\nbutton,\\n[role=\\\"button\\\"] {\\n  cursor: pointer;\\n}\\n\\n/*\\nMake sure disabled buttons don't get the pointer cursor.\\n*/\\n:disabled {\\n  cursor: default;\\n}\\n\\n/*\\n1. Make replaced elements `display: block` by default. (https://github.com/mozdevs/cssremedy/issues/14)\\n2. Add `vertical-align: middle` to align replaced elements more sensibly by default. (https://github.com/jensimmons/cssremedy/issues/14#issuecomment-634934210)\\n   This can trigger a poorly considered lint error in some tools but is included by design.\\n*/\\n\\nimg,\\nsvg,\\nvideo,\\ncanvas,\\naudio,\\niframe,\\nembed,\\nobject {\\n  display: block; /* 1 */\\n  vertical-align: middle; /* 2 */\\n}\\n\\n/*\\nConstrain images and videos to the parent width and preserve their intrinsic aspect ratio. (https://github.com/mozdevs/cssremedy/issues/14)\\n*/\\n\\nimg,\\nvideo {\\n  max-width: 100%;\\n  height: auto;\\n}\\n\\n/* Make elements with the HTML hidden attribute stay hidden by default */\\n[hidden] {\\n  display: none;\\n}\\n\\n*, ::before, ::after {\\n  --tw-border-spacing-x: 0;\\n  --tw-border-spacing-y: 0;\\n  --tw-translate-x: 0;\\n  --tw-translate-y: 0;\\n  --tw-rotate: 0;\\n  --tw-skew-x: 0;\\n  --tw-skew-y: 0;\\n  --tw-scale-x: 1;\\n  --tw-scale-y: 1;\\n  --tw-pan-x:  ;\\n  --tw-pan-y:  ;\\n  --tw-pinch-zoom:  ;\\n  --tw-scroll-snap-strictness: proximity;\\n  --tw-gradient-from-position:  ;\\n  --tw-gradient-via-position:  ;\\n  --tw-gradient-to-position:  ;\\n  --tw-ordinal:  ;\\n  --tw-slashed-zero:  ;\\n  --tw-numeric-figure:  ;\\n  --tw-numeric-spacing:  ;\\n  --tw-numeric-fraction:  ;\\n  --tw-ring-inset:  ;\\n  --tw-ring-offset-width: 0px;\\n  --tw-ring-offset-color: #fff;\\n  --tw-ring-color: rgb(59 130 246 / 0.5);\\n  --tw-ring-offset-shadow: 0 0 #0000;\\n  --tw-ring-shadow: 0 0 #0000;\\n  --tw-shadow: 0 0 #0000;\\n  --tw-shadow-colored: 0 0 #0000;\\n  --tw-blur:  ;\\n  --tw-brightness:  ;\\n  --tw-contrast:  ;\\n  --tw-grayscale:  ;\\n  --tw-hue-rotate:  ;\\n  --tw-invert:  ;\\n  --tw-saturate:  ;\\n  --tw-sepia:  ;\\n  --tw-drop-shadow:  ;\\n  --tw-backdrop-blur:  ;\\n  --tw-backdrop-brightness:  ;\\n  --tw-backdrop-contrast:  ;\\n  --tw-backdrop-grayscale:  ;\\n  --tw-backdrop-hue-rotate:  ;\\n  --tw-backdrop-invert:  ;\\n  --tw-backdrop-opacity:  ;\\n  --tw-backdrop-saturate:  ;\\n  --tw-backdrop-sepia:  ;\\n}\\n\\n::backdrop {\\n  --tw-border-spacing-x: 0;\\n  --tw-border-spacing-y: 0;\\n  --tw-translate-x: 0;\\n  --tw-translate-y: 0;\\n  --tw-rotate: 0;\\n  --tw-skew-x: 0;\\n  --tw-skew-y: 0;\\n  --tw-scale-x: 1;\\n  --tw-scale-y: 1;\\n  --tw-pan-x:  ;\\n  --tw-pan-y:  ;\\n  --tw-pinch-zoom:  ;\\n  --tw-scroll-snap-strictness: proximity;\\n  --tw-gradient-from-position:  ;\\n  --tw-gradient-via-position:  ;\\n  --tw-gradient-to-position:  ;\\n  --tw-ordinal:  ;\\n  --tw-slashed-zero:  ;\\n  --tw-numeric-figure:  ;\\n  --tw-numeric-spacing:  ;\\n  --tw-numeric-fraction:  ;\\n  --tw-ring-inset:  ;\\n  --tw-ring-offset-width: 0px;\\n  --tw-ring-offset-color: #fff;\\n  --tw-ring-color: rgb(59 130 246 / 0.5);\\n  --tw-ring-offset-shadow: 0 0 #0000;\\n  --tw-ring-shadow: 0 0 #0000;\\n  --tw-shadow: 0 0 #0000;\\n  --tw-shadow-colored: 0 0 #0000;\\n  --tw-blur:  ;\\n  --tw-brightness:  ;\\n  --tw-contrast:  ;\\n  --tw-grayscale:  ;\\n  --tw-hue-rotate:  ;\\n  --tw-invert:  ;\\n  --tw-saturate:  ;\\n  --tw-sepia:  ;\\n  --tw-drop-shadow:  ;\\n  --tw-backdrop-blur:  ;\\n  --tw-backdrop-brightness:  ;\\n  --tw-backdrop-contrast:  ;\\n  --tw-backdrop-grayscale:  ;\\n  --tw-backdrop-hue-rotate:  ;\\n  --tw-backdrop-invert:  ;\\n  --tw-backdrop-opacity:  ;\\n  --tw-backdrop-saturate:  ;\\n  --tw-backdrop-sepia:  ;\\n}\\n.container {\\n  width: 100%;\\n}\\n@media (min-width: 640px) {\\n\\n  .container {\\n    max-width: 640px;\\n  }\\n}\\n@media (min-width: 768px) {\\n\\n  .container {\\n    max-width: 768px;\\n  }\\n}\\n@media (min-width: 1024px) {\\n\\n  .container {\\n    max-width: 1024px;\\n  }\\n}\\n@media (min-width: 1280px) {\\n\\n  .container {\\n    max-width: 1280px;\\n  }\\n}\\n@media (min-width: 1536px) {\\n\\n  .container {\\n    max-width: 1536px;\\n  }\\n}\\n.sr-only {\\n  position: absolute;\\n  width: 1px;\\n  height: 1px;\\n  padding: 0;\\n  margin: -1px;\\n  overflow: hidden;\\n  clip: rect(0, 0, 0, 0);\\n  white-space: nowrap;\\n  border-width: 0;\\n}\\n.absolute {\\n  position: absolute;\\n}\\n.relative {\\n  position: relative;\\n}\\n.left-1 {\\n  left: 0.25rem;\\n}\\n.top-1 {\\n  top: 0.25rem;\\n}\\n.m-1 {\\n  margin: 0.25rem;\\n}\\n.m-2 {\\n  margin: 0.5rem;\\n}\\n.mx-auto {\\n  margin-left: auto;\\n  margin-right: auto;\\n}\\n.ml-3 {\\n  margin-left: 0.75rem;\\n}\\n.mt-6 {\\n  margin-top: 1.5rem;\\n}\\n.block {\\n  display: block;\\n}\\n.flex {\\n  display: flex;\\n}\\n.inline-flex {\\n  display: inline-flex;\\n}\\n.h-6 {\\n  height: 1.5rem;\\n}\\n.h-8 {\\n  height: 2rem;\\n}\\n.h-screen {\\n  height: 100vh;\\n}\\n.w-14 {\\n  width: 3.5rem;\\n}\\n.w-6 {\\n  width: 1.5rem;\\n}\\n.w-full {\\n  width: 100%;\\n}\\n.cursor-pointer {\\n  cursor: pointer;\\n}\\n.flex-row {\\n  flex-direction: row;\\n}\\n.flex-col {\\n  flex-direction: column;\\n}\\n.items-center {\\n  align-items: center;\\n}\\n.justify-center {\\n  justify-content: center;\\n}\\n.justify-between {\\n  justify-content: space-between;\\n}\\n.space-x-4 > :not([hidden]) ~ :not([hidden]) {\\n  --tw-space-x-reverse: 0;\\n  margin-right: calc(1rem * var(--tw-space-x-reverse));\\n  margin-left: calc(1rem * calc(1 - var(--tw-space-x-reverse)));\\n}\\n.rounded {\\n  border-radius: 0.25rem;\\n}\\n.rounded-full {\\n  border-radius: 9999px;\\n}\\n.rounded-md {\\n  border-radius: 0.375rem;\\n}\\n.bg-black {\\n  --tw-bg-opacity: 1;\\n  background-color: rgb(18 16 16 / var(--tw-bg-opacity));\\n}\\n.bg-grayLight {\\n  --tw-bg-opacity: 1;\\n  background-color: rgb(21 21 21 / var(--tw-bg-opacity));\\n}\\n.bg-white {\\n  --tw-bg-opacity: 1;\\n  background-color: rgb(255 255 255 / var(--tw-bg-opacity));\\n}\\n.bg-gradient-to-r {\\n  background-image: linear-gradient(to right, var(--tw-gradient-stops));\\n}\\n.from-greyGradient1 {\\n  --tw-gradient-from: #212121 var(--tw-gradient-from-position);\\n  --tw-gradient-to: rgb(33 33 33 / 0) var(--tw-gradient-to-position);\\n  --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to);\\n}\\n.to-greyGradient2 {\\n  --tw-gradient-to: #303030 var(--tw-gradient-to-position);\\n}\\n.p-8 {\\n  padding: 2rem;\\n}\\n.px-4 {\\n  padding-left: 1rem;\\n  padding-right: 1rem;\\n}\\n.px-6 {\\n  padding-left: 1.5rem;\\n  padding-right: 1.5rem;\\n}\\n.py-10 {\\n  padding-top: 2.5rem;\\n  padding-bottom: 2.5rem;\\n}\\n.py-2 {\\n  padding-top: 0.5rem;\\n  padding-bottom: 0.5rem;\\n}\\n.py-20 {\\n  padding-top: 5rem;\\n  padding-bottom: 5rem;\\n}\\n.py-4 {\\n  padding-top: 1rem;\\n  padding-bottom: 1rem;\\n}\\n.text-center {\\n  text-align: center;\\n}\\n.text-2xl {\\n  font-size: 1.5rem;\\n  line-height: 2rem;\\n}\\n.text-base {\\n  font-size: 1rem;\\n  line-height: 1.5rem;\\n}\\n.text-sm {\\n  font-size: 0.875rem;\\n  line-height: 1.25rem;\\n}\\n.text-xl {\\n  font-size: 1.25rem;\\n  line-height: 1.75rem;\\n}\\n.font-bold {\\n  font-weight: 700;\\n}\\n.font-medium {\\n  font-weight: 500;\\n}\\n.font-semibold {\\n  font-weight: 600;\\n}\\n.leading-7 {\\n  line-height: 1.75rem;\\n}\\n.tracking-tight {\\n  letter-spacing: -0.025em;\\n}\\n.text-greyText {\\n  --tw-text-opacity: 1;\\n  color: rgb(167 167 167 / var(--tw-text-opacity));\\n}\\n.text-white {\\n  --tw-text-opacity: 1;\\n  color: rgb(255 255 255 / var(--tw-text-opacity));\\n}\\n.transition {\\n  transition-property: color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, -webkit-backdrop-filter;\\n  transition-property: color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter;\\n  transition-property: color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter, -webkit-backdrop-filter;\\n  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\\n  transition-duration: 150ms;\\n}\\n\\n:root {\\n  --foreground-rgb: 0, 0, 0;\\n  --background-start-rgb: 214, 219, 220;\\n  --background-end-rgb: 255, 255, 255;\\n}\\n\\n@media (prefers-color-scheme: dark) {\\n  :root {\\n    --foreground-rgb: 255, 255, 255;\\n    --background-start-rgb: 24, 24, 24, 1;\\n    --background-end-rgb: 0, 0, 0;\\n    \\n  }\\n}\\n\\n/*add a css for toggle switch*/\\n.switch {\\n  position: relative;\\n  display: inline-block;\\n  width: 60px;\\n  height: 34px;\\n  margin-left: 10px;\\n  margin-right: 10px;\\n}\\n\\n.switch input {\\n  opacity: 0;\\n  width: 0;\\n  height: 0;\\n}\\n\\n/*slider*/\\n.slider {\\n  position: absolute;\\n  cursor: pointer;\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n  bottom: 0;\\n  background-color: rgb(var(--background-start-rgb));\\n  transition: 0.4s;\\n}\\n\\n/*slider:before*/\\n.slider:before {\\n  position: absolute;\\n  content: \\\"\\\";\\n  height: 26px;\\n  width: 26px;\\n  left: 4px;\\n  bottom: 4px;\\n  background-color: rgb(var(--foreground-rgb));\\n  transition: 0.4s;\\n}\\n\\n/*input:checked + .slider*/\\ninput:checked + .slider {\\n  background-color: rgb(var(--background-end-rgb));\\n}\\n\\n/*input:focus + .slider*/\\ninput:focus + .slider {\\n  box-shadow: 0 0 1px rgb(var(--foreground-rgb));\\n}\\n\\n/*input:checked + .slider:before*/\\ninput:checked + .slider:before {\\n  transform: translateX(26px);\\n}\\n\\n/*slider.round*/\\n.slider.round {\\n  border-radius: 34px;\\n}\\n\\n/*slider.round:before*/\\n.slider.round:before {\\n  border-radius: 50%;\\n}\\n\\n/*body*/\\n\\n\\nbody {\\n  color: rgb(var(--foreground-rgb));\\n  background: linear-gradient(\\n      to bottom,\\n      transparent,\\n      rgb(var(--background-end-rgb))\\n    )\\n    rgb(var(--background-start-rgb));\\n}\\n\\n\\n.focus\\\\:outline-none:focus {\\n  outline: 2px solid transparent;\\n  outline-offset: 2px;\\n}\\n\\n\\n@media (min-width: 640px) {\\n\\n  .sm\\\\:mt-20 {\\n    margin-top: 5rem;\\n  }\\n\\n  .sm\\\\:p-10 {\\n    padding: 2.5rem;\\n  }\\n}\\n\\n\\n@media (min-width: 1024px) {\\n\\n  .lg\\\\:mx-20 {\\n    margin-left: 5rem;\\n    margin-right: 5rem;\\n  }\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://src/styles/globals.css\",\"<no source>\"],\"names\":[],\"mappings\":\"AAAA;;CAAc,CAAd;;;CAAc;;AAAd;;;EAAA,sBAAc,EAAd,MAAc;EAAd,eAAc,EAAd,MAAc;EAAd,mBAAc,EAAd,MAAc;EAAd,0BAAc,EAAd,MAAc;AAAA;;AAAd;;EAAA,gBAAc;AAAA;;AAAd;;;;;;;CAAc;;AAAd;EAAA,gBAAc,EAAd,MAAc;EAAd,8BAAc,EAAd,MAAc;EAAd,gBAAc,EAAd,MAAc;EAAd,cAAc;KAAd,WAAc,EAAd,MAAc;EAAd,4NAAc,EAAd,MAAc;EAAd,6BAAc,EAAd,MAAc;EAAd,+BAAc,EAAd,MAAc;AAAA;;AAAd;;;CAAc;;AAAd;EAAA,SAAc,EAAd,MAAc;EAAd,oBAAc,EAAd,MAAc;AAAA;;AAAd;;;;CAAc;;AAAd;EAAA,SAAc,EAAd,MAAc;EAAd,cAAc,EAAd,MAAc;EAAd,qBAAc,EAAd,MAAc;AAAA;;AAAd;;CAAc;;AAAd;EAAA,yCAAc;UAAd,iCAAc;AAAA;;AAAd;;CAAc;;AAAd;;;;;;EAAA,kBAAc;EAAd,oBAAc;AAAA;;AAAd;;CAAc;;AAAd;EAAA,cAAc;EAAd,wBAAc;AAAA;;AAAd;;CAAc;;AAAd;;EAAA,mBAAc;AAAA;;AAAd;;;CAAc;;AAAd;;;;EAAA,+GAAc,EAAd,MAAc;EAAd,cAAc,EAAd,MAAc;AAAA;;AAAd;;CAAc;;AAAd;EAAA,cAAc;AAAA;;AAAd;;CAAc;;AAAd;;EAAA,cAAc;EAAd,cAAc;EAAd,kBAAc;EAAd,wBAAc;AAAA;;AAAd;EAAA,eAAc;AAAA;;AAAd;EAAA,WAAc;AAAA;;AAAd;;;;CAAc;;AAAd;EAAA,cAAc,EAAd,MAAc;EAAd,qBAAc,EAAd,MAAc;EAAd,yBAAc,EAAd,MAAc;AAAA;;AAAd;;;;CAAc;;AAAd;;;;;EAAA,oBAAc,EAAd,MAAc;EAAd,eAAc,EAAd,MAAc;EAAd,oBAAc,EAAd,MAAc;EAAd,oBAAc,EAAd,MAAc;EAAd,cAAc,EAAd,MAAc;EAAd,SAAc,EAAd,MAAc;EAAd,UAAc,EAAd,MAAc;AAAA;;AAAd;;CAAc;;AAAd;;EAAA,oBAAc;AAAA;;AAAd;;;CAAc;;AAAd;;;;EAAA,0BAAc,EAAd,MAAc;EAAd,6BAAc,EAAd,MAAc;EAAd,sBAAc,EAAd,MAAc;AAAA;;AAAd;;CAAc;;AAAd;EAAA,aAAc;AAAA;;AAAd;;CAAc;;AAAd;EAAA,gBAAc;AAAA;;AAAd;;CAAc;;AAAd;EAAA,wBAAc;AAAA;;AAAd;;CAAc;;AAAd;;EAAA,YAAc;AAAA;;AAAd;;;CAAc;;AAAd;EAAA,6BAAc,EAAd,MAAc;EAAd,oBAAc,EAAd,MAAc;AAAA;;AAAd;;CAAc;;AAAd;EAAA,wBAAc;AAAA;;AAAd;;;CAAc;;AAAd;EAAA,0BAAc,EAAd,MAAc;EAAd,aAAc,EAAd,MAAc;AAAA;;AAAd;;CAAc;;AAAd;EAAA,kBAAc;AAAA;;AAAd;;CAAc;;AAAd;;;;;;;;;;;;;EAAA,SAAc;AAAA;;AAAd;EAAA,SAAc;EAAd,UAAc;AAAA;;AAAd;EAAA,UAAc;AAAA;;AAAd;;;EAAA,gBAAc;EAAd,SAAc;EAAd,UAAc;AAAA;;AAAd;;CAAc;;AAAd;EAAA,gBAAc;AAAA;;AAAd;;;CAAc;;AAAd;EAAA,UAAc,EAAd,MAAc;EAAd,cAAc,EAAd,MAAc;AAAA;;AAAd;;EAAA,UAAc,EAAd,MAAc;EAAd,cAAc,EAAd,MAAc;AAAA;;AAAd;;CAAc;;AAAd;;EAAA,eAAc;AAAA;;AAAd;;CAAc;AAAd;EAAA,eAAc;AAAA;;AAAd;;;;CAAc;;AAAd;;;;;;;;EAAA,cAAc,EAAd,MAAc;EAAd,sBAAc,EAAd,MAAc;AAAA;;AAAd;;CAAc;;AAAd;;EAAA,eAAc;EAAd,YAAc;AAAA;;AAAd,wEAAc;AAAd;EAAA,aAAc;AAAA;;AAAd;EAAA,wBAAc;EAAd,wBAAc;EAAd,mBAAc;EAAd,mBAAc;EAAd,cAAc;EAAd,cAAc;EAAd,cAAc;EAAd,eAAc;EAAd,eAAc;EAAd,aAAc;EAAd,aAAc;EAAd,kBAAc;EAAd,sCAAc;EAAd,8BAAc;EAAd,6BAAc;EAAd,4BAAc;EAAd,eAAc;EAAd,oBAAc;EAAd,sBAAc;EAAd,uBAAc;EAAd,wBAAc;EAAd,kBAAc;EAAd,2BAAc;EAAd,4BAAc;EAAd,sCAAc;EAAd,kCAAc;EAAd,2BAAc;EAAd,sBAAc;EAAd,8BAAc;EAAd,YAAc;EAAd,kBAAc;EAAd,gBAAc;EAAd,iBAAc;EAAd,kBAAc;EAAd,cAAc;EAAd,gBAAc;EAAd,aAAc;EAAd,mBAAc;EAAd,qBAAc;EAAd,2BAAc;EAAd,yBAAc;EAAd,0BAAc;EAAd,2BAAc;EAAd,uBAAc;EAAd,wBAAc;EAAd,yBAAc;EAAd;AAAc;;AAAd;EAAA,wBAAc;EAAd,wBAAc;EAAd,mBAAc;EAAd,mBAAc;EAAd,cAAc;EAAd,cAAc;EAAd,cAAc;EAAd,eAAc;EAAd,eAAc;EAAd,aAAc;EAAd,aAAc;EAAd,kBAAc;EAAd,sCAAc;EAAd,8BAAc;EAAd,6BAAc;EAAd,4BAAc;EAAd,eAAc;EAAd,oBAAc;EAAd,sBAAc;EAAd,uBAAc;EAAd,wBAAc;EAAd,kBAAc;EAAd,2BAAc;EAAd,4BAAc;EAAd,sCAAc;EAAd,kCAAc;EAAd,2BAAc;EAAd,sBAAc;EAAd,8BAAc;EAAd,YAAc;EAAd,kBAAc;EAAd,gBAAc;EAAd,iBAAc;EAAd,kBAAc;EAAd,cAAc;EAAd,gBAAc;EAAd,aAAc;EAAd,mBAAc;EAAd,qBAAc;EAAd,2BAAc;EAAd,yBAAc;EAAd,0BAAc;EAAd,2BAAc;EAAd,uBAAc;EAAd,wBAAc;EAAd,yBAAc;EAAd;AAAc;AACd;EAAA;AAAoB;AAApB;;EAAA;IAAA;EAAoB;AAAA;AAApB;;EAAA;IAAA;EAAoB;AAAA;AAApB;;EAAA;IAAA;EAAoB;AAAA;AAApB;;EAAA;IAAA;EAAoB;AAAA;AAApB;;EAAA;IAAA;EAAoB;AAAA;AACpB;EAAA,kBAAmB;EAAnB,UAAmB;EAAnB,WAAmB;EAAnB,UAAmB;EAAnB,YAAmB;EAAnB,gBAAmB;EAAnB,sBAAmB;EAAnB,mBAAmB;EAAnB;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA,iBAAmB;EAAnB;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA,uBAAmB;EAAnB,oDAAmB;EAAnB;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA,kBAAmB;EAAnB;AAAmB;AAAnB;EAAA,kBAAmB;EAAnB;AAAmB;AAAnB;EAAA,kBAAmB;EAAnB;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA,4DAAmB;EAAnB,kEAAmB;EAAnB;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA,kBAAmB;EAAnB;AAAmB;AAAnB;EAAA,oBAAmB;EAAnB;AAAmB;AAAnB;EAAA,mBAAmB;EAAnB;AAAmB;AAAnB;EAAA,mBAAmB;EAAnB;AAAmB;AAAnB;EAAA,iBAAmB;EAAnB;AAAmB;AAAnB;EAAA,iBAAmB;EAAnB;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA,iBAAmB;EAAnB;AAAmB;AAAnB;EAAA,eAAmB;EAAnB;AAAmB;AAAnB;EAAA,mBAAmB;EAAnB;AAAmB;AAAnB;EAAA,kBAAmB;EAAnB;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA;AAAmB;AAAnB;EAAA,oBAAmB;EAAnB;AAAmB;AAAnB;EAAA,oBAAmB;EAAnB;AAAmB;AAAnB;EAAA,gKAAmB;EAAnB,wJAAmB;EAAnB,iLAAmB;EAAnB,wDAAmB;EAAnB;AAAmB;;AAEnB;EACE,yBAAyB;EACzB,qCAAqC;EACrC,mCAAmC;AACrC;;AAEA;EACE;IACE,+BAA+B;IAC/B,qCAAqC;IACrC,6BAA6B;;EAE/B;AACF;;AAEA,8BAA8B;AAC9B;EACE,kBAAkB;EAClB,qBAAqB;EACrB,WAAW;EACX,YAAY;EACZ,iBAAiB;EACjB,kBAAkB;AACpB;;AAEA;EACE,UAAU;EACV,QAAQ;EACR,SAAS;AACX;;AAEA,SAAS;AACT;EACE,kBAAkB;EAClB,eAAe;EACf,MAAM;EACN,OAAO;EACP,QAAQ;EACR,SAAS;EACT,kDAAkD;EAElD,gBAAgB;AAClB;;AAEA,gBAAgB;AAChB;EACE,kBAAkB;EAClB,WAAW;EACX,YAAY;EACZ,WAAW;EACX,SAAS;EACT,WAAW;EACX,4CAA4C;EAE5C,gBAAgB;AAClB;;AAEA,0BAA0B;AAC1B;EACE,gDAAgD;AAClD;;AAEA,wBAAwB;AACxB;EACE,8CAA8C;AAChD;;AAEA,iCAAiC;AACjC;EAGE,2BAA2B;AAC7B;;AAEA,eAAe;AACf;EACE,mBAAmB;AACrB;;AAEA,sBAAsB;AACtB;EACE,kBAAkB;AACpB;;AAEA,OAAO;;;AAGP;EACE,iCAAiC;EACjC;;;;;oCAKkC;AACpC;;;AAnGA;EAAA,+BCAA;EDAA;CCAA;;;ADAA;;EAAA;IAAA;GCAA;;EDAA;IAAA;GCAA;CAAA;;;ADAA;;EAAA;IAAA,kBCAA;IDAA;GCAA;CAAA\",\"sourcesContent\":[\"@tailwind base;\\n@tailwind components;\\n@tailwind utilities;\\n\\n:root {\\n  --foreground-rgb: 0, 0, 0;\\n  --background-start-rgb: 214, 219, 220;\\n  --background-end-rgb: 255, 255, 255;\\n}\\n\\n@media (prefers-color-scheme: dark) {\\n  :root {\\n    --foreground-rgb: 255, 255, 255;\\n    --background-start-rgb: 24, 24, 24, 1;\\n    --background-end-rgb: 0, 0, 0;\\n    \\n  }\\n}\\n\\n/*add a css for toggle switch*/\\n.switch {\\n  position: relative;\\n  display: inline-block;\\n  width: 60px;\\n  height: 34px;\\n  margin-left: 10px;\\n  margin-right: 10px;\\n}\\n\\n.switch input {\\n  opacity: 0;\\n  width: 0;\\n  height: 0;\\n}\\n\\n/*slider*/\\n.slider {\\n  position: absolute;\\n  cursor: pointer;\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n  bottom: 0;\\n  background-color: rgb(var(--background-start-rgb));\\n  -webkit-transition: 0.4s;\\n  transition: 0.4s;\\n}\\n\\n/*slider:before*/\\n.slider:before {\\n  position: absolute;\\n  content: \\\"\\\";\\n  height: 26px;\\n  width: 26px;\\n  left: 4px;\\n  bottom: 4px;\\n  background-color: rgb(var(--foreground-rgb));\\n  -webkit-transition: 0.4s;\\n  transition: 0.4s;\\n}\\n\\n/*input:checked + .slider*/\\ninput:checked + .slider {\\n  background-color: rgb(var(--background-end-rgb));\\n}\\n\\n/*input:focus + .slider*/\\ninput:focus + .slider {\\n  box-shadow: 0 0 1px rgb(var(--foreground-rgb));\\n}\\n\\n/*input:checked + .slider:before*/\\ninput:checked + .slider:before {\\n  -webkit-transform: translateX(26px);\\n  -ms-transform: translateX(26px);\\n  transform: translateX(26px);\\n}\\n\\n/*slider.round*/\\n.slider.round {\\n  border-radius: 34px;\\n}\\n\\n/*slider.round:before*/\\n.slider.round:before {\\n  border-radius: 50%;\\n}\\n\\n/*body*/\\n\\n\\nbody {\\n  color: rgb(var(--foreground-rgb));\\n  background: linear-gradient(\\n      to bottom,\\n      transparent,\\n      rgb(var(--background-end-rgb))\\n    )\\n    rgb(var(--background-start-rgb));\\n}\\n\",null],\"sourceRoot\":\"\"}]);\n// Exports\n/* harmony default export */ __webpack_exports__[\"default\"] = (___CSS_LOADER_EXPORT___);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9jc3MtbG9hZGVyL3NyYy9pbmRleC5qcz8/cnVsZVNldFsxXS5ydWxlc1sxXS5vbmVPZlsxM10udXNlWzFdIS4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9idWlsZC93ZWJwYWNrL2xvYWRlcnMvcG9zdGNzcy1sb2FkZXIvc3JjL2luZGV4LmpzPz9ydWxlU2V0WzFdLnJ1bGVzWzFdLm9uZU9mWzEzXS51c2VbMl0hLi9zcmMvc3R5bGVzL2dsb2JhbHMuY3NzLmpzIiwibWFwcGluZ3MiOiI7OztBQUFBO0FBQzJIO0FBQzNILDhCQUE4QixrSEFBMkI7QUFDekQ7QUFDQSwwWEFBMFgsNEJBQTRCLDRCQUE0QixnQ0FBZ0MsdUNBQXVDLFVBQVUsd0JBQXdCLHFCQUFxQixHQUFHLHFZQUFxWSxzQkFBc0IsMkNBQTJDLDZCQUE2QiwwQkFBMEIsb0JBQW9CLHVQQUF1UCwwQ0FBMEMsNENBQTRDLFVBQVUsZ0tBQWdLLGVBQWUsaUNBQWlDLFVBQVUsMk5BQTJOLGVBQWUsMkJBQTJCLGtDQUFrQyxVQUFVLGlHQUFpRyw4Q0FBOEMsOENBQThDLEdBQUcsa0dBQWtHLHVCQUF1Qix5QkFBeUIsR0FBRyxpRkFBaUYsbUJBQW1CLDZCQUE2QixHQUFHLDJFQUEyRSx3QkFBd0IsR0FBRywwSkFBMEoseUhBQXlILDJCQUEyQixVQUFVLGlFQUFpRSxtQkFBbUIsR0FBRywyR0FBMkcsbUJBQW1CLG1CQUFtQix1QkFBdUIsNkJBQTZCLEdBQUcsU0FBUyxvQkFBb0IsR0FBRyxTQUFTLGdCQUFnQixHQUFHLGdiQUFnYixvQkFBb0Isa0NBQWtDLHNDQUFzQyxVQUFVLGtNQUFrTSwwQkFBMEIsNEJBQTRCLGlDQUFpQyxpQ0FBaUMsMkJBQTJCLHNCQUFzQix1QkFBdUIsVUFBVSw4RkFBOEYseUJBQXlCLEdBQUcsbUxBQW1MLGdDQUFnQywwQ0FBMEMsbUNBQW1DLFVBQVUsK0ZBQStGLGtCQUFrQixHQUFHLCtNQUErTSxxQkFBcUIsR0FBRyxtRkFBbUYsNkJBQTZCLEdBQUcsaUpBQWlKLGlCQUFpQixHQUFHLDZIQUE2SCxtQ0FBbUMsaUNBQWlDLFVBQVUsb0dBQW9HLDZCQUE2QixHQUFHLHFLQUFxSyxnQ0FBZ0MsMEJBQTBCLFVBQVUsc0VBQXNFLHVCQUF1QixHQUFHLDRKQUE0SixjQUFjLEdBQUcsY0FBYyxjQUFjLGVBQWUsR0FBRyxZQUFZLGVBQWUsR0FBRyxvQkFBb0IscUJBQXFCLGNBQWMsZUFBZSxHQUFHLDZFQUE2RSxxQkFBcUIsR0FBRyxrUUFBa1EsZ0JBQWdCLDJCQUEyQixVQUFVLGdEQUFnRCxnQkFBZ0IsMkJBQTJCLFVBQVUsK0VBQStFLG9CQUFvQixHQUFHLGlGQUFpRixvQkFBb0IsR0FBRyxtYkFBbWIsb0JBQW9CLG1DQUFtQyxVQUFVLHdLQUF3SyxvQkFBb0IsaUJBQWlCLEdBQUcseUZBQXlGLGtCQUFrQixHQUFHLDBCQUEwQiw2QkFBNkIsNkJBQTZCLHdCQUF3Qix3QkFBd0IsbUJBQW1CLG1CQUFtQixtQkFBbUIsb0JBQW9CLG9CQUFvQixrQkFBa0Isa0JBQWtCLHVCQUF1QiwyQ0FBMkMsbUNBQW1DLGtDQUFrQyxpQ0FBaUMsb0JBQW9CLHlCQUF5QiwyQkFBMkIsNEJBQTRCLDZCQUE2Qix1QkFBdUIsZ0NBQWdDLGlDQUFpQywyQ0FBMkMsdUNBQXVDLGdDQUFnQywyQkFBMkIsbUNBQW1DLGlCQUFpQix1QkFBdUIscUJBQXFCLHNCQUFzQix1QkFBdUIsbUJBQW1CLHFCQUFxQixrQkFBa0Isd0JBQXdCLDBCQUEwQixnQ0FBZ0MsOEJBQThCLCtCQUErQixnQ0FBZ0MsNEJBQTRCLDZCQUE2Qiw4QkFBOEIsMkJBQTJCLEdBQUcsZ0JBQWdCLDZCQUE2Qiw2QkFBNkIsd0JBQXdCLHdCQUF3QixtQkFBbUIsbUJBQW1CLG1CQUFtQixvQkFBb0Isb0JBQW9CLGtCQUFrQixrQkFBa0IsdUJBQXVCLDJDQUEyQyxtQ0FBbUMsa0NBQWtDLGlDQUFpQyxvQkFBb0IseUJBQXlCLDJCQUEyQiw0QkFBNEIsNkJBQTZCLHVCQUF1QixnQ0FBZ0MsaUNBQWlDLDJDQUEyQyx1Q0FBdUMsZ0NBQWdDLDJCQUEyQixtQ0FBbUMsaUJBQWlCLHVCQUF1QixxQkFBcUIsc0JBQXNCLHVCQUF1QixtQkFBbUIscUJBQXFCLGtCQUFrQix3QkFBd0IsMEJBQTBCLGdDQUFnQyw4QkFBOEIsK0JBQStCLGdDQUFnQyw0QkFBNEIsNkJBQTZCLDhCQUE4QiwyQkFBMkIsR0FBRyxjQUFjLGdCQUFnQixHQUFHLDZCQUE2QixrQkFBa0IsdUJBQXVCLEtBQUssR0FBRyw2QkFBNkIsa0JBQWtCLHVCQUF1QixLQUFLLEdBQUcsOEJBQThCLGtCQUFrQix3QkFBd0IsS0FBSyxHQUFHLDhCQUE4QixrQkFBa0Isd0JBQXdCLEtBQUssR0FBRyw4QkFBOEIsa0JBQWtCLHdCQUF3QixLQUFLLEdBQUcsWUFBWSx1QkFBdUIsZUFBZSxnQkFBZ0IsZUFBZSxpQkFBaUIscUJBQXFCLDJCQUEyQix3QkFBd0Isb0JBQW9CLEdBQUcsYUFBYSx1QkFBdUIsR0FBRyxhQUFhLHVCQUF1QixHQUFHLFdBQVcsa0JBQWtCLEdBQUcsVUFBVSxpQkFBaUIsR0FBRyxRQUFRLG9CQUFvQixHQUFHLFFBQVEsbUJBQW1CLEdBQUcsWUFBWSxzQkFBc0IsdUJBQXVCLEdBQUcsU0FBUyx5QkFBeUIsR0FBRyxTQUFTLHVCQUF1QixHQUFHLFVBQVUsbUJBQW1CLEdBQUcsU0FBUyxrQkFBa0IsR0FBRyxnQkFBZ0IseUJBQXlCLEdBQUcsUUFBUSxtQkFBbUIsR0FBRyxRQUFRLGlCQUFpQixHQUFHLGFBQWEsa0JBQWtCLEdBQUcsU0FBUyxrQkFBa0IsR0FBRyxRQUFRLGtCQUFrQixHQUFHLFdBQVcsZ0JBQWdCLEdBQUcsbUJBQW1CLG9CQUFvQixHQUFHLGFBQWEsd0JBQXdCLEdBQUcsYUFBYSwyQkFBMkIsR0FBRyxpQkFBaUIsd0JBQXdCLEdBQUcsbUJBQW1CLDRCQUE0QixHQUFHLG9CQUFvQixtQ0FBbUMsR0FBRyxnREFBZ0QsNEJBQTRCLHlEQUF5RCxrRUFBa0UsR0FBRyxZQUFZLDJCQUEyQixHQUFHLGlCQUFpQiwwQkFBMEIsR0FBRyxlQUFlLDRCQUE0QixHQUFHLGFBQWEsdUJBQXVCLDJEQUEyRCxHQUFHLGlCQUFpQix1QkFBdUIsMkRBQTJELEdBQUcsYUFBYSx1QkFBdUIsOERBQThELEdBQUcscUJBQXFCLDBFQUEwRSxHQUFHLHVCQUF1QixpRUFBaUUsdUVBQXVFLHdFQUF3RSxHQUFHLHFCQUFxQiw2REFBNkQsR0FBRyxRQUFRLGtCQUFrQixHQUFHLFNBQVMsdUJBQXVCLHdCQUF3QixHQUFHLFNBQVMseUJBQXlCLDBCQUEwQixHQUFHLFVBQVUsd0JBQXdCLDJCQUEyQixHQUFHLFNBQVMsd0JBQXdCLDJCQUEyQixHQUFHLFVBQVUsc0JBQXNCLHlCQUF5QixHQUFHLFNBQVMsc0JBQXNCLHlCQUF5QixHQUFHLGdCQUFnQix1QkFBdUIsR0FBRyxhQUFhLHNCQUFzQixzQkFBc0IsR0FBRyxjQUFjLG9CQUFvQix3QkFBd0IsR0FBRyxZQUFZLHdCQUF3Qix5QkFBeUIsR0FBRyxZQUFZLHVCQUF1Qix5QkFBeUIsR0FBRyxjQUFjLHFCQUFxQixHQUFHLGdCQUFnQixxQkFBcUIsR0FBRyxrQkFBa0IscUJBQXFCLEdBQUcsY0FBYyx5QkFBeUIsR0FBRyxtQkFBbUIsNkJBQTZCLEdBQUcsa0JBQWtCLHlCQUF5QixxREFBcUQsR0FBRyxlQUFlLHlCQUF5QixxREFBcUQsR0FBRyxlQUFlLHFLQUFxSyw2SkFBNkosc0xBQXNMLDZEQUE2RCwrQkFBK0IsR0FBRyxXQUFXLDhCQUE4QiwwQ0FBMEMsd0NBQXdDLEdBQUcseUNBQXlDLFdBQVcsc0NBQXNDLDRDQUE0QyxvQ0FBb0MsV0FBVyxHQUFHLDhDQUE4Qyx1QkFBdUIsMEJBQTBCLGdCQUFnQixpQkFBaUIsc0JBQXNCLHVCQUF1QixHQUFHLG1CQUFtQixlQUFlLGFBQWEsY0FBYyxHQUFHLHlCQUF5Qix1QkFBdUIsb0JBQW9CLFdBQVcsWUFBWSxhQUFhLGNBQWMsdURBQXVELHFCQUFxQixHQUFHLHVDQUF1Qyx1QkFBdUIsa0JBQWtCLGlCQUFpQixnQkFBZ0IsY0FBYyxnQkFBZ0IsaURBQWlELHFCQUFxQixHQUFHLDBEQUEwRCxxREFBcUQsR0FBRyxzREFBc0QsbURBQW1ELEdBQUcsd0VBQXdFLGdDQUFnQyxHQUFHLHFDQUFxQyx3QkFBd0IsR0FBRyxtREFBbUQsdUJBQXVCLEdBQUcsd0JBQXdCLHNDQUFzQywwSkFBMEosR0FBRyxtQ0FBbUMsbUNBQW1DLHdCQUF3QixHQUFHLGlDQUFpQyxtQkFBbUIsdUJBQXVCLEtBQUssa0JBQWtCLHNCQUFzQixLQUFLLEdBQUcsa0NBQWtDLG1CQUFtQix3QkFBd0IseUJBQXlCLEtBQUssR0FBRyxTQUFTLHNHQUFzRyxZQUFZLE1BQU0sT0FBTyxxQkFBcUIsb0JBQW9CLHFCQUFxQixxQkFBcUIsTUFBTSxNQUFNLFdBQVcsTUFBTSxXQUFXLE1BQU0sS0FBSyxxQkFBcUIscUJBQXFCLHFCQUFxQixVQUFVLG9CQUFvQixxQkFBcUIscUJBQXFCLHFCQUFxQixNQUFNLE9BQU8sTUFBTSxLQUFLLG9CQUFvQixxQkFBcUIsTUFBTSxRQUFRLE1BQU0sS0FBSyxvQkFBb0Isb0JBQW9CLHFCQUFxQixNQUFNLE1BQU0sTUFBTSxLQUFLLFdBQVcsV0FBVyxNQUFNLE1BQU0sTUFBTSxVQUFVLFdBQVcsV0FBVyxNQUFNLE1BQU0sTUFBTSxLQUFLLFVBQVUsV0FBVyxNQUFNLE1BQU0sTUFBTSxNQUFNLFdBQVcsTUFBTSxPQUFPLE1BQU0sUUFBUSxxQkFBcUIsb0JBQW9CLE1BQU0sTUFBTSxNQUFNLEtBQUssVUFBVSxNQUFNLE1BQU0sTUFBTSxNQUFNLFVBQVUsVUFBVSxXQUFXLFdBQVcsTUFBTSxLQUFLLFVBQVUsTUFBTSxLQUFLLFVBQVUsTUFBTSxRQUFRLE1BQU0sS0FBSyxvQkFBb0IscUJBQXFCLHFCQUFxQixNQUFNLFFBQVEsTUFBTSxTQUFTLHFCQUFxQixvQkFBb0IscUJBQXFCLHFCQUFxQixvQkFBb0Isb0JBQW9CLG9CQUFvQixNQUFNLE1BQU0sTUFBTSxNQUFNLFdBQVcsTUFBTSxPQUFPLE1BQU0sUUFBUSxxQkFBcUIscUJBQXFCLHFCQUFxQixNQUFNLE1BQU0sTUFBTSxLQUFLLFVBQVUsTUFBTSxNQUFNLE1BQU0sS0FBSyxXQUFXLE1BQU0sTUFBTSxNQUFNLEtBQUssV0FBVyxNQUFNLE1BQU0sTUFBTSxNQUFNLFVBQVUsTUFBTSxPQUFPLE1BQU0sS0FBSyxxQkFBcUIscUJBQXFCLE1BQU0sTUFBTSxNQUFNLEtBQUssV0FBVyxNQUFNLE9BQU8sTUFBTSxLQUFLLHFCQUFxQixvQkFBb0IsTUFBTSxNQUFNLE1BQU0sS0FBSyxXQUFXLE1BQU0sTUFBTSxNQUFNLGlCQUFpQixVQUFVLE1BQU0sS0FBSyxVQUFVLFVBQVUsTUFBTSxLQUFLLFVBQVUsTUFBTSxPQUFPLFdBQVcsVUFBVSxVQUFVLE1BQU0sTUFBTSxNQUFNLEtBQUssV0FBVyxNQUFNLE9BQU8sTUFBTSxLQUFLLG9CQUFvQixvQkFBb0IsTUFBTSxNQUFNLG9CQUFvQixvQkFBb0IsTUFBTSxNQUFNLE1BQU0sTUFBTSxVQUFVLE1BQU0sTUFBTSxLQUFLLEtBQUssVUFBVSxNQUFNLFFBQVEsTUFBTSxZQUFZLG9CQUFvQixxQkFBcUIsTUFBTSxNQUFNLE1BQU0sTUFBTSxVQUFVLFVBQVUsTUFBTSxXQUFXLEtBQUssVUFBVSxNQUFNLEtBQUssV0FBVyxXQUFXLFdBQVcsV0FBVyxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFdBQVcsV0FBVyxXQUFXLFdBQVcsV0FBVyxVQUFVLFdBQVcsV0FBVyxXQUFXLFdBQVcsV0FBVyxXQUFXLFdBQVcsV0FBVyxXQUFXLFdBQVcsV0FBVyxXQUFXLFVBQVUsV0FBVyxXQUFXLFdBQVcsV0FBVyxVQUFVLFdBQVcsVUFBVSxXQUFXLFdBQVcsV0FBVyxXQUFXLFdBQVcsV0FBVyxXQUFXLFdBQVcsV0FBVyxLQUFLLE1BQU0sS0FBSyxXQUFXLFdBQVcsV0FBVyxXQUFXLFVBQVUsVUFBVSxVQUFVLFVBQVUsVUFBVSxVQUFVLFVBQVUsV0FBVyxXQUFXLFdBQVcsV0FBVyxXQUFXLFVBQVUsV0FBVyxXQUFXLFdBQVcsV0FBVyxXQUFXLFdBQVcsV0FBVyxXQUFXLFdBQVcsV0FBVyxXQUFXLFdBQVcsVUFBVSxXQUFXLFdBQVcsV0FBVyxXQUFXLFVBQVUsV0FBVyxVQUFVLFdBQVcsV0FBVyxXQUFXLFdBQVcsV0FBVyxXQUFXLFdBQVcsV0FBVyxXQUFXLEtBQUssS0FBSyxLQUFLLEtBQUssTUFBTSxPQUFPLEtBQUssS0FBSyxNQUFNLEtBQUssT0FBTyxLQUFLLEtBQUssTUFBTSxLQUFLLE9BQU8sS0FBSyxLQUFLLE1BQU0sS0FBSyxPQUFPLEtBQUssS0FBSyxNQUFNLEtBQUssT0FBTyxLQUFLLEtBQUssTUFBTSxLQUFLLE1BQU0sWUFBWSxZQUFZLFlBQVksWUFBWSxZQUFZLGFBQWEsYUFBYSxhQUFhLE1BQU0sTUFBTSxNQUFNLEtBQUssTUFBTSxNQUFNLEtBQUssTUFBTSxNQUFNLEtBQUssTUFBTSxNQUFNLEtBQUssTUFBTSxNQUFNLEtBQUssTUFBTSxNQUFNLEtBQUssTUFBTSxNQUFNLFlBQVksTUFBTSxNQUFNLE1BQU0sS0FBSyxNQUFNLE1BQU0sS0FBSyxNQUFNLE1BQU0sS0FBSyxNQUFNLE1BQU0sS0FBSyxNQUFNLE1BQU0sS0FBSyxNQUFNLE1BQU0sS0FBSyxNQUFNLE1BQU0sS0FBSyxNQUFNLE1BQU0sS0FBSyxNQUFNLE1BQU0sS0FBSyxNQUFNLE1BQU0sS0FBSyxNQUFNLE1BQU0sS0FBSyxNQUFNLE1BQU0sS0FBSyxNQUFNLE1BQU0sS0FBSyxNQUFNLE1BQU0sS0FBSyxNQUFNLE1BQU0sS0FBSyxNQUFNLE1BQU0sS0FBSyxNQUFNLE1BQU0sS0FBSyxNQUFNLE1BQU0sWUFBWSxhQUFhLE1BQU0sTUFBTSxNQUFNLEtBQUssTUFBTSxNQUFNLEtBQUssTUFBTSxNQUFNLEtBQUssTUFBTSxNQUFNLFlBQVksTUFBTSxNQUFNLE1BQU0sWUFBWSxNQUFNLE1BQU0sTUFBTSxZQUFZLE1BQU0sTUFBTSxNQUFNLEtBQUssTUFBTSxNQUFNLFlBQVksYUFBYSxNQUFNLE1BQU0sTUFBTSxLQUFLLE1BQU0sTUFBTSxLQUFLLE1BQU0sTUFBTSxZQUFZLE1BQU0sTUFBTSxNQUFNLFlBQVksTUFBTSxNQUFNLE1BQU0sWUFBWSxNQUFNLE1BQU0sTUFBTSxZQUFZLE1BQU0sTUFBTSxNQUFNLFlBQVksTUFBTSxNQUFNLE1BQU0sWUFBWSxNQUFNLE1BQU0sTUFBTSxLQUFLLE1BQU0sTUFBTSxZQUFZLE1BQU0sTUFBTSxNQUFNLFdBQVcsTUFBTSxNQUFNLE1BQU0sWUFBWSxNQUFNLE1BQU0sTUFBTSxZQUFZLE1BQU0sTUFBTSxNQUFNLEtBQUssTUFBTSxNQUFNLEtBQUssTUFBTSxNQUFNLEtBQUssTUFBTSxNQUFNLEtBQUssTUFBTSxNQUFNLEtBQUssTUFBTSxNQUFNLFlBQVksTUFBTSxNQUFNLE1BQU0sWUFBWSxNQUFNLE1BQU0sTUFBTSxZQUFZLGFBQWEsYUFBYSxhQUFhLE1BQU0sT0FBTyxNQUFNLFlBQVksYUFBYSxhQUFhLE9BQU8sS0FBSyxLQUFLLFlBQVksYUFBYSxjQUFjLE1BQU0sTUFBTSxZQUFZLE1BQU0sWUFBWSxhQUFhLFdBQVcsVUFBVSxZQUFZLGFBQWEsT0FBTyxLQUFLLFVBQVUsVUFBVSxVQUFVLE1BQU0sVUFBVSxLQUFLLFlBQVksV0FBVyxVQUFVLFVBQVUsVUFBVSxVQUFVLFlBQVksYUFBYSxPQUFPLFlBQVksTUFBTSxZQUFZLFdBQVcsVUFBVSxVQUFVLFVBQVUsVUFBVSxZQUFZLGFBQWEsT0FBTyxZQUFZLE1BQU0sWUFBWSxPQUFPLFlBQVksTUFBTSxZQUFZLE9BQU8sWUFBWSxNQUFNLFlBQVksT0FBTyxVQUFVLEtBQUssWUFBWSxPQUFPLFlBQVksTUFBTSxZQUFZLE9BQU8sWUFBWSxLQUFLLFlBQVksVUFBVSxPQUFPLFFBQVEsTUFBTSxXQUFXLEtBQUssT0FBTyxNQUFNLEtBQUssS0FBSyxNQUFNLEtBQUssS0FBSyxLQUFLLE9BQU8sTUFBTSxLQUFLLFdBQVcsS0FBSyxLQUFLLHdDQUF3Qyx1QkFBdUIsc0JBQXNCLFdBQVcsOEJBQThCLDBDQUEwQyx3Q0FBd0MsR0FBRyx5Q0FBeUMsV0FBVyxzQ0FBc0MsNENBQTRDLG9DQUFvQyxXQUFXLEdBQUcsOENBQThDLHVCQUF1QiwwQkFBMEIsZ0JBQWdCLGlCQUFpQixzQkFBc0IsdUJBQXVCLEdBQUcsbUJBQW1CLGVBQWUsYUFBYSxjQUFjLEdBQUcseUJBQXlCLHVCQUF1QixvQkFBb0IsV0FBVyxZQUFZLGFBQWEsY0FBYyx1REFBdUQsNkJBQTZCLHFCQUFxQixHQUFHLHVDQUF1Qyx1QkFBdUIsa0JBQWtCLGlCQUFpQixnQkFBZ0IsY0FBYyxnQkFBZ0IsaURBQWlELDZCQUE2QixxQkFBcUIsR0FBRywwREFBMEQscURBQXFELEdBQUcsc0RBQXNELG1EQUFtRCxHQUFHLHdFQUF3RSx3Q0FBd0Msb0NBQW9DLGdDQUFnQyxHQUFHLHFDQUFxQyx3QkFBd0IsR0FBRyxtREFBbUQsdUJBQXVCLEdBQUcsd0JBQXdCLHNDQUFzQywwSkFBMEosR0FBRywwQkFBMEI7QUFDbjR1QjtBQUNBLCtEQUFlLHVCQUF1QixFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3NyYy9zdHlsZXMvZ2xvYmFscy5jc3M/MTFmMyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBJbXBvcnRzXG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIGZyb20gXCIuLi8uLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9jc3MtbG9hZGVyL3NyYy9ydW50aW1lL2FwaS5qc1wiO1xudmFyIF9fX0NTU19MT0FERVJfRVhQT1JUX19fID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKHRydWUpO1xuLy8gTW9kdWxlXG5fX19DU1NfTE9BREVSX0VYUE9SVF9fXy5wdXNoKFttb2R1bGUuaWQsIFwiLypcXG4hIHRhaWx3aW5kY3NzIHYzLjMuMiB8IE1JVCBMaWNlbnNlIHwgaHR0cHM6Ly90YWlsd2luZGNzcy5jb21cXG4qLy8qXFxuMS4gUHJldmVudCBwYWRkaW5nIGFuZCBib3JkZXIgZnJvbSBhZmZlY3RpbmcgZWxlbWVudCB3aWR0aC4gKGh0dHBzOi8vZ2l0aHViLmNvbS9tb3pkZXZzL2Nzc3JlbWVkeS9pc3N1ZXMvNClcXG4yLiBBbGxvdyBhZGRpbmcgYSBib3JkZXIgdG8gYW4gZWxlbWVudCBieSBqdXN0IGFkZGluZyBhIGJvcmRlci13aWR0aC4gKGh0dHBzOi8vZ2l0aHViLmNvbS90YWlsd2luZGNzcy90YWlsd2luZGNzcy9wdWxsLzExNilcXG4qL1xcblxcbiosXFxuOjpiZWZvcmUsXFxuOjphZnRlciB7XFxuICBib3gtc2l6aW5nOiBib3JkZXItYm94OyAvKiAxICovXFxuICBib3JkZXItd2lkdGg6IDA7IC8qIDIgKi9cXG4gIGJvcmRlci1zdHlsZTogc29saWQ7IC8qIDIgKi9cXG4gIGJvcmRlci1jb2xvcjogY3VycmVudENvbG9yOyAvKiAyICovXFxufVxcblxcbjo6YmVmb3JlLFxcbjo6YWZ0ZXIge1xcbiAgLS10dy1jb250ZW50OiAnJztcXG59XFxuXFxuLypcXG4xLiBVc2UgYSBjb25zaXN0ZW50IHNlbnNpYmxlIGxpbmUtaGVpZ2h0IGluIGFsbCBicm93c2Vycy5cXG4yLiBQcmV2ZW50IGFkanVzdG1lbnRzIG9mIGZvbnQgc2l6ZSBhZnRlciBvcmllbnRhdGlvbiBjaGFuZ2VzIGluIGlPUy5cXG4zLiBVc2UgYSBtb3JlIHJlYWRhYmxlIHRhYiBzaXplLlxcbjQuIFVzZSB0aGUgdXNlcidzIGNvbmZpZ3VyZWQgYHNhbnNgIGZvbnQtZmFtaWx5IGJ5IGRlZmF1bHQuXFxuNS4gVXNlIHRoZSB1c2VyJ3MgY29uZmlndXJlZCBgc2Fuc2AgZm9udC1mZWF0dXJlLXNldHRpbmdzIGJ5IGRlZmF1bHQuXFxuNi4gVXNlIHRoZSB1c2VyJ3MgY29uZmlndXJlZCBgc2Fuc2AgZm9udC12YXJpYXRpb24tc2V0dGluZ3MgYnkgZGVmYXVsdC5cXG4qL1xcblxcbmh0bWwge1xcbiAgbGluZS1oZWlnaHQ6IDEuNTsgLyogMSAqL1xcbiAgLXdlYmtpdC10ZXh0LXNpemUtYWRqdXN0OiAxMDAlOyAvKiAyICovXFxuICAtbW96LXRhYi1zaXplOiA0OyAvKiAzICovXFxuICAtby10YWItc2l6ZTogNDtcXG4gICAgIHRhYi1zaXplOiA0OyAvKiAzICovXFxuICBmb250LWZhbWlseTogdWktc2Fucy1zZXJpZiwgc3lzdGVtLXVpLCAtYXBwbGUtc3lzdGVtLCBCbGlua01hY1N5c3RlbUZvbnQsIFxcXCJTZWdvZSBVSVxcXCIsIFJvYm90bywgXFxcIkhlbHZldGljYSBOZXVlXFxcIiwgQXJpYWwsIFxcXCJOb3RvIFNhbnNcXFwiLCBzYW5zLXNlcmlmLCBcXFwiQXBwbGUgQ29sb3IgRW1vamlcXFwiLCBcXFwiU2Vnb2UgVUkgRW1vamlcXFwiLCBcXFwiU2Vnb2UgVUkgU3ltYm9sXFxcIiwgXFxcIk5vdG8gQ29sb3IgRW1vamlcXFwiOyAvKiA0ICovXFxuICBmb250LWZlYXR1cmUtc2V0dGluZ3M6IG5vcm1hbDsgLyogNSAqL1xcbiAgZm9udC12YXJpYXRpb24tc2V0dGluZ3M6IG5vcm1hbDsgLyogNiAqL1xcbn1cXG5cXG4vKlxcbjEuIFJlbW92ZSB0aGUgbWFyZ2luIGluIGFsbCBicm93c2Vycy5cXG4yLiBJbmhlcml0IGxpbmUtaGVpZ2h0IGZyb20gYGh0bWxgIHNvIHVzZXJzIGNhbiBzZXQgdGhlbSBhcyBhIGNsYXNzIGRpcmVjdGx5IG9uIHRoZSBgaHRtbGAgZWxlbWVudC5cXG4qL1xcblxcbmJvZHkge1xcbiAgbWFyZ2luOiAwOyAvKiAxICovXFxuICBsaW5lLWhlaWdodDogaW5oZXJpdDsgLyogMiAqL1xcbn1cXG5cXG4vKlxcbjEuIEFkZCB0aGUgY29ycmVjdCBoZWlnaHQgaW4gRmlyZWZveC5cXG4yLiBDb3JyZWN0IHRoZSBpbmhlcml0YW5jZSBvZiBib3JkZXIgY29sb3IgaW4gRmlyZWZveC4gKGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTE5MDY1NSlcXG4zLiBFbnN1cmUgaG9yaXpvbnRhbCBydWxlcyBhcmUgdmlzaWJsZSBieSBkZWZhdWx0LlxcbiovXFxuXFxuaHIge1xcbiAgaGVpZ2h0OiAwOyAvKiAxICovXFxuICBjb2xvcjogaW5oZXJpdDsgLyogMiAqL1xcbiAgYm9yZGVyLXRvcC13aWR0aDogMXB4OyAvKiAzICovXFxufVxcblxcbi8qXFxuQWRkIHRoZSBjb3JyZWN0IHRleHQgZGVjb3JhdGlvbiBpbiBDaHJvbWUsIEVkZ2UsIGFuZCBTYWZhcmkuXFxuKi9cXG5cXG5hYmJyOndoZXJlKFt0aXRsZV0pIHtcXG4gIC13ZWJraXQtdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmUgZG90dGVkO1xcbiAgICAgICAgICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZSBkb3R0ZWQ7XFxufVxcblxcbi8qXFxuUmVtb3ZlIHRoZSBkZWZhdWx0IGZvbnQgc2l6ZSBhbmQgd2VpZ2h0IGZvciBoZWFkaW5ncy5cXG4qL1xcblxcbmgxLFxcbmgyLFxcbmgzLFxcbmg0LFxcbmg1LFxcbmg2IHtcXG4gIGZvbnQtc2l6ZTogaW5oZXJpdDtcXG4gIGZvbnQtd2VpZ2h0OiBpbmhlcml0O1xcbn1cXG5cXG4vKlxcblJlc2V0IGxpbmtzIHRvIG9wdGltaXplIGZvciBvcHQtaW4gc3R5bGluZyBpbnN0ZWFkIG9mIG9wdC1vdXQuXFxuKi9cXG5cXG5hIHtcXG4gIGNvbG9yOiBpbmhlcml0O1xcbiAgdGV4dC1kZWNvcmF0aW9uOiBpbmhlcml0O1xcbn1cXG5cXG4vKlxcbkFkZCB0aGUgY29ycmVjdCBmb250IHdlaWdodCBpbiBFZGdlIGFuZCBTYWZhcmkuXFxuKi9cXG5cXG5iLFxcbnN0cm9uZyB7XFxuICBmb250LXdlaWdodDogYm9sZGVyO1xcbn1cXG5cXG4vKlxcbjEuIFVzZSB0aGUgdXNlcidzIGNvbmZpZ3VyZWQgYG1vbm9gIGZvbnQgZmFtaWx5IGJ5IGRlZmF1bHQuXFxuMi4gQ29ycmVjdCB0aGUgb2RkIGBlbWAgZm9udCBzaXppbmcgaW4gYWxsIGJyb3dzZXJzLlxcbiovXFxuXFxuY29kZSxcXG5rYmQsXFxuc2FtcCxcXG5wcmUge1xcbiAgZm9udC1mYW1pbHk6IHVpLW1vbm9zcGFjZSwgU0ZNb25vLVJlZ3VsYXIsIE1lbmxvLCBNb25hY28sIENvbnNvbGFzLCBcXFwiTGliZXJhdGlvbiBNb25vXFxcIiwgXFxcIkNvdXJpZXIgTmV3XFxcIiwgbW9ub3NwYWNlOyAvKiAxICovXFxuICBmb250LXNpemU6IDFlbTsgLyogMiAqL1xcbn1cXG5cXG4vKlxcbkFkZCB0aGUgY29ycmVjdCBmb250IHNpemUgaW4gYWxsIGJyb3dzZXJzLlxcbiovXFxuXFxuc21hbGwge1xcbiAgZm9udC1zaXplOiA4MCU7XFxufVxcblxcbi8qXFxuUHJldmVudCBgc3ViYCBhbmQgYHN1cGAgZWxlbWVudHMgZnJvbSBhZmZlY3RpbmcgdGhlIGxpbmUgaGVpZ2h0IGluIGFsbCBicm93c2Vycy5cXG4qL1xcblxcbnN1YixcXG5zdXAge1xcbiAgZm9udC1zaXplOiA3NSU7XFxuICBsaW5lLWhlaWdodDogMDtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gIHZlcnRpY2FsLWFsaWduOiBiYXNlbGluZTtcXG59XFxuXFxuc3ViIHtcXG4gIGJvdHRvbTogLTAuMjVlbTtcXG59XFxuXFxuc3VwIHtcXG4gIHRvcDogLTAuNWVtO1xcbn1cXG5cXG4vKlxcbjEuIFJlbW92ZSB0ZXh0IGluZGVudGF0aW9uIGZyb20gdGFibGUgY29udGVudHMgaW4gQ2hyb21lIGFuZCBTYWZhcmkuIChodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD05OTkwODgsIGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD0yMDEyOTcpXFxuMi4gQ29ycmVjdCB0YWJsZSBib3JkZXIgY29sb3IgaW5oZXJpdGFuY2UgaW4gYWxsIENocm9tZSBhbmQgU2FmYXJpLiAoaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9OTM1NzI5LCBodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTk1MDE2KVxcbjMuIFJlbW92ZSBnYXBzIGJldHdlZW4gdGFibGUgYm9yZGVycyBieSBkZWZhdWx0LlxcbiovXFxuXFxudGFibGUge1xcbiAgdGV4dC1pbmRlbnQ6IDA7IC8qIDEgKi9cXG4gIGJvcmRlci1jb2xvcjogaW5oZXJpdDsgLyogMiAqL1xcbiAgYm9yZGVyLWNvbGxhcHNlOiBjb2xsYXBzZTsgLyogMyAqL1xcbn1cXG5cXG4vKlxcbjEuIENoYW5nZSB0aGUgZm9udCBzdHlsZXMgaW4gYWxsIGJyb3dzZXJzLlxcbjIuIFJlbW92ZSB0aGUgbWFyZ2luIGluIEZpcmVmb3ggYW5kIFNhZmFyaS5cXG4zLiBSZW1vdmUgZGVmYXVsdCBwYWRkaW5nIGluIGFsbCBicm93c2Vycy5cXG4qL1xcblxcbmJ1dHRvbixcXG5pbnB1dCxcXG5vcHRncm91cCxcXG5zZWxlY3QsXFxudGV4dGFyZWEge1xcbiAgZm9udC1mYW1pbHk6IGluaGVyaXQ7IC8qIDEgKi9cXG4gIGZvbnQtc2l6ZTogMTAwJTsgLyogMSAqL1xcbiAgZm9udC13ZWlnaHQ6IGluaGVyaXQ7IC8qIDEgKi9cXG4gIGxpbmUtaGVpZ2h0OiBpbmhlcml0OyAvKiAxICovXFxuICBjb2xvcjogaW5oZXJpdDsgLyogMSAqL1xcbiAgbWFyZ2luOiAwOyAvKiAyICovXFxuICBwYWRkaW5nOiAwOyAvKiAzICovXFxufVxcblxcbi8qXFxuUmVtb3ZlIHRoZSBpbmhlcml0YW5jZSBvZiB0ZXh0IHRyYW5zZm9ybSBpbiBFZGdlIGFuZCBGaXJlZm94LlxcbiovXFxuXFxuYnV0dG9uLFxcbnNlbGVjdCB7XFxuICB0ZXh0LXRyYW5zZm9ybTogbm9uZTtcXG59XFxuXFxuLypcXG4xLiBDb3JyZWN0IHRoZSBpbmFiaWxpdHkgdG8gc3R5bGUgY2xpY2thYmxlIHR5cGVzIGluIGlPUyBhbmQgU2FmYXJpLlxcbjIuIFJlbW92ZSBkZWZhdWx0IGJ1dHRvbiBzdHlsZXMuXFxuKi9cXG5cXG5idXR0b24sXFxuW3R5cGU9J2J1dHRvbiddLFxcblt0eXBlPSdyZXNldCddLFxcblt0eXBlPSdzdWJtaXQnXSB7XFxuICAtd2Via2l0LWFwcGVhcmFuY2U6IGJ1dHRvbjsgLyogMSAqL1xcbiAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7IC8qIDIgKi9cXG4gIGJhY2tncm91bmQtaW1hZ2U6IG5vbmU7IC8qIDIgKi9cXG59XFxuXFxuLypcXG5Vc2UgdGhlIG1vZGVybiBGaXJlZm94IGZvY3VzIHN0eWxlIGZvciBhbGwgZm9jdXNhYmxlIGVsZW1lbnRzLlxcbiovXFxuXFxuOi1tb3otZm9jdXNyaW5nIHtcXG4gIG91dGxpbmU6IGF1dG87XFxufVxcblxcbi8qXFxuUmVtb3ZlIHRoZSBhZGRpdGlvbmFsIGA6aW52YWxpZGAgc3R5bGVzIGluIEZpcmVmb3guIChodHRwczovL2dpdGh1Yi5jb20vbW96aWxsYS9nZWNrby1kZXYvYmxvYi8yZjllYWNkOWQzZDk5NWM5MzdiNDI1MWE1NTU3ZDk1ZDQ5NGM5YmUxL2xheW91dC9zdHlsZS9yZXMvZm9ybXMuY3NzI0w3MjgtTDczNylcXG4qL1xcblxcbjotbW96LXVpLWludmFsaWQge1xcbiAgYm94LXNoYWRvdzogbm9uZTtcXG59XFxuXFxuLypcXG5BZGQgdGhlIGNvcnJlY3QgdmVydGljYWwgYWxpZ25tZW50IGluIENocm9tZSBhbmQgRmlyZWZveC5cXG4qL1xcblxcbnByb2dyZXNzIHtcXG4gIHZlcnRpY2FsLWFsaWduOiBiYXNlbGluZTtcXG59XFxuXFxuLypcXG5Db3JyZWN0IHRoZSBjdXJzb3Igc3R5bGUgb2YgaW5jcmVtZW50IGFuZCBkZWNyZW1lbnQgYnV0dG9ucyBpbiBTYWZhcmkuXFxuKi9cXG5cXG46Oi13ZWJraXQtaW5uZXItc3Bpbi1idXR0b24sXFxuOjotd2Via2l0LW91dGVyLXNwaW4tYnV0dG9uIHtcXG4gIGhlaWdodDogYXV0bztcXG59XFxuXFxuLypcXG4xLiBDb3JyZWN0IHRoZSBvZGQgYXBwZWFyYW5jZSBpbiBDaHJvbWUgYW5kIFNhZmFyaS5cXG4yLiBDb3JyZWN0IHRoZSBvdXRsaW5lIHN0eWxlIGluIFNhZmFyaS5cXG4qL1xcblxcblt0eXBlPSdzZWFyY2gnXSB7XFxuICAtd2Via2l0LWFwcGVhcmFuY2U6IHRleHRmaWVsZDsgLyogMSAqL1xcbiAgb3V0bGluZS1vZmZzZXQ6IC0ycHg7IC8qIDIgKi9cXG59XFxuXFxuLypcXG5SZW1vdmUgdGhlIGlubmVyIHBhZGRpbmcgaW4gQ2hyb21lIGFuZCBTYWZhcmkgb24gbWFjT1MuXFxuKi9cXG5cXG46Oi13ZWJraXQtc2VhcmNoLWRlY29yYXRpb24ge1xcbiAgLXdlYmtpdC1hcHBlYXJhbmNlOiBub25lO1xcbn1cXG5cXG4vKlxcbjEuIENvcnJlY3QgdGhlIGluYWJpbGl0eSB0byBzdHlsZSBjbGlja2FibGUgdHlwZXMgaW4gaU9TIGFuZCBTYWZhcmkuXFxuMi4gQ2hhbmdlIGZvbnQgcHJvcGVydGllcyB0byBgaW5oZXJpdGAgaW4gU2FmYXJpLlxcbiovXFxuXFxuOjotd2Via2l0LWZpbGUtdXBsb2FkLWJ1dHRvbiB7XFxuICAtd2Via2l0LWFwcGVhcmFuY2U6IGJ1dHRvbjsgLyogMSAqL1xcbiAgZm9udDogaW5oZXJpdDsgLyogMiAqL1xcbn1cXG5cXG4vKlxcbkFkZCB0aGUgY29ycmVjdCBkaXNwbGF5IGluIENocm9tZSBhbmQgU2FmYXJpLlxcbiovXFxuXFxuc3VtbWFyeSB7XFxuICBkaXNwbGF5OiBsaXN0LWl0ZW07XFxufVxcblxcbi8qXFxuUmVtb3ZlcyB0aGUgZGVmYXVsdCBzcGFjaW5nIGFuZCBib3JkZXIgZm9yIGFwcHJvcHJpYXRlIGVsZW1lbnRzLlxcbiovXFxuXFxuYmxvY2txdW90ZSxcXG5kbCxcXG5kZCxcXG5oMSxcXG5oMixcXG5oMyxcXG5oNCxcXG5oNSxcXG5oNixcXG5ocixcXG5maWd1cmUsXFxucCxcXG5wcmUge1xcbiAgbWFyZ2luOiAwO1xcbn1cXG5cXG5maWVsZHNldCB7XFxuICBtYXJnaW46IDA7XFxuICBwYWRkaW5nOiAwO1xcbn1cXG5cXG5sZWdlbmQge1xcbiAgcGFkZGluZzogMDtcXG59XFxuXFxub2wsXFxudWwsXFxubWVudSB7XFxuICBsaXN0LXN0eWxlOiBub25lO1xcbiAgbWFyZ2luOiAwO1xcbiAgcGFkZGluZzogMDtcXG59XFxuXFxuLypcXG5QcmV2ZW50IHJlc2l6aW5nIHRleHRhcmVhcyBob3Jpem9udGFsbHkgYnkgZGVmYXVsdC5cXG4qL1xcblxcbnRleHRhcmVhIHtcXG4gIHJlc2l6ZTogdmVydGljYWw7XFxufVxcblxcbi8qXFxuMS4gUmVzZXQgdGhlIGRlZmF1bHQgcGxhY2Vob2xkZXIgb3BhY2l0eSBpbiBGaXJlZm94LiAoaHR0cHM6Ly9naXRodWIuY29tL3RhaWx3aW5kbGFicy90YWlsd2luZGNzcy9pc3N1ZXMvMzMwMClcXG4yLiBTZXQgdGhlIGRlZmF1bHQgcGxhY2Vob2xkZXIgY29sb3IgdG8gdGhlIHVzZXIncyBjb25maWd1cmVkIGdyYXkgNDAwIGNvbG9yLlxcbiovXFxuXFxuaW5wdXQ6Oi1tb3otcGxhY2Vob2xkZXIsIHRleHRhcmVhOjotbW96LXBsYWNlaG9sZGVyIHtcXG4gIG9wYWNpdHk6IDE7IC8qIDEgKi9cXG4gIGNvbG9yOiAjOWNhM2FmOyAvKiAyICovXFxufVxcblxcbmlucHV0OjpwbGFjZWhvbGRlcixcXG50ZXh0YXJlYTo6cGxhY2Vob2xkZXIge1xcbiAgb3BhY2l0eTogMTsgLyogMSAqL1xcbiAgY29sb3I6ICM5Y2EzYWY7IC8qIDIgKi9cXG59XFxuXFxuLypcXG5TZXQgdGhlIGRlZmF1bHQgY3Vyc29yIGZvciBidXR0b25zLlxcbiovXFxuXFxuYnV0dG9uLFxcbltyb2xlPVxcXCJidXR0b25cXFwiXSB7XFxuICBjdXJzb3I6IHBvaW50ZXI7XFxufVxcblxcbi8qXFxuTWFrZSBzdXJlIGRpc2FibGVkIGJ1dHRvbnMgZG9uJ3QgZ2V0IHRoZSBwb2ludGVyIGN1cnNvci5cXG4qL1xcbjpkaXNhYmxlZCB7XFxuICBjdXJzb3I6IGRlZmF1bHQ7XFxufVxcblxcbi8qXFxuMS4gTWFrZSByZXBsYWNlZCBlbGVtZW50cyBgZGlzcGxheTogYmxvY2tgIGJ5IGRlZmF1bHQuIChodHRwczovL2dpdGh1Yi5jb20vbW96ZGV2cy9jc3NyZW1lZHkvaXNzdWVzLzE0KVxcbjIuIEFkZCBgdmVydGljYWwtYWxpZ246IG1pZGRsZWAgdG8gYWxpZ24gcmVwbGFjZWQgZWxlbWVudHMgbW9yZSBzZW5zaWJseSBieSBkZWZhdWx0LiAoaHR0cHM6Ly9naXRodWIuY29tL2plbnNpbW1vbnMvY3NzcmVtZWR5L2lzc3Vlcy8xNCNpc3N1ZWNvbW1lbnQtNjM0OTM0MjEwKVxcbiAgIFRoaXMgY2FuIHRyaWdnZXIgYSBwb29ybHkgY29uc2lkZXJlZCBsaW50IGVycm9yIGluIHNvbWUgdG9vbHMgYnV0IGlzIGluY2x1ZGVkIGJ5IGRlc2lnbi5cXG4qL1xcblxcbmltZyxcXG5zdmcsXFxudmlkZW8sXFxuY2FudmFzLFxcbmF1ZGlvLFxcbmlmcmFtZSxcXG5lbWJlZCxcXG5vYmplY3Qge1xcbiAgZGlzcGxheTogYmxvY2s7IC8qIDEgKi9cXG4gIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7IC8qIDIgKi9cXG59XFxuXFxuLypcXG5Db25zdHJhaW4gaW1hZ2VzIGFuZCB2aWRlb3MgdG8gdGhlIHBhcmVudCB3aWR0aCBhbmQgcHJlc2VydmUgdGhlaXIgaW50cmluc2ljIGFzcGVjdCByYXRpby4gKGh0dHBzOi8vZ2l0aHViLmNvbS9tb3pkZXZzL2Nzc3JlbWVkeS9pc3N1ZXMvMTQpXFxuKi9cXG5cXG5pbWcsXFxudmlkZW8ge1xcbiAgbWF4LXdpZHRoOiAxMDAlO1xcbiAgaGVpZ2h0OiBhdXRvO1xcbn1cXG5cXG4vKiBNYWtlIGVsZW1lbnRzIHdpdGggdGhlIEhUTUwgaGlkZGVuIGF0dHJpYnV0ZSBzdGF5IGhpZGRlbiBieSBkZWZhdWx0ICovXFxuW2hpZGRlbl0ge1xcbiAgZGlzcGxheTogbm9uZTtcXG59XFxuXFxuKiwgOjpiZWZvcmUsIDo6YWZ0ZXIge1xcbiAgLS10dy1ib3JkZXItc3BhY2luZy14OiAwO1xcbiAgLS10dy1ib3JkZXItc3BhY2luZy15OiAwO1xcbiAgLS10dy10cmFuc2xhdGUteDogMDtcXG4gIC0tdHctdHJhbnNsYXRlLXk6IDA7XFxuICAtLXR3LXJvdGF0ZTogMDtcXG4gIC0tdHctc2tldy14OiAwO1xcbiAgLS10dy1za2V3LXk6IDA7XFxuICAtLXR3LXNjYWxlLXg6IDE7XFxuICAtLXR3LXNjYWxlLXk6IDE7XFxuICAtLXR3LXBhbi14OiAgO1xcbiAgLS10dy1wYW4teTogIDtcXG4gIC0tdHctcGluY2gtem9vbTogIDtcXG4gIC0tdHctc2Nyb2xsLXNuYXAtc3RyaWN0bmVzczogcHJveGltaXR5O1xcbiAgLS10dy1ncmFkaWVudC1mcm9tLXBvc2l0aW9uOiAgO1xcbiAgLS10dy1ncmFkaWVudC12aWEtcG9zaXRpb246ICA7XFxuICAtLXR3LWdyYWRpZW50LXRvLXBvc2l0aW9uOiAgO1xcbiAgLS10dy1vcmRpbmFsOiAgO1xcbiAgLS10dy1zbGFzaGVkLXplcm86ICA7XFxuICAtLXR3LW51bWVyaWMtZmlndXJlOiAgO1xcbiAgLS10dy1udW1lcmljLXNwYWNpbmc6ICA7XFxuICAtLXR3LW51bWVyaWMtZnJhY3Rpb246ICA7XFxuICAtLXR3LXJpbmctaW5zZXQ6ICA7XFxuICAtLXR3LXJpbmctb2Zmc2V0LXdpZHRoOiAwcHg7XFxuICAtLXR3LXJpbmctb2Zmc2V0LWNvbG9yOiAjZmZmO1xcbiAgLS10dy1yaW5nLWNvbG9yOiByZ2IoNTkgMTMwIDI0NiAvIDAuNSk7XFxuICAtLXR3LXJpbmctb2Zmc2V0LXNoYWRvdzogMCAwICMwMDAwO1xcbiAgLS10dy1yaW5nLXNoYWRvdzogMCAwICMwMDAwO1xcbiAgLS10dy1zaGFkb3c6IDAgMCAjMDAwMDtcXG4gIC0tdHctc2hhZG93LWNvbG9yZWQ6IDAgMCAjMDAwMDtcXG4gIC0tdHctYmx1cjogIDtcXG4gIC0tdHctYnJpZ2h0bmVzczogIDtcXG4gIC0tdHctY29udHJhc3Q6ICA7XFxuICAtLXR3LWdyYXlzY2FsZTogIDtcXG4gIC0tdHctaHVlLXJvdGF0ZTogIDtcXG4gIC0tdHctaW52ZXJ0OiAgO1xcbiAgLS10dy1zYXR1cmF0ZTogIDtcXG4gIC0tdHctc2VwaWE6ICA7XFxuICAtLXR3LWRyb3Atc2hhZG93OiAgO1xcbiAgLS10dy1iYWNrZHJvcC1ibHVyOiAgO1xcbiAgLS10dy1iYWNrZHJvcC1icmlnaHRuZXNzOiAgO1xcbiAgLS10dy1iYWNrZHJvcC1jb250cmFzdDogIDtcXG4gIC0tdHctYmFja2Ryb3AtZ3JheXNjYWxlOiAgO1xcbiAgLS10dy1iYWNrZHJvcC1odWUtcm90YXRlOiAgO1xcbiAgLS10dy1iYWNrZHJvcC1pbnZlcnQ6ICA7XFxuICAtLXR3LWJhY2tkcm9wLW9wYWNpdHk6ICA7XFxuICAtLXR3LWJhY2tkcm9wLXNhdHVyYXRlOiAgO1xcbiAgLS10dy1iYWNrZHJvcC1zZXBpYTogIDtcXG59XFxuXFxuOjpiYWNrZHJvcCB7XFxuICAtLXR3LWJvcmRlci1zcGFjaW5nLXg6IDA7XFxuICAtLXR3LWJvcmRlci1zcGFjaW5nLXk6IDA7XFxuICAtLXR3LXRyYW5zbGF0ZS14OiAwO1xcbiAgLS10dy10cmFuc2xhdGUteTogMDtcXG4gIC0tdHctcm90YXRlOiAwO1xcbiAgLS10dy1za2V3LXg6IDA7XFxuICAtLXR3LXNrZXcteTogMDtcXG4gIC0tdHctc2NhbGUteDogMTtcXG4gIC0tdHctc2NhbGUteTogMTtcXG4gIC0tdHctcGFuLXg6ICA7XFxuICAtLXR3LXBhbi15OiAgO1xcbiAgLS10dy1waW5jaC16b29tOiAgO1xcbiAgLS10dy1zY3JvbGwtc25hcC1zdHJpY3RuZXNzOiBwcm94aW1pdHk7XFxuICAtLXR3LWdyYWRpZW50LWZyb20tcG9zaXRpb246ICA7XFxuICAtLXR3LWdyYWRpZW50LXZpYS1wb3NpdGlvbjogIDtcXG4gIC0tdHctZ3JhZGllbnQtdG8tcG9zaXRpb246ICA7XFxuICAtLXR3LW9yZGluYWw6ICA7XFxuICAtLXR3LXNsYXNoZWQtemVybzogIDtcXG4gIC0tdHctbnVtZXJpYy1maWd1cmU6ICA7XFxuICAtLXR3LW51bWVyaWMtc3BhY2luZzogIDtcXG4gIC0tdHctbnVtZXJpYy1mcmFjdGlvbjogIDtcXG4gIC0tdHctcmluZy1pbnNldDogIDtcXG4gIC0tdHctcmluZy1vZmZzZXQtd2lkdGg6IDBweDtcXG4gIC0tdHctcmluZy1vZmZzZXQtY29sb3I6ICNmZmY7XFxuICAtLXR3LXJpbmctY29sb3I6IHJnYig1OSAxMzAgMjQ2IC8gMC41KTtcXG4gIC0tdHctcmluZy1vZmZzZXQtc2hhZG93OiAwIDAgIzAwMDA7XFxuICAtLXR3LXJpbmctc2hhZG93OiAwIDAgIzAwMDA7XFxuICAtLXR3LXNoYWRvdzogMCAwICMwMDAwO1xcbiAgLS10dy1zaGFkb3ctY29sb3JlZDogMCAwICMwMDAwO1xcbiAgLS10dy1ibHVyOiAgO1xcbiAgLS10dy1icmlnaHRuZXNzOiAgO1xcbiAgLS10dy1jb250cmFzdDogIDtcXG4gIC0tdHctZ3JheXNjYWxlOiAgO1xcbiAgLS10dy1odWUtcm90YXRlOiAgO1xcbiAgLS10dy1pbnZlcnQ6ICA7XFxuICAtLXR3LXNhdHVyYXRlOiAgO1xcbiAgLS10dy1zZXBpYTogIDtcXG4gIC0tdHctZHJvcC1zaGFkb3c6ICA7XFxuICAtLXR3LWJhY2tkcm9wLWJsdXI6ICA7XFxuICAtLXR3LWJhY2tkcm9wLWJyaWdodG5lc3M6ICA7XFxuICAtLXR3LWJhY2tkcm9wLWNvbnRyYXN0OiAgO1xcbiAgLS10dy1iYWNrZHJvcC1ncmF5c2NhbGU6ICA7XFxuICAtLXR3LWJhY2tkcm9wLWh1ZS1yb3RhdGU6ICA7XFxuICAtLXR3LWJhY2tkcm9wLWludmVydDogIDtcXG4gIC0tdHctYmFja2Ryb3Atb3BhY2l0eTogIDtcXG4gIC0tdHctYmFja2Ryb3Atc2F0dXJhdGU6ICA7XFxuICAtLXR3LWJhY2tkcm9wLXNlcGlhOiAgO1xcbn1cXG4uY29udGFpbmVyIHtcXG4gIHdpZHRoOiAxMDAlO1xcbn1cXG5AbWVkaWEgKG1pbi13aWR0aDogNjQwcHgpIHtcXG5cXG4gIC5jb250YWluZXIge1xcbiAgICBtYXgtd2lkdGg6IDY0MHB4O1xcbiAgfVxcbn1cXG5AbWVkaWEgKG1pbi13aWR0aDogNzY4cHgpIHtcXG5cXG4gIC5jb250YWluZXIge1xcbiAgICBtYXgtd2lkdGg6IDc2OHB4O1xcbiAgfVxcbn1cXG5AbWVkaWEgKG1pbi13aWR0aDogMTAyNHB4KSB7XFxuXFxuICAuY29udGFpbmVyIHtcXG4gICAgbWF4LXdpZHRoOiAxMDI0cHg7XFxuICB9XFxufVxcbkBtZWRpYSAobWluLXdpZHRoOiAxMjgwcHgpIHtcXG5cXG4gIC5jb250YWluZXIge1xcbiAgICBtYXgtd2lkdGg6IDEyODBweDtcXG4gIH1cXG59XFxuQG1lZGlhIChtaW4td2lkdGg6IDE1MzZweCkge1xcblxcbiAgLmNvbnRhaW5lciB7XFxuICAgIG1heC13aWR0aDogMTUzNnB4O1xcbiAgfVxcbn1cXG4uc3Itb25seSB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICB3aWR0aDogMXB4O1xcbiAgaGVpZ2h0OiAxcHg7XFxuICBwYWRkaW5nOiAwO1xcbiAgbWFyZ2luOiAtMXB4O1xcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcXG4gIGNsaXA6IHJlY3QoMCwgMCwgMCwgMCk7XFxuICB3aGl0ZS1zcGFjZTogbm93cmFwO1xcbiAgYm9yZGVyLXdpZHRoOiAwO1xcbn1cXG4uYWJzb2x1dGUge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbn1cXG4ucmVsYXRpdmUge1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbn1cXG4ubGVmdC0xIHtcXG4gIGxlZnQ6IDAuMjVyZW07XFxufVxcbi50b3AtMSB7XFxuICB0b3A6IDAuMjVyZW07XFxufVxcbi5tLTEge1xcbiAgbWFyZ2luOiAwLjI1cmVtO1xcbn1cXG4ubS0yIHtcXG4gIG1hcmdpbjogMC41cmVtO1xcbn1cXG4ubXgtYXV0byB7XFxuICBtYXJnaW4tbGVmdDogYXV0bztcXG4gIG1hcmdpbi1yaWdodDogYXV0bztcXG59XFxuLm1sLTMge1xcbiAgbWFyZ2luLWxlZnQ6IDAuNzVyZW07XFxufVxcbi5tdC02IHtcXG4gIG1hcmdpbi10b3A6IDEuNXJlbTtcXG59XFxuLmJsb2NrIHtcXG4gIGRpc3BsYXk6IGJsb2NrO1xcbn1cXG4uZmxleCB7XFxuICBkaXNwbGF5OiBmbGV4O1xcbn1cXG4uaW5saW5lLWZsZXgge1xcbiAgZGlzcGxheTogaW5saW5lLWZsZXg7XFxufVxcbi5oLTYge1xcbiAgaGVpZ2h0OiAxLjVyZW07XFxufVxcbi5oLTgge1xcbiAgaGVpZ2h0OiAycmVtO1xcbn1cXG4uaC1zY3JlZW4ge1xcbiAgaGVpZ2h0OiAxMDB2aDtcXG59XFxuLnctMTQge1xcbiAgd2lkdGg6IDMuNXJlbTtcXG59XFxuLnctNiB7XFxuICB3aWR0aDogMS41cmVtO1xcbn1cXG4udy1mdWxsIHtcXG4gIHdpZHRoOiAxMDAlO1xcbn1cXG4uY3Vyc29yLXBvaW50ZXIge1xcbiAgY3Vyc29yOiBwb2ludGVyO1xcbn1cXG4uZmxleC1yb3cge1xcbiAgZmxleC1kaXJlY3Rpb246IHJvdztcXG59XFxuLmZsZXgtY29sIHtcXG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxufVxcbi5pdGVtcy1jZW50ZXIge1xcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG59XFxuLmp1c3RpZnktY2VudGVyIHtcXG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcbn1cXG4uanVzdGlmeS1iZXR3ZWVuIHtcXG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcXG59XFxuLnNwYWNlLXgtNCA+IDpub3QoW2hpZGRlbl0pIH4gOm5vdChbaGlkZGVuXSkge1xcbiAgLS10dy1zcGFjZS14LXJldmVyc2U6IDA7XFxuICBtYXJnaW4tcmlnaHQ6IGNhbGMoMXJlbSAqIHZhcigtLXR3LXNwYWNlLXgtcmV2ZXJzZSkpO1xcbiAgbWFyZ2luLWxlZnQ6IGNhbGMoMXJlbSAqIGNhbGMoMSAtIHZhcigtLXR3LXNwYWNlLXgtcmV2ZXJzZSkpKTtcXG59XFxuLnJvdW5kZWQge1xcbiAgYm9yZGVyLXJhZGl1czogMC4yNXJlbTtcXG59XFxuLnJvdW5kZWQtZnVsbCB7XFxuICBib3JkZXItcmFkaXVzOiA5OTk5cHg7XFxufVxcbi5yb3VuZGVkLW1kIHtcXG4gIGJvcmRlci1yYWRpdXM6IDAuMzc1cmVtO1xcbn1cXG4uYmctYmxhY2sge1xcbiAgLS10dy1iZy1vcGFjaXR5OiAxO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDE4IDE2IDE2IC8gdmFyKC0tdHctYmctb3BhY2l0eSkpO1xcbn1cXG4uYmctZ3JheUxpZ2h0IHtcXG4gIC0tdHctYmctb3BhY2l0eTogMTtcXG4gIGJhY2tncm91bmQtY29sb3I6IHJnYigyMSAyMSAyMSAvIHZhcigtLXR3LWJnLW9wYWNpdHkpKTtcXG59XFxuLmJnLXdoaXRlIHtcXG4gIC0tdHctYmctb3BhY2l0eTogMTtcXG4gIGJhY2tncm91bmQtY29sb3I6IHJnYigyNTUgMjU1IDI1NSAvIHZhcigtLXR3LWJnLW9wYWNpdHkpKTtcXG59XFxuLmJnLWdyYWRpZW50LXRvLXIge1xcbiAgYmFja2dyb3VuZC1pbWFnZTogbGluZWFyLWdyYWRpZW50KHRvIHJpZ2h0LCB2YXIoLS10dy1ncmFkaWVudC1zdG9wcykpO1xcbn1cXG4uZnJvbS1ncmV5R3JhZGllbnQxIHtcXG4gIC0tdHctZ3JhZGllbnQtZnJvbTogIzIxMjEyMSB2YXIoLS10dy1ncmFkaWVudC1mcm9tLXBvc2l0aW9uKTtcXG4gIC0tdHctZ3JhZGllbnQtdG86IHJnYigzMyAzMyAzMyAvIDApIHZhcigtLXR3LWdyYWRpZW50LXRvLXBvc2l0aW9uKTtcXG4gIC0tdHctZ3JhZGllbnQtc3RvcHM6IHZhcigtLXR3LWdyYWRpZW50LWZyb20pLCB2YXIoLS10dy1ncmFkaWVudC10byk7XFxufVxcbi50by1ncmV5R3JhZGllbnQyIHtcXG4gIC0tdHctZ3JhZGllbnQtdG86ICMzMDMwMzAgdmFyKC0tdHctZ3JhZGllbnQtdG8tcG9zaXRpb24pO1xcbn1cXG4ucC04IHtcXG4gIHBhZGRpbmc6IDJyZW07XFxufVxcbi5weC00IHtcXG4gIHBhZGRpbmctbGVmdDogMXJlbTtcXG4gIHBhZGRpbmctcmlnaHQ6IDFyZW07XFxufVxcbi5weC02IHtcXG4gIHBhZGRpbmctbGVmdDogMS41cmVtO1xcbiAgcGFkZGluZy1yaWdodDogMS41cmVtO1xcbn1cXG4ucHktMTAge1xcbiAgcGFkZGluZy10b3A6IDIuNXJlbTtcXG4gIHBhZGRpbmctYm90dG9tOiAyLjVyZW07XFxufVxcbi5weS0yIHtcXG4gIHBhZGRpbmctdG9wOiAwLjVyZW07XFxuICBwYWRkaW5nLWJvdHRvbTogMC41cmVtO1xcbn1cXG4ucHktMjAge1xcbiAgcGFkZGluZy10b3A6IDVyZW07XFxuICBwYWRkaW5nLWJvdHRvbTogNXJlbTtcXG59XFxuLnB5LTQge1xcbiAgcGFkZGluZy10b3A6IDFyZW07XFxuICBwYWRkaW5nLWJvdHRvbTogMXJlbTtcXG59XFxuLnRleHQtY2VudGVyIHtcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG59XFxuLnRleHQtMnhsIHtcXG4gIGZvbnQtc2l6ZTogMS41cmVtO1xcbiAgbGluZS1oZWlnaHQ6IDJyZW07XFxufVxcbi50ZXh0LWJhc2Uge1xcbiAgZm9udC1zaXplOiAxcmVtO1xcbiAgbGluZS1oZWlnaHQ6IDEuNXJlbTtcXG59XFxuLnRleHQtc20ge1xcbiAgZm9udC1zaXplOiAwLjg3NXJlbTtcXG4gIGxpbmUtaGVpZ2h0OiAxLjI1cmVtO1xcbn1cXG4udGV4dC14bCB7XFxuICBmb250LXNpemU6IDEuMjVyZW07XFxuICBsaW5lLWhlaWdodDogMS43NXJlbTtcXG59XFxuLmZvbnQtYm9sZCB7XFxuICBmb250LXdlaWdodDogNzAwO1xcbn1cXG4uZm9udC1tZWRpdW0ge1xcbiAgZm9udC13ZWlnaHQ6IDUwMDtcXG59XFxuLmZvbnQtc2VtaWJvbGQge1xcbiAgZm9udC13ZWlnaHQ6IDYwMDtcXG59XFxuLmxlYWRpbmctNyB7XFxuICBsaW5lLWhlaWdodDogMS43NXJlbTtcXG59XFxuLnRyYWNraW5nLXRpZ2h0IHtcXG4gIGxldHRlci1zcGFjaW5nOiAtMC4wMjVlbTtcXG59XFxuLnRleHQtZ3JleVRleHQge1xcbiAgLS10dy10ZXh0LW9wYWNpdHk6IDE7XFxuICBjb2xvcjogcmdiKDE2NyAxNjcgMTY3IC8gdmFyKC0tdHctdGV4dC1vcGFjaXR5KSk7XFxufVxcbi50ZXh0LXdoaXRlIHtcXG4gIC0tdHctdGV4dC1vcGFjaXR5OiAxO1xcbiAgY29sb3I6IHJnYigyNTUgMjU1IDI1NSAvIHZhcigtLXR3LXRleHQtb3BhY2l0eSkpO1xcbn1cXG4udHJhbnNpdGlvbiB7XFxuICB0cmFuc2l0aW9uLXByb3BlcnR5OiBjb2xvciwgYmFja2dyb3VuZC1jb2xvciwgYm9yZGVyLWNvbG9yLCB0ZXh0LWRlY29yYXRpb24tY29sb3IsIGZpbGwsIHN0cm9rZSwgb3BhY2l0eSwgYm94LXNoYWRvdywgdHJhbnNmb3JtLCBmaWx0ZXIsIC13ZWJraXQtYmFja2Ryb3AtZmlsdGVyO1xcbiAgdHJhbnNpdGlvbi1wcm9wZXJ0eTogY29sb3IsIGJhY2tncm91bmQtY29sb3IsIGJvcmRlci1jb2xvciwgdGV4dC1kZWNvcmF0aW9uLWNvbG9yLCBmaWxsLCBzdHJva2UsIG9wYWNpdHksIGJveC1zaGFkb3csIHRyYW5zZm9ybSwgZmlsdGVyLCBiYWNrZHJvcC1maWx0ZXI7XFxuICB0cmFuc2l0aW9uLXByb3BlcnR5OiBjb2xvciwgYmFja2dyb3VuZC1jb2xvciwgYm9yZGVyLWNvbG9yLCB0ZXh0LWRlY29yYXRpb24tY29sb3IsIGZpbGwsIHN0cm9rZSwgb3BhY2l0eSwgYm94LXNoYWRvdywgdHJhbnNmb3JtLCBmaWx0ZXIsIGJhY2tkcm9wLWZpbHRlciwgLXdlYmtpdC1iYWNrZHJvcC1maWx0ZXI7XFxuICB0cmFuc2l0aW9uLXRpbWluZy1mdW5jdGlvbjogY3ViaWMtYmV6aWVyKDAuNCwgMCwgMC4yLCAxKTtcXG4gIHRyYW5zaXRpb24tZHVyYXRpb246IDE1MG1zO1xcbn1cXG5cXG46cm9vdCB7XFxuICAtLWZvcmVncm91bmQtcmdiOiAwLCAwLCAwO1xcbiAgLS1iYWNrZ3JvdW5kLXN0YXJ0LXJnYjogMjE0LCAyMTksIDIyMDtcXG4gIC0tYmFja2dyb3VuZC1lbmQtcmdiOiAyNTUsIDI1NSwgMjU1O1xcbn1cXG5cXG5AbWVkaWEgKHByZWZlcnMtY29sb3Itc2NoZW1lOiBkYXJrKSB7XFxuICA6cm9vdCB7XFxuICAgIC0tZm9yZWdyb3VuZC1yZ2I6IDI1NSwgMjU1LCAyNTU7XFxuICAgIC0tYmFja2dyb3VuZC1zdGFydC1yZ2I6IDI0LCAyNCwgMjQsIDE7XFxuICAgIC0tYmFja2dyb3VuZC1lbmQtcmdiOiAwLCAwLCAwO1xcbiAgICBcXG4gIH1cXG59XFxuXFxuLyphZGQgYSBjc3MgZm9yIHRvZ2dsZSBzd2l0Y2gqL1xcbi5zd2l0Y2gge1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcbiAgd2lkdGg6IDYwcHg7XFxuICBoZWlnaHQ6IDM0cHg7XFxuICBtYXJnaW4tbGVmdDogMTBweDtcXG4gIG1hcmdpbi1yaWdodDogMTBweDtcXG59XFxuXFxuLnN3aXRjaCBpbnB1dCB7XFxuICBvcGFjaXR5OiAwO1xcbiAgd2lkdGg6IDA7XFxuICBoZWlnaHQ6IDA7XFxufVxcblxcbi8qc2xpZGVyKi9cXG4uc2xpZGVyIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG4gIHRvcDogMDtcXG4gIGxlZnQ6IDA7XFxuICByaWdodDogMDtcXG4gIGJvdHRvbTogMDtcXG4gIGJhY2tncm91bmQtY29sb3I6IHJnYih2YXIoLS1iYWNrZ3JvdW5kLXN0YXJ0LXJnYikpO1xcbiAgdHJhbnNpdGlvbjogMC40cztcXG59XFxuXFxuLypzbGlkZXI6YmVmb3JlKi9cXG4uc2xpZGVyOmJlZm9yZSB7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICBjb250ZW50OiBcXFwiXFxcIjtcXG4gIGhlaWdodDogMjZweDtcXG4gIHdpZHRoOiAyNnB4O1xcbiAgbGVmdDogNHB4O1xcbiAgYm90dG9tOiA0cHg7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IodmFyKC0tZm9yZWdyb3VuZC1yZ2IpKTtcXG4gIHRyYW5zaXRpb246IDAuNHM7XFxufVxcblxcbi8qaW5wdXQ6Y2hlY2tlZCArIC5zbGlkZXIqL1xcbmlucHV0OmNoZWNrZWQgKyAuc2xpZGVyIHtcXG4gIGJhY2tncm91bmQtY29sb3I6IHJnYih2YXIoLS1iYWNrZ3JvdW5kLWVuZC1yZ2IpKTtcXG59XFxuXFxuLyppbnB1dDpmb2N1cyArIC5zbGlkZXIqL1xcbmlucHV0OmZvY3VzICsgLnNsaWRlciB7XFxuICBib3gtc2hhZG93OiAwIDAgMXB4IHJnYih2YXIoLS1mb3JlZ3JvdW5kLXJnYikpO1xcbn1cXG5cXG4vKmlucHV0OmNoZWNrZWQgKyAuc2xpZGVyOmJlZm9yZSovXFxuaW5wdXQ6Y2hlY2tlZCArIC5zbGlkZXI6YmVmb3JlIHtcXG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgyNnB4KTtcXG59XFxuXFxuLypzbGlkZXIucm91bmQqL1xcbi5zbGlkZXIucm91bmQge1xcbiAgYm9yZGVyLXJhZGl1czogMzRweDtcXG59XFxuXFxuLypzbGlkZXIucm91bmQ6YmVmb3JlKi9cXG4uc2xpZGVyLnJvdW5kOmJlZm9yZSB7XFxuICBib3JkZXItcmFkaXVzOiA1MCU7XFxufVxcblxcbi8qYm9keSovXFxuXFxuXFxuYm9keSB7XFxuICBjb2xvcjogcmdiKHZhcigtLWZvcmVncm91bmQtcmdiKSk7XFxuICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoXFxuICAgICAgdG8gYm90dG9tLFxcbiAgICAgIHRyYW5zcGFyZW50LFxcbiAgICAgIHJnYih2YXIoLS1iYWNrZ3JvdW5kLWVuZC1yZ2IpKVxcbiAgICApXFxuICAgIHJnYih2YXIoLS1iYWNrZ3JvdW5kLXN0YXJ0LXJnYikpO1xcbn1cXG5cXG5cXG4uZm9jdXNcXFxcOm91dGxpbmUtbm9uZTpmb2N1cyB7XFxuICBvdXRsaW5lOiAycHggc29saWQgdHJhbnNwYXJlbnQ7XFxuICBvdXRsaW5lLW9mZnNldDogMnB4O1xcbn1cXG5cXG5cXG5AbWVkaWEgKG1pbi13aWR0aDogNjQwcHgpIHtcXG5cXG4gIC5zbVxcXFw6bXQtMjAge1xcbiAgICBtYXJnaW4tdG9wOiA1cmVtO1xcbiAgfVxcblxcbiAgLnNtXFxcXDpwLTEwIHtcXG4gICAgcGFkZGluZzogMi41cmVtO1xcbiAgfVxcbn1cXG5cXG5cXG5AbWVkaWEgKG1pbi13aWR0aDogMTAyNHB4KSB7XFxuXFxuICAubGdcXFxcOm14LTIwIHtcXG4gICAgbWFyZ2luLWxlZnQ6IDVyZW07XFxuICAgIG1hcmdpbi1yaWdodDogNXJlbTtcXG4gIH1cXG59XFxuXCIsIFwiXCIse1widmVyc2lvblwiOjMsXCJzb3VyY2VzXCI6W1wid2VicGFjazovL3NyYy9zdHlsZXMvZ2xvYmFscy5jc3NcIixcIjxubyBzb3VyY2U+XCJdLFwibmFtZXNcIjpbXSxcIm1hcHBpbmdzXCI6XCJBQUFBOztDQUFjLENBQWQ7OztDQUFjOztBQUFkOzs7RUFBQSxzQkFBYyxFQUFkLE1BQWM7RUFBZCxlQUFjLEVBQWQsTUFBYztFQUFkLG1CQUFjLEVBQWQsTUFBYztFQUFkLDBCQUFjLEVBQWQsTUFBYztBQUFBOztBQUFkOztFQUFBLGdCQUFjO0FBQUE7O0FBQWQ7Ozs7Ozs7Q0FBYzs7QUFBZDtFQUFBLGdCQUFjLEVBQWQsTUFBYztFQUFkLDhCQUFjLEVBQWQsTUFBYztFQUFkLGdCQUFjLEVBQWQsTUFBYztFQUFkLGNBQWM7S0FBZCxXQUFjLEVBQWQsTUFBYztFQUFkLDROQUFjLEVBQWQsTUFBYztFQUFkLDZCQUFjLEVBQWQsTUFBYztFQUFkLCtCQUFjLEVBQWQsTUFBYztBQUFBOztBQUFkOzs7Q0FBYzs7QUFBZDtFQUFBLFNBQWMsRUFBZCxNQUFjO0VBQWQsb0JBQWMsRUFBZCxNQUFjO0FBQUE7O0FBQWQ7Ozs7Q0FBYzs7QUFBZDtFQUFBLFNBQWMsRUFBZCxNQUFjO0VBQWQsY0FBYyxFQUFkLE1BQWM7RUFBZCxxQkFBYyxFQUFkLE1BQWM7QUFBQTs7QUFBZDs7Q0FBYzs7QUFBZDtFQUFBLHlDQUFjO1VBQWQsaUNBQWM7QUFBQTs7QUFBZDs7Q0FBYzs7QUFBZDs7Ozs7O0VBQUEsa0JBQWM7RUFBZCxvQkFBYztBQUFBOztBQUFkOztDQUFjOztBQUFkO0VBQUEsY0FBYztFQUFkLHdCQUFjO0FBQUE7O0FBQWQ7O0NBQWM7O0FBQWQ7O0VBQUEsbUJBQWM7QUFBQTs7QUFBZDs7O0NBQWM7O0FBQWQ7Ozs7RUFBQSwrR0FBYyxFQUFkLE1BQWM7RUFBZCxjQUFjLEVBQWQsTUFBYztBQUFBOztBQUFkOztDQUFjOztBQUFkO0VBQUEsY0FBYztBQUFBOztBQUFkOztDQUFjOztBQUFkOztFQUFBLGNBQWM7RUFBZCxjQUFjO0VBQWQsa0JBQWM7RUFBZCx3QkFBYztBQUFBOztBQUFkO0VBQUEsZUFBYztBQUFBOztBQUFkO0VBQUEsV0FBYztBQUFBOztBQUFkOzs7O0NBQWM7O0FBQWQ7RUFBQSxjQUFjLEVBQWQsTUFBYztFQUFkLHFCQUFjLEVBQWQsTUFBYztFQUFkLHlCQUFjLEVBQWQsTUFBYztBQUFBOztBQUFkOzs7O0NBQWM7O0FBQWQ7Ozs7O0VBQUEsb0JBQWMsRUFBZCxNQUFjO0VBQWQsZUFBYyxFQUFkLE1BQWM7RUFBZCxvQkFBYyxFQUFkLE1BQWM7RUFBZCxvQkFBYyxFQUFkLE1BQWM7RUFBZCxjQUFjLEVBQWQsTUFBYztFQUFkLFNBQWMsRUFBZCxNQUFjO0VBQWQsVUFBYyxFQUFkLE1BQWM7QUFBQTs7QUFBZDs7Q0FBYzs7QUFBZDs7RUFBQSxvQkFBYztBQUFBOztBQUFkOzs7Q0FBYzs7QUFBZDs7OztFQUFBLDBCQUFjLEVBQWQsTUFBYztFQUFkLDZCQUFjLEVBQWQsTUFBYztFQUFkLHNCQUFjLEVBQWQsTUFBYztBQUFBOztBQUFkOztDQUFjOztBQUFkO0VBQUEsYUFBYztBQUFBOztBQUFkOztDQUFjOztBQUFkO0VBQUEsZ0JBQWM7QUFBQTs7QUFBZDs7Q0FBYzs7QUFBZDtFQUFBLHdCQUFjO0FBQUE7O0FBQWQ7O0NBQWM7O0FBQWQ7O0VBQUEsWUFBYztBQUFBOztBQUFkOzs7Q0FBYzs7QUFBZDtFQUFBLDZCQUFjLEVBQWQsTUFBYztFQUFkLG9CQUFjLEVBQWQsTUFBYztBQUFBOztBQUFkOztDQUFjOztBQUFkO0VBQUEsd0JBQWM7QUFBQTs7QUFBZDs7O0NBQWM7O0FBQWQ7RUFBQSwwQkFBYyxFQUFkLE1BQWM7RUFBZCxhQUFjLEVBQWQsTUFBYztBQUFBOztBQUFkOztDQUFjOztBQUFkO0VBQUEsa0JBQWM7QUFBQTs7QUFBZDs7Q0FBYzs7QUFBZDs7Ozs7Ozs7Ozs7OztFQUFBLFNBQWM7QUFBQTs7QUFBZDtFQUFBLFNBQWM7RUFBZCxVQUFjO0FBQUE7O0FBQWQ7RUFBQSxVQUFjO0FBQUE7O0FBQWQ7OztFQUFBLGdCQUFjO0VBQWQsU0FBYztFQUFkLFVBQWM7QUFBQTs7QUFBZDs7Q0FBYzs7QUFBZDtFQUFBLGdCQUFjO0FBQUE7O0FBQWQ7OztDQUFjOztBQUFkO0VBQUEsVUFBYyxFQUFkLE1BQWM7RUFBZCxjQUFjLEVBQWQsTUFBYztBQUFBOztBQUFkOztFQUFBLFVBQWMsRUFBZCxNQUFjO0VBQWQsY0FBYyxFQUFkLE1BQWM7QUFBQTs7QUFBZDs7Q0FBYzs7QUFBZDs7RUFBQSxlQUFjO0FBQUE7O0FBQWQ7O0NBQWM7QUFBZDtFQUFBLGVBQWM7QUFBQTs7QUFBZDs7OztDQUFjOztBQUFkOzs7Ozs7OztFQUFBLGNBQWMsRUFBZCxNQUFjO0VBQWQsc0JBQWMsRUFBZCxNQUFjO0FBQUE7O0FBQWQ7O0NBQWM7O0FBQWQ7O0VBQUEsZUFBYztFQUFkLFlBQWM7QUFBQTs7QUFBZCx3RUFBYztBQUFkO0VBQUEsYUFBYztBQUFBOztBQUFkO0VBQUEsd0JBQWM7RUFBZCx3QkFBYztFQUFkLG1CQUFjO0VBQWQsbUJBQWM7RUFBZCxjQUFjO0VBQWQsY0FBYztFQUFkLGNBQWM7RUFBZCxlQUFjO0VBQWQsZUFBYztFQUFkLGFBQWM7RUFBZCxhQUFjO0VBQWQsa0JBQWM7RUFBZCxzQ0FBYztFQUFkLDhCQUFjO0VBQWQsNkJBQWM7RUFBZCw0QkFBYztFQUFkLGVBQWM7RUFBZCxvQkFBYztFQUFkLHNCQUFjO0VBQWQsdUJBQWM7RUFBZCx3QkFBYztFQUFkLGtCQUFjO0VBQWQsMkJBQWM7RUFBZCw0QkFBYztFQUFkLHNDQUFjO0VBQWQsa0NBQWM7RUFBZCwyQkFBYztFQUFkLHNCQUFjO0VBQWQsOEJBQWM7RUFBZCxZQUFjO0VBQWQsa0JBQWM7RUFBZCxnQkFBYztFQUFkLGlCQUFjO0VBQWQsa0JBQWM7RUFBZCxjQUFjO0VBQWQsZ0JBQWM7RUFBZCxhQUFjO0VBQWQsbUJBQWM7RUFBZCxxQkFBYztFQUFkLDJCQUFjO0VBQWQseUJBQWM7RUFBZCwwQkFBYztFQUFkLDJCQUFjO0VBQWQsdUJBQWM7RUFBZCx3QkFBYztFQUFkLHlCQUFjO0VBQWQ7QUFBYzs7QUFBZDtFQUFBLHdCQUFjO0VBQWQsd0JBQWM7RUFBZCxtQkFBYztFQUFkLG1CQUFjO0VBQWQsY0FBYztFQUFkLGNBQWM7RUFBZCxjQUFjO0VBQWQsZUFBYztFQUFkLGVBQWM7RUFBZCxhQUFjO0VBQWQsYUFBYztFQUFkLGtCQUFjO0VBQWQsc0NBQWM7RUFBZCw4QkFBYztFQUFkLDZCQUFjO0VBQWQsNEJBQWM7RUFBZCxlQUFjO0VBQWQsb0JBQWM7RUFBZCxzQkFBYztFQUFkLHVCQUFjO0VBQWQsd0JBQWM7RUFBZCxrQkFBYztFQUFkLDJCQUFjO0VBQWQsNEJBQWM7RUFBZCxzQ0FBYztFQUFkLGtDQUFjO0VBQWQsMkJBQWM7RUFBZCxzQkFBYztFQUFkLDhCQUFjO0VBQWQsWUFBYztFQUFkLGtCQUFjO0VBQWQsZ0JBQWM7RUFBZCxpQkFBYztFQUFkLGtCQUFjO0VBQWQsY0FBYztFQUFkLGdCQUFjO0VBQWQsYUFBYztFQUFkLG1CQUFjO0VBQWQscUJBQWM7RUFBZCwyQkFBYztFQUFkLHlCQUFjO0VBQWQsMEJBQWM7RUFBZCwyQkFBYztFQUFkLHVCQUFjO0VBQWQsd0JBQWM7RUFBZCx5QkFBYztFQUFkO0FBQWM7QUFDZDtFQUFBO0FBQW9CO0FBQXBCOztFQUFBO0lBQUE7RUFBb0I7QUFBQTtBQUFwQjs7RUFBQTtJQUFBO0VBQW9CO0FBQUE7QUFBcEI7O0VBQUE7SUFBQTtFQUFvQjtBQUFBO0FBQXBCOztFQUFBO0lBQUE7RUFBb0I7QUFBQTtBQUFwQjs7RUFBQTtJQUFBO0VBQW9CO0FBQUE7QUFDcEI7RUFBQSxrQkFBbUI7RUFBbkIsVUFBbUI7RUFBbkIsV0FBbUI7RUFBbkIsVUFBbUI7RUFBbkIsWUFBbUI7RUFBbkIsZ0JBQW1CO0VBQW5CLHNCQUFtQjtFQUFuQixtQkFBbUI7RUFBbkI7QUFBbUI7QUFBbkI7RUFBQTtBQUFtQjtBQUFuQjtFQUFBO0FBQW1CO0FBQW5CO0VBQUE7QUFBbUI7QUFBbkI7RUFBQTtBQUFtQjtBQUFuQjtFQUFBO0FBQW1CO0FBQW5CO0VBQUE7QUFBbUI7QUFBbkI7RUFBQSxpQkFBbUI7RUFBbkI7QUFBbUI7QUFBbkI7RUFBQTtBQUFtQjtBQUFuQjtFQUFBO0FBQW1CO0FBQW5CO0VBQUE7QUFBbUI7QUFBbkI7RUFBQTtBQUFtQjtBQUFuQjtFQUFBO0FBQW1CO0FBQW5CO0VBQUE7QUFBbUI7QUFBbkI7RUFBQTtBQUFtQjtBQUFuQjtFQUFBO0FBQW1CO0FBQW5CO0VBQUE7QUFBbUI7QUFBbkI7RUFBQTtBQUFtQjtBQUFuQjtFQUFBO0FBQW1CO0FBQW5CO0VBQUE7QUFBbUI7QUFBbkI7RUFBQTtBQUFtQjtBQUFuQjtFQUFBO0FBQW1CO0FBQW5CO0VBQUE7QUFBbUI7QUFBbkI7RUFBQTtBQUFtQjtBQUFuQjtFQUFBO0FBQW1CO0FBQW5CO0VBQUEsdUJBQW1CO0VBQW5CLG9EQUFtQjtFQUFuQjtBQUFtQjtBQUFuQjtFQUFBO0FBQW1CO0FBQW5CO0VBQUE7QUFBbUI7QUFBbkI7RUFBQTtBQUFtQjtBQUFuQjtFQUFBLGtCQUFtQjtFQUFuQjtBQUFtQjtBQUFuQjtFQUFBLGtCQUFtQjtFQUFuQjtBQUFtQjtBQUFuQjtFQUFBLGtCQUFtQjtFQUFuQjtBQUFtQjtBQUFuQjtFQUFBO0FBQW1CO0FBQW5CO0VBQUEsNERBQW1CO0VBQW5CLGtFQUFtQjtFQUFuQjtBQUFtQjtBQUFuQjtFQUFBO0FBQW1CO0FBQW5CO0VBQUE7QUFBbUI7QUFBbkI7RUFBQSxrQkFBbUI7RUFBbkI7QUFBbUI7QUFBbkI7RUFBQSxvQkFBbUI7RUFBbkI7QUFBbUI7QUFBbkI7RUFBQSxtQkFBbUI7RUFBbkI7QUFBbUI7QUFBbkI7RUFBQSxtQkFBbUI7RUFBbkI7QUFBbUI7QUFBbkI7RUFBQSxpQkFBbUI7RUFBbkI7QUFBbUI7QUFBbkI7RUFBQSxpQkFBbUI7RUFBbkI7QUFBbUI7QUFBbkI7RUFBQTtBQUFtQjtBQUFuQjtFQUFBLGlCQUFtQjtFQUFuQjtBQUFtQjtBQUFuQjtFQUFBLGVBQW1CO0VBQW5CO0FBQW1CO0FBQW5CO0VBQUEsbUJBQW1CO0VBQW5CO0FBQW1CO0FBQW5CO0VBQUEsa0JBQW1CO0VBQW5CO0FBQW1CO0FBQW5CO0VBQUE7QUFBbUI7QUFBbkI7RUFBQTtBQUFtQjtBQUFuQjtFQUFBO0FBQW1CO0FBQW5CO0VBQUE7QUFBbUI7QUFBbkI7RUFBQTtBQUFtQjtBQUFuQjtFQUFBLG9CQUFtQjtFQUFuQjtBQUFtQjtBQUFuQjtFQUFBLG9CQUFtQjtFQUFuQjtBQUFtQjtBQUFuQjtFQUFBLGdLQUFtQjtFQUFuQix3SkFBbUI7RUFBbkIsaUxBQW1CO0VBQW5CLHdEQUFtQjtFQUFuQjtBQUFtQjs7QUFFbkI7RUFDRSx5QkFBeUI7RUFDekIscUNBQXFDO0VBQ3JDLG1DQUFtQztBQUNyQzs7QUFFQTtFQUNFO0lBQ0UsK0JBQStCO0lBQy9CLHFDQUFxQztJQUNyQyw2QkFBNkI7O0VBRS9CO0FBQ0Y7O0FBRUEsOEJBQThCO0FBQzlCO0VBQ0Usa0JBQWtCO0VBQ2xCLHFCQUFxQjtFQUNyQixXQUFXO0VBQ1gsWUFBWTtFQUNaLGlCQUFpQjtFQUNqQixrQkFBa0I7QUFDcEI7O0FBRUE7RUFDRSxVQUFVO0VBQ1YsUUFBUTtFQUNSLFNBQVM7QUFDWDs7QUFFQSxTQUFTO0FBQ1Q7RUFDRSxrQkFBa0I7RUFDbEIsZUFBZTtFQUNmLE1BQU07RUFDTixPQUFPO0VBQ1AsUUFBUTtFQUNSLFNBQVM7RUFDVCxrREFBa0Q7RUFFbEQsZ0JBQWdCO0FBQ2xCOztBQUVBLGdCQUFnQjtBQUNoQjtFQUNFLGtCQUFrQjtFQUNsQixXQUFXO0VBQ1gsWUFBWTtFQUNaLFdBQVc7RUFDWCxTQUFTO0VBQ1QsV0FBVztFQUNYLDRDQUE0QztFQUU1QyxnQkFBZ0I7QUFDbEI7O0FBRUEsMEJBQTBCO0FBQzFCO0VBQ0UsZ0RBQWdEO0FBQ2xEOztBQUVBLHdCQUF3QjtBQUN4QjtFQUNFLDhDQUE4QztBQUNoRDs7QUFFQSxpQ0FBaUM7QUFDakM7RUFHRSwyQkFBMkI7QUFDN0I7O0FBRUEsZUFBZTtBQUNmO0VBQ0UsbUJBQW1CO0FBQ3JCOztBQUVBLHNCQUFzQjtBQUN0QjtFQUNFLGtCQUFrQjtBQUNwQjs7QUFFQSxPQUFPOzs7QUFHUDtFQUNFLGlDQUFpQztFQUNqQzs7Ozs7b0NBS2tDO0FBQ3BDOzs7QUFuR0E7RUFBQSwrQkNBQTtFREFBO0NDQUE7OztBREFBOztFQUFBO0lBQUE7R0NBQTs7RURBQTtJQUFBO0dDQUE7Q0FBQTs7O0FEQUE7O0VBQUE7SUFBQSxrQkNBQTtJREFBO0dDQUE7Q0FBQVwiLFwic291cmNlc0NvbnRlbnRcIjpbXCJAdGFpbHdpbmQgYmFzZTtcXG5AdGFpbHdpbmQgY29tcG9uZW50cztcXG5AdGFpbHdpbmQgdXRpbGl0aWVzO1xcblxcbjpyb290IHtcXG4gIC0tZm9yZWdyb3VuZC1yZ2I6IDAsIDAsIDA7XFxuICAtLWJhY2tncm91bmQtc3RhcnQtcmdiOiAyMTQsIDIxOSwgMjIwO1xcbiAgLS1iYWNrZ3JvdW5kLWVuZC1yZ2I6IDI1NSwgMjU1LCAyNTU7XFxufVxcblxcbkBtZWRpYSAocHJlZmVycy1jb2xvci1zY2hlbWU6IGRhcmspIHtcXG4gIDpyb290IHtcXG4gICAgLS1mb3JlZ3JvdW5kLXJnYjogMjU1LCAyNTUsIDI1NTtcXG4gICAgLS1iYWNrZ3JvdW5kLXN0YXJ0LXJnYjogMjQsIDI0LCAyNCwgMTtcXG4gICAgLS1iYWNrZ3JvdW5kLWVuZC1yZ2I6IDAsIDAsIDA7XFxuICAgIFxcbiAgfVxcbn1cXG5cXG4vKmFkZCBhIGNzcyBmb3IgdG9nZ2xlIHN3aXRjaCovXFxuLnN3aXRjaCB7XFxuICBwb3NpdGlvbjogcmVsYXRpdmU7XFxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICB3aWR0aDogNjBweDtcXG4gIGhlaWdodDogMzRweDtcXG4gIG1hcmdpbi1sZWZ0OiAxMHB4O1xcbiAgbWFyZ2luLXJpZ2h0OiAxMHB4O1xcbn1cXG5cXG4uc3dpdGNoIGlucHV0IHtcXG4gIG9wYWNpdHk6IDA7XFxuICB3aWR0aDogMDtcXG4gIGhlaWdodDogMDtcXG59XFxuXFxuLypzbGlkZXIqL1xcbi5zbGlkZXIge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgY3Vyc29yOiBwb2ludGVyO1xcbiAgdG9wOiAwO1xcbiAgbGVmdDogMDtcXG4gIHJpZ2h0OiAwO1xcbiAgYm90dG9tOiAwO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiKHZhcigtLWJhY2tncm91bmQtc3RhcnQtcmdiKSk7XFxuICAtd2Via2l0LXRyYW5zaXRpb246IDAuNHM7XFxuICB0cmFuc2l0aW9uOiAwLjRzO1xcbn1cXG5cXG4vKnNsaWRlcjpiZWZvcmUqL1xcbi5zbGlkZXI6YmVmb3JlIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIGNvbnRlbnQ6IFxcXCJcXFwiO1xcbiAgaGVpZ2h0OiAyNnB4O1xcbiAgd2lkdGg6IDI2cHg7XFxuICBsZWZ0OiA0cHg7XFxuICBib3R0b206IDRweDtcXG4gIGJhY2tncm91bmQtY29sb3I6IHJnYih2YXIoLS1mb3JlZ3JvdW5kLXJnYikpO1xcbiAgLXdlYmtpdC10cmFuc2l0aW9uOiAwLjRzO1xcbiAgdHJhbnNpdGlvbjogMC40cztcXG59XFxuXFxuLyppbnB1dDpjaGVja2VkICsgLnNsaWRlciovXFxuaW5wdXQ6Y2hlY2tlZCArIC5zbGlkZXIge1xcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiKHZhcigtLWJhY2tncm91bmQtZW5kLXJnYikpO1xcbn1cXG5cXG4vKmlucHV0OmZvY3VzICsgLnNsaWRlciovXFxuaW5wdXQ6Zm9jdXMgKyAuc2xpZGVyIHtcXG4gIGJveC1zaGFkb3c6IDAgMCAxcHggcmdiKHZhcigtLWZvcmVncm91bmQtcmdiKSk7XFxufVxcblxcbi8qaW5wdXQ6Y2hlY2tlZCArIC5zbGlkZXI6YmVmb3JlKi9cXG5pbnB1dDpjaGVja2VkICsgLnNsaWRlcjpiZWZvcmUge1xcbiAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMjZweCk7XFxuICAtbXMtdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDI2cHgpO1xcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDI2cHgpO1xcbn1cXG5cXG4vKnNsaWRlci5yb3VuZCovXFxuLnNsaWRlci5yb3VuZCB7XFxuICBib3JkZXItcmFkaXVzOiAzNHB4O1xcbn1cXG5cXG4vKnNsaWRlci5yb3VuZDpiZWZvcmUqL1xcbi5zbGlkZXIucm91bmQ6YmVmb3JlIHtcXG4gIGJvcmRlci1yYWRpdXM6IDUwJTtcXG59XFxuXFxuLypib2R5Ki9cXG5cXG5cXG5ib2R5IHtcXG4gIGNvbG9yOiByZ2IodmFyKC0tZm9yZWdyb3VuZC1yZ2IpKTtcXG4gIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudChcXG4gICAgICB0byBib3R0b20sXFxuICAgICAgdHJhbnNwYXJlbnQsXFxuICAgICAgcmdiKHZhcigtLWJhY2tncm91bmQtZW5kLXJnYikpXFxuICAgIClcXG4gICAgcmdiKHZhcigtLWJhY2tncm91bmQtc3RhcnQtcmdiKSk7XFxufVxcblwiLG51bGxdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBfX19DU1NfTE9BREVSX0VYUE9SVF9fXztcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/next/dist/build/webpack/loaders/css-loader/src/index.js??ruleSet[1].rules[1].oneOf[13].use[1]!./node_modules/next/dist/build/webpack/loaders/postcss-loader/src/index.js??ruleSet[1].rules[1].oneOf[13].use[2]!./src/styles/globals.css\n"));

/***/ }),

/***/ "./node_modules/next/dist/build/webpack/loaders/css-loader/src/runtime/api.js":
/*!************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/css-loader/src/runtime/api.js ***!
  \************************************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/ // css base code, injected by the css-loader\n// eslint-disable-next-line func-names\n\nmodule.exports = function(useSourceMap) {\n    var list = [] // return the list of modules as css string\n    ;\n    list.toString = function toString() {\n        return this.map(function(item) {\n            // eslint-disable-next-line @typescript-eslint/no-use-before-define\n            var content = cssWithMappingToString(item, useSourceMap);\n            if (item[2]) {\n                return \"@media \".concat(item[2], \" {\").concat(content, \"}\");\n            }\n            return content;\n        }).join(\"\");\n    } // import a list of modules into the list\n    ;\n    // eslint-disable-next-line func-names\n    // @ts-expect-error TODO: fix type\n    list.i = function(modules, mediaQuery, dedupe) {\n        if (typeof modules === \"string\") {\n            // eslint-disable-next-line no-param-reassign\n            modules = [\n                [\n                    null,\n                    modules,\n                    \"\"\n                ]\n            ];\n        }\n        var alreadyImportedModules = {};\n        if (dedupe) {\n            for(var i = 0; i < this.length; i++){\n                // eslint-disable-next-line prefer-destructuring\n                var id = this[i][0];\n                if (id != null) {\n                    alreadyImportedModules[id] = true;\n                }\n            }\n        }\n        for(var _i = 0; _i < modules.length; _i++){\n            var item = [].concat(modules[_i]);\n            if (dedupe && alreadyImportedModules[item[0]]) {\n                continue;\n            }\n            if (mediaQuery) {\n                if (!item[2]) {\n                    item[2] = mediaQuery;\n                } else {\n                    item[2] = \"\".concat(mediaQuery, \" and \").concat(item[2]);\n                }\n            }\n            list.push(item);\n        }\n    };\n    return list;\n};\nfunction cssWithMappingToString(item, useSourceMap) {\n    var content = item[1] || \"\" // eslint-disable-next-line prefer-destructuring\n    ;\n    var cssMapping = item[3];\n    if (!cssMapping) {\n        return content;\n    }\n    if (useSourceMap && typeof btoa === \"function\") {\n        // eslint-disable-next-line @typescript-eslint/no-use-before-define\n        var sourceMapping = toComment(cssMapping);\n        var sourceURLs = cssMapping.sources.map(function(source) {\n            return \"/*# sourceURL=\".concat(cssMapping.sourceRoot || \"\").concat(source, \" */\");\n        });\n        return [\n            content\n        ].concat(sourceURLs).concat([\n            sourceMapping\n        ]).join(\"\\n\");\n    }\n    return [\n        content\n    ].join(\"\\n\");\n} // Adapted from convert-source-map (MIT)\nfunction toComment(sourceMap) {\n    // eslint-disable-next-line no-undef\n    var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n    var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n    return \"/*# \".concat(data, \" */\");\n}\n\n//# sourceMappingURL=api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9jc3MtbG9hZGVyL3NyYy9ydW50aW1lL2FwaS5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ2E7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0RBQW9ELHFCQUFxQjtBQUN6RTtBQUNBO0FBQ0EsU0FBUztBQUNULE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixpQkFBaUI7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IscUJBQXFCO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBLHVEQUF1RCxjQUFjO0FBQ3JFO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9idWlsZC93ZWJwYWNrL2xvYWRlcnMvY3NzLWxvYWRlci9zcmMvcnVudGltZS9hcGkuanM/Y2E0ZCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICBNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuICBBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qLyAvLyBjc3MgYmFzZSBjb2RlLCBpbmplY3RlZCBieSB0aGUgY3NzLWxvYWRlclxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcblwidXNlIHN0cmljdFwiO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbih1c2VTb3VyY2VNYXApIHtcbiAgICB2YXIgbGlzdCA9IFtdIC8vIHJldHVybiB0aGUgbGlzdCBvZiBtb2R1bGVzIGFzIGNzcyBzdHJpbmdcbiAgICA7XG4gICAgbGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11c2UtYmVmb3JlLWRlZmluZVxuICAgICAgICAgICAgdmFyIGNvbnRlbnQgPSBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0sIHVzZVNvdXJjZU1hcCk7XG4gICAgICAgICAgICBpZiAoaXRlbVsyXSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBcIkBtZWRpYSBcIi5jb25jYXQoaXRlbVsyXSwgXCIge1wiKS5jb25jYXQoY29udGVudCwgXCJ9XCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGNvbnRlbnQ7XG4gICAgICAgIH0pLmpvaW4oXCJcIik7XG4gICAgfSAvLyBpbXBvcnQgYSBsaXN0IG9mIG1vZHVsZXMgaW50byB0aGUgbGlzdFxuICAgIDtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgVE9ETzogZml4IHR5cGVcbiAgICBsaXN0LmkgPSBmdW5jdGlvbihtb2R1bGVzLCBtZWRpYVF1ZXJ5LCBkZWR1cGUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBtb2R1bGVzID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICAgICAgICAgIG1vZHVsZXMgPSBbXG4gICAgICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgICBtb2R1bGVzLFxuICAgICAgICAgICAgICAgICAgICBcIlwiXG4gICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgXTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xuICAgICAgICBpZiAoZGVkdXBlKSB7XG4gICAgICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKyl7XG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1kZXN0cnVjdHVyaW5nXG4gICAgICAgICAgICAgICAgdmFyIGlkID0gdGhpc1tpXVswXTtcbiAgICAgICAgICAgICAgICBpZiAoaWQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvcih2YXIgX2kgPSAwOyBfaSA8IG1vZHVsZXMubGVuZ3RoOyBfaSsrKXtcbiAgICAgICAgICAgIHZhciBpdGVtID0gW10uY29uY2F0KG1vZHVsZXNbX2ldKTtcbiAgICAgICAgICAgIGlmIChkZWR1cGUgJiYgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpdGVtWzBdXSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG1lZGlhUXVlcnkpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWl0ZW1bMl0pIHtcbiAgICAgICAgICAgICAgICAgICAgaXRlbVsyXSA9IG1lZGlhUXVlcnk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaXRlbVsyXSA9IFwiXCIuY29uY2F0KG1lZGlhUXVlcnksIFwiIGFuZCBcIikuY29uY2F0KGl0ZW1bMl0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxpc3QucHVzaChpdGVtKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIGxpc3Q7XG59O1xuZnVuY3Rpb24gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtLCB1c2VTb3VyY2VNYXApIHtcbiAgICB2YXIgY29udGVudCA9IGl0ZW1bMV0gfHwgXCJcIiAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLWRlc3RydWN0dXJpbmdcbiAgICA7XG4gICAgdmFyIGNzc01hcHBpbmcgPSBpdGVtWzNdO1xuICAgIGlmICghY3NzTWFwcGluZykge1xuICAgICAgICByZXR1cm4gY29udGVudDtcbiAgICB9XG4gICAgaWYgKHVzZVNvdXJjZU1hcCAmJiB0eXBlb2YgYnRvYSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdXNlLWJlZm9yZS1kZWZpbmVcbiAgICAgICAgdmFyIHNvdXJjZU1hcHBpbmcgPSB0b0NvbW1lbnQoY3NzTWFwcGluZyk7XG4gICAgICAgIHZhciBzb3VyY2VVUkxzID0gY3NzTWFwcGluZy5zb3VyY2VzLm1hcChmdW5jdGlvbihzb3VyY2UpIHtcbiAgICAgICAgICAgIHJldHVybiBcIi8qIyBzb3VyY2VVUkw9XCIuY29uY2F0KGNzc01hcHBpbmcuc291cmNlUm9vdCB8fCBcIlwiKS5jb25jYXQoc291cmNlLCBcIiAqL1wiKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICBjb250ZW50XG4gICAgICAgIF0uY29uY2F0KHNvdXJjZVVSTHMpLmNvbmNhdChbXG4gICAgICAgICAgICBzb3VyY2VNYXBwaW5nXG4gICAgICAgIF0pLmpvaW4oXCJcXG5cIik7XG4gICAgfVxuICAgIHJldHVybiBbXG4gICAgICAgIGNvbnRlbnRcbiAgICBdLmpvaW4oXCJcXG5cIik7XG59IC8vIEFkYXB0ZWQgZnJvbSBjb252ZXJ0LXNvdXJjZS1tYXAgKE1JVClcbmZ1bmN0aW9uIHRvQ29tbWVudChzb3VyY2VNYXApIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgICB2YXIgYmFzZTY0ID0gYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKTtcbiAgICB2YXIgZGF0YSA9IFwic291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsXCIuY29uY2F0KGJhc2U2NCk7XG4gICAgcmV0dXJuIFwiLyojIFwiLmNvbmNhdChkYXRhLCBcIiAqL1wiKTtcbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBpLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/next/dist/build/webpack/loaders/css-loader/src/runtime/api.js\n"));

/***/ }),

/***/ "./node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?absolutePagePath=private-next-pages%2F_app&page=%2F_app!":
/*!*******************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?absolutePagePath=private-next-pages%2F_app&page=%2F_app! ***!
  \*******************************************************************************************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval(__webpack_require__.ts("\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/_app\",\n      function () {\n        return __webpack_require__(/*! private-next-pages/_app */ \"./src/pages/_app.tsx\");\n      }\n    ]);\n    if(true) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/_app\"])\n      });\n    }\n  //# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWNsaWVudC1wYWdlcy1sb2FkZXIuanM/YWJzb2x1dGVQYWdlUGF0aD1wcml2YXRlLW5leHQtcGFnZXMlMkZfYXBwJnBhZ2U9JTJGX2FwcCEuanMiLCJtYXBwaW5ncyI6IjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsbUJBQU8sQ0FBQyxxREFBeUI7QUFDaEQ7QUFDQTtBQUNBLE9BQU8sSUFBVTtBQUNqQixNQUFNLFVBQVU7QUFDaEI7QUFDQSxPQUFPO0FBQ1A7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvPzY3ODIiXSwic291cmNlc0NvbnRlbnQiOlsiXG4gICAgKHdpbmRvdy5fX05FWFRfUCA9IHdpbmRvdy5fX05FWFRfUCB8fCBbXSkucHVzaChbXG4gICAgICBcIi9fYXBwXCIsXG4gICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiByZXF1aXJlKFwicHJpdmF0ZS1uZXh0LXBhZ2VzL19hcHBcIik7XG4gICAgICB9XG4gICAgXSk7XG4gICAgaWYobW9kdWxlLmhvdCkge1xuICAgICAgbW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgd2luZG93Ll9fTkVYVF9QLnB1c2goW1wiL19hcHBcIl0pXG4gICAgICB9KTtcbiAgICB9XG4gICJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?absolutePagePath=private-next-pages%2F_app&page=%2F_app!\n"));

/***/ }),

/***/ "./src/styles/globals.css":
/*!********************************!*\
  !*** ./src/styles/globals.css ***!
  \********************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval(__webpack_require__.ts("var api = __webpack_require__(/*! !../../node_modules/next/dist/build/webpack/loaders/next-style-loader/runtime/injectStylesIntoStyleTag.js */ \"./node_modules/next/dist/build/webpack/loaders/next-style-loader/runtime/injectStylesIntoStyleTag.js\");\n            var content = __webpack_require__(/*! !!../../node_modules/next/dist/build/webpack/loaders/css-loader/src/index.js??ruleSet[1].rules[1].oneOf[13].use[1]!../../node_modules/next/dist/build/webpack/loaders/postcss-loader/src/index.js??ruleSet[1].rules[1].oneOf[13].use[2]!./globals.css */ \"./node_modules/next/dist/build/webpack/loaders/css-loader/src/index.js??ruleSet[1].rules[1].oneOf[13].use[1]!./node_modules/next/dist/build/webpack/loaders/postcss-loader/src/index.js??ruleSet[1].rules[1].oneOf[13].use[2]!./src/styles/globals.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function(element) {\n                    // By default, style-loader injects CSS into the bottom\n                    // of <head>. This causes ordering problems between dev\n                    // and prod. To fix this, we render a <noscript> tag as\n                    // an anchor for the styles to be placed before. These\n                    // styles will be applied _before_ <style jsx global>.\n                    // These elements should always exist. If they do not,\n                    // this code should fail.\n                    var anchorElement = document.querySelector(\"#__next_css__DO_NOT_USE__\");\n                    var parentNode = anchorElement.parentNode// Normally <head>\n                    ;\n                    // Each style tag should be placed right before our\n                    // anchor. By inserting before and not after, we do not\n                    // need to track the last inserted element.\n                    parentNode.insertBefore(element, anchorElement);\n                };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\nif (true) {\n  if (!content.locals || module.hot.invalidate) {\n    var isEqualLocals = function isEqualLocals(a, b, isNamedExport) {\n    if (!a && b || a && !b) {\n        return false;\n    }\n    let p;\n    for(p in a){\n        if (isNamedExport && p === \"default\") {\n            continue;\n        }\n        if (a[p] !== b[p]) {\n            return false;\n        }\n    }\n    for(p in b){\n        if (isNamedExport && p === \"default\") {\n            continue;\n        }\n        if (!a[p]) {\n            return false;\n        }\n    }\n    return true;\n};\n    var oldLocals = content.locals;\n\n    module.hot.accept(\n      /*! !!../../node_modules/next/dist/build/webpack/loaders/css-loader/src/index.js??ruleSet[1].rules[1].oneOf[13].use[1]!../../node_modules/next/dist/build/webpack/loaders/postcss-loader/src/index.js??ruleSet[1].rules[1].oneOf[13].use[2]!./globals.css */ \"./node_modules/next/dist/build/webpack/loaders/css-loader/src/index.js??ruleSet[1].rules[1].oneOf[13].use[1]!./node_modules/next/dist/build/webpack/loaders/postcss-loader/src/index.js??ruleSet[1].rules[1].oneOf[13].use[2]!./src/styles/globals.css\",\n      function () {\n        content = __webpack_require__(/*! !!../../node_modules/next/dist/build/webpack/loaders/css-loader/src/index.js??ruleSet[1].rules[1].oneOf[13].use[1]!../../node_modules/next/dist/build/webpack/loaders/postcss-loader/src/index.js??ruleSet[1].rules[1].oneOf[13].use[2]!./globals.css */ \"./node_modules/next/dist/build/webpack/loaders/css-loader/src/index.js??ruleSet[1].rules[1].oneOf[13].use[1]!./node_modules/next/dist/build/webpack/loaders/postcss-loader/src/index.js??ruleSet[1].rules[1].oneOf[13].use[2]!./src/styles/globals.css\");\n\n              content = content.__esModule ? content.default : content;\n\n              if (typeof content === 'string') {\n                content = [[module.id, content, '']];\n              }\n\n              if (!isEqualLocals(oldLocals, content.locals)) {\n                module.hot.invalidate();\n\n                return;\n              }\n\n              oldLocals = content.locals;\n\n              update(content);\n      }\n    )\n  }\n\n  module.hot.dispose(function() {\n    update();\n  });\n}\n\nmodule.exports = content.locals || {};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc3R5bGVzL2dsb2JhbHMuY3NzLmpzIiwibWFwcGluZ3MiOiJBQUFBLFVBQVUsbUJBQU8sQ0FBQyx1TkFBMkc7QUFDN0gsMEJBQTBCLG1CQUFPLENBQUMscWZBQXVQOztBQUV6Ujs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7O0FBR0EsSUFBSSxJQUFVO0FBQ2QseUJBQXlCLFVBQVU7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLElBQUksaUJBQWlCO0FBQ3JCLE1BQU0scWZBQXVQO0FBQzdQO0FBQ0Esa0JBQWtCLG1CQUFPLENBQUMscWZBQXVQOztBQUVqUjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxnQkFBZ0IsVUFBVTs7QUFFMUI7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxFQUFFLFVBQVU7QUFDWjtBQUNBLEdBQUc7QUFDSDs7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9zcmMvc3R5bGVzL2dsb2JhbHMuY3NzPzYyYjIiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGFwaSA9IHJlcXVpcmUoXCIhLi4vLi4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9idWlsZC93ZWJwYWNrL2xvYWRlcnMvbmV4dC1zdHlsZS1sb2FkZXIvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanNcIik7XG4gICAgICAgICAgICB2YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL2Nzcy1sb2FkZXIvc3JjL2luZGV4LmpzPz9ydWxlU2V0WzFdLnJ1bGVzWzFdLm9uZU9mWzEzXS51c2VbMV0hLi4vLi4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9idWlsZC93ZWJwYWNrL2xvYWRlcnMvcG9zdGNzcy1sb2FkZXIvc3JjL2luZGV4LmpzPz9ydWxlU2V0WzFdLnJ1bGVzWzFdLm9uZU9mWzEzXS51c2VbMl0hLi9nbG9iYWxzLmNzc1wiKTtcblxuICAgICAgICAgICAgY29udGVudCA9IGNvbnRlbnQuX19lc01vZHVsZSA/IGNvbnRlbnQuZGVmYXVsdCA6IGNvbnRlbnQ7XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuICAgICAgICAgICAgfVxuXG52YXIgb3B0aW9ucyA9IHt9O1xuXG5vcHRpb25zLmluc2VydCA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQnkgZGVmYXVsdCwgc3R5bGUtbG9hZGVyIGluamVjdHMgQ1NTIGludG8gdGhlIGJvdHRvbVxuICAgICAgICAgICAgICAgICAgICAvLyBvZiA8aGVhZD4uIFRoaXMgY2F1c2VzIG9yZGVyaW5nIHByb2JsZW1zIGJldHdlZW4gZGV2XG4gICAgICAgICAgICAgICAgICAgIC8vIGFuZCBwcm9kLiBUbyBmaXggdGhpcywgd2UgcmVuZGVyIGEgPG5vc2NyaXB0PiB0YWcgYXNcbiAgICAgICAgICAgICAgICAgICAgLy8gYW4gYW5jaG9yIGZvciB0aGUgc3R5bGVzIHRvIGJlIHBsYWNlZCBiZWZvcmUuIFRoZXNlXG4gICAgICAgICAgICAgICAgICAgIC8vIHN0eWxlcyB3aWxsIGJlIGFwcGxpZWQgX2JlZm9yZV8gPHN0eWxlIGpzeCBnbG9iYWw+LlxuICAgICAgICAgICAgICAgICAgICAvLyBUaGVzZSBlbGVtZW50cyBzaG91bGQgYWx3YXlzIGV4aXN0LiBJZiB0aGV5IGRvIG5vdCxcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcyBjb2RlIHNob3VsZCBmYWlsLlxuICAgICAgICAgICAgICAgICAgICB2YXIgYW5jaG9yRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjX19uZXh0X2Nzc19fRE9fTk9UX1VTRV9fXCIpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgcGFyZW50Tm9kZSA9IGFuY2hvckVsZW1lbnQucGFyZW50Tm9kZS8vIE5vcm1hbGx5IDxoZWFkPlxuICAgICAgICAgICAgICAgICAgICA7XG4gICAgICAgICAgICAgICAgICAgIC8vIEVhY2ggc3R5bGUgdGFnIHNob3VsZCBiZSBwbGFjZWQgcmlnaHQgYmVmb3JlIG91clxuICAgICAgICAgICAgICAgICAgICAvLyBhbmNob3IuIEJ5IGluc2VydGluZyBiZWZvcmUgYW5kIG5vdCBhZnRlciwgd2UgZG8gbm90XG4gICAgICAgICAgICAgICAgICAgIC8vIG5lZWQgdG8gdHJhY2sgdGhlIGxhc3QgaW5zZXJ0ZWQgZWxlbWVudC5cbiAgICAgICAgICAgICAgICAgICAgcGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZWxlbWVudCwgYW5jaG9yRWxlbWVudCk7XG4gICAgICAgICAgICAgICAgfTtcbm9wdGlvbnMuc2luZ2xldG9uID0gZmFsc2U7XG5cbnZhciB1cGRhdGUgPSBhcGkoY29udGVudCwgb3B0aW9ucyk7XG5cblxuaWYgKG1vZHVsZS5ob3QpIHtcbiAgaWYgKCFjb250ZW50LmxvY2FscyB8fCBtb2R1bGUuaG90LmludmFsaWRhdGUpIHtcbiAgICB2YXIgaXNFcXVhbExvY2FscyA9IGZ1bmN0aW9uIGlzRXF1YWxMb2NhbHMoYSwgYiwgaXNOYW1lZEV4cG9ydCkge1xuICAgIGlmICghYSAmJiBiIHx8IGEgJiYgIWIpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBsZXQgcDtcbiAgICBmb3IocCBpbiBhKXtcbiAgICAgICAgaWYgKGlzTmFtZWRFeHBvcnQgJiYgcCA9PT0gXCJkZWZhdWx0XCIpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhW3BdICE9PSBiW3BdKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZm9yKHAgaW4gYil7XG4gICAgICAgIGlmIChpc05hbWVkRXhwb3J0ICYmIHAgPT09IFwiZGVmYXVsdFwiKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWFbcF0pIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn07XG4gICAgdmFyIG9sZExvY2FscyA9IGNvbnRlbnQubG9jYWxzO1xuXG4gICAgbW9kdWxlLmhvdC5hY2NlcHQoXG4gICAgICBcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9idWlsZC93ZWJwYWNrL2xvYWRlcnMvY3NzLWxvYWRlci9zcmMvaW5kZXguanM/P3J1bGVTZXRbMV0ucnVsZXNbMV0ub25lT2ZbMTNdLnVzZVsxXSEuLi8uLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9wb3N0Y3NzLWxvYWRlci9zcmMvaW5kZXguanM/P3J1bGVTZXRbMV0ucnVsZXNbMV0ub25lT2ZbMTNdLnVzZVsyXSEuL2dsb2JhbHMuY3NzXCIsXG4gICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9jc3MtbG9hZGVyL3NyYy9pbmRleC5qcz8/cnVsZVNldFsxXS5ydWxlc1sxXS5vbmVPZlsxM10udXNlWzFdIS4uLy4uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL3Bvc3Rjc3MtbG9hZGVyL3NyYy9pbmRleC5qcz8/cnVsZVNldFsxXS5ydWxlc1sxXS5vbmVPZlsxM10udXNlWzJdIS4vZ2xvYmFscy5jc3NcIik7XG5cbiAgICAgICAgICAgICAgY29udGVudCA9IGNvbnRlbnQuX19lc01vZHVsZSA/IGNvbnRlbnQuZGVmYXVsdCA6IGNvbnRlbnQ7XG5cbiAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGlmICghaXNFcXVhbExvY2FscyhvbGRMb2NhbHMsIGNvbnRlbnQubG9jYWxzKSkge1xuICAgICAgICAgICAgICAgIG1vZHVsZS5ob3QuaW52YWxpZGF0ZSgpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgb2xkTG9jYWxzID0gY29udGVudC5sb2NhbHM7XG5cbiAgICAgICAgICAgICAgdXBkYXRlKGNvbnRlbnQpO1xuICAgICAgfVxuICAgIClcbiAgfVxuXG4gIG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHtcbiAgICB1cGRhdGUoKTtcbiAgfSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHMgfHwge307Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/styles/globals.css\n"));

/***/ }),

/***/ "./node_modules/next/dist/build/webpack/loaders/next-style-loader/runtime/injectStylesIntoStyleTag.js":
/*!************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-style-loader/runtime/injectStylesIntoStyleTag.js ***!
  \************************************************************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nconst isOldIE = function isOldIE() {\n    let memo;\n    return function memorize() {\n        if (typeof memo === \"undefined\") {\n            // Test for IE <= 9 as proposed by Browserhacks\n            // @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n            // Tests for existence of standard globals is to allow style-loader\n            // to operate correctly into non-standard environments\n            // @see https://github.com/webpack-contrib/style-loader/issues/177\n            memo = Boolean(window && document && document.all && !window.atob);\n        }\n        return memo;\n    };\n}();\nconst getTargetElement = function() {\n    const memo = {};\n    return function memorize(target) {\n        if (typeof memo[target] === \"undefined\") {\n            let styleTarget = document.querySelector(target);\n            // Special case to return head of iframe instead of iframe itself\n            if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n                try {\n                    // This will throw an exception if access to iframe is blocked\n                    // due to cross-origin restrictions\n                    styleTarget = styleTarget.contentDocument.head;\n                } catch (e) {\n                    // istanbul ignore next\n                    styleTarget = null;\n                }\n            }\n            memo[target] = styleTarget;\n        }\n        return memo[target];\n    };\n}();\nconst stylesInDom = [];\nfunction getIndexByIdentifier(identifier) {\n    let result = -1;\n    for(let i = 0; i < stylesInDom.length; i++){\n        if (stylesInDom[i].identifier === identifier) {\n            result = i;\n            break;\n        }\n    }\n    return result;\n}\nfunction modulesToDom(list, options) {\n    const idCountMap = {};\n    const identifiers = [];\n    for(let i = 0; i < list.length; i++){\n        const item = list[i];\n        const id = options.base ? item[0] + options.base : item[0];\n        const count = idCountMap[id] || 0;\n        const identifier = id + \" \" + count.toString();\n        idCountMap[id] = count + 1;\n        const index = getIndexByIdentifier(identifier);\n        const obj = {\n            css: item[1],\n            media: item[2],\n            sourceMap: item[3]\n        };\n        if (index !== -1) {\n            stylesInDom[index].references++;\n            stylesInDom[index].updater(obj);\n        } else {\n            stylesInDom.push({\n                identifier: identifier,\n                // eslint-disable-next-line @typescript-eslint/no-use-before-define\n                updater: addStyle(obj, options),\n                references: 1\n            });\n        }\n        identifiers.push(identifier);\n    }\n    return identifiers;\n}\nfunction insertStyleElement(options) {\n    const style = document.createElement(\"style\");\n    const attributes = options.attributes || {};\n    if (typeof attributes.nonce === \"undefined\") {\n        const nonce = // eslint-disable-next-line no-undef\n         true ? __webpack_require__.nc : 0;\n        if (nonce) {\n            attributes.nonce = nonce;\n        }\n    }\n    Object.keys(attributes).forEach(function(key) {\n        style.setAttribute(key, attributes[key]);\n    });\n    if (typeof options.insert === \"function\") {\n        options.insert(style);\n    } else {\n        const target = getTargetElement(options.insert || \"head\");\n        if (!target) {\n            throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n        }\n        target.appendChild(style);\n    }\n    return style;\n}\nfunction removeStyleElement(style) {\n    // istanbul ignore if\n    if (style.parentNode === null) {\n        return false;\n    }\n    style.parentNode.removeChild(style);\n}\n/* istanbul ignore next  */ const replaceText = function replaceText() {\n    const textStore = [];\n    return function replace(index, replacement) {\n        textStore[index] = replacement;\n        return textStore.filter(Boolean).join(\"\\n\");\n    };\n}();\nfunction applyToSingletonTag(style, index, remove, obj) {\n    const css = remove ? \"\" : obj.media ? \"@media \" + obj.media + \" {\" + obj.css + \"}\" : obj.css;\n    // For old IE\n    /* istanbul ignore if  */ if (style.styleSheet) {\n        style.styleSheet.cssText = replaceText(index, css);\n    } else {\n        const cssNode = document.createTextNode(css);\n        const childNodes = style.childNodes;\n        if (childNodes[index]) {\n            style.removeChild(childNodes[index]);\n        }\n        if (childNodes.length) {\n            style.insertBefore(cssNode, childNodes[index]);\n        } else {\n            style.appendChild(cssNode);\n        }\n    }\n}\nfunction applyToTag(style, _options, obj) {\n    let css = obj.css;\n    const media = obj.media;\n    const sourceMap = obj.sourceMap;\n    if (media) {\n        style.setAttribute(\"media\", media);\n    } else {\n        style.removeAttribute(\"media\");\n    }\n    if (sourceMap && typeof btoa !== \"undefined\") {\n        css += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\n    }\n    // For old IE\n    /* istanbul ignore if  */ if (style.styleSheet) {\n        style.styleSheet.cssText = css;\n    } else {\n        while(style.firstChild){\n            style.removeChild(style.firstChild);\n        }\n        style.appendChild(document.createTextNode(css));\n    }\n}\nlet singleton = null;\nlet singletonCounter = 0;\nfunction addStyle(obj, options) {\n    let style;\n    let update;\n    let remove;\n    if (options.singleton) {\n        const styleIndex = singletonCounter++;\n        style = singleton || (singleton = insertStyleElement(options));\n        update = applyToSingletonTag.bind(null, style, styleIndex, false);\n        remove = applyToSingletonTag.bind(null, style, styleIndex, true);\n    } else {\n        style = insertStyleElement(options);\n        update = applyToTag.bind(null, style, options);\n        remove = function() {\n            removeStyleElement(style);\n        };\n    }\n    update(obj);\n    return function updateStyle(newObj) {\n        if (newObj) {\n            if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap) {\n                return;\n            }\n            update(obj = newObj);\n        } else {\n            remove();\n        }\n    };\n}\nmodule.exports = function(list, options) {\n    options = options || {};\n    // Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n    // tags it will allow on a page\n    if (!options.singleton && typeof options.singleton !== \"boolean\") {\n        options.singleton = isOldIE();\n    }\n    list = list || [];\n    let lastIdentifiers = modulesToDom(list, options);\n    return function update(newList) {\n        newList = newList || [];\n        if (Object.prototype.toString.call(newList) !== \"[object Array]\") {\n            return;\n        }\n        for(let i = 0; i < lastIdentifiers.length; i++){\n            const identifier = lastIdentifiers[i];\n            const index = getIndexByIdentifier(identifier);\n            stylesInDom[index].references--;\n        }\n        const newLastIdentifiers = modulesToDom(newList, options);\n        for(let i = 0; i < lastIdentifiers.length; i++){\n            const identifier = lastIdentifiers[i];\n            const index = getIndexByIdentifier(identifier);\n            if (stylesInDom[index].references === 0) {\n                stylesInDom[index].updater();\n                stylesInDom.splice(index, 1);\n            }\n        }\n        lastIdentifiers = newLastIdentifiers;\n    };\n};\n\n//# sourceMappingURL=injectStylesIntoStyleTag.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXN0eWxlLWxvYWRlci9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsd0JBQXdCO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLGlCQUFpQjtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLEtBQXdDLEdBQUcsc0JBQWlCLEdBQUcsQ0FBSTtBQUMzRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQSxxRUFBcUUsZ0JBQWdCO0FBQ3JGO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQSw2REFBNkQ7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsNEJBQTRCO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsNEJBQTRCO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL25leHQtc3R5bGUtbG9hZGVyL3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzPzI2ZWQiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCBpc09sZElFID0gZnVuY3Rpb24gaXNPbGRJRSgpIHtcbiAgICBsZXQgbWVtbztcbiAgICByZXR1cm4gZnVuY3Rpb24gbWVtb3JpemUoKSB7XG4gICAgICAgIGlmICh0eXBlb2YgbWVtbyA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgLy8gVGVzdCBmb3IgSUUgPD0gOSBhcyBwcm9wb3NlZCBieSBCcm93c2VyaGFja3NcbiAgICAgICAgICAgIC8vIEBzZWUgaHR0cDovL2Jyb3dzZXJoYWNrcy5jb20vI2hhY2stZTcxZDg2OTJmNjUzMzQxNzNmZWU3MTVjMjIyY2I4MDVcbiAgICAgICAgICAgIC8vIFRlc3RzIGZvciBleGlzdGVuY2Ugb2Ygc3RhbmRhcmQgZ2xvYmFscyBpcyB0byBhbGxvdyBzdHlsZS1sb2FkZXJcbiAgICAgICAgICAgIC8vIHRvIG9wZXJhdGUgY29ycmVjdGx5IGludG8gbm9uLXN0YW5kYXJkIGVudmlyb25tZW50c1xuICAgICAgICAgICAgLy8gQHNlZSBodHRwczovL2dpdGh1Yi5jb20vd2VicGFjay1jb250cmliL3N0eWxlLWxvYWRlci9pc3N1ZXMvMTc3XG4gICAgICAgICAgICBtZW1vID0gQm9vbGVhbih3aW5kb3cgJiYgZG9jdW1lbnQgJiYgZG9jdW1lbnQuYWxsICYmICF3aW5kb3cuYXRvYik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lbW87XG4gICAgfTtcbn0oKTtcbmNvbnN0IGdldFRhcmdldEVsZW1lbnQgPSBmdW5jdGlvbigpIHtcbiAgICBjb25zdCBtZW1vID0ge307XG4gICAgcmV0dXJuIGZ1bmN0aW9uIG1lbW9yaXplKHRhcmdldCkge1xuICAgICAgICBpZiAodHlwZW9mIG1lbW9bdGFyZ2V0XSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgbGV0IHN0eWxlVGFyZ2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpO1xuICAgICAgICAgICAgLy8gU3BlY2lhbCBjYXNlIHRvIHJldHVybiBoZWFkIG9mIGlmcmFtZSBpbnN0ZWFkIG9mIGlmcmFtZSBpdHNlbGZcbiAgICAgICAgICAgIGlmICh3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQgJiYgc3R5bGVUYXJnZXQgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIHdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGFjY2VzcyB0byBpZnJhbWUgaXMgYmxvY2tlZFxuICAgICAgICAgICAgICAgICAgICAvLyBkdWUgdG8gY3Jvc3Mtb3JpZ2luIHJlc3RyaWN0aW9uc1xuICAgICAgICAgICAgICAgICAgICBzdHlsZVRhcmdldCA9IHN0eWxlVGFyZ2V0LmNvbnRlbnREb2N1bWVudC5oZWFkO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgICAgICAgICAgICAgc3R5bGVUYXJnZXQgPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG1lbW9bdGFyZ2V0XSA9IHN0eWxlVGFyZ2V0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZW1vW3RhcmdldF07XG4gICAgfTtcbn0oKTtcbmNvbnN0IHN0eWxlc0luRG9tID0gW107XG5mdW5jdGlvbiBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKSB7XG4gICAgbGV0IHJlc3VsdCA9IC0xO1xuICAgIGZvcihsZXQgaSA9IDA7IGkgPCBzdHlsZXNJbkRvbS5sZW5ndGg7IGkrKyl7XG4gICAgICAgIGlmIChzdHlsZXNJbkRvbVtpXS5pZGVudGlmaWVyID09PSBpZGVudGlmaWVyKSB7XG4gICAgICAgICAgICByZXN1bHQgPSBpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIG1vZHVsZXNUb0RvbShsaXN0LCBvcHRpb25zKSB7XG4gICAgY29uc3QgaWRDb3VudE1hcCA9IHt9O1xuICAgIGNvbnN0IGlkZW50aWZpZXJzID0gW107XG4gICAgZm9yKGxldCBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspe1xuICAgICAgICBjb25zdCBpdGVtID0gbGlzdFtpXTtcbiAgICAgICAgY29uc3QgaWQgPSBvcHRpb25zLmJhc2UgPyBpdGVtWzBdICsgb3B0aW9ucy5iYXNlIDogaXRlbVswXTtcbiAgICAgICAgY29uc3QgY291bnQgPSBpZENvdW50TWFwW2lkXSB8fCAwO1xuICAgICAgICBjb25zdCBpZGVudGlmaWVyID0gaWQgKyBcIiBcIiArIGNvdW50LnRvU3RyaW5nKCk7XG4gICAgICAgIGlkQ291bnRNYXBbaWRdID0gY291bnQgKyAxO1xuICAgICAgICBjb25zdCBpbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xuICAgICAgICBjb25zdCBvYmogPSB7XG4gICAgICAgICAgICBjc3M6IGl0ZW1bMV0sXG4gICAgICAgICAgICBtZWRpYTogaXRlbVsyXSxcbiAgICAgICAgICAgIHNvdXJjZU1hcDogaXRlbVszXVxuICAgICAgICB9O1xuICAgICAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICBzdHlsZXNJbkRvbVtpbmRleF0ucmVmZXJlbmNlcysrO1xuICAgICAgICAgICAgc3R5bGVzSW5Eb21baW5kZXhdLnVwZGF0ZXIob2JqKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN0eWxlc0luRG9tLnB1c2goe1xuICAgICAgICAgICAgICAgIGlkZW50aWZpZXI6IGlkZW50aWZpZXIsXG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11c2UtYmVmb3JlLWRlZmluZVxuICAgICAgICAgICAgICAgIHVwZGF0ZXI6IGFkZFN0eWxlKG9iaiwgb3B0aW9ucyksXG4gICAgICAgICAgICAgICAgcmVmZXJlbmNlczogMVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWRlbnRpZmllcnMucHVzaChpZGVudGlmaWVyKTtcbiAgICB9XG4gICAgcmV0dXJuIGlkZW50aWZpZXJzO1xufVxuZnVuY3Rpb24gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpIHtcbiAgICBjb25zdCBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcbiAgICBjb25zdCBhdHRyaWJ1dGVzID0gb3B0aW9ucy5hdHRyaWJ1dGVzIHx8IHt9O1xuICAgIGlmICh0eXBlb2YgYXR0cmlidXRlcy5ub25jZSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICBjb25zdCBub25jZSA9IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICAgICAgICB0eXBlb2YgX193ZWJwYWNrX25vbmNlX18gIT09IFwidW5kZWZpbmVkXCIgPyBfX3dlYnBhY2tfbm9uY2VfXyA6IG51bGw7XG4gICAgICAgIGlmIChub25jZSkge1xuICAgICAgICAgICAgYXR0cmlidXRlcy5ub25jZSA9IG5vbmNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIE9iamVjdC5rZXlzKGF0dHJpYnV0ZXMpLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgIHN0eWxlLnNldEF0dHJpYnV0ZShrZXksIGF0dHJpYnV0ZXNba2V5XSk7XG4gICAgfSk7XG4gICAgaWYgKHR5cGVvZiBvcHRpb25zLmluc2VydCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIG9wdGlvbnMuaW5zZXJ0KHN0eWxlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCB0YXJnZXQgPSBnZXRUYXJnZXRFbGVtZW50KG9wdGlvbnMuaW5zZXJ0IHx8IFwiaGVhZFwiKTtcbiAgICAgICAgaWYgKCF0YXJnZXQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvdWxkbid0IGZpbmQgYSBzdHlsZSB0YXJnZXQuIFRoaXMgcHJvYmFibHkgbWVhbnMgdGhhdCB0aGUgdmFsdWUgZm9yIHRoZSAnaW5zZXJ0JyBwYXJhbWV0ZXIgaXMgaW52YWxpZC5cIik7XG4gICAgICAgIH1cbiAgICAgICAgdGFyZ2V0LmFwcGVuZENoaWxkKHN0eWxlKTtcbiAgICB9XG4gICAgcmV0dXJuIHN0eWxlO1xufVxuZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKSB7XG4gICAgLy8gaXN0YW5idWwgaWdub3JlIGlmXG4gICAgaWYgKHN0eWxlLnBhcmVudE5vZGUgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBzdHlsZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlKTtcbn1cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqLyBjb25zdCByZXBsYWNlVGV4dCA9IGZ1bmN0aW9uIHJlcGxhY2VUZXh0KCkge1xuICAgIGNvbnN0IHRleHRTdG9yZSA9IFtdO1xuICAgIHJldHVybiBmdW5jdGlvbiByZXBsYWNlKGluZGV4LCByZXBsYWNlbWVudCkge1xuICAgICAgICB0ZXh0U3RvcmVbaW5kZXhdID0gcmVwbGFjZW1lbnQ7XG4gICAgICAgIHJldHVybiB0ZXh0U3RvcmUuZmlsdGVyKEJvb2xlYW4pLmpvaW4oXCJcXG5cIik7XG4gICAgfTtcbn0oKTtcbmZ1bmN0aW9uIGFwcGx5VG9TaW5nbGV0b25UYWcoc3R5bGUsIGluZGV4LCByZW1vdmUsIG9iaikge1xuICAgIGNvbnN0IGNzcyA9IHJlbW92ZSA/IFwiXCIgOiBvYmoubWVkaWEgPyBcIkBtZWRpYSBcIiArIG9iai5tZWRpYSArIFwiIHtcIiArIG9iai5jc3MgKyBcIn1cIiA6IG9iai5jc3M7XG4gICAgLy8gRm9yIG9sZCBJRVxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAgKi8gaWYgKHN0eWxlLnN0eWxlU2hlZXQpIHtcbiAgICAgICAgc3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gcmVwbGFjZVRleHQoaW5kZXgsIGNzcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgY3NzTm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcyk7XG4gICAgICAgIGNvbnN0IGNoaWxkTm9kZXMgPSBzdHlsZS5jaGlsZE5vZGVzO1xuICAgICAgICBpZiAoY2hpbGROb2Rlc1tpbmRleF0pIHtcbiAgICAgICAgICAgIHN0eWxlLnJlbW92ZUNoaWxkKGNoaWxkTm9kZXNbaW5kZXhdKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2hpbGROb2Rlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHN0eWxlLmluc2VydEJlZm9yZShjc3NOb2RlLCBjaGlsZE5vZGVzW2luZGV4XSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzdHlsZS5hcHBlbmRDaGlsZChjc3NOb2RlKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIGFwcGx5VG9UYWcoc3R5bGUsIF9vcHRpb25zLCBvYmopIHtcbiAgICBsZXQgY3NzID0gb2JqLmNzcztcbiAgICBjb25zdCBtZWRpYSA9IG9iai5tZWRpYTtcbiAgICBjb25zdCBzb3VyY2VNYXAgPSBvYmouc291cmNlTWFwO1xuICAgIGlmIChtZWRpYSkge1xuICAgICAgICBzdHlsZS5zZXRBdHRyaWJ1dGUoXCJtZWRpYVwiLCBtZWRpYSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgc3R5bGUucmVtb3ZlQXR0cmlidXRlKFwibWVkaWFcIik7XG4gICAgfVxuICAgIGlmIChzb3VyY2VNYXAgJiYgdHlwZW9mIGJ0b2EgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgY3NzICs9IFwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIiArIGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSkgKyBcIiAqL1wiO1xuICAgIH1cbiAgICAvLyBGb3Igb2xkIElFXG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICAqLyBpZiAoc3R5bGUuc3R5bGVTaGVldCkge1xuICAgICAgICBzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgd2hpbGUoc3R5bGUuZmlyc3RDaGlsZCl7XG4gICAgICAgICAgICBzdHlsZS5yZW1vdmVDaGlsZChzdHlsZS5maXJzdENoaWxkKTtcbiAgICAgICAgfVxuICAgICAgICBzdHlsZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTtcbiAgICB9XG59XG5sZXQgc2luZ2xldG9uID0gbnVsbDtcbmxldCBzaW5nbGV0b25Db3VudGVyID0gMDtcbmZ1bmN0aW9uIGFkZFN0eWxlKG9iaiwgb3B0aW9ucykge1xuICAgIGxldCBzdHlsZTtcbiAgICBsZXQgdXBkYXRlO1xuICAgIGxldCByZW1vdmU7XG4gICAgaWYgKG9wdGlvbnMuc2luZ2xldG9uKSB7XG4gICAgICAgIGNvbnN0IHN0eWxlSW5kZXggPSBzaW5nbGV0b25Db3VudGVyKys7XG4gICAgICAgIHN0eWxlID0gc2luZ2xldG9uIHx8IChzaW5nbGV0b24gPSBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucykpO1xuICAgICAgICB1cGRhdGUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIGZhbHNlKTtcbiAgICAgICAgcmVtb3ZlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCB0cnVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBzdHlsZSA9IGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKTtcbiAgICAgICAgdXBkYXRlID0gYXBwbHlUb1RhZy5iaW5kKG51bGwsIHN0eWxlLCBvcHRpb25zKTtcbiAgICAgICAgcmVtb3ZlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICB1cGRhdGUob2JqKTtcbiAgICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlU3R5bGUobmV3T2JqKSB7XG4gICAgICAgIGlmIChuZXdPYmopIHtcbiAgICAgICAgICAgIGlmIChuZXdPYmouY3NzID09PSBvYmouY3NzICYmIG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmIG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXApIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB1cGRhdGUob2JqID0gbmV3T2JqKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlbW92ZSgpO1xuICAgICAgICB9XG4gICAgfTtcbn1cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obGlzdCwgb3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgIC8vIEZvcmNlIHNpbmdsZS10YWcgc29sdXRpb24gb24gSUU2LTksIHdoaWNoIGhhcyBhIGhhcmQgbGltaXQgb24gdGhlICMgb2YgPHN0eWxlPlxuICAgIC8vIHRhZ3MgaXQgd2lsbCBhbGxvdyBvbiBhIHBhZ2VcbiAgICBpZiAoIW9wdGlvbnMuc2luZ2xldG9uICYmIHR5cGVvZiBvcHRpb25zLnNpbmdsZXRvbiAhPT0gXCJib29sZWFuXCIpIHtcbiAgICAgICAgb3B0aW9ucy5zaW5nbGV0b24gPSBpc09sZElFKCk7XG4gICAgfVxuICAgIGxpc3QgPSBsaXN0IHx8IFtdO1xuICAgIGxldCBsYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucyk7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZShuZXdMaXN0KSB7XG4gICAgICAgIG5ld0xpc3QgPSBuZXdMaXN0IHx8IFtdO1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG5ld0xpc3QpICE9PSBcIltvYmplY3QgQXJyYXldXCIpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgICAgIGNvbnN0IGlkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbaV07XG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xuICAgICAgICAgICAgc3R5bGVzSW5Eb21baW5kZXhdLnJlZmVyZW5jZXMtLTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBuZXdMYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obmV3TGlzdCwgb3B0aW9ucyk7XG4gICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBpKyspe1xuICAgICAgICAgICAgY29uc3QgaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tpXTtcbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgICAgICAgICBpZiAoc3R5bGVzSW5Eb21baW5kZXhdLnJlZmVyZW5jZXMgPT09IDApIHtcbiAgICAgICAgICAgICAgICBzdHlsZXNJbkRvbVtpbmRleF0udXBkYXRlcigpO1xuICAgICAgICAgICAgICAgIHN0eWxlc0luRG9tLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGFzdElkZW50aWZpZXJzID0gbmV3TGFzdElkZW50aWZpZXJzO1xuICAgIH07XG59O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/next/dist/build/webpack/loaders/next-style-loader/runtime/injectStylesIntoStyleTag.js\n"));

/***/ }),

/***/ "./config/appInfo.ts":
/*!***************************!*\
  !*** ./config/appInfo.ts ***!
  \***************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"appInfo\": function() { return /* binding */ appInfo; }\n/* harmony export */ });\nconst appInfo = {\n    // learn more about this on https://supertokens.com/docs/thirdpartyemailpassword/appinfo\n    appName: \"Diktatorial\",\n    apiDomain: \"http://localhost:3000\",\n    /*if you do a LocalDev cahnge to \"http://localhost:3000\" */ websiteDomain: \"http://localhost:3000\",\n    /*if you do a LocalDev cahnge to \"http://localhost:3000\" */ apiBasePath: \"/api/auth\",\n    websiteBasePath: \"/upload\"\n};\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports on update so we can compare the boundary\n                // signatures.\n                module.hot.dispose(function (data) {\n                    data.prevExports = currentExports;\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevExports !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevExports !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9jb25maWcvYXBwSW5mby50cy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQ08sTUFBTUEsVUFBVTtJQUNuQix3RkFBd0Y7SUFDeEZDLFNBQVM7SUFDVEMsV0FBVztJQUF3Qix5REFBeUQsR0FDNUZDLGVBQWU7SUFBd0IseURBQXlELEdBQ2hHQyxhQUFhO0lBQ2JDLGlCQUFpQjtBQUNuQixFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL2NvbmZpZy9hcHBJbmZvLnRzPzlmYzMiXSwic291cmNlc0NvbnRlbnQiOlsiXHJcbmV4cG9ydCBjb25zdCBhcHBJbmZvID0ge1xyXG4gICAgLy8gbGVhcm4gbW9yZSBhYm91dCB0aGlzIG9uIGh0dHBzOi8vc3VwZXJ0b2tlbnMuY29tL2RvY3MvdGhpcmRwYXJ0eWVtYWlscGFzc3dvcmQvYXBwaW5mb1xyXG4gICAgYXBwTmFtZTogXCJEaWt0YXRvcmlhbFwiLFxyXG4gICAgYXBpRG9tYWluOiBcImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMFwiLC8qaWYgeW91IGRvIGEgTG9jYWxEZXYgY2FobmdlIHRvIFwiaHR0cDovL2xvY2FsaG9zdDozMDAwXCIgKi9cclxuICAgIHdlYnNpdGVEb21haW46IFwiaHR0cDovL2xvY2FsaG9zdDozMDAwXCIsLyppZiB5b3UgZG8gYSBMb2NhbERldiBjYWhuZ2UgdG8gXCJodHRwOi8vbG9jYWxob3N0OjMwMDBcIiAqL1xyXG4gICAgYXBpQmFzZVBhdGg6IFwiL2FwaS9hdXRoXCIsXHJcbiAgICB3ZWJzaXRlQmFzZVBhdGg6IFwiL3VwbG9hZFwiXHJcbiAgfVxyXG4gICJdLCJuYW1lcyI6WyJhcHBJbmZvIiwiYXBwTmFtZSIsImFwaURvbWFpbiIsIndlYnNpdGVEb21haW4iLCJhcGlCYXNlUGF0aCIsIndlYnNpdGVCYXNlUGF0aCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./config/appInfo.ts\n"));

/***/ }),

/***/ "./config/frontendConfig.ts":
/*!**********************************!*\
  !*** ./config/frontendConfig.ts ***!
  \**********************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"frontendConfig\": function() { return /* binding */ frontendConfig; }\n/* harmony export */ });\n/* harmony import */ var supertokens_auth_react_recipe_emailpassword__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! supertokens-auth-react/recipe/emailpassword */ \"./node_modules/supertokens-auth-react/recipe/emailpassword/index.js\");\n/* harmony import */ var supertokens_auth_react_recipe_emailpassword__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(supertokens_auth_react_recipe_emailpassword__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var supertokens_auth_react_recipe_session__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! supertokens-auth-react/recipe/session */ \"./node_modules/supertokens-auth-react/recipe/session/index.js\");\n/* harmony import */ var supertokens_auth_react_recipe_session__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(supertokens_auth_react_recipe_session__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _appInfo__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./appInfo */ \"./config/appInfo.ts\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/router */ \"./node_modules/next/router.js\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_3__);\n\n\n\n\nconst frontendConfig = ()=>{\n    return {\n        appInfo: _appInfo__WEBPACK_IMPORTED_MODULE_2__.appInfo,\n        recipeList: [\n            supertokens_auth_react_recipe_emailpassword__WEBPACK_IMPORTED_MODULE_0___default().init(),\n            supertokens_auth_react_recipe_session__WEBPACK_IMPORTED_MODULE_1___default().init()\n        ],\n        windowHandler: (oI)=>{\n            return {\n                ...oI,\n                location: {\n                    ...oI.location,\n                    setHref: (href)=>{\n                        next_router__WEBPACK_IMPORTED_MODULE_3___default().push(href);\n                    }\n                }\n            };\n        }\n    };\n};\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports on update so we can compare the boundary\n                // signatures.\n                module.hot.dispose(function (data) {\n                    data.prevExports = currentExports;\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevExports !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevExports !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9jb25maWcvZnJvbnRlbmRDb25maWcudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBNEU7QUFDWjtBQUM3QjtBQUNIO0FBRXpCLE1BQU1JLGlCQUFpQixJQUFNO0lBQ2xDLE9BQU87UUFDTEYsT0FBT0EsK0NBQUFBO1FBQ1BHLFlBQVk7WUFDVkwsdUZBQXVCO1lBQ3ZCQyxpRkFBaUI7U0FDbEI7UUFDRE0sZUFBZSxDQUFDQyxLQUFZO1lBQzFCLE9BQU87Z0JBQ0wsR0FBR0EsRUFBRTtnQkFDTEMsVUFBVTtvQkFDUixHQUFHRCxHQUFHQyxRQUFRO29CQUNkQyxTQUFTLENBQUNDLE9BQWlCO3dCQUN6QlIsdURBQVcsQ0FBQ1E7b0JBQ2Q7Z0JBQ0Y7WUFDRjtRQUNGO0lBQ0Y7QUFDRixFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL2NvbmZpZy9mcm9udGVuZENvbmZpZy50cz8wMDlhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBFbWFpbFBhc3N3b3JkUmVhY3QgZnJvbSAnc3VwZXJ0b2tlbnMtYXV0aC1yZWFjdC9yZWNpcGUvZW1haWxwYXNzd29yZCdcclxuaW1wb3J0IFNlc3Npb25SZWFjdCBmcm9tICdzdXBlcnRva2Vucy1hdXRoLXJlYWN0L3JlY2lwZS9zZXNzaW9uJ1xyXG5pbXBvcnQgeyBhcHBJbmZvIH0gZnJvbSAnLi9hcHBJbmZvJ1xyXG5pbXBvcnQgUm91dGVyIGZyb20gJ25leHQvcm91dGVyJ1xyXG5cclxuZXhwb3J0IGNvbnN0IGZyb250ZW5kQ29uZmlnID0gKCkgPT4ge1xyXG4gIHJldHVybiB7XHJcbiAgICBhcHBJbmZvLFxyXG4gICAgcmVjaXBlTGlzdDogW1xyXG4gICAgICBFbWFpbFBhc3N3b3JkUmVhY3QuaW5pdCgpLFxyXG4gICAgICBTZXNzaW9uUmVhY3QuaW5pdCgpLFxyXG4gICAgXSxcclxuICAgIHdpbmRvd0hhbmRsZXI6IChvSTogYW55KSA9PiB7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgLi4ub0ksXHJcbiAgICAgICAgbG9jYXRpb246IHtcclxuICAgICAgICAgIC4uLm9JLmxvY2F0aW9uLFxyXG4gICAgICAgICAgc2V0SHJlZjogKGhyZWY6IHN0cmluZykgPT4ge1xyXG4gICAgICAgICAgICBSb3V0ZXIucHVzaChocmVmKVxyXG4gICAgICAgICAgfSxcclxuICAgICAgICB9LFxyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gIH1cclxufSJdLCJuYW1lcyI6WyJFbWFpbFBhc3N3b3JkUmVhY3QiLCJTZXNzaW9uUmVhY3QiLCJhcHBJbmZvIiwiUm91dGVyIiwiZnJvbnRlbmRDb25maWciLCJyZWNpcGVMaXN0IiwiaW5pdCIsIndpbmRvd0hhbmRsZXIiLCJvSSIsImxvY2F0aW9uIiwic2V0SHJlZiIsImhyZWYiLCJwdXNoIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./config/frontendConfig.ts\n"));

/***/ }),

/***/ "./src/pages/_app.tsx":
/*!****************************!*\
  !*** ./src/pages/_app.tsx ***!
  \****************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _styles_globals_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../styles/globals.css */ \"./src/styles/globals.css\");\n/* harmony import */ var _styles_globals_css__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_styles_globals_css__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var supertokens_auth_react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! supertokens-auth-react */ \"./node_modules/supertokens-auth-react/index.js\");\n/* harmony import */ var supertokens_auth_react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(supertokens_auth_react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _config_frontendConfig__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../config/frontendConfig */ \"./config/frontendConfig.ts\");\n\n\n\n\n\nif (true) {\n    // we only want to call this init function on the frontend, so we check typeof window !== 'undefined'\n    supertokens_auth_react__WEBPACK_IMPORTED_MODULE_3___default().init((0,_config_frontendConfig__WEBPACK_IMPORTED_MODULE_4__.frontendConfig)());\n}\nfunction MyApp(param) {\n    let { Component , pageProps  } = param;\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(supertokens_auth_react__WEBPACK_IMPORTED_MODULE_3__.SuperTokensWrapper, {\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Component, {\n            ...pageProps\n        }, void 0, false, {\n            fileName: \"/app/src/pages/_app.tsx\",\n            lineNumber: 15,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/app/src/pages/_app.tsx\",\n        lineNumber: 14,\n        columnNumber: 5\n    }, this);\n}\n_c = MyApp;\n/* harmony default export */ __webpack_exports__[\"default\"] = (MyApp);\nvar _c;\n$RefreshReg$(_c, \"MyApp\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports on update so we can compare the boundary\n                // signatures.\n                module.hot.dispose(function (data) {\n                    data.prevExports = currentExports;\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevExports !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevExports !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGFnZXMvX2FwcC50c3guanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBOEI7QUFDTDtBQUVvRDtBQUNqQjtBQUU1RCxJQUFJLElBQWtCLEVBQWE7SUFDakMscUdBQXFHO0lBQ3JHQyxrRUFBcUIsQ0FBQ0Usc0VBQWNBO0FBQ3RDLENBQUM7QUFFRCxTQUFTRSxNQUFNLEtBQWtDLEVBQUU7UUFBcEMsRUFBRUMsVUFBUyxFQUFFQyxVQUFTLEVBQVksR0FBbEM7SUFDYixxQkFDRSw4REFBQ0wsc0VBQWtCQTtrQkFDakIsNEVBQUNJO1lBQVcsR0FBR0MsU0FBUzs7Ozs7Ozs7Ozs7QUFHOUI7S0FOU0Y7QUFRVCwrREFBZUEsS0FBS0EsRUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9zcmMvcGFnZXMvX2FwcC50c3g/ZjlkNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgJy4uL3N0eWxlcy9nbG9iYWxzLmNzcydcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcbmltcG9ydCB7IEFwcFByb3BzIH0gZnJvbSAnbmV4dC9hcHAnXG5pbXBvcnQgU3VwZXJUb2tlbnNSZWFjdCwgeyBTdXBlclRva2Vuc1dyYXBwZXIgfSBmcm9tICdzdXBlcnRva2Vucy1hdXRoLXJlYWN0J1xuaW1wb3J0IHsgZnJvbnRlbmRDb25maWcgfSBmcm9tICcuLi8uLi9jb25maWcvZnJvbnRlbmRDb25maWcnXG5cbmlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAvLyB3ZSBvbmx5IHdhbnQgdG8gY2FsbCB0aGlzIGluaXQgZnVuY3Rpb24gb24gdGhlIGZyb250ZW5kLCBzbyB3ZSBjaGVjayB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJ1xuICBTdXBlclRva2Vuc1JlYWN0LmluaXQoZnJvbnRlbmRDb25maWcoKSlcbn1cblxuZnVuY3Rpb24gTXlBcHAoeyBDb21wb25lbnQsIHBhZ2VQcm9wcyB9OiBBcHBQcm9wcykge1xuICByZXR1cm4gKFxuICAgIDxTdXBlclRva2Vuc1dyYXBwZXI+XG4gICAgICA8Q29tcG9uZW50IHsuLi5wYWdlUHJvcHN9IC8+XG4gICAgPC9TdXBlclRva2Vuc1dyYXBwZXI+XG4gICk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IE15QXBwIl0sIm5hbWVzIjpbIlJlYWN0IiwiU3VwZXJUb2tlbnNSZWFjdCIsIlN1cGVyVG9rZW5zV3JhcHBlciIsImZyb250ZW5kQ29uZmlnIiwiaW5pdCIsIk15QXBwIiwiQ29tcG9uZW50IiwicGFnZVByb3BzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/pages/_app.tsx\n"));

/***/ }),

/***/ "./node_modules/next/dist/compiled/process/browser.js":
/*!************************************************************!*\
  !*** ./node_modules/next/dist/compiled/process/browser.js ***!
  \************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval(__webpack_require__.ts("var __dirname = \"/\";\n(function(){var e={229:function(e){var t=e.exports={};var r;var n;function defaultSetTimout(){throw new Error(\"setTimeout has not been defined\")}function defaultClearTimeout(){throw new Error(\"clearTimeout has not been defined\")}(function(){try{if(typeof setTimeout===\"function\"){r=setTimeout}else{r=defaultSetTimout}}catch(e){r=defaultSetTimout}try{if(typeof clearTimeout===\"function\"){n=clearTimeout}else{n=defaultClearTimeout}}catch(e){n=defaultClearTimeout}})();function runTimeout(e){if(r===setTimeout){return setTimeout(e,0)}if((r===defaultSetTimout||!r)&&setTimeout){r=setTimeout;return setTimeout(e,0)}try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}function runClearTimeout(e){if(n===clearTimeout){return clearTimeout(e)}if((n===defaultClearTimeout||!n)&&clearTimeout){n=clearTimeout;return clearTimeout(e)}try{return n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}var i=[];var o=false;var u;var a=-1;function cleanUpNextTick(){if(!o||!u){return}o=false;if(u.length){i=u.concat(i)}else{a=-1}if(i.length){drainQueue()}}function drainQueue(){if(o){return}var e=runTimeout(cleanUpNextTick);o=true;var t=i.length;while(t){u=i;i=[];while(++a<t){if(u){u[a].run()}}a=-1;t=i.length}u=null;o=false;runClearTimeout(e)}t.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1){for(var r=1;r<arguments.length;r++){t[r-1]=arguments[r]}}i.push(new Item(e,t));if(i.length===1&&!o){runTimeout(drainQueue)}};function Item(e,t){this.fun=e;this.array=t}Item.prototype.run=function(){this.fun.apply(null,this.array)};t.title=\"browser\";t.browser=true;t.env={};t.argv=[];t.version=\"\";t.versions={};function noop(){}t.on=noop;t.addListener=noop;t.once=noop;t.off=noop;t.removeListener=noop;t.removeAllListeners=noop;t.emit=noop;t.prependListener=noop;t.prependOnceListener=noop;t.listeners=function(e){return[]};t.binding=function(e){throw new Error(\"process.binding is not supported\")};t.cwd=function(){return\"/\"};t.chdir=function(e){throw new Error(\"process.chdir is not supported\")};t.umask=function(){return 0}}};var t={};function __nccwpck_require__(r){var n=t[r];if(n!==undefined){return n.exports}var i=t[r]={exports:{}};var o=true;try{e[r](i,i.exports,__nccwpck_require__);o=false}finally{if(o)delete t[r]}return i.exports}if(typeof __nccwpck_require__!==\"undefined\")__nccwpck_require__.ab=__dirname+\"/\";var r=__nccwpck_require__(229);module.exports=r})();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2NvbXBpbGVkL3Byb2Nlc3MvYnJvd3Nlci5qcy5qcyIsIm1hcHBpbmdzIjoiO0FBQUEsWUFBWSxPQUFPLGdCQUFnQixtQkFBbUIsTUFBTSxNQUFNLDRCQUE0QixtREFBbUQsK0JBQStCLHFEQUFxRCxZQUFZLElBQUksbUNBQW1DLGFBQWEsS0FBSyxvQkFBb0IsU0FBUyxtQkFBbUIsSUFBSSxxQ0FBcUMsZUFBZSxLQUFLLHVCQUF1QixTQUFTLHVCQUF1QixJQUFJLHVCQUF1QixtQkFBbUIsdUJBQXVCLDJDQUEyQyxhQUFhLHVCQUF1QixJQUFJLGNBQWMsU0FBUyxJQUFJLHdCQUF3QixTQUFTLDBCQUEwQiw0QkFBNEIscUJBQXFCLHVCQUF1QixnREFBZ0QsZUFBZSx1QkFBdUIsSUFBSSxZQUFZLFNBQVMsSUFBSSxzQkFBc0IsU0FBUyx3QkFBd0IsU0FBUyxZQUFZLE1BQU0sU0FBUywyQkFBMkIsV0FBVyxPQUFPLFFBQVEsYUFBYSxjQUFjLEtBQUssS0FBSyxhQUFhLGNBQWMsc0JBQXNCLE1BQU0sT0FBTyxrQ0FBa0MsT0FBTyxlQUFlLFNBQVMsSUFBSSxLQUFLLGFBQWEsTUFBTSxZQUFZLEtBQUssV0FBVyxPQUFPLFFBQVEsbUJBQW1CLHVCQUF1QixvQ0FBb0MsdUJBQXVCLFlBQVksbUJBQW1CLEtBQUsscUJBQXFCLHNCQUFzQixxQkFBcUIseUJBQXlCLG1CQUFtQixXQUFXLGFBQWEsOEJBQThCLGlDQUFpQyxrQkFBa0IsZUFBZSxTQUFTLFVBQVUsYUFBYSxjQUFjLGlCQUFpQixVQUFVLG1CQUFtQixZQUFZLFdBQVcsc0JBQXNCLDBCQUEwQixZQUFZLHVCQUF1QiwyQkFBMkIsd0JBQXdCLFVBQVUsc0JBQXNCLHFEQUFxRCxpQkFBaUIsV0FBVyxvQkFBb0IsbURBQW1ELG1CQUFtQixZQUFZLFNBQVMsZ0NBQWdDLFdBQVcsa0JBQWtCLGlCQUFpQixZQUFZLFlBQVksV0FBVyxJQUFJLHNDQUFzQyxRQUFRLFFBQVEsaUJBQWlCLGlCQUFpQixtRUFBbUUsU0FBUyxLQUFLLCtCQUErQixpQkFBaUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL25leHQvZGlzdC9jb21waWxlZC9wcm9jZXNzL2Jyb3dzZXIuanM/MWIxZCJdLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKXt2YXIgZT17MjI5OmZ1bmN0aW9uKGUpe3ZhciB0PWUuZXhwb3J0cz17fTt2YXIgcjt2YXIgbjtmdW5jdGlvbiBkZWZhdWx0U2V0VGltb3V0KCl7dGhyb3cgbmV3IEVycm9yKFwic2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZFwiKX1mdW5jdGlvbiBkZWZhdWx0Q2xlYXJUaW1lb3V0KCl7dGhyb3cgbmV3IEVycm9yKFwiY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkXCIpfShmdW5jdGlvbigpe3RyeXtpZih0eXBlb2Ygc2V0VGltZW91dD09PVwiZnVuY3Rpb25cIil7cj1zZXRUaW1lb3V0fWVsc2V7cj1kZWZhdWx0U2V0VGltb3V0fX1jYXRjaChlKXtyPWRlZmF1bHRTZXRUaW1vdXR9dHJ5e2lmKHR5cGVvZiBjbGVhclRpbWVvdXQ9PT1cImZ1bmN0aW9uXCIpe249Y2xlYXJUaW1lb3V0fWVsc2V7bj1kZWZhdWx0Q2xlYXJUaW1lb3V0fX1jYXRjaChlKXtuPWRlZmF1bHRDbGVhclRpbWVvdXR9fSkoKTtmdW5jdGlvbiBydW5UaW1lb3V0KGUpe2lmKHI9PT1zZXRUaW1lb3V0KXtyZXR1cm4gc2V0VGltZW91dChlLDApfWlmKChyPT09ZGVmYXVsdFNldFRpbW91dHx8IXIpJiZzZXRUaW1lb3V0KXtyPXNldFRpbWVvdXQ7cmV0dXJuIHNldFRpbWVvdXQoZSwwKX10cnl7cmV0dXJuIHIoZSwwKX1jYXRjaCh0KXt0cnl7cmV0dXJuIHIuY2FsbChudWxsLGUsMCl9Y2F0Y2godCl7cmV0dXJuIHIuY2FsbCh0aGlzLGUsMCl9fX1mdW5jdGlvbiBydW5DbGVhclRpbWVvdXQoZSl7aWYobj09PWNsZWFyVGltZW91dCl7cmV0dXJuIGNsZWFyVGltZW91dChlKX1pZigobj09PWRlZmF1bHRDbGVhclRpbWVvdXR8fCFuKSYmY2xlYXJUaW1lb3V0KXtuPWNsZWFyVGltZW91dDtyZXR1cm4gY2xlYXJUaW1lb3V0KGUpfXRyeXtyZXR1cm4gbihlKX1jYXRjaCh0KXt0cnl7cmV0dXJuIG4uY2FsbChudWxsLGUpfWNhdGNoKHQpe3JldHVybiBuLmNhbGwodGhpcyxlKX19fXZhciBpPVtdO3ZhciBvPWZhbHNlO3ZhciB1O3ZhciBhPS0xO2Z1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpe2lmKCFvfHwhdSl7cmV0dXJufW89ZmFsc2U7aWYodS5sZW5ndGgpe2k9dS5jb25jYXQoaSl9ZWxzZXthPS0xfWlmKGkubGVuZ3RoKXtkcmFpblF1ZXVlKCl9fWZ1bmN0aW9uIGRyYWluUXVldWUoKXtpZihvKXtyZXR1cm59dmFyIGU9cnVuVGltZW91dChjbGVhblVwTmV4dFRpY2spO289dHJ1ZTt2YXIgdD1pLmxlbmd0aDt3aGlsZSh0KXt1PWk7aT1bXTt3aGlsZSgrK2E8dCl7aWYodSl7dVthXS5ydW4oKX19YT0tMTt0PWkubGVuZ3RofXU9bnVsbDtvPWZhbHNlO3J1bkNsZWFyVGltZW91dChlKX10Lm5leHRUaWNrPWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoLTEpO2lmKGFyZ3VtZW50cy5sZW5ndGg+MSl7Zm9yKHZhciByPTE7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyl7dFtyLTFdPWFyZ3VtZW50c1tyXX19aS5wdXNoKG5ldyBJdGVtKGUsdCkpO2lmKGkubGVuZ3RoPT09MSYmIW8pe3J1blRpbWVvdXQoZHJhaW5RdWV1ZSl9fTtmdW5jdGlvbiBJdGVtKGUsdCl7dGhpcy5mdW49ZTt0aGlzLmFycmF5PXR9SXRlbS5wcm90b3R5cGUucnVuPWZ1bmN0aW9uKCl7dGhpcy5mdW4uYXBwbHkobnVsbCx0aGlzLmFycmF5KX07dC50aXRsZT1cImJyb3dzZXJcIjt0LmJyb3dzZXI9dHJ1ZTt0LmVudj17fTt0LmFyZ3Y9W107dC52ZXJzaW9uPVwiXCI7dC52ZXJzaW9ucz17fTtmdW5jdGlvbiBub29wKCl7fXQub249bm9vcDt0LmFkZExpc3RlbmVyPW5vb3A7dC5vbmNlPW5vb3A7dC5vZmY9bm9vcDt0LnJlbW92ZUxpc3RlbmVyPW5vb3A7dC5yZW1vdmVBbGxMaXN0ZW5lcnM9bm9vcDt0LmVtaXQ9bm9vcDt0LnByZXBlbmRMaXN0ZW5lcj1ub29wO3QucHJlcGVuZE9uY2VMaXN0ZW5lcj1ub29wO3QubGlzdGVuZXJzPWZ1bmN0aW9uKGUpe3JldHVybltdfTt0LmJpbmRpbmc9ZnVuY3Rpb24oZSl7dGhyb3cgbmV3IEVycm9yKFwicHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWRcIil9O3QuY3dkPWZ1bmN0aW9uKCl7cmV0dXJuXCIvXCJ9O3QuY2hkaXI9ZnVuY3Rpb24oZSl7dGhyb3cgbmV3IEVycm9yKFwicHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkXCIpfTt0LnVtYXNrPWZ1bmN0aW9uKCl7cmV0dXJuIDB9fX07dmFyIHQ9e307ZnVuY3Rpb24gX19uY2N3cGNrX3JlcXVpcmVfXyhyKXt2YXIgbj10W3JdO2lmKG4hPT11bmRlZmluZWQpe3JldHVybiBuLmV4cG9ydHN9dmFyIGk9dFtyXT17ZXhwb3J0czp7fX07dmFyIG89dHJ1ZTt0cnl7ZVtyXShpLGkuZXhwb3J0cyxfX25jY3dwY2tfcmVxdWlyZV9fKTtvPWZhbHNlfWZpbmFsbHl7aWYobylkZWxldGUgdFtyXX1yZXR1cm4gaS5leHBvcnRzfWlmKHR5cGVvZiBfX25jY3dwY2tfcmVxdWlyZV9fIT09XCJ1bmRlZmluZWRcIilfX25jY3dwY2tfcmVxdWlyZV9fLmFiPV9fZGlybmFtZStcIi9cIjt2YXIgcj1fX25jY3dwY2tfcmVxdWlyZV9fKDIyOSk7bW9kdWxlLmV4cG9ydHM9cn0pKCk7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/next/dist/compiled/process/browser.js\n"));

/***/ }),

/***/ "./node_modules/next/router.js":
/*!*************************************!*\
  !*** ./node_modules/next/router.js ***!
  \*************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval(__webpack_require__.ts("module.exports = __webpack_require__(/*! ./dist/client/router */ \"./node_modules/next/dist/client/router.js\")\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbmV4dC9yb3V0ZXIuanMuanMiLCJtYXBwaW5ncyI6IkFBQUEsNkdBQWdEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9uZXh0L3JvdXRlci5qcz8xYmI2Il0sInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9kaXN0L2NsaWVudC9yb3V0ZXInKVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/next/router.js\n"));

/***/ }),

/***/ "./node_modules/react/cjs/react-jsx-dev-runtime.development.js":
/*!*********************************************************************!*\
  !*** ./node_modules/react/cjs/react-jsx-dev-runtime.development.js ***!
  \*********************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("/**\n * @license React\n * react-jsx-dev-runtime.development.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\n\nif (true) {\n  (function() {\n'use strict';\n\nvar React = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n\n// ATTENTION\n// When adding new symbols to this file,\n// Please consider also adding to 'react-devtools-shared/src/backend/ReactSymbols'\n// The Symbol used to tag the ReactElement-like types.\nvar REACT_ELEMENT_TYPE = Symbol.for('react.element');\nvar REACT_PORTAL_TYPE = Symbol.for('react.portal');\nvar REACT_FRAGMENT_TYPE = Symbol.for('react.fragment');\nvar REACT_STRICT_MODE_TYPE = Symbol.for('react.strict_mode');\nvar REACT_PROFILER_TYPE = Symbol.for('react.profiler');\nvar REACT_PROVIDER_TYPE = Symbol.for('react.provider');\nvar REACT_CONTEXT_TYPE = Symbol.for('react.context');\nvar REACT_FORWARD_REF_TYPE = Symbol.for('react.forward_ref');\nvar REACT_SUSPENSE_TYPE = Symbol.for('react.suspense');\nvar REACT_SUSPENSE_LIST_TYPE = Symbol.for('react.suspense_list');\nvar REACT_MEMO_TYPE = Symbol.for('react.memo');\nvar REACT_LAZY_TYPE = Symbol.for('react.lazy');\nvar REACT_OFFSCREEN_TYPE = Symbol.for('react.offscreen');\nvar MAYBE_ITERATOR_SYMBOL = Symbol.iterator;\nvar FAUX_ITERATOR_SYMBOL = '@@iterator';\nfunction getIteratorFn(maybeIterable) {\n  if (maybeIterable === null || typeof maybeIterable !== 'object') {\n    return null;\n  }\n\n  var maybeIterator = MAYBE_ITERATOR_SYMBOL && maybeIterable[MAYBE_ITERATOR_SYMBOL] || maybeIterable[FAUX_ITERATOR_SYMBOL];\n\n  if (typeof maybeIterator === 'function') {\n    return maybeIterator;\n  }\n\n  return null;\n}\n\nvar ReactSharedInternals = React.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n\nfunction error(format) {\n  {\n    {\n      for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n        args[_key2 - 1] = arguments[_key2];\n      }\n\n      printWarning('error', format, args);\n    }\n  }\n}\n\nfunction printWarning(level, format, args) {\n  // When changing this logic, you might want to also\n  // update consoleWithStackDev.www.js as well.\n  {\n    var ReactDebugCurrentFrame = ReactSharedInternals.ReactDebugCurrentFrame;\n    var stack = ReactDebugCurrentFrame.getStackAddendum();\n\n    if (stack !== '') {\n      format += '%s';\n      args = args.concat([stack]);\n    } // eslint-disable-next-line react-internal/safe-string-coercion\n\n\n    var argsWithFormat = args.map(function (item) {\n      return String(item);\n    }); // Careful: RN currently depends on this prefix\n\n    argsWithFormat.unshift('Warning: ' + format); // We intentionally don't use spread (or .apply) directly because it\n    // breaks IE9: https://github.com/facebook/react/issues/13610\n    // eslint-disable-next-line react-internal/no-production-logging\n\n    Function.prototype.apply.call(console[level], console, argsWithFormat);\n  }\n}\n\n// -----------------------------------------------------------------------------\n\nvar enableScopeAPI = false; // Experimental Create Event Handle API.\nvar enableCacheElement = false;\nvar enableTransitionTracing = false; // No known bugs, but needs performance testing\n\nvar enableLegacyHidden = false; // Enables unstable_avoidThisFallback feature in Fiber\n// stuff. Intended to enable React core members to more easily debug scheduling\n// issues in DEV builds.\n\nvar enableDebugTracing = false; // Track which Fiber(s) schedule render work.\n\nvar REACT_MODULE_REFERENCE;\n\n{\n  REACT_MODULE_REFERENCE = Symbol.for('react.module.reference');\n}\n\nfunction isValidElementType(type) {\n  if (typeof type === 'string' || typeof type === 'function') {\n    return true;\n  } // Note: typeof might be other than 'symbol' or 'number' (e.g. if it's a polyfill).\n\n\n  if (type === REACT_FRAGMENT_TYPE || type === REACT_PROFILER_TYPE || enableDebugTracing  || type === REACT_STRICT_MODE_TYPE || type === REACT_SUSPENSE_TYPE || type === REACT_SUSPENSE_LIST_TYPE || enableLegacyHidden  || type === REACT_OFFSCREEN_TYPE || enableScopeAPI  || enableCacheElement  || enableTransitionTracing ) {\n    return true;\n  }\n\n  if (typeof type === 'object' && type !== null) {\n    if (type.$$typeof === REACT_LAZY_TYPE || type.$$typeof === REACT_MEMO_TYPE || type.$$typeof === REACT_PROVIDER_TYPE || type.$$typeof === REACT_CONTEXT_TYPE || type.$$typeof === REACT_FORWARD_REF_TYPE || // This needs to include all possible module reference object\n    // types supported by any Flight configuration anywhere since\n    // we don't know which Flight build this will end up being used\n    // with.\n    type.$$typeof === REACT_MODULE_REFERENCE || type.getModuleId !== undefined) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction getWrappedName(outerType, innerType, wrapperName) {\n  var displayName = outerType.displayName;\n\n  if (displayName) {\n    return displayName;\n  }\n\n  var functionName = innerType.displayName || innerType.name || '';\n  return functionName !== '' ? wrapperName + \"(\" + functionName + \")\" : wrapperName;\n} // Keep in sync with react-reconciler/getComponentNameFromFiber\n\n\nfunction getContextName(type) {\n  return type.displayName || 'Context';\n} // Note that the reconciler package should generally prefer to use getComponentNameFromFiber() instead.\n\n\nfunction getComponentNameFromType(type) {\n  if (type == null) {\n    // Host root, text node or just invalid type.\n    return null;\n  }\n\n  {\n    if (typeof type.tag === 'number') {\n      error('Received an unexpected object in getComponentNameFromType(). ' + 'This is likely a bug in React. Please file an issue.');\n    }\n  }\n\n  if (typeof type === 'function') {\n    return type.displayName || type.name || null;\n  }\n\n  if (typeof type === 'string') {\n    return type;\n  }\n\n  switch (type) {\n    case REACT_FRAGMENT_TYPE:\n      return 'Fragment';\n\n    case REACT_PORTAL_TYPE:\n      return 'Portal';\n\n    case REACT_PROFILER_TYPE:\n      return 'Profiler';\n\n    case REACT_STRICT_MODE_TYPE:\n      return 'StrictMode';\n\n    case REACT_SUSPENSE_TYPE:\n      return 'Suspense';\n\n    case REACT_SUSPENSE_LIST_TYPE:\n      return 'SuspenseList';\n\n  }\n\n  if (typeof type === 'object') {\n    switch (type.$$typeof) {\n      case REACT_CONTEXT_TYPE:\n        var context = type;\n        return getContextName(context) + '.Consumer';\n\n      case REACT_PROVIDER_TYPE:\n        var provider = type;\n        return getContextName(provider._context) + '.Provider';\n\n      case REACT_FORWARD_REF_TYPE:\n        return getWrappedName(type, type.render, 'ForwardRef');\n\n      case REACT_MEMO_TYPE:\n        var outerName = type.displayName || null;\n\n        if (outerName !== null) {\n          return outerName;\n        }\n\n        return getComponentNameFromType(type.type) || 'Memo';\n\n      case REACT_LAZY_TYPE:\n        {\n          var lazyComponent = type;\n          var payload = lazyComponent._payload;\n          var init = lazyComponent._init;\n\n          try {\n            return getComponentNameFromType(init(payload));\n          } catch (x) {\n            return null;\n          }\n        }\n\n      // eslint-disable-next-line no-fallthrough\n    }\n  }\n\n  return null;\n}\n\nvar assign = Object.assign;\n\n// Helpers to patch console.logs to avoid logging during side-effect free\n// replaying on render function. This currently only patches the object\n// lazily which won't cover if the log function was extracted eagerly.\n// We could also eagerly patch the method.\nvar disabledDepth = 0;\nvar prevLog;\nvar prevInfo;\nvar prevWarn;\nvar prevError;\nvar prevGroup;\nvar prevGroupCollapsed;\nvar prevGroupEnd;\n\nfunction disabledLog() {}\n\ndisabledLog.__reactDisabledLog = true;\nfunction disableLogs() {\n  {\n    if (disabledDepth === 0) {\n      /* eslint-disable react-internal/no-production-logging */\n      prevLog = console.log;\n      prevInfo = console.info;\n      prevWarn = console.warn;\n      prevError = console.error;\n      prevGroup = console.group;\n      prevGroupCollapsed = console.groupCollapsed;\n      prevGroupEnd = console.groupEnd; // https://github.com/facebook/react/issues/19099\n\n      var props = {\n        configurable: true,\n        enumerable: true,\n        value: disabledLog,\n        writable: true\n      }; // $FlowFixMe Flow thinks console is immutable.\n\n      Object.defineProperties(console, {\n        info: props,\n        log: props,\n        warn: props,\n        error: props,\n        group: props,\n        groupCollapsed: props,\n        groupEnd: props\n      });\n      /* eslint-enable react-internal/no-production-logging */\n    }\n\n    disabledDepth++;\n  }\n}\nfunction reenableLogs() {\n  {\n    disabledDepth--;\n\n    if (disabledDepth === 0) {\n      /* eslint-disable react-internal/no-production-logging */\n      var props = {\n        configurable: true,\n        enumerable: true,\n        writable: true\n      }; // $FlowFixMe Flow thinks console is immutable.\n\n      Object.defineProperties(console, {\n        log: assign({}, props, {\n          value: prevLog\n        }),\n        info: assign({}, props, {\n          value: prevInfo\n        }),\n        warn: assign({}, props, {\n          value: prevWarn\n        }),\n        error: assign({}, props, {\n          value: prevError\n        }),\n        group: assign({}, props, {\n          value: prevGroup\n        }),\n        groupCollapsed: assign({}, props, {\n          value: prevGroupCollapsed\n        }),\n        groupEnd: assign({}, props, {\n          value: prevGroupEnd\n        })\n      });\n      /* eslint-enable react-internal/no-production-logging */\n    }\n\n    if (disabledDepth < 0) {\n      error('disabledDepth fell below zero. ' + 'This is a bug in React. Please file an issue.');\n    }\n  }\n}\n\nvar ReactCurrentDispatcher = ReactSharedInternals.ReactCurrentDispatcher;\nvar prefix;\nfunction describeBuiltInComponentFrame(name, source, ownerFn) {\n  {\n    if (prefix === undefined) {\n      // Extract the VM specific prefix used by each line.\n      try {\n        throw Error();\n      } catch (x) {\n        var match = x.stack.trim().match(/\\n( *(at )?)/);\n        prefix = match && match[1] || '';\n      }\n    } // We use the prefix to ensure our stacks line up with native stack frames.\n\n\n    return '\\n' + prefix + name;\n  }\n}\nvar reentry = false;\nvar componentFrameCache;\n\n{\n  var PossiblyWeakMap = typeof WeakMap === 'function' ? WeakMap : Map;\n  componentFrameCache = new PossiblyWeakMap();\n}\n\nfunction describeNativeComponentFrame(fn, construct) {\n  // If something asked for a stack inside a fake render, it should get ignored.\n  if ( !fn || reentry) {\n    return '';\n  }\n\n  {\n    var frame = componentFrameCache.get(fn);\n\n    if (frame !== undefined) {\n      return frame;\n    }\n  }\n\n  var control;\n  reentry = true;\n  var previousPrepareStackTrace = Error.prepareStackTrace; // $FlowFixMe It does accept undefined.\n\n  Error.prepareStackTrace = undefined;\n  var previousDispatcher;\n\n  {\n    previousDispatcher = ReactCurrentDispatcher.current; // Set the dispatcher in DEV because this might be call in the render function\n    // for warnings.\n\n    ReactCurrentDispatcher.current = null;\n    disableLogs();\n  }\n\n  try {\n    // This should throw.\n    if (construct) {\n      // Something should be setting the props in the constructor.\n      var Fake = function () {\n        throw Error();\n      }; // $FlowFixMe\n\n\n      Object.defineProperty(Fake.prototype, 'props', {\n        set: function () {\n          // We use a throwing setter instead of frozen or non-writable props\n          // because that won't throw in a non-strict mode function.\n          throw Error();\n        }\n      });\n\n      if (typeof Reflect === 'object' && Reflect.construct) {\n        // We construct a different control for this case to include any extra\n        // frames added by the construct call.\n        try {\n          Reflect.construct(Fake, []);\n        } catch (x) {\n          control = x;\n        }\n\n        Reflect.construct(fn, [], Fake);\n      } else {\n        try {\n          Fake.call();\n        } catch (x) {\n          control = x;\n        }\n\n        fn.call(Fake.prototype);\n      }\n    } else {\n      try {\n        throw Error();\n      } catch (x) {\n        control = x;\n      }\n\n      fn();\n    }\n  } catch (sample) {\n    // This is inlined manually because closure doesn't do it for us.\n    if (sample && control && typeof sample.stack === 'string') {\n      // This extracts the first frame from the sample that isn't also in the control.\n      // Skipping one frame that we assume is the frame that calls the two.\n      var sampleLines = sample.stack.split('\\n');\n      var controlLines = control.stack.split('\\n');\n      var s = sampleLines.length - 1;\n      var c = controlLines.length - 1;\n\n      while (s >= 1 && c >= 0 && sampleLines[s] !== controlLines[c]) {\n        // We expect at least one stack frame to be shared.\n        // Typically this will be the root most one. However, stack frames may be\n        // cut off due to maximum stack limits. In this case, one maybe cut off\n        // earlier than the other. We assume that the sample is longer or the same\n        // and there for cut off earlier. So we should find the root most frame in\n        // the sample somewhere in the control.\n        c--;\n      }\n\n      for (; s >= 1 && c >= 0; s--, c--) {\n        // Next we find the first one that isn't the same which should be the\n        // frame that called our sample function and the control.\n        if (sampleLines[s] !== controlLines[c]) {\n          // In V8, the first line is describing the message but other VMs don't.\n          // If we're about to return the first line, and the control is also on the same\n          // line, that's a pretty good indicator that our sample threw at same line as\n          // the control. I.e. before we entered the sample frame. So we ignore this result.\n          // This can happen if you passed a class to function component, or non-function.\n          if (s !== 1 || c !== 1) {\n            do {\n              s--;\n              c--; // We may still have similar intermediate frames from the construct call.\n              // The next one that isn't the same should be our match though.\n\n              if (c < 0 || sampleLines[s] !== controlLines[c]) {\n                // V8 adds a \"new\" prefix for native classes. Let's remove it to make it prettier.\n                var _frame = '\\n' + sampleLines[s].replace(' at new ', ' at '); // If our component frame is labeled \"<anonymous>\"\n                // but we have a user-provided \"displayName\"\n                // splice it in to make the stack more readable.\n\n\n                if (fn.displayName && _frame.includes('<anonymous>')) {\n                  _frame = _frame.replace('<anonymous>', fn.displayName);\n                }\n\n                {\n                  if (typeof fn === 'function') {\n                    componentFrameCache.set(fn, _frame);\n                  }\n                } // Return the line we found.\n\n\n                return _frame;\n              }\n            } while (s >= 1 && c >= 0);\n          }\n\n          break;\n        }\n      }\n    }\n  } finally {\n    reentry = false;\n\n    {\n      ReactCurrentDispatcher.current = previousDispatcher;\n      reenableLogs();\n    }\n\n    Error.prepareStackTrace = previousPrepareStackTrace;\n  } // Fallback to just using the name if we couldn't make it throw.\n\n\n  var name = fn ? fn.displayName || fn.name : '';\n  var syntheticFrame = name ? describeBuiltInComponentFrame(name) : '';\n\n  {\n    if (typeof fn === 'function') {\n      componentFrameCache.set(fn, syntheticFrame);\n    }\n  }\n\n  return syntheticFrame;\n}\nfunction describeFunctionComponentFrame(fn, source, ownerFn) {\n  {\n    return describeNativeComponentFrame(fn, false);\n  }\n}\n\nfunction shouldConstruct(Component) {\n  var prototype = Component.prototype;\n  return !!(prototype && prototype.isReactComponent);\n}\n\nfunction describeUnknownElementTypeFrameInDEV(type, source, ownerFn) {\n\n  if (type == null) {\n    return '';\n  }\n\n  if (typeof type === 'function') {\n    {\n      return describeNativeComponentFrame(type, shouldConstruct(type));\n    }\n  }\n\n  if (typeof type === 'string') {\n    return describeBuiltInComponentFrame(type);\n  }\n\n  switch (type) {\n    case REACT_SUSPENSE_TYPE:\n      return describeBuiltInComponentFrame('Suspense');\n\n    case REACT_SUSPENSE_LIST_TYPE:\n      return describeBuiltInComponentFrame('SuspenseList');\n  }\n\n  if (typeof type === 'object') {\n    switch (type.$$typeof) {\n      case REACT_FORWARD_REF_TYPE:\n        return describeFunctionComponentFrame(type.render);\n\n      case REACT_MEMO_TYPE:\n        // Memo may contain any component type so we recursively resolve it.\n        return describeUnknownElementTypeFrameInDEV(type.type, source, ownerFn);\n\n      case REACT_LAZY_TYPE:\n        {\n          var lazyComponent = type;\n          var payload = lazyComponent._payload;\n          var init = lazyComponent._init;\n\n          try {\n            // Lazy may contain any component type so we recursively resolve it.\n            return describeUnknownElementTypeFrameInDEV(init(payload), source, ownerFn);\n          } catch (x) {}\n        }\n    }\n  }\n\n  return '';\n}\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nvar loggedTypeFailures = {};\nvar ReactDebugCurrentFrame = ReactSharedInternals.ReactDebugCurrentFrame;\n\nfunction setCurrentlyValidatingElement(element) {\n  {\n    if (element) {\n      var owner = element._owner;\n      var stack = describeUnknownElementTypeFrameInDEV(element.type, element._source, owner ? owner.type : null);\n      ReactDebugCurrentFrame.setExtraStackFrame(stack);\n    } else {\n      ReactDebugCurrentFrame.setExtraStackFrame(null);\n    }\n  }\n}\n\nfunction checkPropTypes(typeSpecs, values, location, componentName, element) {\n  {\n    // $FlowFixMe This is okay but Flow doesn't know it.\n    var has = Function.call.bind(hasOwnProperty);\n\n    for (var typeSpecName in typeSpecs) {\n      if (has(typeSpecs, typeSpecName)) {\n        var error$1 = void 0; // Prop type validation may throw. In case they do, we don't want to\n        // fail the render phase where it didn't fail before. So we log it.\n        // After these have been cleaned up, we'll let them throw.\n\n        try {\n          // This is intentionally an invariant that gets caught. It's the same\n          // behavior as without this statement except with a better message.\n          if (typeof typeSpecs[typeSpecName] !== 'function') {\n            // eslint-disable-next-line react-internal/prod-error-codes\n            var err = Error((componentName || 'React class') + ': ' + location + ' type `' + typeSpecName + '` is invalid; ' + 'it must be a function, usually from the `prop-types` package, but received `' + typeof typeSpecs[typeSpecName] + '`.' + 'This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.');\n            err.name = 'Invariant Violation';\n            throw err;\n          }\n\n          error$1 = typeSpecs[typeSpecName](values, typeSpecName, componentName, location, null, 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED');\n        } catch (ex) {\n          error$1 = ex;\n        }\n\n        if (error$1 && !(error$1 instanceof Error)) {\n          setCurrentlyValidatingElement(element);\n\n          error('%s: type specification of %s' + ' `%s` is invalid; the type checker ' + 'function must return `null` or an `Error` but returned a %s. ' + 'You may have forgotten to pass an argument to the type checker ' + 'creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and ' + 'shape all require an argument).', componentName || 'React class', location, typeSpecName, typeof error$1);\n\n          setCurrentlyValidatingElement(null);\n        }\n\n        if (error$1 instanceof Error && !(error$1.message in loggedTypeFailures)) {\n          // Only monitor this failure once because there tends to be a lot of the\n          // same error.\n          loggedTypeFailures[error$1.message] = true;\n          setCurrentlyValidatingElement(element);\n\n          error('Failed %s type: %s', location, error$1.message);\n\n          setCurrentlyValidatingElement(null);\n        }\n      }\n    }\n  }\n}\n\nvar isArrayImpl = Array.isArray; // eslint-disable-next-line no-redeclare\n\nfunction isArray(a) {\n  return isArrayImpl(a);\n}\n\n/*\n * The `'' + value` pattern (used in in perf-sensitive code) throws for Symbol\n * and Temporal.* types. See https://github.com/facebook/react/pull/22064.\n *\n * The functions in this module will throw an easier-to-understand,\n * easier-to-debug exception with a clear errors message message explaining the\n * problem. (Instead of a confusing exception thrown inside the implementation\n * of the `value` object).\n */\n// $FlowFixMe only called in DEV, so void return is not possible.\nfunction typeName(value) {\n  {\n    // toStringTag is needed for namespaced types like Temporal.Instant\n    var hasToStringTag = typeof Symbol === 'function' && Symbol.toStringTag;\n    var type = hasToStringTag && value[Symbol.toStringTag] || value.constructor.name || 'Object';\n    return type;\n  }\n} // $FlowFixMe only called in DEV, so void return is not possible.\n\n\nfunction willCoercionThrow(value) {\n  {\n    try {\n      testStringCoercion(value);\n      return false;\n    } catch (e) {\n      return true;\n    }\n  }\n}\n\nfunction testStringCoercion(value) {\n  // If you ended up here by following an exception call stack, here's what's\n  // happened: you supplied an object or symbol value to React (as a prop, key,\n  // DOM attribute, CSS property, string ref, etc.) and when React tried to\n  // coerce it to a string using `'' + value`, an exception was thrown.\n  //\n  // The most common types that will cause this exception are `Symbol` instances\n  // and Temporal objects like `Temporal.Instant`. But any object that has a\n  // `valueOf` or `[Symbol.toPrimitive]` method that throws will also cause this\n  // exception. (Library authors do this to prevent users from using built-in\n  // numeric operators like `+` or comparison operators like `>=` because custom\n  // methods are needed to perform accurate arithmetic or comparison.)\n  //\n  // To fix the problem, coerce this object or symbol value to a string before\n  // passing it to React. The most reliable way is usually `String(value)`.\n  //\n  // To find which value is throwing, check the browser or debugger console.\n  // Before this exception was thrown, there should be `console.error` output\n  // that shows the type (Symbol, Temporal.PlainDate, etc.) that caused the\n  // problem and how that type was used: key, atrribute, input value prop, etc.\n  // In most cases, this console output also shows the component and its\n  // ancestor components where the exception happened.\n  //\n  // eslint-disable-next-line react-internal/safe-string-coercion\n  return '' + value;\n}\nfunction checkKeyStringCoercion(value) {\n  {\n    if (willCoercionThrow(value)) {\n      error('The provided key is an unsupported type %s.' + ' This value must be coerced to a string before before using it here.', typeName(value));\n\n      return testStringCoercion(value); // throw (to help callers find troubleshooting comments)\n    }\n  }\n}\n\nvar ReactCurrentOwner = ReactSharedInternals.ReactCurrentOwner;\nvar RESERVED_PROPS = {\n  key: true,\n  ref: true,\n  __self: true,\n  __source: true\n};\nvar specialPropKeyWarningShown;\nvar specialPropRefWarningShown;\nvar didWarnAboutStringRefs;\n\n{\n  didWarnAboutStringRefs = {};\n}\n\nfunction hasValidRef(config) {\n  {\n    if (hasOwnProperty.call(config, 'ref')) {\n      var getter = Object.getOwnPropertyDescriptor(config, 'ref').get;\n\n      if (getter && getter.isReactWarning) {\n        return false;\n      }\n    }\n  }\n\n  return config.ref !== undefined;\n}\n\nfunction hasValidKey(config) {\n  {\n    if (hasOwnProperty.call(config, 'key')) {\n      var getter = Object.getOwnPropertyDescriptor(config, 'key').get;\n\n      if (getter && getter.isReactWarning) {\n        return false;\n      }\n    }\n  }\n\n  return config.key !== undefined;\n}\n\nfunction warnIfStringRefCannotBeAutoConverted(config, self) {\n  {\n    if (typeof config.ref === 'string' && ReactCurrentOwner.current && self && ReactCurrentOwner.current.stateNode !== self) {\n      var componentName = getComponentNameFromType(ReactCurrentOwner.current.type);\n\n      if (!didWarnAboutStringRefs[componentName]) {\n        error('Component \"%s\" contains the string ref \"%s\". ' + 'Support for string refs will be removed in a future major release. ' + 'This case cannot be automatically converted to an arrow function. ' + 'We ask you to manually fix this case by using useRef() or createRef() instead. ' + 'Learn more about using refs safely here: ' + 'https://reactjs.org/link/strict-mode-string-ref', getComponentNameFromType(ReactCurrentOwner.current.type), config.ref);\n\n        didWarnAboutStringRefs[componentName] = true;\n      }\n    }\n  }\n}\n\nfunction defineKeyPropWarningGetter(props, displayName) {\n  {\n    var warnAboutAccessingKey = function () {\n      if (!specialPropKeyWarningShown) {\n        specialPropKeyWarningShown = true;\n\n        error('%s: `key` is not a prop. Trying to access it will result ' + 'in `undefined` being returned. If you need to access the same ' + 'value within the child component, you should pass it as a different ' + 'prop. (https://reactjs.org/link/special-props)', displayName);\n      }\n    };\n\n    warnAboutAccessingKey.isReactWarning = true;\n    Object.defineProperty(props, 'key', {\n      get: warnAboutAccessingKey,\n      configurable: true\n    });\n  }\n}\n\nfunction defineRefPropWarningGetter(props, displayName) {\n  {\n    var warnAboutAccessingRef = function () {\n      if (!specialPropRefWarningShown) {\n        specialPropRefWarningShown = true;\n\n        error('%s: `ref` is not a prop. Trying to access it will result ' + 'in `undefined` being returned. If you need to access the same ' + 'value within the child component, you should pass it as a different ' + 'prop. (https://reactjs.org/link/special-props)', displayName);\n      }\n    };\n\n    warnAboutAccessingRef.isReactWarning = true;\n    Object.defineProperty(props, 'ref', {\n      get: warnAboutAccessingRef,\n      configurable: true\n    });\n  }\n}\n/**\n * Factory method to create a new React element. This no longer adheres to\n * the class pattern, so do not use new to call it. Also, instanceof check\n * will not work. Instead test $$typeof field against Symbol.for('react.element') to check\n * if something is a React Element.\n *\n * @param {*} type\n * @param {*} props\n * @param {*} key\n * @param {string|object} ref\n * @param {*} owner\n * @param {*} self A *temporary* helper to detect places where `this` is\n * different from the `owner` when React.createElement is called, so that we\n * can warn. We want to get rid of owner and replace string `ref`s with arrow\n * functions, and as long as `this` and owner are the same, there will be no\n * change in behavior.\n * @param {*} source An annotation object (added by a transpiler or otherwise)\n * indicating filename, line number, and/or other information.\n * @internal\n */\n\n\nvar ReactElement = function (type, key, ref, self, source, owner, props) {\n  var element = {\n    // This tag allows us to uniquely identify this as a React Element\n    $$typeof: REACT_ELEMENT_TYPE,\n    // Built-in properties that belong on the element\n    type: type,\n    key: key,\n    ref: ref,\n    props: props,\n    // Record the component responsible for creating this element.\n    _owner: owner\n  };\n\n  {\n    // The validation flag is currently mutative. We put it on\n    // an external backing store so that we can freeze the whole object.\n    // This can be replaced with a WeakMap once they are implemented in\n    // commonly used development environments.\n    element._store = {}; // To make comparing ReactElements easier for testing purposes, we make\n    // the validation flag non-enumerable (where possible, which should\n    // include every environment we run tests in), so the test framework\n    // ignores it.\n\n    Object.defineProperty(element._store, 'validated', {\n      configurable: false,\n      enumerable: false,\n      writable: true,\n      value: false\n    }); // self and source are DEV only properties.\n\n    Object.defineProperty(element, '_self', {\n      configurable: false,\n      enumerable: false,\n      writable: false,\n      value: self\n    }); // Two elements created in two different places should be considered\n    // equal for testing purposes and therefore we hide it from enumeration.\n\n    Object.defineProperty(element, '_source', {\n      configurable: false,\n      enumerable: false,\n      writable: false,\n      value: source\n    });\n\n    if (Object.freeze) {\n      Object.freeze(element.props);\n      Object.freeze(element);\n    }\n  }\n\n  return element;\n};\n/**\n * https://github.com/reactjs/rfcs/pull/107\n * @param {*} type\n * @param {object} props\n * @param {string} key\n */\n\nfunction jsxDEV(type, config, maybeKey, source, self) {\n  {\n    var propName; // Reserved names are extracted\n\n    var props = {};\n    var key = null;\n    var ref = null; // Currently, key can be spread in as a prop. This causes a potential\n    // issue if key is also explicitly declared (ie. <div {...props} key=\"Hi\" />\n    // or <div key=\"Hi\" {...props} /> ). We want to deprecate key spread,\n    // but as an intermediary step, we will use jsxDEV for everything except\n    // <div {...props} key=\"Hi\" />, because we aren't currently able to tell if\n    // key is explicitly declared to be undefined or not.\n\n    if (maybeKey !== undefined) {\n      {\n        checkKeyStringCoercion(maybeKey);\n      }\n\n      key = '' + maybeKey;\n    }\n\n    if (hasValidKey(config)) {\n      {\n        checkKeyStringCoercion(config.key);\n      }\n\n      key = '' + config.key;\n    }\n\n    if (hasValidRef(config)) {\n      ref = config.ref;\n      warnIfStringRefCannotBeAutoConverted(config, self);\n    } // Remaining properties are added to a new props object\n\n\n    for (propName in config) {\n      if (hasOwnProperty.call(config, propName) && !RESERVED_PROPS.hasOwnProperty(propName)) {\n        props[propName] = config[propName];\n      }\n    } // Resolve default props\n\n\n    if (type && type.defaultProps) {\n      var defaultProps = type.defaultProps;\n\n      for (propName in defaultProps) {\n        if (props[propName] === undefined) {\n          props[propName] = defaultProps[propName];\n        }\n      }\n    }\n\n    if (key || ref) {\n      var displayName = typeof type === 'function' ? type.displayName || type.name || 'Unknown' : type;\n\n      if (key) {\n        defineKeyPropWarningGetter(props, displayName);\n      }\n\n      if (ref) {\n        defineRefPropWarningGetter(props, displayName);\n      }\n    }\n\n    return ReactElement(type, key, ref, self, source, ReactCurrentOwner.current, props);\n  }\n}\n\nvar ReactCurrentOwner$1 = ReactSharedInternals.ReactCurrentOwner;\nvar ReactDebugCurrentFrame$1 = ReactSharedInternals.ReactDebugCurrentFrame;\n\nfunction setCurrentlyValidatingElement$1(element) {\n  {\n    if (element) {\n      var owner = element._owner;\n      var stack = describeUnknownElementTypeFrameInDEV(element.type, element._source, owner ? owner.type : null);\n      ReactDebugCurrentFrame$1.setExtraStackFrame(stack);\n    } else {\n      ReactDebugCurrentFrame$1.setExtraStackFrame(null);\n    }\n  }\n}\n\nvar propTypesMisspellWarningShown;\n\n{\n  propTypesMisspellWarningShown = false;\n}\n/**\n * Verifies the object is a ReactElement.\n * See https://reactjs.org/docs/react-api.html#isvalidelement\n * @param {?object} object\n * @return {boolean} True if `object` is a ReactElement.\n * @final\n */\n\n\nfunction isValidElement(object) {\n  {\n    return typeof object === 'object' && object !== null && object.$$typeof === REACT_ELEMENT_TYPE;\n  }\n}\n\nfunction getDeclarationErrorAddendum() {\n  {\n    if (ReactCurrentOwner$1.current) {\n      var name = getComponentNameFromType(ReactCurrentOwner$1.current.type);\n\n      if (name) {\n        return '\\n\\nCheck the render method of `' + name + '`.';\n      }\n    }\n\n    return '';\n  }\n}\n\nfunction getSourceInfoErrorAddendum(source) {\n  {\n    if (source !== undefined) {\n      var fileName = source.fileName.replace(/^.*[\\\\\\/]/, '');\n      var lineNumber = source.lineNumber;\n      return '\\n\\nCheck your code at ' + fileName + ':' + lineNumber + '.';\n    }\n\n    return '';\n  }\n}\n/**\n * Warn if there's no key explicitly set on dynamic arrays of children or\n * object keys are not valid. This allows us to keep track of children between\n * updates.\n */\n\n\nvar ownerHasKeyUseWarning = {};\n\nfunction getCurrentComponentErrorInfo(parentType) {\n  {\n    var info = getDeclarationErrorAddendum();\n\n    if (!info) {\n      var parentName = typeof parentType === 'string' ? parentType : parentType.displayName || parentType.name;\n\n      if (parentName) {\n        info = \"\\n\\nCheck the top-level render call using <\" + parentName + \">.\";\n      }\n    }\n\n    return info;\n  }\n}\n/**\n * Warn if the element doesn't have an explicit key assigned to it.\n * This element is in an array. The array could grow and shrink or be\n * reordered. All children that haven't already been validated are required to\n * have a \"key\" property assigned to it. Error statuses are cached so a warning\n * will only be shown once.\n *\n * @internal\n * @param {ReactElement} element Element that requires a key.\n * @param {*} parentType element's parent's type.\n */\n\n\nfunction validateExplicitKey(element, parentType) {\n  {\n    if (!element._store || element._store.validated || element.key != null) {\n      return;\n    }\n\n    element._store.validated = true;\n    var currentComponentErrorInfo = getCurrentComponentErrorInfo(parentType);\n\n    if (ownerHasKeyUseWarning[currentComponentErrorInfo]) {\n      return;\n    }\n\n    ownerHasKeyUseWarning[currentComponentErrorInfo] = true; // Usually the current owner is the offender, but if it accepts children as a\n    // property, it may be the creator of the child that's responsible for\n    // assigning it a key.\n\n    var childOwner = '';\n\n    if (element && element._owner && element._owner !== ReactCurrentOwner$1.current) {\n      // Give the component that originally created this child.\n      childOwner = \" It was passed a child from \" + getComponentNameFromType(element._owner.type) + \".\";\n    }\n\n    setCurrentlyValidatingElement$1(element);\n\n    error('Each child in a list should have a unique \"key\" prop.' + '%s%s See https://reactjs.org/link/warning-keys for more information.', currentComponentErrorInfo, childOwner);\n\n    setCurrentlyValidatingElement$1(null);\n  }\n}\n/**\n * Ensure that every element either is passed in a static location, in an\n * array with an explicit keys property defined, or in an object literal\n * with valid key property.\n *\n * @internal\n * @param {ReactNode} node Statically passed child of any type.\n * @param {*} parentType node's parent's type.\n */\n\n\nfunction validateChildKeys(node, parentType) {\n  {\n    if (typeof node !== 'object') {\n      return;\n    }\n\n    if (isArray(node)) {\n      for (var i = 0; i < node.length; i++) {\n        var child = node[i];\n\n        if (isValidElement(child)) {\n          validateExplicitKey(child, parentType);\n        }\n      }\n    } else if (isValidElement(node)) {\n      // This element was passed in a valid location.\n      if (node._store) {\n        node._store.validated = true;\n      }\n    } else if (node) {\n      var iteratorFn = getIteratorFn(node);\n\n      if (typeof iteratorFn === 'function') {\n        // Entry iterators used to provide implicit keys,\n        // but now we print a separate warning for them later.\n        if (iteratorFn !== node.entries) {\n          var iterator = iteratorFn.call(node);\n          var step;\n\n          while (!(step = iterator.next()).done) {\n            if (isValidElement(step.value)) {\n              validateExplicitKey(step.value, parentType);\n            }\n          }\n        }\n      }\n    }\n  }\n}\n/**\n * Given an element, validate that its props follow the propTypes definition,\n * provided by the type.\n *\n * @param {ReactElement} element\n */\n\n\nfunction validatePropTypes(element) {\n  {\n    var type = element.type;\n\n    if (type === null || type === undefined || typeof type === 'string') {\n      return;\n    }\n\n    var propTypes;\n\n    if (typeof type === 'function') {\n      propTypes = type.propTypes;\n    } else if (typeof type === 'object' && (type.$$typeof === REACT_FORWARD_REF_TYPE || // Note: Memo only checks outer props here.\n    // Inner props are checked in the reconciler.\n    type.$$typeof === REACT_MEMO_TYPE)) {\n      propTypes = type.propTypes;\n    } else {\n      return;\n    }\n\n    if (propTypes) {\n      // Intentionally inside to avoid triggering lazy initializers:\n      var name = getComponentNameFromType(type);\n      checkPropTypes(propTypes, element.props, 'prop', name, element);\n    } else if (type.PropTypes !== undefined && !propTypesMisspellWarningShown) {\n      propTypesMisspellWarningShown = true; // Intentionally inside to avoid triggering lazy initializers:\n\n      var _name = getComponentNameFromType(type);\n\n      error('Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?', _name || 'Unknown');\n    }\n\n    if (typeof type.getDefaultProps === 'function' && !type.getDefaultProps.isReactClassApproved) {\n      error('getDefaultProps is only used on classic React.createClass ' + 'definitions. Use a static property named `defaultProps` instead.');\n    }\n  }\n}\n/**\n * Given a fragment, validate that it can only be provided with fragment props\n * @param {ReactElement} fragment\n */\n\n\nfunction validateFragmentProps(fragment) {\n  {\n    var keys = Object.keys(fragment.props);\n\n    for (var i = 0; i < keys.length; i++) {\n      var key = keys[i];\n\n      if (key !== 'children' && key !== 'key') {\n        setCurrentlyValidatingElement$1(fragment);\n\n        error('Invalid prop `%s` supplied to `React.Fragment`. ' + 'React.Fragment can only have `key` and `children` props.', key);\n\n        setCurrentlyValidatingElement$1(null);\n        break;\n      }\n    }\n\n    if (fragment.ref !== null) {\n      setCurrentlyValidatingElement$1(fragment);\n\n      error('Invalid attribute `ref` supplied to `React.Fragment`.');\n\n      setCurrentlyValidatingElement$1(null);\n    }\n  }\n}\n\nfunction jsxWithValidation(type, props, key, isStaticChildren, source, self) {\n  {\n    var validType = isValidElementType(type); // We warn in this case but don't throw. We expect the element creation to\n    // succeed and there will likely be errors in render.\n\n    if (!validType) {\n      var info = '';\n\n      if (type === undefined || typeof type === 'object' && type !== null && Object.keys(type).length === 0) {\n        info += ' You likely forgot to export your component from the file ' + \"it's defined in, or you might have mixed up default and named imports.\";\n      }\n\n      var sourceInfo = getSourceInfoErrorAddendum(source);\n\n      if (sourceInfo) {\n        info += sourceInfo;\n      } else {\n        info += getDeclarationErrorAddendum();\n      }\n\n      var typeString;\n\n      if (type === null) {\n        typeString = 'null';\n      } else if (isArray(type)) {\n        typeString = 'array';\n      } else if (type !== undefined && type.$$typeof === REACT_ELEMENT_TYPE) {\n        typeString = \"<\" + (getComponentNameFromType(type.type) || 'Unknown') + \" />\";\n        info = ' Did you accidentally export a JSX literal instead of a component?';\n      } else {\n        typeString = typeof type;\n      }\n\n      error('React.jsx: type is invalid -- expected a string (for ' + 'built-in components) or a class/function (for composite ' + 'components) but got: %s.%s', typeString, info);\n    }\n\n    var element = jsxDEV(type, props, key, source, self); // The result can be nullish if a mock or a custom function is used.\n    // TODO: Drop this when these are no longer allowed as the type argument.\n\n    if (element == null) {\n      return element;\n    } // Skip key warning if the type isn't valid since our key validation logic\n    // doesn't expect a non-string/function type and can throw confusing errors.\n    // We don't want exception behavior to differ between dev and prod.\n    // (Rendering will throw with a helpful message and as soon as the type is\n    // fixed, the key warnings will appear.)\n\n\n    if (validType) {\n      var children = props.children;\n\n      if (children !== undefined) {\n        if (isStaticChildren) {\n          if (isArray(children)) {\n            for (var i = 0; i < children.length; i++) {\n              validateChildKeys(children[i], type);\n            }\n\n            if (Object.freeze) {\n              Object.freeze(children);\n            }\n          } else {\n            error('React.jsx: Static children should always be an array. ' + 'You are likely explicitly calling React.jsxs or React.jsxDEV. ' + 'Use the Babel transform instead.');\n          }\n        } else {\n          validateChildKeys(children, type);\n        }\n      }\n    }\n\n    if (type === REACT_FRAGMENT_TYPE) {\n      validateFragmentProps(element);\n    } else {\n      validatePropTypes(element);\n    }\n\n    return element;\n  }\n} // These two functions exist to still get child warnings in dev\n\nvar jsxDEV$1 =  jsxWithValidation ;\n\nexports.Fragment = REACT_FRAGMENT_TYPE;\nexports.jsxDEV = jsxDEV$1;\n  })();\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3QvY2pzL3JlYWN0LWpzeC1kZXYtcnVudGltZS5kZXZlbG9wbWVudC5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRWE7O0FBRWIsSUFBSSxJQUFxQztBQUN6QztBQUNBOztBQUVBLFlBQVksbUJBQU8sQ0FBQyw0Q0FBTzs7QUFFM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxpR0FBaUcsZUFBZTtBQUNoSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNQUFNOzs7QUFHTjtBQUNBO0FBQ0EsS0FBSyxHQUFHOztBQUVSLGtEQUFrRDtBQUNsRDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSw0QkFBNEI7QUFDNUI7QUFDQSxxQ0FBcUM7O0FBRXJDLGdDQUFnQztBQUNoQztBQUNBOztBQUVBLGdDQUFnQzs7QUFFaEM7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUk7OztBQUdKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTs7O0FBR0Y7QUFDQTtBQUNBLEVBQUU7OztBQUdGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDOztBQUV2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQSxzQkFBc0I7QUFDdEI7QUFDQSxTQUFTO0FBQ1QsdUJBQXVCO0FBQ3ZCO0FBQ0EsU0FBUztBQUNULHVCQUF1QjtBQUN2QjtBQUNBLFNBQVM7QUFDVCx3QkFBd0I7QUFDeEI7QUFDQSxTQUFTO0FBQ1Qsd0JBQXdCO0FBQ3hCO0FBQ0EsU0FBUztBQUNULGlDQUFpQztBQUNqQztBQUNBLFNBQVM7QUFDVCwyQkFBMkI7QUFDM0I7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBLE1BQU07OztBQUdOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSwyREFBMkQ7O0FBRTNEO0FBQ0E7O0FBRUE7QUFDQSx5REFBeUQ7QUFDekQ7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7OztBQUdUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87O0FBRVA7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBOztBQUVBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGFBQWEsa0JBQWtCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkI7O0FBRUE7QUFDQTtBQUNBLGdGQUFnRjtBQUNoRjtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7OztBQUdsQjtBQUNBO0FBQ0EsY0FBYztBQUNkOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsSUFBSTs7O0FBR0o7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsOEJBQThCO0FBQzlCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJIQUEySDtBQUMzSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxVQUFVO0FBQ1Y7QUFDQTs7QUFFQTtBQUNBOztBQUVBLG9FQUFvRTs7QUFFcEU7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxpQ0FBaUM7O0FBRWpDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7O0FBR0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsd0NBQXdDO0FBQ3hDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxHQUFHO0FBQ2QsV0FBVyxHQUFHO0FBQ2QsV0FBVyxHQUFHO0FBQ2QsV0FBVyxlQUFlO0FBQzFCLFdBQVcsR0FBRztBQUNkLFdBQVcsR0FBRztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxHQUFHO0FBQ2Q7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssR0FBRzs7QUFFUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyxHQUFHO0FBQ1I7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsR0FBRztBQUNkLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkI7O0FBRUE7QUFDQTtBQUNBLGtCQUFrQjs7QUFFbEI7QUFDQTtBQUNBLG9CQUFvQjtBQUNwQiwyREFBMkQsVUFBVTtBQUNyRSx5QkFBeUIsVUFBVTtBQUNuQztBQUNBLGFBQWEsVUFBVTtBQUN2Qjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsTUFBTTs7O0FBR047QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNOzs7QUFHTjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxTQUFTO0FBQ3BCLFlBQVksU0FBUztBQUNyQjtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxjQUFjO0FBQ3pCLFdBQVcsR0FBRztBQUNkOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLDZEQUE2RDtBQUM3RDtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsV0FBVztBQUN0QixXQUFXLEdBQUc7QUFDZDs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHNCQUFzQixpQkFBaUI7QUFDdkM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGNBQWM7QUFDekI7OztBQUdBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTiw0Q0FBNEM7O0FBRTVDOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGNBQWM7QUFDekI7OztBQUdBO0FBQ0E7QUFDQTs7QUFFQSxvQkFBb0IsaUJBQWlCO0FBQ3JDOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsOENBQThDO0FBQzlDOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTs7QUFFQTtBQUNBOztBQUVBLDBEQUEwRDtBQUMxRDs7QUFFQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixxQkFBcUI7QUFDakQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEVBQUU7O0FBRUY7O0FBRUEsZ0JBQWdCO0FBQ2hCLGNBQWM7QUFDZCxHQUFHO0FBQ0giLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3JlYWN0L2Nqcy9yZWFjdC1qc3gtZGV2LXJ1bnRpbWUuZGV2ZWxvcG1lbnQuanM/MTdlMSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBsaWNlbnNlIFJlYWN0XG4gKiByZWFjdC1qc3gtZGV2LXJ1bnRpbWUuZGV2ZWxvcG1lbnQuanNcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIEZhY2Vib29rLCBJbmMuIGFuZCBpdHMgYWZmaWxpYXRlcy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHtcbiAgKGZ1bmN0aW9uKCkge1xuJ3VzZSBzdHJpY3QnO1xuXG52YXIgUmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG4vLyBBVFRFTlRJT05cbi8vIFdoZW4gYWRkaW5nIG5ldyBzeW1ib2xzIHRvIHRoaXMgZmlsZSxcbi8vIFBsZWFzZSBjb25zaWRlciBhbHNvIGFkZGluZyB0byAncmVhY3QtZGV2dG9vbHMtc2hhcmVkL3NyYy9iYWNrZW5kL1JlYWN0U3ltYm9scydcbi8vIFRoZSBTeW1ib2wgdXNlZCB0byB0YWcgdGhlIFJlYWN0RWxlbWVudC1saWtlIHR5cGVzLlxudmFyIFJFQUNUX0VMRU1FTlRfVFlQRSA9IFN5bWJvbC5mb3IoJ3JlYWN0LmVsZW1lbnQnKTtcbnZhciBSRUFDVF9QT1JUQUxfVFlQRSA9IFN5bWJvbC5mb3IoJ3JlYWN0LnBvcnRhbCcpO1xudmFyIFJFQUNUX0ZSQUdNRU5UX1RZUEUgPSBTeW1ib2wuZm9yKCdyZWFjdC5mcmFnbWVudCcpO1xudmFyIFJFQUNUX1NUUklDVF9NT0RFX1RZUEUgPSBTeW1ib2wuZm9yKCdyZWFjdC5zdHJpY3RfbW9kZScpO1xudmFyIFJFQUNUX1BST0ZJTEVSX1RZUEUgPSBTeW1ib2wuZm9yKCdyZWFjdC5wcm9maWxlcicpO1xudmFyIFJFQUNUX1BST1ZJREVSX1RZUEUgPSBTeW1ib2wuZm9yKCdyZWFjdC5wcm92aWRlcicpO1xudmFyIFJFQUNUX0NPTlRFWFRfVFlQRSA9IFN5bWJvbC5mb3IoJ3JlYWN0LmNvbnRleHQnKTtcbnZhciBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFID0gU3ltYm9sLmZvcigncmVhY3QuZm9yd2FyZF9yZWYnKTtcbnZhciBSRUFDVF9TVVNQRU5TRV9UWVBFID0gU3ltYm9sLmZvcigncmVhY3Quc3VzcGVuc2UnKTtcbnZhciBSRUFDVF9TVVNQRU5TRV9MSVNUX1RZUEUgPSBTeW1ib2wuZm9yKCdyZWFjdC5zdXNwZW5zZV9saXN0Jyk7XG52YXIgUkVBQ1RfTUVNT19UWVBFID0gU3ltYm9sLmZvcigncmVhY3QubWVtbycpO1xudmFyIFJFQUNUX0xBWllfVFlQRSA9IFN5bWJvbC5mb3IoJ3JlYWN0LmxhenknKTtcbnZhciBSRUFDVF9PRkZTQ1JFRU5fVFlQRSA9IFN5bWJvbC5mb3IoJ3JlYWN0Lm9mZnNjcmVlbicpO1xudmFyIE1BWUJFX0lURVJBVE9SX1NZTUJPTCA9IFN5bWJvbC5pdGVyYXRvcjtcbnZhciBGQVVYX0lURVJBVE9SX1NZTUJPTCA9ICdAQGl0ZXJhdG9yJztcbmZ1bmN0aW9uIGdldEl0ZXJhdG9yRm4obWF5YmVJdGVyYWJsZSkge1xuICBpZiAobWF5YmVJdGVyYWJsZSA9PT0gbnVsbCB8fCB0eXBlb2YgbWF5YmVJdGVyYWJsZSAhPT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHZhciBtYXliZUl0ZXJhdG9yID0gTUFZQkVfSVRFUkFUT1JfU1lNQk9MICYmIG1heWJlSXRlcmFibGVbTUFZQkVfSVRFUkFUT1JfU1lNQk9MXSB8fCBtYXliZUl0ZXJhYmxlW0ZBVVhfSVRFUkFUT1JfU1lNQk9MXTtcblxuICBpZiAodHlwZW9mIG1heWJlSXRlcmF0b3IgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gbWF5YmVJdGVyYXRvcjtcbiAgfVxuXG4gIHJldHVybiBudWxsO1xufVxuXG52YXIgUmVhY3RTaGFyZWRJbnRlcm5hbHMgPSBSZWFjdC5fX1NFQ1JFVF9JTlRFUk5BTFNfRE9fTk9UX1VTRV9PUl9ZT1VfV0lMTF9CRV9GSVJFRDtcblxuZnVuY3Rpb24gZXJyb3IoZm9ybWF0KSB7XG4gIHtcbiAgICB7XG4gICAgICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjIgPiAxID8gX2xlbjIgLSAxIDogMCksIF9rZXkyID0gMTsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xuICAgICAgICBhcmdzW19rZXkyIC0gMV0gPSBhcmd1bWVudHNbX2tleTJdO1xuICAgICAgfVxuXG4gICAgICBwcmludFdhcm5pbmcoJ2Vycm9yJywgZm9ybWF0LCBhcmdzKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gcHJpbnRXYXJuaW5nKGxldmVsLCBmb3JtYXQsIGFyZ3MpIHtcbiAgLy8gV2hlbiBjaGFuZ2luZyB0aGlzIGxvZ2ljLCB5b3UgbWlnaHQgd2FudCB0byBhbHNvXG4gIC8vIHVwZGF0ZSBjb25zb2xlV2l0aFN0YWNrRGV2Lnd3dy5qcyBhcyB3ZWxsLlxuICB7XG4gICAgdmFyIFJlYWN0RGVidWdDdXJyZW50RnJhbWUgPSBSZWFjdFNoYXJlZEludGVybmFscy5SZWFjdERlYnVnQ3VycmVudEZyYW1lO1xuICAgIHZhciBzdGFjayA9IFJlYWN0RGVidWdDdXJyZW50RnJhbWUuZ2V0U3RhY2tBZGRlbmR1bSgpO1xuXG4gICAgaWYgKHN0YWNrICE9PSAnJykge1xuICAgICAgZm9ybWF0ICs9ICclcyc7XG4gICAgICBhcmdzID0gYXJncy5jb25jYXQoW3N0YWNrXSk7XG4gICAgfSAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaW50ZXJuYWwvc2FmZS1zdHJpbmctY29lcmNpb25cblxuXG4gICAgdmFyIGFyZ3NXaXRoRm9ybWF0ID0gYXJncy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIHJldHVybiBTdHJpbmcoaXRlbSk7XG4gICAgfSk7IC8vIENhcmVmdWw6IFJOIGN1cnJlbnRseSBkZXBlbmRzIG9uIHRoaXMgcHJlZml4XG5cbiAgICBhcmdzV2l0aEZvcm1hdC51bnNoaWZ0KCdXYXJuaW5nOiAnICsgZm9ybWF0KTsgLy8gV2UgaW50ZW50aW9uYWxseSBkb24ndCB1c2Ugc3ByZWFkIChvciAuYXBwbHkpIGRpcmVjdGx5IGJlY2F1c2UgaXRcbiAgICAvLyBicmVha3MgSUU5OiBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvaXNzdWVzLzEzNjEwXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWludGVybmFsL25vLXByb2R1Y3Rpb24tbG9nZ2luZ1xuXG4gICAgRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5LmNhbGwoY29uc29sZVtsZXZlbF0sIGNvbnNvbGUsIGFyZ3NXaXRoRm9ybWF0KTtcbiAgfVxufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG52YXIgZW5hYmxlU2NvcGVBUEkgPSBmYWxzZTsgLy8gRXhwZXJpbWVudGFsIENyZWF0ZSBFdmVudCBIYW5kbGUgQVBJLlxudmFyIGVuYWJsZUNhY2hlRWxlbWVudCA9IGZhbHNlO1xudmFyIGVuYWJsZVRyYW5zaXRpb25UcmFjaW5nID0gZmFsc2U7IC8vIE5vIGtub3duIGJ1Z3MsIGJ1dCBuZWVkcyBwZXJmb3JtYW5jZSB0ZXN0aW5nXG5cbnZhciBlbmFibGVMZWdhY3lIaWRkZW4gPSBmYWxzZTsgLy8gRW5hYmxlcyB1bnN0YWJsZV9hdm9pZFRoaXNGYWxsYmFjayBmZWF0dXJlIGluIEZpYmVyXG4vLyBzdHVmZi4gSW50ZW5kZWQgdG8gZW5hYmxlIFJlYWN0IGNvcmUgbWVtYmVycyB0byBtb3JlIGVhc2lseSBkZWJ1ZyBzY2hlZHVsaW5nXG4vLyBpc3N1ZXMgaW4gREVWIGJ1aWxkcy5cblxudmFyIGVuYWJsZURlYnVnVHJhY2luZyA9IGZhbHNlOyAvLyBUcmFjayB3aGljaCBGaWJlcihzKSBzY2hlZHVsZSByZW5kZXIgd29yay5cblxudmFyIFJFQUNUX01PRFVMRV9SRUZFUkVOQ0U7XG5cbntcbiAgUkVBQ1RfTU9EVUxFX1JFRkVSRU5DRSA9IFN5bWJvbC5mb3IoJ3JlYWN0Lm1vZHVsZS5yZWZlcmVuY2UnKTtcbn1cblxuZnVuY3Rpb24gaXNWYWxpZEVsZW1lbnRUeXBlKHR5cGUpIHtcbiAgaWYgKHR5cGVvZiB0eXBlID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgdHlwZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiB0cnVlO1xuICB9IC8vIE5vdGU6IHR5cGVvZiBtaWdodCBiZSBvdGhlciB0aGFuICdzeW1ib2wnIG9yICdudW1iZXInIChlLmcuIGlmIGl0J3MgYSBwb2x5ZmlsbCkuXG5cblxuICBpZiAodHlwZSA9PT0gUkVBQ1RfRlJBR01FTlRfVFlQRSB8fCB0eXBlID09PSBSRUFDVF9QUk9GSUxFUl9UWVBFIHx8IGVuYWJsZURlYnVnVHJhY2luZyAgfHwgdHlwZSA9PT0gUkVBQ1RfU1RSSUNUX01PREVfVFlQRSB8fCB0eXBlID09PSBSRUFDVF9TVVNQRU5TRV9UWVBFIHx8IHR5cGUgPT09IFJFQUNUX1NVU1BFTlNFX0xJU1RfVFlQRSB8fCBlbmFibGVMZWdhY3lIaWRkZW4gIHx8IHR5cGUgPT09IFJFQUNUX09GRlNDUkVFTl9UWVBFIHx8IGVuYWJsZVNjb3BlQVBJICB8fCBlbmFibGVDYWNoZUVsZW1lbnQgIHx8IGVuYWJsZVRyYW5zaXRpb25UcmFjaW5nICkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgaWYgKHR5cGVvZiB0eXBlID09PSAnb2JqZWN0JyAmJiB0eXBlICE9PSBudWxsKSB7XG4gICAgaWYgKHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0xBWllfVFlQRSB8fCB0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9NRU1PX1RZUEUgfHwgdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfUFJPVklERVJfVFlQRSB8fCB0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9DT05URVhUX1RZUEUgfHwgdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfRk9SV0FSRF9SRUZfVFlQRSB8fCAvLyBUaGlzIG5lZWRzIHRvIGluY2x1ZGUgYWxsIHBvc3NpYmxlIG1vZHVsZSByZWZlcmVuY2Ugb2JqZWN0XG4gICAgLy8gdHlwZXMgc3VwcG9ydGVkIGJ5IGFueSBGbGlnaHQgY29uZmlndXJhdGlvbiBhbnl3aGVyZSBzaW5jZVxuICAgIC8vIHdlIGRvbid0IGtub3cgd2hpY2ggRmxpZ2h0IGJ1aWxkIHRoaXMgd2lsbCBlbmQgdXAgYmVpbmcgdXNlZFxuICAgIC8vIHdpdGguXG4gICAgdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfTU9EVUxFX1JFRkVSRU5DRSB8fCB0eXBlLmdldE1vZHVsZUlkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gZ2V0V3JhcHBlZE5hbWUob3V0ZXJUeXBlLCBpbm5lclR5cGUsIHdyYXBwZXJOYW1lKSB7XG4gIHZhciBkaXNwbGF5TmFtZSA9IG91dGVyVHlwZS5kaXNwbGF5TmFtZTtcblxuICBpZiAoZGlzcGxheU5hbWUpIHtcbiAgICByZXR1cm4gZGlzcGxheU5hbWU7XG4gIH1cblxuICB2YXIgZnVuY3Rpb25OYW1lID0gaW5uZXJUeXBlLmRpc3BsYXlOYW1lIHx8IGlubmVyVHlwZS5uYW1lIHx8ICcnO1xuICByZXR1cm4gZnVuY3Rpb25OYW1lICE9PSAnJyA/IHdyYXBwZXJOYW1lICsgXCIoXCIgKyBmdW5jdGlvbk5hbWUgKyBcIilcIiA6IHdyYXBwZXJOYW1lO1xufSAvLyBLZWVwIGluIHN5bmMgd2l0aCByZWFjdC1yZWNvbmNpbGVyL2dldENvbXBvbmVudE5hbWVGcm9tRmliZXJcblxuXG5mdW5jdGlvbiBnZXRDb250ZXh0TmFtZSh0eXBlKSB7XG4gIHJldHVybiB0eXBlLmRpc3BsYXlOYW1lIHx8ICdDb250ZXh0Jztcbn0gLy8gTm90ZSB0aGF0IHRoZSByZWNvbmNpbGVyIHBhY2thZ2Ugc2hvdWxkIGdlbmVyYWxseSBwcmVmZXIgdG8gdXNlIGdldENvbXBvbmVudE5hbWVGcm9tRmliZXIoKSBpbnN0ZWFkLlxuXG5cbmZ1bmN0aW9uIGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSh0eXBlKSB7XG4gIGlmICh0eXBlID09IG51bGwpIHtcbiAgICAvLyBIb3N0IHJvb3QsIHRleHQgbm9kZSBvciBqdXN0IGludmFsaWQgdHlwZS5cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHtcbiAgICBpZiAodHlwZW9mIHR5cGUudGFnID09PSAnbnVtYmVyJykge1xuICAgICAgZXJyb3IoJ1JlY2VpdmVkIGFuIHVuZXhwZWN0ZWQgb2JqZWN0IGluIGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSgpLiAnICsgJ1RoaXMgaXMgbGlrZWx5IGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS4nKTtcbiAgICB9XG4gIH1cblxuICBpZiAodHlwZW9mIHR5cGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gdHlwZS5kaXNwbGF5TmFtZSB8fCB0eXBlLm5hbWUgfHwgbnVsbDtcbiAgfVxuXG4gIGlmICh0eXBlb2YgdHlwZSA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gdHlwZTtcbiAgfVxuXG4gIHN3aXRjaCAodHlwZSkge1xuICAgIGNhc2UgUkVBQ1RfRlJBR01FTlRfVFlQRTpcbiAgICAgIHJldHVybiAnRnJhZ21lbnQnO1xuXG4gICAgY2FzZSBSRUFDVF9QT1JUQUxfVFlQRTpcbiAgICAgIHJldHVybiAnUG9ydGFsJztcblxuICAgIGNhc2UgUkVBQ1RfUFJPRklMRVJfVFlQRTpcbiAgICAgIHJldHVybiAnUHJvZmlsZXInO1xuXG4gICAgY2FzZSBSRUFDVF9TVFJJQ1RfTU9ERV9UWVBFOlxuICAgICAgcmV0dXJuICdTdHJpY3RNb2RlJztcblxuICAgIGNhc2UgUkVBQ1RfU1VTUEVOU0VfVFlQRTpcbiAgICAgIHJldHVybiAnU3VzcGVuc2UnO1xuXG4gICAgY2FzZSBSRUFDVF9TVVNQRU5TRV9MSVNUX1RZUEU6XG4gICAgICByZXR1cm4gJ1N1c3BlbnNlTGlzdCc7XG5cbiAgfVxuXG4gIGlmICh0eXBlb2YgdHlwZSA9PT0gJ29iamVjdCcpIHtcbiAgICBzd2l0Y2ggKHR5cGUuJCR0eXBlb2YpIHtcbiAgICAgIGNhc2UgUkVBQ1RfQ09OVEVYVF9UWVBFOlxuICAgICAgICB2YXIgY29udGV4dCA9IHR5cGU7XG4gICAgICAgIHJldHVybiBnZXRDb250ZXh0TmFtZShjb250ZXh0KSArICcuQ29uc3VtZXInO1xuXG4gICAgICBjYXNlIFJFQUNUX1BST1ZJREVSX1RZUEU6XG4gICAgICAgIHZhciBwcm92aWRlciA9IHR5cGU7XG4gICAgICAgIHJldHVybiBnZXRDb250ZXh0TmFtZShwcm92aWRlci5fY29udGV4dCkgKyAnLlByb3ZpZGVyJztcblxuICAgICAgY2FzZSBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFOlxuICAgICAgICByZXR1cm4gZ2V0V3JhcHBlZE5hbWUodHlwZSwgdHlwZS5yZW5kZXIsICdGb3J3YXJkUmVmJyk7XG5cbiAgICAgIGNhc2UgUkVBQ1RfTUVNT19UWVBFOlxuICAgICAgICB2YXIgb3V0ZXJOYW1lID0gdHlwZS5kaXNwbGF5TmFtZSB8fCBudWxsO1xuXG4gICAgICAgIGlmIChvdXRlck5hbWUgIT09IG51bGwpIHtcbiAgICAgICAgICByZXR1cm4gb3V0ZXJOYW1lO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSh0eXBlLnR5cGUpIHx8ICdNZW1vJztcblxuICAgICAgY2FzZSBSRUFDVF9MQVpZX1RZUEU6XG4gICAgICAgIHtcbiAgICAgICAgICB2YXIgbGF6eUNvbXBvbmVudCA9IHR5cGU7XG4gICAgICAgICAgdmFyIHBheWxvYWQgPSBsYXp5Q29tcG9uZW50Ll9wYXlsb2FkO1xuICAgICAgICAgIHZhciBpbml0ID0gbGF6eUNvbXBvbmVudC5faW5pdDtcblxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKGluaXQocGF5bG9hZCkpO1xuICAgICAgICAgIH0gY2F0Y2ggKHgpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZmFsbHRocm91Z2hcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn1cblxudmFyIGFzc2lnbiA9IE9iamVjdC5hc3NpZ247XG5cbi8vIEhlbHBlcnMgdG8gcGF0Y2ggY29uc29sZS5sb2dzIHRvIGF2b2lkIGxvZ2dpbmcgZHVyaW5nIHNpZGUtZWZmZWN0IGZyZWVcbi8vIHJlcGxheWluZyBvbiByZW5kZXIgZnVuY3Rpb24uIFRoaXMgY3VycmVudGx5IG9ubHkgcGF0Y2hlcyB0aGUgb2JqZWN0XG4vLyBsYXppbHkgd2hpY2ggd29uJ3QgY292ZXIgaWYgdGhlIGxvZyBmdW5jdGlvbiB3YXMgZXh0cmFjdGVkIGVhZ2VybHkuXG4vLyBXZSBjb3VsZCBhbHNvIGVhZ2VybHkgcGF0Y2ggdGhlIG1ldGhvZC5cbnZhciBkaXNhYmxlZERlcHRoID0gMDtcbnZhciBwcmV2TG9nO1xudmFyIHByZXZJbmZvO1xudmFyIHByZXZXYXJuO1xudmFyIHByZXZFcnJvcjtcbnZhciBwcmV2R3JvdXA7XG52YXIgcHJldkdyb3VwQ29sbGFwc2VkO1xudmFyIHByZXZHcm91cEVuZDtcblxuZnVuY3Rpb24gZGlzYWJsZWRMb2coKSB7fVxuXG5kaXNhYmxlZExvZy5fX3JlYWN0RGlzYWJsZWRMb2cgPSB0cnVlO1xuZnVuY3Rpb24gZGlzYWJsZUxvZ3MoKSB7XG4gIHtcbiAgICBpZiAoZGlzYWJsZWREZXB0aCA9PT0gMCkge1xuICAgICAgLyogZXNsaW50LWRpc2FibGUgcmVhY3QtaW50ZXJuYWwvbm8tcHJvZHVjdGlvbi1sb2dnaW5nICovXG4gICAgICBwcmV2TG9nID0gY29uc29sZS5sb2c7XG4gICAgICBwcmV2SW5mbyA9IGNvbnNvbGUuaW5mbztcbiAgICAgIHByZXZXYXJuID0gY29uc29sZS53YXJuO1xuICAgICAgcHJldkVycm9yID0gY29uc29sZS5lcnJvcjtcbiAgICAgIHByZXZHcm91cCA9IGNvbnNvbGUuZ3JvdXA7XG4gICAgICBwcmV2R3JvdXBDb2xsYXBzZWQgPSBjb25zb2xlLmdyb3VwQ29sbGFwc2VkO1xuICAgICAgcHJldkdyb3VwRW5kID0gY29uc29sZS5ncm91cEVuZDsgLy8gaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0L2lzc3Vlcy8xOTA5OVxuXG4gICAgICB2YXIgcHJvcHMgPSB7XG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IGRpc2FibGVkTG9nLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZVxuICAgICAgfTsgLy8gJEZsb3dGaXhNZSBGbG93IHRoaW5rcyBjb25zb2xlIGlzIGltbXV0YWJsZS5cblxuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoY29uc29sZSwge1xuICAgICAgICBpbmZvOiBwcm9wcyxcbiAgICAgICAgbG9nOiBwcm9wcyxcbiAgICAgICAgd2FybjogcHJvcHMsXG4gICAgICAgIGVycm9yOiBwcm9wcyxcbiAgICAgICAgZ3JvdXA6IHByb3BzLFxuICAgICAgICBncm91cENvbGxhcHNlZDogcHJvcHMsXG4gICAgICAgIGdyb3VwRW5kOiBwcm9wc1xuICAgICAgfSk7XG4gICAgICAvKiBlc2xpbnQtZW5hYmxlIHJlYWN0LWludGVybmFsL25vLXByb2R1Y3Rpb24tbG9nZ2luZyAqL1xuICAgIH1cblxuICAgIGRpc2FibGVkRGVwdGgrKztcbiAgfVxufVxuZnVuY3Rpb24gcmVlbmFibGVMb2dzKCkge1xuICB7XG4gICAgZGlzYWJsZWREZXB0aC0tO1xuXG4gICAgaWYgKGRpc2FibGVkRGVwdGggPT09IDApIHtcbiAgICAgIC8qIGVzbGludC1kaXNhYmxlIHJlYWN0LWludGVybmFsL25vLXByb2R1Y3Rpb24tbG9nZ2luZyAqL1xuICAgICAgdmFyIHByb3BzID0ge1xuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgICB9OyAvLyAkRmxvd0ZpeE1lIEZsb3cgdGhpbmtzIGNvbnNvbGUgaXMgaW1tdXRhYmxlLlxuXG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhjb25zb2xlLCB7XG4gICAgICAgIGxvZzogYXNzaWduKHt9LCBwcm9wcywge1xuICAgICAgICAgIHZhbHVlOiBwcmV2TG9nXG4gICAgICAgIH0pLFxuICAgICAgICBpbmZvOiBhc3NpZ24oe30sIHByb3BzLCB7XG4gICAgICAgICAgdmFsdWU6IHByZXZJbmZvXG4gICAgICAgIH0pLFxuICAgICAgICB3YXJuOiBhc3NpZ24oe30sIHByb3BzLCB7XG4gICAgICAgICAgdmFsdWU6IHByZXZXYXJuXG4gICAgICAgIH0pLFxuICAgICAgICBlcnJvcjogYXNzaWduKHt9LCBwcm9wcywge1xuICAgICAgICAgIHZhbHVlOiBwcmV2RXJyb3JcbiAgICAgICAgfSksXG4gICAgICAgIGdyb3VwOiBhc3NpZ24oe30sIHByb3BzLCB7XG4gICAgICAgICAgdmFsdWU6IHByZXZHcm91cFxuICAgICAgICB9KSxcbiAgICAgICAgZ3JvdXBDb2xsYXBzZWQ6IGFzc2lnbih7fSwgcHJvcHMsIHtcbiAgICAgICAgICB2YWx1ZTogcHJldkdyb3VwQ29sbGFwc2VkXG4gICAgICAgIH0pLFxuICAgICAgICBncm91cEVuZDogYXNzaWduKHt9LCBwcm9wcywge1xuICAgICAgICAgIHZhbHVlOiBwcmV2R3JvdXBFbmRcbiAgICAgICAgfSlcbiAgICAgIH0pO1xuICAgICAgLyogZXNsaW50LWVuYWJsZSByZWFjdC1pbnRlcm5hbC9uby1wcm9kdWN0aW9uLWxvZ2dpbmcgKi9cbiAgICB9XG5cbiAgICBpZiAoZGlzYWJsZWREZXB0aCA8IDApIHtcbiAgICAgIGVycm9yKCdkaXNhYmxlZERlcHRoIGZlbGwgYmVsb3cgemVyby4gJyArICdUaGlzIGlzIGEgYnVnIGluIFJlYWN0LiBQbGVhc2UgZmlsZSBhbiBpc3N1ZS4nKTtcbiAgICB9XG4gIH1cbn1cblxudmFyIFJlYWN0Q3VycmVudERpc3BhdGNoZXIgPSBSZWFjdFNoYXJlZEludGVybmFscy5SZWFjdEN1cnJlbnREaXNwYXRjaGVyO1xudmFyIHByZWZpeDtcbmZ1bmN0aW9uIGRlc2NyaWJlQnVpbHRJbkNvbXBvbmVudEZyYW1lKG5hbWUsIHNvdXJjZSwgb3duZXJGbikge1xuICB7XG4gICAgaWYgKHByZWZpeCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAvLyBFeHRyYWN0IHRoZSBWTSBzcGVjaWZpYyBwcmVmaXggdXNlZCBieSBlYWNoIGxpbmUuXG4gICAgICB0cnkge1xuICAgICAgICB0aHJvdyBFcnJvcigpO1xuICAgICAgfSBjYXRjaCAoeCkge1xuICAgICAgICB2YXIgbWF0Y2ggPSB4LnN0YWNrLnRyaW0oKS5tYXRjaCgvXFxuKCAqKGF0ICk/KS8pO1xuICAgICAgICBwcmVmaXggPSBtYXRjaCAmJiBtYXRjaFsxXSB8fCAnJztcbiAgICAgIH1cbiAgICB9IC8vIFdlIHVzZSB0aGUgcHJlZml4IHRvIGVuc3VyZSBvdXIgc3RhY2tzIGxpbmUgdXAgd2l0aCBuYXRpdmUgc3RhY2sgZnJhbWVzLlxuXG5cbiAgICByZXR1cm4gJ1xcbicgKyBwcmVmaXggKyBuYW1lO1xuICB9XG59XG52YXIgcmVlbnRyeSA9IGZhbHNlO1xudmFyIGNvbXBvbmVudEZyYW1lQ2FjaGU7XG5cbntcbiAgdmFyIFBvc3NpYmx5V2Vha01hcCA9IHR5cGVvZiBXZWFrTWFwID09PSAnZnVuY3Rpb24nID8gV2Vha01hcCA6IE1hcDtcbiAgY29tcG9uZW50RnJhbWVDYWNoZSA9IG5ldyBQb3NzaWJseVdlYWtNYXAoKTtcbn1cblxuZnVuY3Rpb24gZGVzY3JpYmVOYXRpdmVDb21wb25lbnRGcmFtZShmbiwgY29uc3RydWN0KSB7XG4gIC8vIElmIHNvbWV0aGluZyBhc2tlZCBmb3IgYSBzdGFjayBpbnNpZGUgYSBmYWtlIHJlbmRlciwgaXQgc2hvdWxkIGdldCBpZ25vcmVkLlxuICBpZiAoICFmbiB8fCByZWVudHJ5KSB7XG4gICAgcmV0dXJuICcnO1xuICB9XG5cbiAge1xuICAgIHZhciBmcmFtZSA9IGNvbXBvbmVudEZyYW1lQ2FjaGUuZ2V0KGZuKTtcblxuICAgIGlmIChmcmFtZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gZnJhbWU7XG4gICAgfVxuICB9XG5cbiAgdmFyIGNvbnRyb2w7XG4gIHJlZW50cnkgPSB0cnVlO1xuICB2YXIgcHJldmlvdXNQcmVwYXJlU3RhY2tUcmFjZSA9IEVycm9yLnByZXBhcmVTdGFja1RyYWNlOyAvLyAkRmxvd0ZpeE1lIEl0IGRvZXMgYWNjZXB0IHVuZGVmaW5lZC5cblxuICBFcnJvci5wcmVwYXJlU3RhY2tUcmFjZSA9IHVuZGVmaW5lZDtcbiAgdmFyIHByZXZpb3VzRGlzcGF0Y2hlcjtcblxuICB7XG4gICAgcHJldmlvdXNEaXNwYXRjaGVyID0gUmVhY3RDdXJyZW50RGlzcGF0Y2hlci5jdXJyZW50OyAvLyBTZXQgdGhlIGRpc3BhdGNoZXIgaW4gREVWIGJlY2F1c2UgdGhpcyBtaWdodCBiZSBjYWxsIGluIHRoZSByZW5kZXIgZnVuY3Rpb25cbiAgICAvLyBmb3Igd2FybmluZ3MuXG5cbiAgICBSZWFjdEN1cnJlbnREaXNwYXRjaGVyLmN1cnJlbnQgPSBudWxsO1xuICAgIGRpc2FibGVMb2dzKCk7XG4gIH1cblxuICB0cnkge1xuICAgIC8vIFRoaXMgc2hvdWxkIHRocm93LlxuICAgIGlmIChjb25zdHJ1Y3QpIHtcbiAgICAgIC8vIFNvbWV0aGluZyBzaG91bGQgYmUgc2V0dGluZyB0aGUgcHJvcHMgaW4gdGhlIGNvbnN0cnVjdG9yLlxuICAgICAgdmFyIEZha2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRocm93IEVycm9yKCk7XG4gICAgICB9OyAvLyAkRmxvd0ZpeE1lXG5cblxuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEZha2UucHJvdG90eXBlLCAncHJvcHMnLCB7XG4gICAgICAgIHNldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIC8vIFdlIHVzZSBhIHRocm93aW5nIHNldHRlciBpbnN0ZWFkIG9mIGZyb3plbiBvciBub24td3JpdGFibGUgcHJvcHNcbiAgICAgICAgICAvLyBiZWNhdXNlIHRoYXQgd29uJ3QgdGhyb3cgaW4gYSBub24tc3RyaWN0IG1vZGUgZnVuY3Rpb24uXG4gICAgICAgICAgdGhyb3cgRXJyb3IoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gJ29iamVjdCcgJiYgUmVmbGVjdC5jb25zdHJ1Y3QpIHtcbiAgICAgICAgLy8gV2UgY29uc3RydWN0IGEgZGlmZmVyZW50IGNvbnRyb2wgZm9yIHRoaXMgY2FzZSB0byBpbmNsdWRlIGFueSBleHRyYVxuICAgICAgICAvLyBmcmFtZXMgYWRkZWQgYnkgdGhlIGNvbnN0cnVjdCBjYWxsLlxuICAgICAgICB0cnkge1xuICAgICAgICAgIFJlZmxlY3QuY29uc3RydWN0KEZha2UsIFtdKTtcbiAgICAgICAgfSBjYXRjaCAoeCkge1xuICAgICAgICAgIGNvbnRyb2wgPSB4O1xuICAgICAgICB9XG5cbiAgICAgICAgUmVmbGVjdC5jb25zdHJ1Y3QoZm4sIFtdLCBGYWtlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgRmFrZS5jYWxsKCk7XG4gICAgICAgIH0gY2F0Y2ggKHgpIHtcbiAgICAgICAgICBjb250cm9sID0geDtcbiAgICAgICAgfVxuXG4gICAgICAgIGZuLmNhbGwoRmFrZS5wcm90b3R5cGUpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0cnkge1xuICAgICAgICB0aHJvdyBFcnJvcigpO1xuICAgICAgfSBjYXRjaCAoeCkge1xuICAgICAgICBjb250cm9sID0geDtcbiAgICAgIH1cblxuICAgICAgZm4oKTtcbiAgICB9XG4gIH0gY2F0Y2ggKHNhbXBsZSkge1xuICAgIC8vIFRoaXMgaXMgaW5saW5lZCBtYW51YWxseSBiZWNhdXNlIGNsb3N1cmUgZG9lc24ndCBkbyBpdCBmb3IgdXMuXG4gICAgaWYgKHNhbXBsZSAmJiBjb250cm9sICYmIHR5cGVvZiBzYW1wbGUuc3RhY2sgPT09ICdzdHJpbmcnKSB7XG4gICAgICAvLyBUaGlzIGV4dHJhY3RzIHRoZSBmaXJzdCBmcmFtZSBmcm9tIHRoZSBzYW1wbGUgdGhhdCBpc24ndCBhbHNvIGluIHRoZSBjb250cm9sLlxuICAgICAgLy8gU2tpcHBpbmcgb25lIGZyYW1lIHRoYXQgd2UgYXNzdW1lIGlzIHRoZSBmcmFtZSB0aGF0IGNhbGxzIHRoZSB0d28uXG4gICAgICB2YXIgc2FtcGxlTGluZXMgPSBzYW1wbGUuc3RhY2suc3BsaXQoJ1xcbicpO1xuICAgICAgdmFyIGNvbnRyb2xMaW5lcyA9IGNvbnRyb2wuc3RhY2suc3BsaXQoJ1xcbicpO1xuICAgICAgdmFyIHMgPSBzYW1wbGVMaW5lcy5sZW5ndGggLSAxO1xuICAgICAgdmFyIGMgPSBjb250cm9sTGluZXMubGVuZ3RoIC0gMTtcblxuICAgICAgd2hpbGUgKHMgPj0gMSAmJiBjID49IDAgJiYgc2FtcGxlTGluZXNbc10gIT09IGNvbnRyb2xMaW5lc1tjXSkge1xuICAgICAgICAvLyBXZSBleHBlY3QgYXQgbGVhc3Qgb25lIHN0YWNrIGZyYW1lIHRvIGJlIHNoYXJlZC5cbiAgICAgICAgLy8gVHlwaWNhbGx5IHRoaXMgd2lsbCBiZSB0aGUgcm9vdCBtb3N0IG9uZS4gSG93ZXZlciwgc3RhY2sgZnJhbWVzIG1heSBiZVxuICAgICAgICAvLyBjdXQgb2ZmIGR1ZSB0byBtYXhpbXVtIHN0YWNrIGxpbWl0cy4gSW4gdGhpcyBjYXNlLCBvbmUgbWF5YmUgY3V0IG9mZlxuICAgICAgICAvLyBlYXJsaWVyIHRoYW4gdGhlIG90aGVyLiBXZSBhc3N1bWUgdGhhdCB0aGUgc2FtcGxlIGlzIGxvbmdlciBvciB0aGUgc2FtZVxuICAgICAgICAvLyBhbmQgdGhlcmUgZm9yIGN1dCBvZmYgZWFybGllci4gU28gd2Ugc2hvdWxkIGZpbmQgdGhlIHJvb3QgbW9zdCBmcmFtZSBpblxuICAgICAgICAvLyB0aGUgc2FtcGxlIHNvbWV3aGVyZSBpbiB0aGUgY29udHJvbC5cbiAgICAgICAgYy0tO1xuICAgICAgfVxuXG4gICAgICBmb3IgKDsgcyA+PSAxICYmIGMgPj0gMDsgcy0tLCBjLS0pIHtcbiAgICAgICAgLy8gTmV4dCB3ZSBmaW5kIHRoZSBmaXJzdCBvbmUgdGhhdCBpc24ndCB0aGUgc2FtZSB3aGljaCBzaG91bGQgYmUgdGhlXG4gICAgICAgIC8vIGZyYW1lIHRoYXQgY2FsbGVkIG91ciBzYW1wbGUgZnVuY3Rpb24gYW5kIHRoZSBjb250cm9sLlxuICAgICAgICBpZiAoc2FtcGxlTGluZXNbc10gIT09IGNvbnRyb2xMaW5lc1tjXSkge1xuICAgICAgICAgIC8vIEluIFY4LCB0aGUgZmlyc3QgbGluZSBpcyBkZXNjcmliaW5nIHRoZSBtZXNzYWdlIGJ1dCBvdGhlciBWTXMgZG9uJ3QuXG4gICAgICAgICAgLy8gSWYgd2UncmUgYWJvdXQgdG8gcmV0dXJuIHRoZSBmaXJzdCBsaW5lLCBhbmQgdGhlIGNvbnRyb2wgaXMgYWxzbyBvbiB0aGUgc2FtZVxuICAgICAgICAgIC8vIGxpbmUsIHRoYXQncyBhIHByZXR0eSBnb29kIGluZGljYXRvciB0aGF0IG91ciBzYW1wbGUgdGhyZXcgYXQgc2FtZSBsaW5lIGFzXG4gICAgICAgICAgLy8gdGhlIGNvbnRyb2wuIEkuZS4gYmVmb3JlIHdlIGVudGVyZWQgdGhlIHNhbXBsZSBmcmFtZS4gU28gd2UgaWdub3JlIHRoaXMgcmVzdWx0LlxuICAgICAgICAgIC8vIFRoaXMgY2FuIGhhcHBlbiBpZiB5b3UgcGFzc2VkIGEgY2xhc3MgdG8gZnVuY3Rpb24gY29tcG9uZW50LCBvciBub24tZnVuY3Rpb24uXG4gICAgICAgICAgaWYgKHMgIT09IDEgfHwgYyAhPT0gMSkge1xuICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICBzLS07XG4gICAgICAgICAgICAgIGMtLTsgLy8gV2UgbWF5IHN0aWxsIGhhdmUgc2ltaWxhciBpbnRlcm1lZGlhdGUgZnJhbWVzIGZyb20gdGhlIGNvbnN0cnVjdCBjYWxsLlxuICAgICAgICAgICAgICAvLyBUaGUgbmV4dCBvbmUgdGhhdCBpc24ndCB0aGUgc2FtZSBzaG91bGQgYmUgb3VyIG1hdGNoIHRob3VnaC5cblxuICAgICAgICAgICAgICBpZiAoYyA8IDAgfHwgc2FtcGxlTGluZXNbc10gIT09IGNvbnRyb2xMaW5lc1tjXSkge1xuICAgICAgICAgICAgICAgIC8vIFY4IGFkZHMgYSBcIm5ld1wiIHByZWZpeCBmb3IgbmF0aXZlIGNsYXNzZXMuIExldCdzIHJlbW92ZSBpdCB0byBtYWtlIGl0IHByZXR0aWVyLlxuICAgICAgICAgICAgICAgIHZhciBfZnJhbWUgPSAnXFxuJyArIHNhbXBsZUxpbmVzW3NdLnJlcGxhY2UoJyBhdCBuZXcgJywgJyBhdCAnKTsgLy8gSWYgb3VyIGNvbXBvbmVudCBmcmFtZSBpcyBsYWJlbGVkIFwiPGFub255bW91cz5cIlxuICAgICAgICAgICAgICAgIC8vIGJ1dCB3ZSBoYXZlIGEgdXNlci1wcm92aWRlZCBcImRpc3BsYXlOYW1lXCJcbiAgICAgICAgICAgICAgICAvLyBzcGxpY2UgaXQgaW4gdG8gbWFrZSB0aGUgc3RhY2sgbW9yZSByZWFkYWJsZS5cblxuXG4gICAgICAgICAgICAgICAgaWYgKGZuLmRpc3BsYXlOYW1lICYmIF9mcmFtZS5pbmNsdWRlcygnPGFub255bW91cz4nKSkge1xuICAgICAgICAgICAgICAgICAgX2ZyYW1lID0gX2ZyYW1lLnJlcGxhY2UoJzxhbm9ueW1vdXM+JywgZm4uZGlzcGxheU5hbWUpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZm4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50RnJhbWVDYWNoZS5zZXQoZm4sIF9mcmFtZSk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSAvLyBSZXR1cm4gdGhlIGxpbmUgd2UgZm91bmQuXG5cblxuICAgICAgICAgICAgICAgIHJldHVybiBfZnJhbWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gd2hpbGUgKHMgPj0gMSAmJiBjID49IDApO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9IGZpbmFsbHkge1xuICAgIHJlZW50cnkgPSBmYWxzZTtcblxuICAgIHtcbiAgICAgIFJlYWN0Q3VycmVudERpc3BhdGNoZXIuY3VycmVudCA9IHByZXZpb3VzRGlzcGF0Y2hlcjtcbiAgICAgIHJlZW5hYmxlTG9ncygpO1xuICAgIH1cblxuICAgIEVycm9yLnByZXBhcmVTdGFja1RyYWNlID0gcHJldmlvdXNQcmVwYXJlU3RhY2tUcmFjZTtcbiAgfSAvLyBGYWxsYmFjayB0byBqdXN0IHVzaW5nIHRoZSBuYW1lIGlmIHdlIGNvdWxkbid0IG1ha2UgaXQgdGhyb3cuXG5cblxuICB2YXIgbmFtZSA9IGZuID8gZm4uZGlzcGxheU5hbWUgfHwgZm4ubmFtZSA6ICcnO1xuICB2YXIgc3ludGhldGljRnJhbWUgPSBuYW1lID8gZGVzY3JpYmVCdWlsdEluQ29tcG9uZW50RnJhbWUobmFtZSkgOiAnJztcblxuICB7XG4gICAgaWYgKHR5cGVvZiBmbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY29tcG9uZW50RnJhbWVDYWNoZS5zZXQoZm4sIHN5bnRoZXRpY0ZyYW1lKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gc3ludGhldGljRnJhbWU7XG59XG5mdW5jdGlvbiBkZXNjcmliZUZ1bmN0aW9uQ29tcG9uZW50RnJhbWUoZm4sIHNvdXJjZSwgb3duZXJGbikge1xuICB7XG4gICAgcmV0dXJuIGRlc2NyaWJlTmF0aXZlQ29tcG9uZW50RnJhbWUoZm4sIGZhbHNlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBzaG91bGRDb25zdHJ1Y3QoQ29tcG9uZW50KSB7XG4gIHZhciBwcm90b3R5cGUgPSBDb21wb25lbnQucHJvdG90eXBlO1xuICByZXR1cm4gISEocHJvdG90eXBlICYmIHByb3RvdHlwZS5pc1JlYWN0Q29tcG9uZW50KTtcbn1cblxuZnVuY3Rpb24gZGVzY3JpYmVVbmtub3duRWxlbWVudFR5cGVGcmFtZUluREVWKHR5cGUsIHNvdXJjZSwgb3duZXJGbikge1xuXG4gIGlmICh0eXBlID09IG51bGwpIHtcbiAgICByZXR1cm4gJyc7XG4gIH1cblxuICBpZiAodHlwZW9mIHR5cGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICB7XG4gICAgICByZXR1cm4gZGVzY3JpYmVOYXRpdmVDb21wb25lbnRGcmFtZSh0eXBlLCBzaG91bGRDb25zdHJ1Y3QodHlwZSkpO1xuICAgIH1cbiAgfVxuXG4gIGlmICh0eXBlb2YgdHlwZSA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gZGVzY3JpYmVCdWlsdEluQ29tcG9uZW50RnJhbWUodHlwZSk7XG4gIH1cblxuICBzd2l0Y2ggKHR5cGUpIHtcbiAgICBjYXNlIFJFQUNUX1NVU1BFTlNFX1RZUEU6XG4gICAgICByZXR1cm4gZGVzY3JpYmVCdWlsdEluQ29tcG9uZW50RnJhbWUoJ1N1c3BlbnNlJyk7XG5cbiAgICBjYXNlIFJFQUNUX1NVU1BFTlNFX0xJU1RfVFlQRTpcbiAgICAgIHJldHVybiBkZXNjcmliZUJ1aWx0SW5Db21wb25lbnRGcmFtZSgnU3VzcGVuc2VMaXN0Jyk7XG4gIH1cblxuICBpZiAodHlwZW9mIHR5cGUgPT09ICdvYmplY3QnKSB7XG4gICAgc3dpdGNoICh0eXBlLiQkdHlwZW9mKSB7XG4gICAgICBjYXNlIFJFQUNUX0ZPUldBUkRfUkVGX1RZUEU6XG4gICAgICAgIHJldHVybiBkZXNjcmliZUZ1bmN0aW9uQ29tcG9uZW50RnJhbWUodHlwZS5yZW5kZXIpO1xuXG4gICAgICBjYXNlIFJFQUNUX01FTU9fVFlQRTpcbiAgICAgICAgLy8gTWVtbyBtYXkgY29udGFpbiBhbnkgY29tcG9uZW50IHR5cGUgc28gd2UgcmVjdXJzaXZlbHkgcmVzb2x2ZSBpdC5cbiAgICAgICAgcmV0dXJuIGRlc2NyaWJlVW5rbm93bkVsZW1lbnRUeXBlRnJhbWVJbkRFVih0eXBlLnR5cGUsIHNvdXJjZSwgb3duZXJGbik7XG5cbiAgICAgIGNhc2UgUkVBQ1RfTEFaWV9UWVBFOlxuICAgICAgICB7XG4gICAgICAgICAgdmFyIGxhenlDb21wb25lbnQgPSB0eXBlO1xuICAgICAgICAgIHZhciBwYXlsb2FkID0gbGF6eUNvbXBvbmVudC5fcGF5bG9hZDtcbiAgICAgICAgICB2YXIgaW5pdCA9IGxhenlDb21wb25lbnQuX2luaXQ7XG5cbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gTGF6eSBtYXkgY29udGFpbiBhbnkgY29tcG9uZW50IHR5cGUgc28gd2UgcmVjdXJzaXZlbHkgcmVzb2x2ZSBpdC5cbiAgICAgICAgICAgIHJldHVybiBkZXNjcmliZVVua25vd25FbGVtZW50VHlwZUZyYW1lSW5ERVYoaW5pdChwYXlsb2FkKSwgc291cmNlLCBvd25lckZuKTtcbiAgICAgICAgICB9IGNhdGNoICh4KSB7fVxuICAgICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuICcnO1xufVxuXG52YXIgaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuXG52YXIgbG9nZ2VkVHlwZUZhaWx1cmVzID0ge307XG52YXIgUmVhY3REZWJ1Z0N1cnJlbnRGcmFtZSA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLlJlYWN0RGVidWdDdXJyZW50RnJhbWU7XG5cbmZ1bmN0aW9uIHNldEN1cnJlbnRseVZhbGlkYXRpbmdFbGVtZW50KGVsZW1lbnQpIHtcbiAge1xuICAgIGlmIChlbGVtZW50KSB7XG4gICAgICB2YXIgb3duZXIgPSBlbGVtZW50Ll9vd25lcjtcbiAgICAgIHZhciBzdGFjayA9IGRlc2NyaWJlVW5rbm93bkVsZW1lbnRUeXBlRnJhbWVJbkRFVihlbGVtZW50LnR5cGUsIGVsZW1lbnQuX3NvdXJjZSwgb3duZXIgPyBvd25lci50eXBlIDogbnVsbCk7XG4gICAgICBSZWFjdERlYnVnQ3VycmVudEZyYW1lLnNldEV4dHJhU3RhY2tGcmFtZShzdGFjayk7XG4gICAgfSBlbHNlIHtcbiAgICAgIFJlYWN0RGVidWdDdXJyZW50RnJhbWUuc2V0RXh0cmFTdGFja0ZyYW1lKG51bGwpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBjaGVja1Byb3BUeXBlcyh0eXBlU3BlY3MsIHZhbHVlcywgbG9jYXRpb24sIGNvbXBvbmVudE5hbWUsIGVsZW1lbnQpIHtcbiAge1xuICAgIC8vICRGbG93Rml4TWUgVGhpcyBpcyBva2F5IGJ1dCBGbG93IGRvZXNuJ3Qga25vdyBpdC5cbiAgICB2YXIgaGFzID0gRnVuY3Rpb24uY2FsbC5iaW5kKGhhc093blByb3BlcnR5KTtcblxuICAgIGZvciAodmFyIHR5cGVTcGVjTmFtZSBpbiB0eXBlU3BlY3MpIHtcbiAgICAgIGlmIChoYXModHlwZVNwZWNzLCB0eXBlU3BlY05hbWUpKSB7XG4gICAgICAgIHZhciBlcnJvciQxID0gdm9pZCAwOyAvLyBQcm9wIHR5cGUgdmFsaWRhdGlvbiBtYXkgdGhyb3cuIEluIGNhc2UgdGhleSBkbywgd2UgZG9uJ3Qgd2FudCB0b1xuICAgICAgICAvLyBmYWlsIHRoZSByZW5kZXIgcGhhc2Ugd2hlcmUgaXQgZGlkbid0IGZhaWwgYmVmb3JlLiBTbyB3ZSBsb2cgaXQuXG4gICAgICAgIC8vIEFmdGVyIHRoZXNlIGhhdmUgYmVlbiBjbGVhbmVkIHVwLCB3ZSdsbCBsZXQgdGhlbSB0aHJvdy5cblxuICAgICAgICB0cnkge1xuICAgICAgICAgIC8vIFRoaXMgaXMgaW50ZW50aW9uYWxseSBhbiBpbnZhcmlhbnQgdGhhdCBnZXRzIGNhdWdodC4gSXQncyB0aGUgc2FtZVxuICAgICAgICAgIC8vIGJlaGF2aW9yIGFzIHdpdGhvdXQgdGhpcyBzdGF0ZW1lbnQgZXhjZXB0IHdpdGggYSBiZXR0ZXIgbWVzc2FnZS5cbiAgICAgICAgICBpZiAodHlwZW9mIHR5cGVTcGVjc1t0eXBlU3BlY05hbWVdICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaW50ZXJuYWwvcHJvZC1lcnJvci1jb2Rlc1xuICAgICAgICAgICAgdmFyIGVyciA9IEVycm9yKChjb21wb25lbnROYW1lIHx8ICdSZWFjdCBjbGFzcycpICsgJzogJyArIGxvY2F0aW9uICsgJyB0eXBlIGAnICsgdHlwZVNwZWNOYW1lICsgJ2AgaXMgaW52YWxpZDsgJyArICdpdCBtdXN0IGJlIGEgZnVuY3Rpb24sIHVzdWFsbHkgZnJvbSB0aGUgYHByb3AtdHlwZXNgIHBhY2thZ2UsIGJ1dCByZWNlaXZlZCBgJyArIHR5cGVvZiB0eXBlU3BlY3NbdHlwZVNwZWNOYW1lXSArICdgLicgKyAnVGhpcyBvZnRlbiBoYXBwZW5zIGJlY2F1c2Ugb2YgdHlwb3Mgc3VjaCBhcyBgUHJvcFR5cGVzLmZ1bmN0aW9uYCBpbnN0ZWFkIG9mIGBQcm9wVHlwZXMuZnVuY2AuJyk7XG4gICAgICAgICAgICBlcnIubmFtZSA9ICdJbnZhcmlhbnQgVmlvbGF0aW9uJztcbiAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBlcnJvciQxID0gdHlwZVNwZWNzW3R5cGVTcGVjTmFtZV0odmFsdWVzLCB0eXBlU3BlY05hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBudWxsLCAnU0VDUkVUX0RPX05PVF9QQVNTX1RISVNfT1JfWU9VX1dJTExfQkVfRklSRUQnKTtcbiAgICAgICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgICAgICBlcnJvciQxID0gZXg7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZXJyb3IkMSAmJiAhKGVycm9yJDEgaW5zdGFuY2VvZiBFcnJvcikpIHtcbiAgICAgICAgICBzZXRDdXJyZW50bHlWYWxpZGF0aW5nRWxlbWVudChlbGVtZW50KTtcblxuICAgICAgICAgIGVycm9yKCclczogdHlwZSBzcGVjaWZpY2F0aW9uIG9mICVzJyArICcgYCVzYCBpcyBpbnZhbGlkOyB0aGUgdHlwZSBjaGVja2VyICcgKyAnZnVuY3Rpb24gbXVzdCByZXR1cm4gYG51bGxgIG9yIGFuIGBFcnJvcmAgYnV0IHJldHVybmVkIGEgJXMuICcgKyAnWW91IG1heSBoYXZlIGZvcmdvdHRlbiB0byBwYXNzIGFuIGFyZ3VtZW50IHRvIHRoZSB0eXBlIGNoZWNrZXIgJyArICdjcmVhdG9yIChhcnJheU9mLCBpbnN0YW5jZU9mLCBvYmplY3RPZiwgb25lT2YsIG9uZU9mVHlwZSwgYW5kICcgKyAnc2hhcGUgYWxsIHJlcXVpcmUgYW4gYXJndW1lbnQpLicsIGNvbXBvbmVudE5hbWUgfHwgJ1JlYWN0IGNsYXNzJywgbG9jYXRpb24sIHR5cGVTcGVjTmFtZSwgdHlwZW9mIGVycm9yJDEpO1xuXG4gICAgICAgICAgc2V0Q3VycmVudGx5VmFsaWRhdGluZ0VsZW1lbnQobnVsbCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZXJyb3IkMSBpbnN0YW5jZW9mIEVycm9yICYmICEoZXJyb3IkMS5tZXNzYWdlIGluIGxvZ2dlZFR5cGVGYWlsdXJlcykpIHtcbiAgICAgICAgICAvLyBPbmx5IG1vbml0b3IgdGhpcyBmYWlsdXJlIG9uY2UgYmVjYXVzZSB0aGVyZSB0ZW5kcyB0byBiZSBhIGxvdCBvZiB0aGVcbiAgICAgICAgICAvLyBzYW1lIGVycm9yLlxuICAgICAgICAgIGxvZ2dlZFR5cGVGYWlsdXJlc1tlcnJvciQxLm1lc3NhZ2VdID0gdHJ1ZTtcbiAgICAgICAgICBzZXRDdXJyZW50bHlWYWxpZGF0aW5nRWxlbWVudChlbGVtZW50KTtcblxuICAgICAgICAgIGVycm9yKCdGYWlsZWQgJXMgdHlwZTogJXMnLCBsb2NhdGlvbiwgZXJyb3IkMS5tZXNzYWdlKTtcblxuICAgICAgICAgIHNldEN1cnJlbnRseVZhbGlkYXRpbmdFbGVtZW50KG51bGwpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbnZhciBpc0FycmF5SW1wbCA9IEFycmF5LmlzQXJyYXk7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1yZWRlY2xhcmVcblxuZnVuY3Rpb24gaXNBcnJheShhKSB7XG4gIHJldHVybiBpc0FycmF5SW1wbChhKTtcbn1cblxuLypcbiAqIFRoZSBgJycgKyB2YWx1ZWAgcGF0dGVybiAodXNlZCBpbiBpbiBwZXJmLXNlbnNpdGl2ZSBjb2RlKSB0aHJvd3MgZm9yIFN5bWJvbFxuICogYW5kIFRlbXBvcmFsLiogdHlwZXMuIFNlZSBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvcHVsbC8yMjA2NC5cbiAqXG4gKiBUaGUgZnVuY3Rpb25zIGluIHRoaXMgbW9kdWxlIHdpbGwgdGhyb3cgYW4gZWFzaWVyLXRvLXVuZGVyc3RhbmQsXG4gKiBlYXNpZXItdG8tZGVidWcgZXhjZXB0aW9uIHdpdGggYSBjbGVhciBlcnJvcnMgbWVzc2FnZSBtZXNzYWdlIGV4cGxhaW5pbmcgdGhlXG4gKiBwcm9ibGVtLiAoSW5zdGVhZCBvZiBhIGNvbmZ1c2luZyBleGNlcHRpb24gdGhyb3duIGluc2lkZSB0aGUgaW1wbGVtZW50YXRpb25cbiAqIG9mIHRoZSBgdmFsdWVgIG9iamVjdCkuXG4gKi9cbi8vICRGbG93Rml4TWUgb25seSBjYWxsZWQgaW4gREVWLCBzbyB2b2lkIHJldHVybiBpcyBub3QgcG9zc2libGUuXG5mdW5jdGlvbiB0eXBlTmFtZSh2YWx1ZSkge1xuICB7XG4gICAgLy8gdG9TdHJpbmdUYWcgaXMgbmVlZGVkIGZvciBuYW1lc3BhY2VkIHR5cGVzIGxpa2UgVGVtcG9yYWwuSW5zdGFudFxuICAgIHZhciBoYXNUb1N0cmluZ1RhZyA9IHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiYgU3ltYm9sLnRvU3RyaW5nVGFnO1xuICAgIHZhciB0eXBlID0gaGFzVG9TdHJpbmdUYWcgJiYgdmFsdWVbU3ltYm9sLnRvU3RyaW5nVGFnXSB8fCB2YWx1ZS5jb25zdHJ1Y3Rvci5uYW1lIHx8ICdPYmplY3QnO1xuICAgIHJldHVybiB0eXBlO1xuICB9XG59IC8vICRGbG93Rml4TWUgb25seSBjYWxsZWQgaW4gREVWLCBzbyB2b2lkIHJldHVybiBpcyBub3QgcG9zc2libGUuXG5cblxuZnVuY3Rpb24gd2lsbENvZXJjaW9uVGhyb3codmFsdWUpIHtcbiAge1xuICAgIHRyeSB7XG4gICAgICB0ZXN0U3RyaW5nQ29lcmNpb24odmFsdWUpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiB0ZXN0U3RyaW5nQ29lcmNpb24odmFsdWUpIHtcbiAgLy8gSWYgeW91IGVuZGVkIHVwIGhlcmUgYnkgZm9sbG93aW5nIGFuIGV4Y2VwdGlvbiBjYWxsIHN0YWNrLCBoZXJlJ3Mgd2hhdCdzXG4gIC8vIGhhcHBlbmVkOiB5b3Ugc3VwcGxpZWQgYW4gb2JqZWN0IG9yIHN5bWJvbCB2YWx1ZSB0byBSZWFjdCAoYXMgYSBwcm9wLCBrZXksXG4gIC8vIERPTSBhdHRyaWJ1dGUsIENTUyBwcm9wZXJ0eSwgc3RyaW5nIHJlZiwgZXRjLikgYW5kIHdoZW4gUmVhY3QgdHJpZWQgdG9cbiAgLy8gY29lcmNlIGl0IHRvIGEgc3RyaW5nIHVzaW5nIGAnJyArIHZhbHVlYCwgYW4gZXhjZXB0aW9uIHdhcyB0aHJvd24uXG4gIC8vXG4gIC8vIFRoZSBtb3N0IGNvbW1vbiB0eXBlcyB0aGF0IHdpbGwgY2F1c2UgdGhpcyBleGNlcHRpb24gYXJlIGBTeW1ib2xgIGluc3RhbmNlc1xuICAvLyBhbmQgVGVtcG9yYWwgb2JqZWN0cyBsaWtlIGBUZW1wb3JhbC5JbnN0YW50YC4gQnV0IGFueSBvYmplY3QgdGhhdCBoYXMgYVxuICAvLyBgdmFsdWVPZmAgb3IgYFtTeW1ib2wudG9QcmltaXRpdmVdYCBtZXRob2QgdGhhdCB0aHJvd3Mgd2lsbCBhbHNvIGNhdXNlIHRoaXNcbiAgLy8gZXhjZXB0aW9uLiAoTGlicmFyeSBhdXRob3JzIGRvIHRoaXMgdG8gcHJldmVudCB1c2VycyBmcm9tIHVzaW5nIGJ1aWx0LWluXG4gIC8vIG51bWVyaWMgb3BlcmF0b3JzIGxpa2UgYCtgIG9yIGNvbXBhcmlzb24gb3BlcmF0b3JzIGxpa2UgYD49YCBiZWNhdXNlIGN1c3RvbVxuICAvLyBtZXRob2RzIGFyZSBuZWVkZWQgdG8gcGVyZm9ybSBhY2N1cmF0ZSBhcml0aG1ldGljIG9yIGNvbXBhcmlzb24uKVxuICAvL1xuICAvLyBUbyBmaXggdGhlIHByb2JsZW0sIGNvZXJjZSB0aGlzIG9iamVjdCBvciBzeW1ib2wgdmFsdWUgdG8gYSBzdHJpbmcgYmVmb3JlXG4gIC8vIHBhc3NpbmcgaXQgdG8gUmVhY3QuIFRoZSBtb3N0IHJlbGlhYmxlIHdheSBpcyB1c3VhbGx5IGBTdHJpbmcodmFsdWUpYC5cbiAgLy9cbiAgLy8gVG8gZmluZCB3aGljaCB2YWx1ZSBpcyB0aHJvd2luZywgY2hlY2sgdGhlIGJyb3dzZXIgb3IgZGVidWdnZXIgY29uc29sZS5cbiAgLy8gQmVmb3JlIHRoaXMgZXhjZXB0aW9uIHdhcyB0aHJvd24sIHRoZXJlIHNob3VsZCBiZSBgY29uc29sZS5lcnJvcmAgb3V0cHV0XG4gIC8vIHRoYXQgc2hvd3MgdGhlIHR5cGUgKFN5bWJvbCwgVGVtcG9yYWwuUGxhaW5EYXRlLCBldGMuKSB0aGF0IGNhdXNlZCB0aGVcbiAgLy8gcHJvYmxlbSBhbmQgaG93IHRoYXQgdHlwZSB3YXMgdXNlZDoga2V5LCBhdHJyaWJ1dGUsIGlucHV0IHZhbHVlIHByb3AsIGV0Yy5cbiAgLy8gSW4gbW9zdCBjYXNlcywgdGhpcyBjb25zb2xlIG91dHB1dCBhbHNvIHNob3dzIHRoZSBjb21wb25lbnQgYW5kIGl0c1xuICAvLyBhbmNlc3RvciBjb21wb25lbnRzIHdoZXJlIHRoZSBleGNlcHRpb24gaGFwcGVuZWQuXG4gIC8vXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1pbnRlcm5hbC9zYWZlLXN0cmluZy1jb2VyY2lvblxuICByZXR1cm4gJycgKyB2YWx1ZTtcbn1cbmZ1bmN0aW9uIGNoZWNrS2V5U3RyaW5nQ29lcmNpb24odmFsdWUpIHtcbiAge1xuICAgIGlmICh3aWxsQ29lcmNpb25UaHJvdyh2YWx1ZSkpIHtcbiAgICAgIGVycm9yKCdUaGUgcHJvdmlkZWQga2V5IGlzIGFuIHVuc3VwcG9ydGVkIHR5cGUgJXMuJyArICcgVGhpcyB2YWx1ZSBtdXN0IGJlIGNvZXJjZWQgdG8gYSBzdHJpbmcgYmVmb3JlIGJlZm9yZSB1c2luZyBpdCBoZXJlLicsIHR5cGVOYW1lKHZhbHVlKSk7XG5cbiAgICAgIHJldHVybiB0ZXN0U3RyaW5nQ29lcmNpb24odmFsdWUpOyAvLyB0aHJvdyAodG8gaGVscCBjYWxsZXJzIGZpbmQgdHJvdWJsZXNob290aW5nIGNvbW1lbnRzKVxuICAgIH1cbiAgfVxufVxuXG52YXIgUmVhY3RDdXJyZW50T3duZXIgPSBSZWFjdFNoYXJlZEludGVybmFscy5SZWFjdEN1cnJlbnRPd25lcjtcbnZhciBSRVNFUlZFRF9QUk9QUyA9IHtcbiAga2V5OiB0cnVlLFxuICByZWY6IHRydWUsXG4gIF9fc2VsZjogdHJ1ZSxcbiAgX19zb3VyY2U6IHRydWVcbn07XG52YXIgc3BlY2lhbFByb3BLZXlXYXJuaW5nU2hvd247XG52YXIgc3BlY2lhbFByb3BSZWZXYXJuaW5nU2hvd247XG52YXIgZGlkV2FybkFib3V0U3RyaW5nUmVmcztcblxue1xuICBkaWRXYXJuQWJvdXRTdHJpbmdSZWZzID0ge307XG59XG5cbmZ1bmN0aW9uIGhhc1ZhbGlkUmVmKGNvbmZpZykge1xuICB7XG4gICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwoY29uZmlnLCAncmVmJykpIHtcbiAgICAgIHZhciBnZXR0ZXIgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGNvbmZpZywgJ3JlZicpLmdldDtcblxuICAgICAgaWYgKGdldHRlciAmJiBnZXR0ZXIuaXNSZWFjdFdhcm5pbmcpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBjb25maWcucmVmICE9PSB1bmRlZmluZWQ7XG59XG5cbmZ1bmN0aW9uIGhhc1ZhbGlkS2V5KGNvbmZpZykge1xuICB7XG4gICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwoY29uZmlnLCAna2V5JykpIHtcbiAgICAgIHZhciBnZXR0ZXIgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGNvbmZpZywgJ2tleScpLmdldDtcblxuICAgICAgaWYgKGdldHRlciAmJiBnZXR0ZXIuaXNSZWFjdFdhcm5pbmcpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBjb25maWcua2V5ICE9PSB1bmRlZmluZWQ7XG59XG5cbmZ1bmN0aW9uIHdhcm5JZlN0cmluZ1JlZkNhbm5vdEJlQXV0b0NvbnZlcnRlZChjb25maWcsIHNlbGYpIHtcbiAge1xuICAgIGlmICh0eXBlb2YgY29uZmlnLnJlZiA9PT0gJ3N0cmluZycgJiYgUmVhY3RDdXJyZW50T3duZXIuY3VycmVudCAmJiBzZWxmICYmIFJlYWN0Q3VycmVudE93bmVyLmN1cnJlbnQuc3RhdGVOb2RlICE9PSBzZWxmKSB7XG4gICAgICB2YXIgY29tcG9uZW50TmFtZSA9IGdldENvbXBvbmVudE5hbWVGcm9tVHlwZShSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50LnR5cGUpO1xuXG4gICAgICBpZiAoIWRpZFdhcm5BYm91dFN0cmluZ1JlZnNbY29tcG9uZW50TmFtZV0pIHtcbiAgICAgICAgZXJyb3IoJ0NvbXBvbmVudCBcIiVzXCIgY29udGFpbnMgdGhlIHN0cmluZyByZWYgXCIlc1wiLiAnICsgJ1N1cHBvcnQgZm9yIHN0cmluZyByZWZzIHdpbGwgYmUgcmVtb3ZlZCBpbiBhIGZ1dHVyZSBtYWpvciByZWxlYXNlLiAnICsgJ1RoaXMgY2FzZSBjYW5ub3QgYmUgYXV0b21hdGljYWxseSBjb252ZXJ0ZWQgdG8gYW4gYXJyb3cgZnVuY3Rpb24uICcgKyAnV2UgYXNrIHlvdSB0byBtYW51YWxseSBmaXggdGhpcyBjYXNlIGJ5IHVzaW5nIHVzZVJlZigpIG9yIGNyZWF0ZVJlZigpIGluc3RlYWQuICcgKyAnTGVhcm4gbW9yZSBhYm91dCB1c2luZyByZWZzIHNhZmVseSBoZXJlOiAnICsgJ2h0dHBzOi8vcmVhY3Rqcy5vcmcvbGluay9zdHJpY3QtbW9kZS1zdHJpbmctcmVmJywgZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKFJlYWN0Q3VycmVudE93bmVyLmN1cnJlbnQudHlwZSksIGNvbmZpZy5yZWYpO1xuXG4gICAgICAgIGRpZFdhcm5BYm91dFN0cmluZ1JlZnNbY29tcG9uZW50TmFtZV0gPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBkZWZpbmVLZXlQcm9wV2FybmluZ0dldHRlcihwcm9wcywgZGlzcGxheU5hbWUpIHtcbiAge1xuICAgIHZhciB3YXJuQWJvdXRBY2Nlc3NpbmdLZXkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoIXNwZWNpYWxQcm9wS2V5V2FybmluZ1Nob3duKSB7XG4gICAgICAgIHNwZWNpYWxQcm9wS2V5V2FybmluZ1Nob3duID0gdHJ1ZTtcblxuICAgICAgICBlcnJvcignJXM6IGBrZXlgIGlzIG5vdCBhIHByb3AuIFRyeWluZyB0byBhY2Nlc3MgaXQgd2lsbCByZXN1bHQgJyArICdpbiBgdW5kZWZpbmVkYCBiZWluZyByZXR1cm5lZC4gSWYgeW91IG5lZWQgdG8gYWNjZXNzIHRoZSBzYW1lICcgKyAndmFsdWUgd2l0aGluIHRoZSBjaGlsZCBjb21wb25lbnQsIHlvdSBzaG91bGQgcGFzcyBpdCBhcyBhIGRpZmZlcmVudCAnICsgJ3Byb3AuIChodHRwczovL3JlYWN0anMub3JnL2xpbmsvc3BlY2lhbC1wcm9wcyknLCBkaXNwbGF5TmFtZSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHdhcm5BYm91dEFjY2Vzc2luZ0tleS5pc1JlYWN0V2FybmluZyA9IHRydWU7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHByb3BzLCAna2V5Jywge1xuICAgICAgZ2V0OiB3YXJuQWJvdXRBY2Nlc3NpbmdLZXksXG4gICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBkZWZpbmVSZWZQcm9wV2FybmluZ0dldHRlcihwcm9wcywgZGlzcGxheU5hbWUpIHtcbiAge1xuICAgIHZhciB3YXJuQWJvdXRBY2Nlc3NpbmdSZWYgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoIXNwZWNpYWxQcm9wUmVmV2FybmluZ1Nob3duKSB7XG4gICAgICAgIHNwZWNpYWxQcm9wUmVmV2FybmluZ1Nob3duID0gdHJ1ZTtcblxuICAgICAgICBlcnJvcignJXM6IGByZWZgIGlzIG5vdCBhIHByb3AuIFRyeWluZyB0byBhY2Nlc3MgaXQgd2lsbCByZXN1bHQgJyArICdpbiBgdW5kZWZpbmVkYCBiZWluZyByZXR1cm5lZC4gSWYgeW91IG5lZWQgdG8gYWNjZXNzIHRoZSBzYW1lICcgKyAndmFsdWUgd2l0aGluIHRoZSBjaGlsZCBjb21wb25lbnQsIHlvdSBzaG91bGQgcGFzcyBpdCBhcyBhIGRpZmZlcmVudCAnICsgJ3Byb3AuIChodHRwczovL3JlYWN0anMub3JnL2xpbmsvc3BlY2lhbC1wcm9wcyknLCBkaXNwbGF5TmFtZSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHdhcm5BYm91dEFjY2Vzc2luZ1JlZi5pc1JlYWN0V2FybmluZyA9IHRydWU7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHByb3BzLCAncmVmJywge1xuICAgICAgZ2V0OiB3YXJuQWJvdXRBY2Nlc3NpbmdSZWYsXG4gICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgfVxufVxuLyoqXG4gKiBGYWN0b3J5IG1ldGhvZCB0byBjcmVhdGUgYSBuZXcgUmVhY3QgZWxlbWVudC4gVGhpcyBubyBsb25nZXIgYWRoZXJlcyB0b1xuICogdGhlIGNsYXNzIHBhdHRlcm4sIHNvIGRvIG5vdCB1c2UgbmV3IHRvIGNhbGwgaXQuIEFsc28sIGluc3RhbmNlb2YgY2hlY2tcbiAqIHdpbGwgbm90IHdvcmsuIEluc3RlYWQgdGVzdCAkJHR5cGVvZiBmaWVsZCBhZ2FpbnN0IFN5bWJvbC5mb3IoJ3JlYWN0LmVsZW1lbnQnKSB0byBjaGVja1xuICogaWYgc29tZXRoaW5nIGlzIGEgUmVhY3QgRWxlbWVudC5cbiAqXG4gKiBAcGFyYW0geyp9IHR5cGVcbiAqIEBwYXJhbSB7Kn0gcHJvcHNcbiAqIEBwYXJhbSB7Kn0ga2V5XG4gKiBAcGFyYW0ge3N0cmluZ3xvYmplY3R9IHJlZlxuICogQHBhcmFtIHsqfSBvd25lclxuICogQHBhcmFtIHsqfSBzZWxmIEEgKnRlbXBvcmFyeSogaGVscGVyIHRvIGRldGVjdCBwbGFjZXMgd2hlcmUgYHRoaXNgIGlzXG4gKiBkaWZmZXJlbnQgZnJvbSB0aGUgYG93bmVyYCB3aGVuIFJlYWN0LmNyZWF0ZUVsZW1lbnQgaXMgY2FsbGVkLCBzbyB0aGF0IHdlXG4gKiBjYW4gd2Fybi4gV2Ugd2FudCB0byBnZXQgcmlkIG9mIG93bmVyIGFuZCByZXBsYWNlIHN0cmluZyBgcmVmYHMgd2l0aCBhcnJvd1xuICogZnVuY3Rpb25zLCBhbmQgYXMgbG9uZyBhcyBgdGhpc2AgYW5kIG93bmVyIGFyZSB0aGUgc2FtZSwgdGhlcmUgd2lsbCBiZSBub1xuICogY2hhbmdlIGluIGJlaGF2aW9yLlxuICogQHBhcmFtIHsqfSBzb3VyY2UgQW4gYW5ub3RhdGlvbiBvYmplY3QgKGFkZGVkIGJ5IGEgdHJhbnNwaWxlciBvciBvdGhlcndpc2UpXG4gKiBpbmRpY2F0aW5nIGZpbGVuYW1lLCBsaW5lIG51bWJlciwgYW5kL29yIG90aGVyIGluZm9ybWF0aW9uLlxuICogQGludGVybmFsXG4gKi9cblxuXG52YXIgUmVhY3RFbGVtZW50ID0gZnVuY3Rpb24gKHR5cGUsIGtleSwgcmVmLCBzZWxmLCBzb3VyY2UsIG93bmVyLCBwcm9wcykge1xuICB2YXIgZWxlbWVudCA9IHtcbiAgICAvLyBUaGlzIHRhZyBhbGxvd3MgdXMgdG8gdW5pcXVlbHkgaWRlbnRpZnkgdGhpcyBhcyBhIFJlYWN0IEVsZW1lbnRcbiAgICAkJHR5cGVvZjogUkVBQ1RfRUxFTUVOVF9UWVBFLFxuICAgIC8vIEJ1aWx0LWluIHByb3BlcnRpZXMgdGhhdCBiZWxvbmcgb24gdGhlIGVsZW1lbnRcbiAgICB0eXBlOiB0eXBlLFxuICAgIGtleToga2V5LFxuICAgIHJlZjogcmVmLFxuICAgIHByb3BzOiBwcm9wcyxcbiAgICAvLyBSZWNvcmQgdGhlIGNvbXBvbmVudCByZXNwb25zaWJsZSBmb3IgY3JlYXRpbmcgdGhpcyBlbGVtZW50LlxuICAgIF9vd25lcjogb3duZXJcbiAgfTtcblxuICB7XG4gICAgLy8gVGhlIHZhbGlkYXRpb24gZmxhZyBpcyBjdXJyZW50bHkgbXV0YXRpdmUuIFdlIHB1dCBpdCBvblxuICAgIC8vIGFuIGV4dGVybmFsIGJhY2tpbmcgc3RvcmUgc28gdGhhdCB3ZSBjYW4gZnJlZXplIHRoZSB3aG9sZSBvYmplY3QuXG4gICAgLy8gVGhpcyBjYW4gYmUgcmVwbGFjZWQgd2l0aCBhIFdlYWtNYXAgb25jZSB0aGV5IGFyZSBpbXBsZW1lbnRlZCBpblxuICAgIC8vIGNvbW1vbmx5IHVzZWQgZGV2ZWxvcG1lbnQgZW52aXJvbm1lbnRzLlxuICAgIGVsZW1lbnQuX3N0b3JlID0ge307IC8vIFRvIG1ha2UgY29tcGFyaW5nIFJlYWN0RWxlbWVudHMgZWFzaWVyIGZvciB0ZXN0aW5nIHB1cnBvc2VzLCB3ZSBtYWtlXG4gICAgLy8gdGhlIHZhbGlkYXRpb24gZmxhZyBub24tZW51bWVyYWJsZSAod2hlcmUgcG9zc2libGUsIHdoaWNoIHNob3VsZFxuICAgIC8vIGluY2x1ZGUgZXZlcnkgZW52aXJvbm1lbnQgd2UgcnVuIHRlc3RzIGluKSwgc28gdGhlIHRlc3QgZnJhbWV3b3JrXG4gICAgLy8gaWdub3JlcyBpdC5cblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlbGVtZW50Ll9zdG9yZSwgJ3ZhbGlkYXRlZCcsIHtcbiAgICAgIGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgdmFsdWU6IGZhbHNlXG4gICAgfSk7IC8vIHNlbGYgYW5kIHNvdXJjZSBhcmUgREVWIG9ubHkgcHJvcGVydGllcy5cblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlbGVtZW50LCAnX3NlbGYnLCB7XG4gICAgICBjb25maWd1cmFibGU6IGZhbHNlLFxuICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICB3cml0YWJsZTogZmFsc2UsXG4gICAgICB2YWx1ZTogc2VsZlxuICAgIH0pOyAvLyBUd28gZWxlbWVudHMgY3JlYXRlZCBpbiB0d28gZGlmZmVyZW50IHBsYWNlcyBzaG91bGQgYmUgY29uc2lkZXJlZFxuICAgIC8vIGVxdWFsIGZvciB0ZXN0aW5nIHB1cnBvc2VzIGFuZCB0aGVyZWZvcmUgd2UgaGlkZSBpdCBmcm9tIGVudW1lcmF0aW9uLlxuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGVsZW1lbnQsICdfc291cmNlJywge1xuICAgICAgY29uZmlndXJhYmxlOiBmYWxzZSxcbiAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgd3JpdGFibGU6IGZhbHNlLFxuICAgICAgdmFsdWU6IHNvdXJjZVxuICAgIH0pO1xuXG4gICAgaWYgKE9iamVjdC5mcmVlemUpIHtcbiAgICAgIE9iamVjdC5mcmVlemUoZWxlbWVudC5wcm9wcyk7XG4gICAgICBPYmplY3QuZnJlZXplKGVsZW1lbnQpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBlbGVtZW50O1xufTtcbi8qKlxuICogaHR0cHM6Ly9naXRodWIuY29tL3JlYWN0anMvcmZjcy9wdWxsLzEwN1xuICogQHBhcmFtIHsqfSB0eXBlXG4gKiBAcGFyYW0ge29iamVjdH0gcHJvcHNcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXlcbiAqL1xuXG5mdW5jdGlvbiBqc3hERVYodHlwZSwgY29uZmlnLCBtYXliZUtleSwgc291cmNlLCBzZWxmKSB7XG4gIHtcbiAgICB2YXIgcHJvcE5hbWU7IC8vIFJlc2VydmVkIG5hbWVzIGFyZSBleHRyYWN0ZWRcblxuICAgIHZhciBwcm9wcyA9IHt9O1xuICAgIHZhciBrZXkgPSBudWxsO1xuICAgIHZhciByZWYgPSBudWxsOyAvLyBDdXJyZW50bHksIGtleSBjYW4gYmUgc3ByZWFkIGluIGFzIGEgcHJvcC4gVGhpcyBjYXVzZXMgYSBwb3RlbnRpYWxcbiAgICAvLyBpc3N1ZSBpZiBrZXkgaXMgYWxzbyBleHBsaWNpdGx5IGRlY2xhcmVkIChpZS4gPGRpdiB7Li4ucHJvcHN9IGtleT1cIkhpXCIgLz5cbiAgICAvLyBvciA8ZGl2IGtleT1cIkhpXCIgey4uLnByb3BzfSAvPiApLiBXZSB3YW50IHRvIGRlcHJlY2F0ZSBrZXkgc3ByZWFkLFxuICAgIC8vIGJ1dCBhcyBhbiBpbnRlcm1lZGlhcnkgc3RlcCwgd2Ugd2lsbCB1c2UganN4REVWIGZvciBldmVyeXRoaW5nIGV4Y2VwdFxuICAgIC8vIDxkaXYgey4uLnByb3BzfSBrZXk9XCJIaVwiIC8+LCBiZWNhdXNlIHdlIGFyZW4ndCBjdXJyZW50bHkgYWJsZSB0byB0ZWxsIGlmXG4gICAgLy8ga2V5IGlzIGV4cGxpY2l0bHkgZGVjbGFyZWQgdG8gYmUgdW5kZWZpbmVkIG9yIG5vdC5cblxuICAgIGlmIChtYXliZUtleSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB7XG4gICAgICAgIGNoZWNrS2V5U3RyaW5nQ29lcmNpb24obWF5YmVLZXkpO1xuICAgICAgfVxuXG4gICAgICBrZXkgPSAnJyArIG1heWJlS2V5O1xuICAgIH1cblxuICAgIGlmIChoYXNWYWxpZEtleShjb25maWcpKSB7XG4gICAgICB7XG4gICAgICAgIGNoZWNrS2V5U3RyaW5nQ29lcmNpb24oY29uZmlnLmtleSk7XG4gICAgICB9XG5cbiAgICAgIGtleSA9ICcnICsgY29uZmlnLmtleTtcbiAgICB9XG5cbiAgICBpZiAoaGFzVmFsaWRSZWYoY29uZmlnKSkge1xuICAgICAgcmVmID0gY29uZmlnLnJlZjtcbiAgICAgIHdhcm5JZlN0cmluZ1JlZkNhbm5vdEJlQXV0b0NvbnZlcnRlZChjb25maWcsIHNlbGYpO1xuICAgIH0gLy8gUmVtYWluaW5nIHByb3BlcnRpZXMgYXJlIGFkZGVkIHRvIGEgbmV3IHByb3BzIG9iamVjdFxuXG5cbiAgICBmb3IgKHByb3BOYW1lIGluIGNvbmZpZykge1xuICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwoY29uZmlnLCBwcm9wTmFtZSkgJiYgIVJFU0VSVkVEX1BST1BTLmhhc093blByb3BlcnR5KHByb3BOYW1lKSkge1xuICAgICAgICBwcm9wc1twcm9wTmFtZV0gPSBjb25maWdbcHJvcE5hbWVdO1xuICAgICAgfVxuICAgIH0gLy8gUmVzb2x2ZSBkZWZhdWx0IHByb3BzXG5cblxuICAgIGlmICh0eXBlICYmIHR5cGUuZGVmYXVsdFByb3BzKSB7XG4gICAgICB2YXIgZGVmYXVsdFByb3BzID0gdHlwZS5kZWZhdWx0UHJvcHM7XG5cbiAgICAgIGZvciAocHJvcE5hbWUgaW4gZGVmYXVsdFByb3BzKSB7XG4gICAgICAgIGlmIChwcm9wc1twcm9wTmFtZV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHByb3BzW3Byb3BOYW1lXSA9IGRlZmF1bHRQcm9wc1twcm9wTmFtZV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoa2V5IHx8IHJlZikge1xuICAgICAgdmFyIGRpc3BsYXlOYW1lID0gdHlwZW9mIHR5cGUgPT09ICdmdW5jdGlvbicgPyB0eXBlLmRpc3BsYXlOYW1lIHx8IHR5cGUubmFtZSB8fCAnVW5rbm93bicgOiB0eXBlO1xuXG4gICAgICBpZiAoa2V5KSB7XG4gICAgICAgIGRlZmluZUtleVByb3BXYXJuaW5nR2V0dGVyKHByb3BzLCBkaXNwbGF5TmFtZSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChyZWYpIHtcbiAgICAgICAgZGVmaW5lUmVmUHJvcFdhcm5pbmdHZXR0ZXIocHJvcHMsIGRpc3BsYXlOYW1lKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gUmVhY3RFbGVtZW50KHR5cGUsIGtleSwgcmVmLCBzZWxmLCBzb3VyY2UsIFJlYWN0Q3VycmVudE93bmVyLmN1cnJlbnQsIHByb3BzKTtcbiAgfVxufVxuXG52YXIgUmVhY3RDdXJyZW50T3duZXIkMSA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLlJlYWN0Q3VycmVudE93bmVyO1xudmFyIFJlYWN0RGVidWdDdXJyZW50RnJhbWUkMSA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLlJlYWN0RGVidWdDdXJyZW50RnJhbWU7XG5cbmZ1bmN0aW9uIHNldEN1cnJlbnRseVZhbGlkYXRpbmdFbGVtZW50JDEoZWxlbWVudCkge1xuICB7XG4gICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgIHZhciBvd25lciA9IGVsZW1lbnQuX293bmVyO1xuICAgICAgdmFyIHN0YWNrID0gZGVzY3JpYmVVbmtub3duRWxlbWVudFR5cGVGcmFtZUluREVWKGVsZW1lbnQudHlwZSwgZWxlbWVudC5fc291cmNlLCBvd25lciA/IG93bmVyLnR5cGUgOiBudWxsKTtcbiAgICAgIFJlYWN0RGVidWdDdXJyZW50RnJhbWUkMS5zZXRFeHRyYVN0YWNrRnJhbWUoc3RhY2spO1xuICAgIH0gZWxzZSB7XG4gICAgICBSZWFjdERlYnVnQ3VycmVudEZyYW1lJDEuc2V0RXh0cmFTdGFja0ZyYW1lKG51bGwpO1xuICAgIH1cbiAgfVxufVxuXG52YXIgcHJvcFR5cGVzTWlzc3BlbGxXYXJuaW5nU2hvd247XG5cbntcbiAgcHJvcFR5cGVzTWlzc3BlbGxXYXJuaW5nU2hvd24gPSBmYWxzZTtcbn1cbi8qKlxuICogVmVyaWZpZXMgdGhlIG9iamVjdCBpcyBhIFJlYWN0RWxlbWVudC5cbiAqIFNlZSBodHRwczovL3JlYWN0anMub3JnL2RvY3MvcmVhY3QtYXBpLmh0bWwjaXN2YWxpZGVsZW1lbnRcbiAqIEBwYXJhbSB7P29iamVjdH0gb2JqZWN0XG4gKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIGBvYmplY3RgIGlzIGEgUmVhY3RFbGVtZW50LlxuICogQGZpbmFsXG4gKi9cblxuXG5mdW5jdGlvbiBpc1ZhbGlkRWxlbWVudChvYmplY3QpIHtcbiAge1xuICAgIHJldHVybiB0eXBlb2Ygb2JqZWN0ID09PSAnb2JqZWN0JyAmJiBvYmplY3QgIT09IG51bGwgJiYgb2JqZWN0LiQkdHlwZW9mID09PSBSRUFDVF9FTEVNRU5UX1RZUEU7XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0RGVjbGFyYXRpb25FcnJvckFkZGVuZHVtKCkge1xuICB7XG4gICAgaWYgKFJlYWN0Q3VycmVudE93bmVyJDEuY3VycmVudCkge1xuICAgICAgdmFyIG5hbWUgPSBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUoUmVhY3RDdXJyZW50T3duZXIkMS5jdXJyZW50LnR5cGUpO1xuXG4gICAgICBpZiAobmFtZSkge1xuICAgICAgICByZXR1cm4gJ1xcblxcbkNoZWNrIHRoZSByZW5kZXIgbWV0aG9kIG9mIGAnICsgbmFtZSArICdgLic7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuICcnO1xuICB9XG59XG5cbmZ1bmN0aW9uIGdldFNvdXJjZUluZm9FcnJvckFkZGVuZHVtKHNvdXJjZSkge1xuICB7XG4gICAgaWYgKHNvdXJjZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB2YXIgZmlsZU5hbWUgPSBzb3VyY2UuZmlsZU5hbWUucmVwbGFjZSgvXi4qW1xcXFxcXC9dLywgJycpO1xuICAgICAgdmFyIGxpbmVOdW1iZXIgPSBzb3VyY2UubGluZU51bWJlcjtcbiAgICAgIHJldHVybiAnXFxuXFxuQ2hlY2sgeW91ciBjb2RlIGF0ICcgKyBmaWxlTmFtZSArICc6JyArIGxpbmVOdW1iZXIgKyAnLic7XG4gICAgfVxuXG4gICAgcmV0dXJuICcnO1xuICB9XG59XG4vKipcbiAqIFdhcm4gaWYgdGhlcmUncyBubyBrZXkgZXhwbGljaXRseSBzZXQgb24gZHluYW1pYyBhcnJheXMgb2YgY2hpbGRyZW4gb3JcbiAqIG9iamVjdCBrZXlzIGFyZSBub3QgdmFsaWQuIFRoaXMgYWxsb3dzIHVzIHRvIGtlZXAgdHJhY2sgb2YgY2hpbGRyZW4gYmV0d2VlblxuICogdXBkYXRlcy5cbiAqL1xuXG5cbnZhciBvd25lckhhc0tleVVzZVdhcm5pbmcgPSB7fTtcblxuZnVuY3Rpb24gZ2V0Q3VycmVudENvbXBvbmVudEVycm9ySW5mbyhwYXJlbnRUeXBlKSB7XG4gIHtcbiAgICB2YXIgaW5mbyA9IGdldERlY2xhcmF0aW9uRXJyb3JBZGRlbmR1bSgpO1xuXG4gICAgaWYgKCFpbmZvKSB7XG4gICAgICB2YXIgcGFyZW50TmFtZSA9IHR5cGVvZiBwYXJlbnRUeXBlID09PSAnc3RyaW5nJyA/IHBhcmVudFR5cGUgOiBwYXJlbnRUeXBlLmRpc3BsYXlOYW1lIHx8IHBhcmVudFR5cGUubmFtZTtcblxuICAgICAgaWYgKHBhcmVudE5hbWUpIHtcbiAgICAgICAgaW5mbyA9IFwiXFxuXFxuQ2hlY2sgdGhlIHRvcC1sZXZlbCByZW5kZXIgY2FsbCB1c2luZyA8XCIgKyBwYXJlbnROYW1lICsgXCI+LlwiO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBpbmZvO1xuICB9XG59XG4vKipcbiAqIFdhcm4gaWYgdGhlIGVsZW1lbnQgZG9lc24ndCBoYXZlIGFuIGV4cGxpY2l0IGtleSBhc3NpZ25lZCB0byBpdC5cbiAqIFRoaXMgZWxlbWVudCBpcyBpbiBhbiBhcnJheS4gVGhlIGFycmF5IGNvdWxkIGdyb3cgYW5kIHNocmluayBvciBiZVxuICogcmVvcmRlcmVkLiBBbGwgY2hpbGRyZW4gdGhhdCBoYXZlbid0IGFscmVhZHkgYmVlbiB2YWxpZGF0ZWQgYXJlIHJlcXVpcmVkIHRvXG4gKiBoYXZlIGEgXCJrZXlcIiBwcm9wZXJ0eSBhc3NpZ25lZCB0byBpdC4gRXJyb3Igc3RhdHVzZXMgYXJlIGNhY2hlZCBzbyBhIHdhcm5pbmdcbiAqIHdpbGwgb25seSBiZSBzaG93biBvbmNlLlxuICpcbiAqIEBpbnRlcm5hbFxuICogQHBhcmFtIHtSZWFjdEVsZW1lbnR9IGVsZW1lbnQgRWxlbWVudCB0aGF0IHJlcXVpcmVzIGEga2V5LlxuICogQHBhcmFtIHsqfSBwYXJlbnRUeXBlIGVsZW1lbnQncyBwYXJlbnQncyB0eXBlLlxuICovXG5cblxuZnVuY3Rpb24gdmFsaWRhdGVFeHBsaWNpdEtleShlbGVtZW50LCBwYXJlbnRUeXBlKSB7XG4gIHtcbiAgICBpZiAoIWVsZW1lbnQuX3N0b3JlIHx8IGVsZW1lbnQuX3N0b3JlLnZhbGlkYXRlZCB8fCBlbGVtZW50LmtleSAhPSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZWxlbWVudC5fc3RvcmUudmFsaWRhdGVkID0gdHJ1ZTtcbiAgICB2YXIgY3VycmVudENvbXBvbmVudEVycm9ySW5mbyA9IGdldEN1cnJlbnRDb21wb25lbnRFcnJvckluZm8ocGFyZW50VHlwZSk7XG5cbiAgICBpZiAob3duZXJIYXNLZXlVc2VXYXJuaW5nW2N1cnJlbnRDb21wb25lbnRFcnJvckluZm9dKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgb3duZXJIYXNLZXlVc2VXYXJuaW5nW2N1cnJlbnRDb21wb25lbnRFcnJvckluZm9dID0gdHJ1ZTsgLy8gVXN1YWxseSB0aGUgY3VycmVudCBvd25lciBpcyB0aGUgb2ZmZW5kZXIsIGJ1dCBpZiBpdCBhY2NlcHRzIGNoaWxkcmVuIGFzIGFcbiAgICAvLyBwcm9wZXJ0eSwgaXQgbWF5IGJlIHRoZSBjcmVhdG9yIG9mIHRoZSBjaGlsZCB0aGF0J3MgcmVzcG9uc2libGUgZm9yXG4gICAgLy8gYXNzaWduaW5nIGl0IGEga2V5LlxuXG4gICAgdmFyIGNoaWxkT3duZXIgPSAnJztcblxuICAgIGlmIChlbGVtZW50ICYmIGVsZW1lbnQuX293bmVyICYmIGVsZW1lbnQuX293bmVyICE9PSBSZWFjdEN1cnJlbnRPd25lciQxLmN1cnJlbnQpIHtcbiAgICAgIC8vIEdpdmUgdGhlIGNvbXBvbmVudCB0aGF0IG9yaWdpbmFsbHkgY3JlYXRlZCB0aGlzIGNoaWxkLlxuICAgICAgY2hpbGRPd25lciA9IFwiIEl0IHdhcyBwYXNzZWQgYSBjaGlsZCBmcm9tIFwiICsgZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKGVsZW1lbnQuX293bmVyLnR5cGUpICsgXCIuXCI7XG4gICAgfVxuXG4gICAgc2V0Q3VycmVudGx5VmFsaWRhdGluZ0VsZW1lbnQkMShlbGVtZW50KTtcblxuICAgIGVycm9yKCdFYWNoIGNoaWxkIGluIGEgbGlzdCBzaG91bGQgaGF2ZSBhIHVuaXF1ZSBcImtleVwiIHByb3AuJyArICclcyVzIFNlZSBodHRwczovL3JlYWN0anMub3JnL2xpbmsvd2FybmluZy1rZXlzIGZvciBtb3JlIGluZm9ybWF0aW9uLicsIGN1cnJlbnRDb21wb25lbnRFcnJvckluZm8sIGNoaWxkT3duZXIpO1xuXG4gICAgc2V0Q3VycmVudGx5VmFsaWRhdGluZ0VsZW1lbnQkMShudWxsKTtcbiAgfVxufVxuLyoqXG4gKiBFbnN1cmUgdGhhdCBldmVyeSBlbGVtZW50IGVpdGhlciBpcyBwYXNzZWQgaW4gYSBzdGF0aWMgbG9jYXRpb24sIGluIGFuXG4gKiBhcnJheSB3aXRoIGFuIGV4cGxpY2l0IGtleXMgcHJvcGVydHkgZGVmaW5lZCwgb3IgaW4gYW4gb2JqZWN0IGxpdGVyYWxcbiAqIHdpdGggdmFsaWQga2V5IHByb3BlcnR5LlxuICpcbiAqIEBpbnRlcm5hbFxuICogQHBhcmFtIHtSZWFjdE5vZGV9IG5vZGUgU3RhdGljYWxseSBwYXNzZWQgY2hpbGQgb2YgYW55IHR5cGUuXG4gKiBAcGFyYW0geyp9IHBhcmVudFR5cGUgbm9kZSdzIHBhcmVudCdzIHR5cGUuXG4gKi9cblxuXG5mdW5jdGlvbiB2YWxpZGF0ZUNoaWxkS2V5cyhub2RlLCBwYXJlbnRUeXBlKSB7XG4gIHtcbiAgICBpZiAodHlwZW9mIG5vZGUgIT09ICdvYmplY3QnKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGlzQXJyYXkobm9kZSkpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbm9kZS5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgY2hpbGQgPSBub2RlW2ldO1xuXG4gICAgICAgIGlmIChpc1ZhbGlkRWxlbWVudChjaGlsZCkpIHtcbiAgICAgICAgICB2YWxpZGF0ZUV4cGxpY2l0S2V5KGNoaWxkLCBwYXJlbnRUeXBlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoaXNWYWxpZEVsZW1lbnQobm9kZSkpIHtcbiAgICAgIC8vIFRoaXMgZWxlbWVudCB3YXMgcGFzc2VkIGluIGEgdmFsaWQgbG9jYXRpb24uXG4gICAgICBpZiAobm9kZS5fc3RvcmUpIHtcbiAgICAgICAgbm9kZS5fc3RvcmUudmFsaWRhdGVkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKG5vZGUpIHtcbiAgICAgIHZhciBpdGVyYXRvckZuID0gZ2V0SXRlcmF0b3JGbihub2RlKTtcblxuICAgICAgaWYgKHR5cGVvZiBpdGVyYXRvckZuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIC8vIEVudHJ5IGl0ZXJhdG9ycyB1c2VkIHRvIHByb3ZpZGUgaW1wbGljaXQga2V5cyxcbiAgICAgICAgLy8gYnV0IG5vdyB3ZSBwcmludCBhIHNlcGFyYXRlIHdhcm5pbmcgZm9yIHRoZW0gbGF0ZXIuXG4gICAgICAgIGlmIChpdGVyYXRvckZuICE9PSBub2RlLmVudHJpZXMpIHtcbiAgICAgICAgICB2YXIgaXRlcmF0b3IgPSBpdGVyYXRvckZuLmNhbGwobm9kZSk7XG4gICAgICAgICAgdmFyIHN0ZXA7XG5cbiAgICAgICAgICB3aGlsZSAoIShzdGVwID0gaXRlcmF0b3IubmV4dCgpKS5kb25lKSB7XG4gICAgICAgICAgICBpZiAoaXNWYWxpZEVsZW1lbnQoc3RlcC52YWx1ZSkpIHtcbiAgICAgICAgICAgICAgdmFsaWRhdGVFeHBsaWNpdEtleShzdGVwLnZhbHVlLCBwYXJlbnRUeXBlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbi8qKlxuICogR2l2ZW4gYW4gZWxlbWVudCwgdmFsaWRhdGUgdGhhdCBpdHMgcHJvcHMgZm9sbG93IHRoZSBwcm9wVHlwZXMgZGVmaW5pdGlvbixcbiAqIHByb3ZpZGVkIGJ5IHRoZSB0eXBlLlxuICpcbiAqIEBwYXJhbSB7UmVhY3RFbGVtZW50fSBlbGVtZW50XG4gKi9cblxuXG5mdW5jdGlvbiB2YWxpZGF0ZVByb3BUeXBlcyhlbGVtZW50KSB7XG4gIHtcbiAgICB2YXIgdHlwZSA9IGVsZW1lbnQudHlwZTtcblxuICAgIGlmICh0eXBlID09PSBudWxsIHx8IHR5cGUgPT09IHVuZGVmaW5lZCB8fCB0eXBlb2YgdHlwZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgcHJvcFR5cGVzO1xuXG4gICAgaWYgKHR5cGVvZiB0eXBlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBwcm9wVHlwZXMgPSB0eXBlLnByb3BUeXBlcztcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiB0eXBlID09PSAnb2JqZWN0JyAmJiAodHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfRk9SV0FSRF9SRUZfVFlQRSB8fCAvLyBOb3RlOiBNZW1vIG9ubHkgY2hlY2tzIG91dGVyIHByb3BzIGhlcmUuXG4gICAgLy8gSW5uZXIgcHJvcHMgYXJlIGNoZWNrZWQgaW4gdGhlIHJlY29uY2lsZXIuXG4gICAgdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfTUVNT19UWVBFKSkge1xuICAgICAgcHJvcFR5cGVzID0gdHlwZS5wcm9wVHlwZXM7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAocHJvcFR5cGVzKSB7XG4gICAgICAvLyBJbnRlbnRpb25hbGx5IGluc2lkZSB0byBhdm9pZCB0cmlnZ2VyaW5nIGxhenkgaW5pdGlhbGl6ZXJzOlxuICAgICAgdmFyIG5hbWUgPSBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUodHlwZSk7XG4gICAgICBjaGVja1Byb3BUeXBlcyhwcm9wVHlwZXMsIGVsZW1lbnQucHJvcHMsICdwcm9wJywgbmFtZSwgZWxlbWVudCk7XG4gICAgfSBlbHNlIGlmICh0eXBlLlByb3BUeXBlcyAhPT0gdW5kZWZpbmVkICYmICFwcm9wVHlwZXNNaXNzcGVsbFdhcm5pbmdTaG93bikge1xuICAgICAgcHJvcFR5cGVzTWlzc3BlbGxXYXJuaW5nU2hvd24gPSB0cnVlOyAvLyBJbnRlbnRpb25hbGx5IGluc2lkZSB0byBhdm9pZCB0cmlnZ2VyaW5nIGxhenkgaW5pdGlhbGl6ZXJzOlxuXG4gICAgICB2YXIgX25hbWUgPSBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUodHlwZSk7XG5cbiAgICAgIGVycm9yKCdDb21wb25lbnQgJXMgZGVjbGFyZWQgYFByb3BUeXBlc2AgaW5zdGVhZCBvZiBgcHJvcFR5cGVzYC4gRGlkIHlvdSBtaXNzcGVsbCB0aGUgcHJvcGVydHkgYXNzaWdubWVudD8nLCBfbmFtZSB8fCAnVW5rbm93bicpO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgdHlwZS5nZXREZWZhdWx0UHJvcHMgPT09ICdmdW5jdGlvbicgJiYgIXR5cGUuZ2V0RGVmYXVsdFByb3BzLmlzUmVhY3RDbGFzc0FwcHJvdmVkKSB7XG4gICAgICBlcnJvcignZ2V0RGVmYXVsdFByb3BzIGlzIG9ubHkgdXNlZCBvbiBjbGFzc2ljIFJlYWN0LmNyZWF0ZUNsYXNzICcgKyAnZGVmaW5pdGlvbnMuIFVzZSBhIHN0YXRpYyBwcm9wZXJ0eSBuYW1lZCBgZGVmYXVsdFByb3BzYCBpbnN0ZWFkLicpO1xuICAgIH1cbiAgfVxufVxuLyoqXG4gKiBHaXZlbiBhIGZyYWdtZW50LCB2YWxpZGF0ZSB0aGF0IGl0IGNhbiBvbmx5IGJlIHByb3ZpZGVkIHdpdGggZnJhZ21lbnQgcHJvcHNcbiAqIEBwYXJhbSB7UmVhY3RFbGVtZW50fSBmcmFnbWVudFxuICovXG5cblxuZnVuY3Rpb24gdmFsaWRhdGVGcmFnbWVudFByb3BzKGZyYWdtZW50KSB7XG4gIHtcbiAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKGZyYWdtZW50LnByb3BzKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGtleSA9IGtleXNbaV07XG5cbiAgICAgIGlmIChrZXkgIT09ICdjaGlsZHJlbicgJiYga2V5ICE9PSAna2V5Jykge1xuICAgICAgICBzZXRDdXJyZW50bHlWYWxpZGF0aW5nRWxlbWVudCQxKGZyYWdtZW50KTtcblxuICAgICAgICBlcnJvcignSW52YWxpZCBwcm9wIGAlc2Agc3VwcGxpZWQgdG8gYFJlYWN0LkZyYWdtZW50YC4gJyArICdSZWFjdC5GcmFnbWVudCBjYW4gb25seSBoYXZlIGBrZXlgIGFuZCBgY2hpbGRyZW5gIHByb3BzLicsIGtleSk7XG5cbiAgICAgICAgc2V0Q3VycmVudGx5VmFsaWRhdGluZ0VsZW1lbnQkMShudWxsKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGZyYWdtZW50LnJlZiAhPT0gbnVsbCkge1xuICAgICAgc2V0Q3VycmVudGx5VmFsaWRhdGluZ0VsZW1lbnQkMShmcmFnbWVudCk7XG5cbiAgICAgIGVycm9yKCdJbnZhbGlkIGF0dHJpYnV0ZSBgcmVmYCBzdXBwbGllZCB0byBgUmVhY3QuRnJhZ21lbnRgLicpO1xuXG4gICAgICBzZXRDdXJyZW50bHlWYWxpZGF0aW5nRWxlbWVudCQxKG51bGwpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBqc3hXaXRoVmFsaWRhdGlvbih0eXBlLCBwcm9wcywga2V5LCBpc1N0YXRpY0NoaWxkcmVuLCBzb3VyY2UsIHNlbGYpIHtcbiAge1xuICAgIHZhciB2YWxpZFR5cGUgPSBpc1ZhbGlkRWxlbWVudFR5cGUodHlwZSk7IC8vIFdlIHdhcm4gaW4gdGhpcyBjYXNlIGJ1dCBkb24ndCB0aHJvdy4gV2UgZXhwZWN0IHRoZSBlbGVtZW50IGNyZWF0aW9uIHRvXG4gICAgLy8gc3VjY2VlZCBhbmQgdGhlcmUgd2lsbCBsaWtlbHkgYmUgZXJyb3JzIGluIHJlbmRlci5cblxuICAgIGlmICghdmFsaWRUeXBlKSB7XG4gICAgICB2YXIgaW5mbyA9ICcnO1xuXG4gICAgICBpZiAodHlwZSA9PT0gdW5kZWZpbmVkIHx8IHR5cGVvZiB0eXBlID09PSAnb2JqZWN0JyAmJiB0eXBlICE9PSBudWxsICYmIE9iamVjdC5rZXlzKHR5cGUpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBpbmZvICs9ICcgWW91IGxpa2VseSBmb3Jnb3QgdG8gZXhwb3J0IHlvdXIgY29tcG9uZW50IGZyb20gdGhlIGZpbGUgJyArIFwiaXQncyBkZWZpbmVkIGluLCBvciB5b3UgbWlnaHQgaGF2ZSBtaXhlZCB1cCBkZWZhdWx0IGFuZCBuYW1lZCBpbXBvcnRzLlwiO1xuICAgICAgfVxuXG4gICAgICB2YXIgc291cmNlSW5mbyA9IGdldFNvdXJjZUluZm9FcnJvckFkZGVuZHVtKHNvdXJjZSk7XG5cbiAgICAgIGlmIChzb3VyY2VJbmZvKSB7XG4gICAgICAgIGluZm8gKz0gc291cmNlSW5mbztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGluZm8gKz0gZ2V0RGVjbGFyYXRpb25FcnJvckFkZGVuZHVtKCk7XG4gICAgICB9XG5cbiAgICAgIHZhciB0eXBlU3RyaW5nO1xuXG4gICAgICBpZiAodHlwZSA9PT0gbnVsbCkge1xuICAgICAgICB0eXBlU3RyaW5nID0gJ251bGwnO1xuICAgICAgfSBlbHNlIGlmIChpc0FycmF5KHR5cGUpKSB7XG4gICAgICAgIHR5cGVTdHJpbmcgPSAnYXJyYXknO1xuICAgICAgfSBlbHNlIGlmICh0eXBlICE9PSB1bmRlZmluZWQgJiYgdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfRUxFTUVOVF9UWVBFKSB7XG4gICAgICAgIHR5cGVTdHJpbmcgPSBcIjxcIiArIChnZXRDb21wb25lbnROYW1lRnJvbVR5cGUodHlwZS50eXBlKSB8fCAnVW5rbm93bicpICsgXCIgLz5cIjtcbiAgICAgICAgaW5mbyA9ICcgRGlkIHlvdSBhY2NpZGVudGFsbHkgZXhwb3J0IGEgSlNYIGxpdGVyYWwgaW5zdGVhZCBvZiBhIGNvbXBvbmVudD8nO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdHlwZVN0cmluZyA9IHR5cGVvZiB0eXBlO1xuICAgICAgfVxuXG4gICAgICBlcnJvcignUmVhY3QuanN4OiB0eXBlIGlzIGludmFsaWQgLS0gZXhwZWN0ZWQgYSBzdHJpbmcgKGZvciAnICsgJ2J1aWx0LWluIGNvbXBvbmVudHMpIG9yIGEgY2xhc3MvZnVuY3Rpb24gKGZvciBjb21wb3NpdGUgJyArICdjb21wb25lbnRzKSBidXQgZ290OiAlcy4lcycsIHR5cGVTdHJpbmcsIGluZm8pO1xuICAgIH1cblxuICAgIHZhciBlbGVtZW50ID0ganN4REVWKHR5cGUsIHByb3BzLCBrZXksIHNvdXJjZSwgc2VsZik7IC8vIFRoZSByZXN1bHQgY2FuIGJlIG51bGxpc2ggaWYgYSBtb2NrIG9yIGEgY3VzdG9tIGZ1bmN0aW9uIGlzIHVzZWQuXG4gICAgLy8gVE9ETzogRHJvcCB0aGlzIHdoZW4gdGhlc2UgYXJlIG5vIGxvbmdlciBhbGxvd2VkIGFzIHRoZSB0eXBlIGFyZ3VtZW50LlxuXG4gICAgaWYgKGVsZW1lbnQgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgfSAvLyBTa2lwIGtleSB3YXJuaW5nIGlmIHRoZSB0eXBlIGlzbid0IHZhbGlkIHNpbmNlIG91ciBrZXkgdmFsaWRhdGlvbiBsb2dpY1xuICAgIC8vIGRvZXNuJ3QgZXhwZWN0IGEgbm9uLXN0cmluZy9mdW5jdGlvbiB0eXBlIGFuZCBjYW4gdGhyb3cgY29uZnVzaW5nIGVycm9ycy5cbiAgICAvLyBXZSBkb24ndCB3YW50IGV4Y2VwdGlvbiBiZWhhdmlvciB0byBkaWZmZXIgYmV0d2VlbiBkZXYgYW5kIHByb2QuXG4gICAgLy8gKFJlbmRlcmluZyB3aWxsIHRocm93IHdpdGggYSBoZWxwZnVsIG1lc3NhZ2UgYW5kIGFzIHNvb24gYXMgdGhlIHR5cGUgaXNcbiAgICAvLyBmaXhlZCwgdGhlIGtleSB3YXJuaW5ncyB3aWxsIGFwcGVhci4pXG5cblxuICAgIGlmICh2YWxpZFR5cGUpIHtcbiAgICAgIHZhciBjaGlsZHJlbiA9IHByb3BzLmNoaWxkcmVuO1xuXG4gICAgICBpZiAoY2hpbGRyZW4gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAoaXNTdGF0aWNDaGlsZHJlbikge1xuICAgICAgICAgIGlmIChpc0FycmF5KGNoaWxkcmVuKSkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICB2YWxpZGF0ZUNoaWxkS2V5cyhjaGlsZHJlbltpXSwgdHlwZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChPYmplY3QuZnJlZXplKSB7XG4gICAgICAgICAgICAgIE9iamVjdC5mcmVlemUoY2hpbGRyZW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBlcnJvcignUmVhY3QuanN4OiBTdGF0aWMgY2hpbGRyZW4gc2hvdWxkIGFsd2F5cyBiZSBhbiBhcnJheS4gJyArICdZb3UgYXJlIGxpa2VseSBleHBsaWNpdGx5IGNhbGxpbmcgUmVhY3QuanN4cyBvciBSZWFjdC5qc3hERVYuICcgKyAnVXNlIHRoZSBCYWJlbCB0cmFuc2Zvcm0gaW5zdGVhZC4nKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFsaWRhdGVDaGlsZEtleXMoY2hpbGRyZW4sIHR5cGUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHR5cGUgPT09IFJFQUNUX0ZSQUdNRU5UX1RZUEUpIHtcbiAgICAgIHZhbGlkYXRlRnJhZ21lbnRQcm9wcyhlbGVtZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFsaWRhdGVQcm9wVHlwZXMoZWxlbWVudCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGVsZW1lbnQ7XG4gIH1cbn0gLy8gVGhlc2UgdHdvIGZ1bmN0aW9ucyBleGlzdCB0byBzdGlsbCBnZXQgY2hpbGQgd2FybmluZ3MgaW4gZGV2XG5cbnZhciBqc3hERVYkMSA9ICBqc3hXaXRoVmFsaWRhdGlvbiA7XG5cbmV4cG9ydHMuRnJhZ21lbnQgPSBSRUFDVF9GUkFHTUVOVF9UWVBFO1xuZXhwb3J0cy5qc3hERVYgPSBqc3hERVYkMTtcbiAgfSkoKTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/react/cjs/react-jsx-dev-runtime.development.js\n"));

/***/ }),

/***/ "./node_modules/react/cjs/react-jsx-runtime.development.js":
/*!*****************************************************************!*\
  !*** ./node_modules/react/cjs/react-jsx-runtime.development.js ***!
  \*****************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("/**\n * @license React\n * react-jsx-runtime.development.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\n\nif (true) {\n  (function() {\n'use strict';\n\nvar React = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n\n// ATTENTION\n// When adding new symbols to this file,\n// Please consider also adding to 'react-devtools-shared/src/backend/ReactSymbols'\n// The Symbol used to tag the ReactElement-like types.\nvar REACT_ELEMENT_TYPE = Symbol.for('react.element');\nvar REACT_PORTAL_TYPE = Symbol.for('react.portal');\nvar REACT_FRAGMENT_TYPE = Symbol.for('react.fragment');\nvar REACT_STRICT_MODE_TYPE = Symbol.for('react.strict_mode');\nvar REACT_PROFILER_TYPE = Symbol.for('react.profiler');\nvar REACT_PROVIDER_TYPE = Symbol.for('react.provider');\nvar REACT_CONTEXT_TYPE = Symbol.for('react.context');\nvar REACT_FORWARD_REF_TYPE = Symbol.for('react.forward_ref');\nvar REACT_SUSPENSE_TYPE = Symbol.for('react.suspense');\nvar REACT_SUSPENSE_LIST_TYPE = Symbol.for('react.suspense_list');\nvar REACT_MEMO_TYPE = Symbol.for('react.memo');\nvar REACT_LAZY_TYPE = Symbol.for('react.lazy');\nvar REACT_OFFSCREEN_TYPE = Symbol.for('react.offscreen');\nvar MAYBE_ITERATOR_SYMBOL = Symbol.iterator;\nvar FAUX_ITERATOR_SYMBOL = '@@iterator';\nfunction getIteratorFn(maybeIterable) {\n  if (maybeIterable === null || typeof maybeIterable !== 'object') {\n    return null;\n  }\n\n  var maybeIterator = MAYBE_ITERATOR_SYMBOL && maybeIterable[MAYBE_ITERATOR_SYMBOL] || maybeIterable[FAUX_ITERATOR_SYMBOL];\n\n  if (typeof maybeIterator === 'function') {\n    return maybeIterator;\n  }\n\n  return null;\n}\n\nvar ReactSharedInternals = React.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n\nfunction error(format) {\n  {\n    {\n      for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n        args[_key2 - 1] = arguments[_key2];\n      }\n\n      printWarning('error', format, args);\n    }\n  }\n}\n\nfunction printWarning(level, format, args) {\n  // When changing this logic, you might want to also\n  // update consoleWithStackDev.www.js as well.\n  {\n    var ReactDebugCurrentFrame = ReactSharedInternals.ReactDebugCurrentFrame;\n    var stack = ReactDebugCurrentFrame.getStackAddendum();\n\n    if (stack !== '') {\n      format += '%s';\n      args = args.concat([stack]);\n    } // eslint-disable-next-line react-internal/safe-string-coercion\n\n\n    var argsWithFormat = args.map(function (item) {\n      return String(item);\n    }); // Careful: RN currently depends on this prefix\n\n    argsWithFormat.unshift('Warning: ' + format); // We intentionally don't use spread (or .apply) directly because it\n    // breaks IE9: https://github.com/facebook/react/issues/13610\n    // eslint-disable-next-line react-internal/no-production-logging\n\n    Function.prototype.apply.call(console[level], console, argsWithFormat);\n  }\n}\n\n// -----------------------------------------------------------------------------\n\nvar enableScopeAPI = false; // Experimental Create Event Handle API.\nvar enableCacheElement = false;\nvar enableTransitionTracing = false; // No known bugs, but needs performance testing\n\nvar enableLegacyHidden = false; // Enables unstable_avoidThisFallback feature in Fiber\n// stuff. Intended to enable React core members to more easily debug scheduling\n// issues in DEV builds.\n\nvar enableDebugTracing = false; // Track which Fiber(s) schedule render work.\n\nvar REACT_MODULE_REFERENCE;\n\n{\n  REACT_MODULE_REFERENCE = Symbol.for('react.module.reference');\n}\n\nfunction isValidElementType(type) {\n  if (typeof type === 'string' || typeof type === 'function') {\n    return true;\n  } // Note: typeof might be other than 'symbol' or 'number' (e.g. if it's a polyfill).\n\n\n  if (type === REACT_FRAGMENT_TYPE || type === REACT_PROFILER_TYPE || enableDebugTracing  || type === REACT_STRICT_MODE_TYPE || type === REACT_SUSPENSE_TYPE || type === REACT_SUSPENSE_LIST_TYPE || enableLegacyHidden  || type === REACT_OFFSCREEN_TYPE || enableScopeAPI  || enableCacheElement  || enableTransitionTracing ) {\n    return true;\n  }\n\n  if (typeof type === 'object' && type !== null) {\n    if (type.$$typeof === REACT_LAZY_TYPE || type.$$typeof === REACT_MEMO_TYPE || type.$$typeof === REACT_PROVIDER_TYPE || type.$$typeof === REACT_CONTEXT_TYPE || type.$$typeof === REACT_FORWARD_REF_TYPE || // This needs to include all possible module reference object\n    // types supported by any Flight configuration anywhere since\n    // we don't know which Flight build this will end up being used\n    // with.\n    type.$$typeof === REACT_MODULE_REFERENCE || type.getModuleId !== undefined) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction getWrappedName(outerType, innerType, wrapperName) {\n  var displayName = outerType.displayName;\n\n  if (displayName) {\n    return displayName;\n  }\n\n  var functionName = innerType.displayName || innerType.name || '';\n  return functionName !== '' ? wrapperName + \"(\" + functionName + \")\" : wrapperName;\n} // Keep in sync with react-reconciler/getComponentNameFromFiber\n\n\nfunction getContextName(type) {\n  return type.displayName || 'Context';\n} // Note that the reconciler package should generally prefer to use getComponentNameFromFiber() instead.\n\n\nfunction getComponentNameFromType(type) {\n  if (type == null) {\n    // Host root, text node or just invalid type.\n    return null;\n  }\n\n  {\n    if (typeof type.tag === 'number') {\n      error('Received an unexpected object in getComponentNameFromType(). ' + 'This is likely a bug in React. Please file an issue.');\n    }\n  }\n\n  if (typeof type === 'function') {\n    return type.displayName || type.name || null;\n  }\n\n  if (typeof type === 'string') {\n    return type;\n  }\n\n  switch (type) {\n    case REACT_FRAGMENT_TYPE:\n      return 'Fragment';\n\n    case REACT_PORTAL_TYPE:\n      return 'Portal';\n\n    case REACT_PROFILER_TYPE:\n      return 'Profiler';\n\n    case REACT_STRICT_MODE_TYPE:\n      return 'StrictMode';\n\n    case REACT_SUSPENSE_TYPE:\n      return 'Suspense';\n\n    case REACT_SUSPENSE_LIST_TYPE:\n      return 'SuspenseList';\n\n  }\n\n  if (typeof type === 'object') {\n    switch (type.$$typeof) {\n      case REACT_CONTEXT_TYPE:\n        var context = type;\n        return getContextName(context) + '.Consumer';\n\n      case REACT_PROVIDER_TYPE:\n        var provider = type;\n        return getContextName(provider._context) + '.Provider';\n\n      case REACT_FORWARD_REF_TYPE:\n        return getWrappedName(type, type.render, 'ForwardRef');\n\n      case REACT_MEMO_TYPE:\n        var outerName = type.displayName || null;\n\n        if (outerName !== null) {\n          return outerName;\n        }\n\n        return getComponentNameFromType(type.type) || 'Memo';\n\n      case REACT_LAZY_TYPE:\n        {\n          var lazyComponent = type;\n          var payload = lazyComponent._payload;\n          var init = lazyComponent._init;\n\n          try {\n            return getComponentNameFromType(init(payload));\n          } catch (x) {\n            return null;\n          }\n        }\n\n      // eslint-disable-next-line no-fallthrough\n    }\n  }\n\n  return null;\n}\n\nvar assign = Object.assign;\n\n// Helpers to patch console.logs to avoid logging during side-effect free\n// replaying on render function. This currently only patches the object\n// lazily which won't cover if the log function was extracted eagerly.\n// We could also eagerly patch the method.\nvar disabledDepth = 0;\nvar prevLog;\nvar prevInfo;\nvar prevWarn;\nvar prevError;\nvar prevGroup;\nvar prevGroupCollapsed;\nvar prevGroupEnd;\n\nfunction disabledLog() {}\n\ndisabledLog.__reactDisabledLog = true;\nfunction disableLogs() {\n  {\n    if (disabledDepth === 0) {\n      /* eslint-disable react-internal/no-production-logging */\n      prevLog = console.log;\n      prevInfo = console.info;\n      prevWarn = console.warn;\n      prevError = console.error;\n      prevGroup = console.group;\n      prevGroupCollapsed = console.groupCollapsed;\n      prevGroupEnd = console.groupEnd; // https://github.com/facebook/react/issues/19099\n\n      var props = {\n        configurable: true,\n        enumerable: true,\n        value: disabledLog,\n        writable: true\n      }; // $FlowFixMe Flow thinks console is immutable.\n\n      Object.defineProperties(console, {\n        info: props,\n        log: props,\n        warn: props,\n        error: props,\n        group: props,\n        groupCollapsed: props,\n        groupEnd: props\n      });\n      /* eslint-enable react-internal/no-production-logging */\n    }\n\n    disabledDepth++;\n  }\n}\nfunction reenableLogs() {\n  {\n    disabledDepth--;\n\n    if (disabledDepth === 0) {\n      /* eslint-disable react-internal/no-production-logging */\n      var props = {\n        configurable: true,\n        enumerable: true,\n        writable: true\n      }; // $FlowFixMe Flow thinks console is immutable.\n\n      Object.defineProperties(console, {\n        log: assign({}, props, {\n          value: prevLog\n        }),\n        info: assign({}, props, {\n          value: prevInfo\n        }),\n        warn: assign({}, props, {\n          value: prevWarn\n        }),\n        error: assign({}, props, {\n          value: prevError\n        }),\n        group: assign({}, props, {\n          value: prevGroup\n        }),\n        groupCollapsed: assign({}, props, {\n          value: prevGroupCollapsed\n        }),\n        groupEnd: assign({}, props, {\n          value: prevGroupEnd\n        })\n      });\n      /* eslint-enable react-internal/no-production-logging */\n    }\n\n    if (disabledDepth < 0) {\n      error('disabledDepth fell below zero. ' + 'This is a bug in React. Please file an issue.');\n    }\n  }\n}\n\nvar ReactCurrentDispatcher = ReactSharedInternals.ReactCurrentDispatcher;\nvar prefix;\nfunction describeBuiltInComponentFrame(name, source, ownerFn) {\n  {\n    if (prefix === undefined) {\n      // Extract the VM specific prefix used by each line.\n      try {\n        throw Error();\n      } catch (x) {\n        var match = x.stack.trim().match(/\\n( *(at )?)/);\n        prefix = match && match[1] || '';\n      }\n    } // We use the prefix to ensure our stacks line up with native stack frames.\n\n\n    return '\\n' + prefix + name;\n  }\n}\nvar reentry = false;\nvar componentFrameCache;\n\n{\n  var PossiblyWeakMap = typeof WeakMap === 'function' ? WeakMap : Map;\n  componentFrameCache = new PossiblyWeakMap();\n}\n\nfunction describeNativeComponentFrame(fn, construct) {\n  // If something asked for a stack inside a fake render, it should get ignored.\n  if ( !fn || reentry) {\n    return '';\n  }\n\n  {\n    var frame = componentFrameCache.get(fn);\n\n    if (frame !== undefined) {\n      return frame;\n    }\n  }\n\n  var control;\n  reentry = true;\n  var previousPrepareStackTrace = Error.prepareStackTrace; // $FlowFixMe It does accept undefined.\n\n  Error.prepareStackTrace = undefined;\n  var previousDispatcher;\n\n  {\n    previousDispatcher = ReactCurrentDispatcher.current; // Set the dispatcher in DEV because this might be call in the render function\n    // for warnings.\n\n    ReactCurrentDispatcher.current = null;\n    disableLogs();\n  }\n\n  try {\n    // This should throw.\n    if (construct) {\n      // Something should be setting the props in the constructor.\n      var Fake = function () {\n        throw Error();\n      }; // $FlowFixMe\n\n\n      Object.defineProperty(Fake.prototype, 'props', {\n        set: function () {\n          // We use a throwing setter instead of frozen or non-writable props\n          // because that won't throw in a non-strict mode function.\n          throw Error();\n        }\n      });\n\n      if (typeof Reflect === 'object' && Reflect.construct) {\n        // We construct a different control for this case to include any extra\n        // frames added by the construct call.\n        try {\n          Reflect.construct(Fake, []);\n        } catch (x) {\n          control = x;\n        }\n\n        Reflect.construct(fn, [], Fake);\n      } else {\n        try {\n          Fake.call();\n        } catch (x) {\n          control = x;\n        }\n\n        fn.call(Fake.prototype);\n      }\n    } else {\n      try {\n        throw Error();\n      } catch (x) {\n        control = x;\n      }\n\n      fn();\n    }\n  } catch (sample) {\n    // This is inlined manually because closure doesn't do it for us.\n    if (sample && control && typeof sample.stack === 'string') {\n      // This extracts the first frame from the sample that isn't also in the control.\n      // Skipping one frame that we assume is the frame that calls the two.\n      var sampleLines = sample.stack.split('\\n');\n      var controlLines = control.stack.split('\\n');\n      var s = sampleLines.length - 1;\n      var c = controlLines.length - 1;\n\n      while (s >= 1 && c >= 0 && sampleLines[s] !== controlLines[c]) {\n        // We expect at least one stack frame to be shared.\n        // Typically this will be the root most one. However, stack frames may be\n        // cut off due to maximum stack limits. In this case, one maybe cut off\n        // earlier than the other. We assume that the sample is longer or the same\n        // and there for cut off earlier. So we should find the root most frame in\n        // the sample somewhere in the control.\n        c--;\n      }\n\n      for (; s >= 1 && c >= 0; s--, c--) {\n        // Next we find the first one that isn't the same which should be the\n        // frame that called our sample function and the control.\n        if (sampleLines[s] !== controlLines[c]) {\n          // In V8, the first line is describing the message but other VMs don't.\n          // If we're about to return the first line, and the control is also on the same\n          // line, that's a pretty good indicator that our sample threw at same line as\n          // the control. I.e. before we entered the sample frame. So we ignore this result.\n          // This can happen if you passed a class to function component, or non-function.\n          if (s !== 1 || c !== 1) {\n            do {\n              s--;\n              c--; // We may still have similar intermediate frames from the construct call.\n              // The next one that isn't the same should be our match though.\n\n              if (c < 0 || sampleLines[s] !== controlLines[c]) {\n                // V8 adds a \"new\" prefix for native classes. Let's remove it to make it prettier.\n                var _frame = '\\n' + sampleLines[s].replace(' at new ', ' at '); // If our component frame is labeled \"<anonymous>\"\n                // but we have a user-provided \"displayName\"\n                // splice it in to make the stack more readable.\n\n\n                if (fn.displayName && _frame.includes('<anonymous>')) {\n                  _frame = _frame.replace('<anonymous>', fn.displayName);\n                }\n\n                {\n                  if (typeof fn === 'function') {\n                    componentFrameCache.set(fn, _frame);\n                  }\n                } // Return the line we found.\n\n\n                return _frame;\n              }\n            } while (s >= 1 && c >= 0);\n          }\n\n          break;\n        }\n      }\n    }\n  } finally {\n    reentry = false;\n\n    {\n      ReactCurrentDispatcher.current = previousDispatcher;\n      reenableLogs();\n    }\n\n    Error.prepareStackTrace = previousPrepareStackTrace;\n  } // Fallback to just using the name if we couldn't make it throw.\n\n\n  var name = fn ? fn.displayName || fn.name : '';\n  var syntheticFrame = name ? describeBuiltInComponentFrame(name) : '';\n\n  {\n    if (typeof fn === 'function') {\n      componentFrameCache.set(fn, syntheticFrame);\n    }\n  }\n\n  return syntheticFrame;\n}\nfunction describeFunctionComponentFrame(fn, source, ownerFn) {\n  {\n    return describeNativeComponentFrame(fn, false);\n  }\n}\n\nfunction shouldConstruct(Component) {\n  var prototype = Component.prototype;\n  return !!(prototype && prototype.isReactComponent);\n}\n\nfunction describeUnknownElementTypeFrameInDEV(type, source, ownerFn) {\n\n  if (type == null) {\n    return '';\n  }\n\n  if (typeof type === 'function') {\n    {\n      return describeNativeComponentFrame(type, shouldConstruct(type));\n    }\n  }\n\n  if (typeof type === 'string') {\n    return describeBuiltInComponentFrame(type);\n  }\n\n  switch (type) {\n    case REACT_SUSPENSE_TYPE:\n      return describeBuiltInComponentFrame('Suspense');\n\n    case REACT_SUSPENSE_LIST_TYPE:\n      return describeBuiltInComponentFrame('SuspenseList');\n  }\n\n  if (typeof type === 'object') {\n    switch (type.$$typeof) {\n      case REACT_FORWARD_REF_TYPE:\n        return describeFunctionComponentFrame(type.render);\n\n      case REACT_MEMO_TYPE:\n        // Memo may contain any component type so we recursively resolve it.\n        return describeUnknownElementTypeFrameInDEV(type.type, source, ownerFn);\n\n      case REACT_LAZY_TYPE:\n        {\n          var lazyComponent = type;\n          var payload = lazyComponent._payload;\n          var init = lazyComponent._init;\n\n          try {\n            // Lazy may contain any component type so we recursively resolve it.\n            return describeUnknownElementTypeFrameInDEV(init(payload), source, ownerFn);\n          } catch (x) {}\n        }\n    }\n  }\n\n  return '';\n}\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nvar loggedTypeFailures = {};\nvar ReactDebugCurrentFrame = ReactSharedInternals.ReactDebugCurrentFrame;\n\nfunction setCurrentlyValidatingElement(element) {\n  {\n    if (element) {\n      var owner = element._owner;\n      var stack = describeUnknownElementTypeFrameInDEV(element.type, element._source, owner ? owner.type : null);\n      ReactDebugCurrentFrame.setExtraStackFrame(stack);\n    } else {\n      ReactDebugCurrentFrame.setExtraStackFrame(null);\n    }\n  }\n}\n\nfunction checkPropTypes(typeSpecs, values, location, componentName, element) {\n  {\n    // $FlowFixMe This is okay but Flow doesn't know it.\n    var has = Function.call.bind(hasOwnProperty);\n\n    for (var typeSpecName in typeSpecs) {\n      if (has(typeSpecs, typeSpecName)) {\n        var error$1 = void 0; // Prop type validation may throw. In case they do, we don't want to\n        // fail the render phase where it didn't fail before. So we log it.\n        // After these have been cleaned up, we'll let them throw.\n\n        try {\n          // This is intentionally an invariant that gets caught. It's the same\n          // behavior as without this statement except with a better message.\n          if (typeof typeSpecs[typeSpecName] !== 'function') {\n            // eslint-disable-next-line react-internal/prod-error-codes\n            var err = Error((componentName || 'React class') + ': ' + location + ' type `' + typeSpecName + '` is invalid; ' + 'it must be a function, usually from the `prop-types` package, but received `' + typeof typeSpecs[typeSpecName] + '`.' + 'This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.');\n            err.name = 'Invariant Violation';\n            throw err;\n          }\n\n          error$1 = typeSpecs[typeSpecName](values, typeSpecName, componentName, location, null, 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED');\n        } catch (ex) {\n          error$1 = ex;\n        }\n\n        if (error$1 && !(error$1 instanceof Error)) {\n          setCurrentlyValidatingElement(element);\n\n          error('%s: type specification of %s' + ' `%s` is invalid; the type checker ' + 'function must return `null` or an `Error` but returned a %s. ' + 'You may have forgotten to pass an argument to the type checker ' + 'creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and ' + 'shape all require an argument).', componentName || 'React class', location, typeSpecName, typeof error$1);\n\n          setCurrentlyValidatingElement(null);\n        }\n\n        if (error$1 instanceof Error && !(error$1.message in loggedTypeFailures)) {\n          // Only monitor this failure once because there tends to be a lot of the\n          // same error.\n          loggedTypeFailures[error$1.message] = true;\n          setCurrentlyValidatingElement(element);\n\n          error('Failed %s type: %s', location, error$1.message);\n\n          setCurrentlyValidatingElement(null);\n        }\n      }\n    }\n  }\n}\n\nvar isArrayImpl = Array.isArray; // eslint-disable-next-line no-redeclare\n\nfunction isArray(a) {\n  return isArrayImpl(a);\n}\n\n/*\n * The `'' + value` pattern (used in in perf-sensitive code) throws for Symbol\n * and Temporal.* types. See https://github.com/facebook/react/pull/22064.\n *\n * The functions in this module will throw an easier-to-understand,\n * easier-to-debug exception with a clear errors message message explaining the\n * problem. (Instead of a confusing exception thrown inside the implementation\n * of the `value` object).\n */\n// $FlowFixMe only called in DEV, so void return is not possible.\nfunction typeName(value) {\n  {\n    // toStringTag is needed for namespaced types like Temporal.Instant\n    var hasToStringTag = typeof Symbol === 'function' && Symbol.toStringTag;\n    var type = hasToStringTag && value[Symbol.toStringTag] || value.constructor.name || 'Object';\n    return type;\n  }\n} // $FlowFixMe only called in DEV, so void return is not possible.\n\n\nfunction willCoercionThrow(value) {\n  {\n    try {\n      testStringCoercion(value);\n      return false;\n    } catch (e) {\n      return true;\n    }\n  }\n}\n\nfunction testStringCoercion(value) {\n  // If you ended up here by following an exception call stack, here's what's\n  // happened: you supplied an object or symbol value to React (as a prop, key,\n  // DOM attribute, CSS property, string ref, etc.) and when React tried to\n  // coerce it to a string using `'' + value`, an exception was thrown.\n  //\n  // The most common types that will cause this exception are `Symbol` instances\n  // and Temporal objects like `Temporal.Instant`. But any object that has a\n  // `valueOf` or `[Symbol.toPrimitive]` method that throws will also cause this\n  // exception. (Library authors do this to prevent users from using built-in\n  // numeric operators like `+` or comparison operators like `>=` because custom\n  // methods are needed to perform accurate arithmetic or comparison.)\n  //\n  // To fix the problem, coerce this object or symbol value to a string before\n  // passing it to React. The most reliable way is usually `String(value)`.\n  //\n  // To find which value is throwing, check the browser or debugger console.\n  // Before this exception was thrown, there should be `console.error` output\n  // that shows the type (Symbol, Temporal.PlainDate, etc.) that caused the\n  // problem and how that type was used: key, atrribute, input value prop, etc.\n  // In most cases, this console output also shows the component and its\n  // ancestor components where the exception happened.\n  //\n  // eslint-disable-next-line react-internal/safe-string-coercion\n  return '' + value;\n}\nfunction checkKeyStringCoercion(value) {\n  {\n    if (willCoercionThrow(value)) {\n      error('The provided key is an unsupported type %s.' + ' This value must be coerced to a string before before using it here.', typeName(value));\n\n      return testStringCoercion(value); // throw (to help callers find troubleshooting comments)\n    }\n  }\n}\n\nvar ReactCurrentOwner = ReactSharedInternals.ReactCurrentOwner;\nvar RESERVED_PROPS = {\n  key: true,\n  ref: true,\n  __self: true,\n  __source: true\n};\nvar specialPropKeyWarningShown;\nvar specialPropRefWarningShown;\nvar didWarnAboutStringRefs;\n\n{\n  didWarnAboutStringRefs = {};\n}\n\nfunction hasValidRef(config) {\n  {\n    if (hasOwnProperty.call(config, 'ref')) {\n      var getter = Object.getOwnPropertyDescriptor(config, 'ref').get;\n\n      if (getter && getter.isReactWarning) {\n        return false;\n      }\n    }\n  }\n\n  return config.ref !== undefined;\n}\n\nfunction hasValidKey(config) {\n  {\n    if (hasOwnProperty.call(config, 'key')) {\n      var getter = Object.getOwnPropertyDescriptor(config, 'key').get;\n\n      if (getter && getter.isReactWarning) {\n        return false;\n      }\n    }\n  }\n\n  return config.key !== undefined;\n}\n\nfunction warnIfStringRefCannotBeAutoConverted(config, self) {\n  {\n    if (typeof config.ref === 'string' && ReactCurrentOwner.current && self && ReactCurrentOwner.current.stateNode !== self) {\n      var componentName = getComponentNameFromType(ReactCurrentOwner.current.type);\n\n      if (!didWarnAboutStringRefs[componentName]) {\n        error('Component \"%s\" contains the string ref \"%s\". ' + 'Support for string refs will be removed in a future major release. ' + 'This case cannot be automatically converted to an arrow function. ' + 'We ask you to manually fix this case by using useRef() or createRef() instead. ' + 'Learn more about using refs safely here: ' + 'https://reactjs.org/link/strict-mode-string-ref', getComponentNameFromType(ReactCurrentOwner.current.type), config.ref);\n\n        didWarnAboutStringRefs[componentName] = true;\n      }\n    }\n  }\n}\n\nfunction defineKeyPropWarningGetter(props, displayName) {\n  {\n    var warnAboutAccessingKey = function () {\n      if (!specialPropKeyWarningShown) {\n        specialPropKeyWarningShown = true;\n\n        error('%s: `key` is not a prop. Trying to access it will result ' + 'in `undefined` being returned. If you need to access the same ' + 'value within the child component, you should pass it as a different ' + 'prop. (https://reactjs.org/link/special-props)', displayName);\n      }\n    };\n\n    warnAboutAccessingKey.isReactWarning = true;\n    Object.defineProperty(props, 'key', {\n      get: warnAboutAccessingKey,\n      configurable: true\n    });\n  }\n}\n\nfunction defineRefPropWarningGetter(props, displayName) {\n  {\n    var warnAboutAccessingRef = function () {\n      if (!specialPropRefWarningShown) {\n        specialPropRefWarningShown = true;\n\n        error('%s: `ref` is not a prop. Trying to access it will result ' + 'in `undefined` being returned. If you need to access the same ' + 'value within the child component, you should pass it as a different ' + 'prop. (https://reactjs.org/link/special-props)', displayName);\n      }\n    };\n\n    warnAboutAccessingRef.isReactWarning = true;\n    Object.defineProperty(props, 'ref', {\n      get: warnAboutAccessingRef,\n      configurable: true\n    });\n  }\n}\n/**\n * Factory method to create a new React element. This no longer adheres to\n * the class pattern, so do not use new to call it. Also, instanceof check\n * will not work. Instead test $$typeof field against Symbol.for('react.element') to check\n * if something is a React Element.\n *\n * @param {*} type\n * @param {*} props\n * @param {*} key\n * @param {string|object} ref\n * @param {*} owner\n * @param {*} self A *temporary* helper to detect places where `this` is\n * different from the `owner` when React.createElement is called, so that we\n * can warn. We want to get rid of owner and replace string `ref`s with arrow\n * functions, and as long as `this` and owner are the same, there will be no\n * change in behavior.\n * @param {*} source An annotation object (added by a transpiler or otherwise)\n * indicating filename, line number, and/or other information.\n * @internal\n */\n\n\nvar ReactElement = function (type, key, ref, self, source, owner, props) {\n  var element = {\n    // This tag allows us to uniquely identify this as a React Element\n    $$typeof: REACT_ELEMENT_TYPE,\n    // Built-in properties that belong on the element\n    type: type,\n    key: key,\n    ref: ref,\n    props: props,\n    // Record the component responsible for creating this element.\n    _owner: owner\n  };\n\n  {\n    // The validation flag is currently mutative. We put it on\n    // an external backing store so that we can freeze the whole object.\n    // This can be replaced with a WeakMap once they are implemented in\n    // commonly used development environments.\n    element._store = {}; // To make comparing ReactElements easier for testing purposes, we make\n    // the validation flag non-enumerable (where possible, which should\n    // include every environment we run tests in), so the test framework\n    // ignores it.\n\n    Object.defineProperty(element._store, 'validated', {\n      configurable: false,\n      enumerable: false,\n      writable: true,\n      value: false\n    }); // self and source are DEV only properties.\n\n    Object.defineProperty(element, '_self', {\n      configurable: false,\n      enumerable: false,\n      writable: false,\n      value: self\n    }); // Two elements created in two different places should be considered\n    // equal for testing purposes and therefore we hide it from enumeration.\n\n    Object.defineProperty(element, '_source', {\n      configurable: false,\n      enumerable: false,\n      writable: false,\n      value: source\n    });\n\n    if (Object.freeze) {\n      Object.freeze(element.props);\n      Object.freeze(element);\n    }\n  }\n\n  return element;\n};\n/**\n * https://github.com/reactjs/rfcs/pull/107\n * @param {*} type\n * @param {object} props\n * @param {string} key\n */\n\nfunction jsxDEV(type, config, maybeKey, source, self) {\n  {\n    var propName; // Reserved names are extracted\n\n    var props = {};\n    var key = null;\n    var ref = null; // Currently, key can be spread in as a prop. This causes a potential\n    // issue if key is also explicitly declared (ie. <div {...props} key=\"Hi\" />\n    // or <div key=\"Hi\" {...props} /> ). We want to deprecate key spread,\n    // but as an intermediary step, we will use jsxDEV for everything except\n    // <div {...props} key=\"Hi\" />, because we aren't currently able to tell if\n    // key is explicitly declared to be undefined or not.\n\n    if (maybeKey !== undefined) {\n      {\n        checkKeyStringCoercion(maybeKey);\n      }\n\n      key = '' + maybeKey;\n    }\n\n    if (hasValidKey(config)) {\n      {\n        checkKeyStringCoercion(config.key);\n      }\n\n      key = '' + config.key;\n    }\n\n    if (hasValidRef(config)) {\n      ref = config.ref;\n      warnIfStringRefCannotBeAutoConverted(config, self);\n    } // Remaining properties are added to a new props object\n\n\n    for (propName in config) {\n      if (hasOwnProperty.call(config, propName) && !RESERVED_PROPS.hasOwnProperty(propName)) {\n        props[propName] = config[propName];\n      }\n    } // Resolve default props\n\n\n    if (type && type.defaultProps) {\n      var defaultProps = type.defaultProps;\n\n      for (propName in defaultProps) {\n        if (props[propName] === undefined) {\n          props[propName] = defaultProps[propName];\n        }\n      }\n    }\n\n    if (key || ref) {\n      var displayName = typeof type === 'function' ? type.displayName || type.name || 'Unknown' : type;\n\n      if (key) {\n        defineKeyPropWarningGetter(props, displayName);\n      }\n\n      if (ref) {\n        defineRefPropWarningGetter(props, displayName);\n      }\n    }\n\n    return ReactElement(type, key, ref, self, source, ReactCurrentOwner.current, props);\n  }\n}\n\nvar ReactCurrentOwner$1 = ReactSharedInternals.ReactCurrentOwner;\nvar ReactDebugCurrentFrame$1 = ReactSharedInternals.ReactDebugCurrentFrame;\n\nfunction setCurrentlyValidatingElement$1(element) {\n  {\n    if (element) {\n      var owner = element._owner;\n      var stack = describeUnknownElementTypeFrameInDEV(element.type, element._source, owner ? owner.type : null);\n      ReactDebugCurrentFrame$1.setExtraStackFrame(stack);\n    } else {\n      ReactDebugCurrentFrame$1.setExtraStackFrame(null);\n    }\n  }\n}\n\nvar propTypesMisspellWarningShown;\n\n{\n  propTypesMisspellWarningShown = false;\n}\n/**\n * Verifies the object is a ReactElement.\n * See https://reactjs.org/docs/react-api.html#isvalidelement\n * @param {?object} object\n * @return {boolean} True if `object` is a ReactElement.\n * @final\n */\n\n\nfunction isValidElement(object) {\n  {\n    return typeof object === 'object' && object !== null && object.$$typeof === REACT_ELEMENT_TYPE;\n  }\n}\n\nfunction getDeclarationErrorAddendum() {\n  {\n    if (ReactCurrentOwner$1.current) {\n      var name = getComponentNameFromType(ReactCurrentOwner$1.current.type);\n\n      if (name) {\n        return '\\n\\nCheck the render method of `' + name + '`.';\n      }\n    }\n\n    return '';\n  }\n}\n\nfunction getSourceInfoErrorAddendum(source) {\n  {\n    if (source !== undefined) {\n      var fileName = source.fileName.replace(/^.*[\\\\\\/]/, '');\n      var lineNumber = source.lineNumber;\n      return '\\n\\nCheck your code at ' + fileName + ':' + lineNumber + '.';\n    }\n\n    return '';\n  }\n}\n/**\n * Warn if there's no key explicitly set on dynamic arrays of children or\n * object keys are not valid. This allows us to keep track of children between\n * updates.\n */\n\n\nvar ownerHasKeyUseWarning = {};\n\nfunction getCurrentComponentErrorInfo(parentType) {\n  {\n    var info = getDeclarationErrorAddendum();\n\n    if (!info) {\n      var parentName = typeof parentType === 'string' ? parentType : parentType.displayName || parentType.name;\n\n      if (parentName) {\n        info = \"\\n\\nCheck the top-level render call using <\" + parentName + \">.\";\n      }\n    }\n\n    return info;\n  }\n}\n/**\n * Warn if the element doesn't have an explicit key assigned to it.\n * This element is in an array. The array could grow and shrink or be\n * reordered. All children that haven't already been validated are required to\n * have a \"key\" property assigned to it. Error statuses are cached so a warning\n * will only be shown once.\n *\n * @internal\n * @param {ReactElement} element Element that requires a key.\n * @param {*} parentType element's parent's type.\n */\n\n\nfunction validateExplicitKey(element, parentType) {\n  {\n    if (!element._store || element._store.validated || element.key != null) {\n      return;\n    }\n\n    element._store.validated = true;\n    var currentComponentErrorInfo = getCurrentComponentErrorInfo(parentType);\n\n    if (ownerHasKeyUseWarning[currentComponentErrorInfo]) {\n      return;\n    }\n\n    ownerHasKeyUseWarning[currentComponentErrorInfo] = true; // Usually the current owner is the offender, but if it accepts children as a\n    // property, it may be the creator of the child that's responsible for\n    // assigning it a key.\n\n    var childOwner = '';\n\n    if (element && element._owner && element._owner !== ReactCurrentOwner$1.current) {\n      // Give the component that originally created this child.\n      childOwner = \" It was passed a child from \" + getComponentNameFromType(element._owner.type) + \".\";\n    }\n\n    setCurrentlyValidatingElement$1(element);\n\n    error('Each child in a list should have a unique \"key\" prop.' + '%s%s See https://reactjs.org/link/warning-keys for more information.', currentComponentErrorInfo, childOwner);\n\n    setCurrentlyValidatingElement$1(null);\n  }\n}\n/**\n * Ensure that every element either is passed in a static location, in an\n * array with an explicit keys property defined, or in an object literal\n * with valid key property.\n *\n * @internal\n * @param {ReactNode} node Statically passed child of any type.\n * @param {*} parentType node's parent's type.\n */\n\n\nfunction validateChildKeys(node, parentType) {\n  {\n    if (typeof node !== 'object') {\n      return;\n    }\n\n    if (isArray(node)) {\n      for (var i = 0; i < node.length; i++) {\n        var child = node[i];\n\n        if (isValidElement(child)) {\n          validateExplicitKey(child, parentType);\n        }\n      }\n    } else if (isValidElement(node)) {\n      // This element was passed in a valid location.\n      if (node._store) {\n        node._store.validated = true;\n      }\n    } else if (node) {\n      var iteratorFn = getIteratorFn(node);\n\n      if (typeof iteratorFn === 'function') {\n        // Entry iterators used to provide implicit keys,\n        // but now we print a separate warning for them later.\n        if (iteratorFn !== node.entries) {\n          var iterator = iteratorFn.call(node);\n          var step;\n\n          while (!(step = iterator.next()).done) {\n            if (isValidElement(step.value)) {\n              validateExplicitKey(step.value, parentType);\n            }\n          }\n        }\n      }\n    }\n  }\n}\n/**\n * Given an element, validate that its props follow the propTypes definition,\n * provided by the type.\n *\n * @param {ReactElement} element\n */\n\n\nfunction validatePropTypes(element) {\n  {\n    var type = element.type;\n\n    if (type === null || type === undefined || typeof type === 'string') {\n      return;\n    }\n\n    var propTypes;\n\n    if (typeof type === 'function') {\n      propTypes = type.propTypes;\n    } else if (typeof type === 'object' && (type.$$typeof === REACT_FORWARD_REF_TYPE || // Note: Memo only checks outer props here.\n    // Inner props are checked in the reconciler.\n    type.$$typeof === REACT_MEMO_TYPE)) {\n      propTypes = type.propTypes;\n    } else {\n      return;\n    }\n\n    if (propTypes) {\n      // Intentionally inside to avoid triggering lazy initializers:\n      var name = getComponentNameFromType(type);\n      checkPropTypes(propTypes, element.props, 'prop', name, element);\n    } else if (type.PropTypes !== undefined && !propTypesMisspellWarningShown) {\n      propTypesMisspellWarningShown = true; // Intentionally inside to avoid triggering lazy initializers:\n\n      var _name = getComponentNameFromType(type);\n\n      error('Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?', _name || 'Unknown');\n    }\n\n    if (typeof type.getDefaultProps === 'function' && !type.getDefaultProps.isReactClassApproved) {\n      error('getDefaultProps is only used on classic React.createClass ' + 'definitions. Use a static property named `defaultProps` instead.');\n    }\n  }\n}\n/**\n * Given a fragment, validate that it can only be provided with fragment props\n * @param {ReactElement} fragment\n */\n\n\nfunction validateFragmentProps(fragment) {\n  {\n    var keys = Object.keys(fragment.props);\n\n    for (var i = 0; i < keys.length; i++) {\n      var key = keys[i];\n\n      if (key !== 'children' && key !== 'key') {\n        setCurrentlyValidatingElement$1(fragment);\n\n        error('Invalid prop `%s` supplied to `React.Fragment`. ' + 'React.Fragment can only have `key` and `children` props.', key);\n\n        setCurrentlyValidatingElement$1(null);\n        break;\n      }\n    }\n\n    if (fragment.ref !== null) {\n      setCurrentlyValidatingElement$1(fragment);\n\n      error('Invalid attribute `ref` supplied to `React.Fragment`.');\n\n      setCurrentlyValidatingElement$1(null);\n    }\n  }\n}\n\nfunction jsxWithValidation(type, props, key, isStaticChildren, source, self) {\n  {\n    var validType = isValidElementType(type); // We warn in this case but don't throw. We expect the element creation to\n    // succeed and there will likely be errors in render.\n\n    if (!validType) {\n      var info = '';\n\n      if (type === undefined || typeof type === 'object' && type !== null && Object.keys(type).length === 0) {\n        info += ' You likely forgot to export your component from the file ' + \"it's defined in, or you might have mixed up default and named imports.\";\n      }\n\n      var sourceInfo = getSourceInfoErrorAddendum(source);\n\n      if (sourceInfo) {\n        info += sourceInfo;\n      } else {\n        info += getDeclarationErrorAddendum();\n      }\n\n      var typeString;\n\n      if (type === null) {\n        typeString = 'null';\n      } else if (isArray(type)) {\n        typeString = 'array';\n      } else if (type !== undefined && type.$$typeof === REACT_ELEMENT_TYPE) {\n        typeString = \"<\" + (getComponentNameFromType(type.type) || 'Unknown') + \" />\";\n        info = ' Did you accidentally export a JSX literal instead of a component?';\n      } else {\n        typeString = typeof type;\n      }\n\n      error('React.jsx: type is invalid -- expected a string (for ' + 'built-in components) or a class/function (for composite ' + 'components) but got: %s.%s', typeString, info);\n    }\n\n    var element = jsxDEV(type, props, key, source, self); // The result can be nullish if a mock or a custom function is used.\n    // TODO: Drop this when these are no longer allowed as the type argument.\n\n    if (element == null) {\n      return element;\n    } // Skip key warning if the type isn't valid since our key validation logic\n    // doesn't expect a non-string/function type and can throw confusing errors.\n    // We don't want exception behavior to differ between dev and prod.\n    // (Rendering will throw with a helpful message and as soon as the type is\n    // fixed, the key warnings will appear.)\n\n\n    if (validType) {\n      var children = props.children;\n\n      if (children !== undefined) {\n        if (isStaticChildren) {\n          if (isArray(children)) {\n            for (var i = 0; i < children.length; i++) {\n              validateChildKeys(children[i], type);\n            }\n\n            if (Object.freeze) {\n              Object.freeze(children);\n            }\n          } else {\n            error('React.jsx: Static children should always be an array. ' + 'You are likely explicitly calling React.jsxs or React.jsxDEV. ' + 'Use the Babel transform instead.');\n          }\n        } else {\n          validateChildKeys(children, type);\n        }\n      }\n    }\n\n    if (type === REACT_FRAGMENT_TYPE) {\n      validateFragmentProps(element);\n    } else {\n      validatePropTypes(element);\n    }\n\n    return element;\n  }\n} // These two functions exist to still get child warnings in dev\n// even with the prod transform. This means that jsxDEV is purely\n// opt-in behavior for better messages but that we won't stop\n// giving you warnings if you use production apis.\n\nfunction jsxWithValidationStatic(type, props, key) {\n  {\n    return jsxWithValidation(type, props, key, true);\n  }\n}\nfunction jsxWithValidationDynamic(type, props, key) {\n  {\n    return jsxWithValidation(type, props, key, false);\n  }\n}\n\nvar jsx =  jsxWithValidationDynamic ; // we may want to special case jsxs internally to take advantage of static children.\n// for now we can ship identical prod functions\n\nvar jsxs =  jsxWithValidationStatic ;\n\nexports.Fragment = REACT_FRAGMENT_TYPE;\nexports.jsx = jsx;\nexports.jsxs = jsxs;\n  })();\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3QvY2pzL3JlYWN0LWpzeC1ydW50aW1lLmRldmVsb3BtZW50LmpzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFYTs7QUFFYixJQUFJLElBQXFDO0FBQ3pDO0FBQ0E7O0FBRUEsWUFBWSxtQkFBTyxDQUFDLDRDQUFPOztBQUUzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGlHQUFpRyxlQUFlO0FBQ2hIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU07OztBQUdOO0FBQ0E7QUFDQSxLQUFLLEdBQUc7O0FBRVIsa0RBQWtEO0FBQ2xEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBLDRCQUE0QjtBQUM1QjtBQUNBLHFDQUFxQzs7QUFFckMsZ0NBQWdDO0FBQ2hDO0FBQ0E7O0FBRUEsZ0NBQWdDOztBQUVoQzs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7O0FBR0o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxFQUFFOzs7QUFHRjtBQUNBO0FBQ0EsRUFBRTs7O0FBR0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUM7O0FBRXZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBLFNBQVM7QUFDVCx1QkFBdUI7QUFDdkI7QUFDQSxTQUFTO0FBQ1QsdUJBQXVCO0FBQ3ZCO0FBQ0EsU0FBUztBQUNULHdCQUF3QjtBQUN4QjtBQUNBLFNBQVM7QUFDVCx3QkFBd0I7QUFDeEI7QUFDQSxTQUFTO0FBQ1QsaUNBQWlDO0FBQ2pDO0FBQ0EsU0FBUztBQUNULDJCQUEyQjtBQUMzQjtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0EsTUFBTTs7O0FBR047QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLDJEQUEyRDs7QUFFM0Q7QUFDQTs7QUFFQTtBQUNBLHlEQUF5RDtBQUN6RDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUzs7O0FBR1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7O0FBRUE7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBOztBQUVBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBOztBQUVBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsYUFBYSxrQkFBa0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQjs7QUFFQTtBQUNBO0FBQ0EsZ0ZBQWdGO0FBQ2hGO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjs7O0FBR2xCO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxJQUFJOzs7QUFHSjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSw4QkFBOEI7QUFDOUI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkhBQTJIO0FBQzNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFVBQVU7QUFDVjtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsb0VBQW9FOztBQUVwRTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGlDQUFpQzs7QUFFakM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOzs7QUFHRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSx3Q0FBd0M7QUFDeEM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEdBQUc7QUFDZCxXQUFXLEdBQUc7QUFDZCxXQUFXLEdBQUc7QUFDZCxXQUFXLGVBQWU7QUFDMUIsV0FBVyxHQUFHO0FBQ2QsV0FBVyxHQUFHO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEdBQUc7QUFDZDtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyxHQUFHOztBQUVSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLEdBQUc7QUFDUjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxHQUFHO0FBQ2QsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQjs7QUFFQTtBQUNBO0FBQ0Esa0JBQWtCOztBQUVsQjtBQUNBO0FBQ0Esb0JBQW9CO0FBQ3BCLDJEQUEyRCxVQUFVO0FBQ3JFLHlCQUF5QixVQUFVO0FBQ25DO0FBQ0EsYUFBYSxVQUFVO0FBQ3ZCOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNQUFNOzs7QUFHTjtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07OztBQUdOO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFNBQVM7QUFDcEIsWUFBWSxTQUFTO0FBQ3JCO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGNBQWM7QUFDekIsV0FBVyxHQUFHO0FBQ2Q7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsNkRBQTZEO0FBQzdEO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxXQUFXO0FBQ3RCLFdBQVcsR0FBRztBQUNkOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0Esc0JBQXNCLGlCQUFpQjtBQUN2Qzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsY0FBYztBQUN6Qjs7O0FBR0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOLDRDQUE0Qzs7QUFFNUM7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsY0FBYztBQUN6Qjs7O0FBR0E7QUFDQTtBQUNBOztBQUVBLG9CQUFvQixpQkFBaUI7QUFDckM7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSw4Q0FBOEM7QUFDOUM7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsMERBQTBEO0FBQzFEOztBQUVBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLHFCQUFxQjtBQUNqRDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTs7QUFFQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxzQ0FBc0M7QUFDdEM7O0FBRUE7O0FBRUEsZ0JBQWdCO0FBQ2hCLFdBQVc7QUFDWCxZQUFZO0FBQ1osR0FBRztBQUNIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9yZWFjdC9janMvcmVhY3QtanN4LXJ1bnRpbWUuZGV2ZWxvcG1lbnQuanM/MmZjMCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBsaWNlbnNlIFJlYWN0XG4gKiByZWFjdC1qc3gtcnVudGltZS5kZXZlbG9wbWVudC5qc1xuICpcbiAqIENvcHlyaWdodCAoYykgRmFjZWJvb2ssIEluYy4gYW5kIGl0cyBhZmZpbGlhdGVzLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikge1xuICAoZnVuY3Rpb24oKSB7XG4ndXNlIHN0cmljdCc7XG5cbnZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbi8vIEFUVEVOVElPTlxuLy8gV2hlbiBhZGRpbmcgbmV3IHN5bWJvbHMgdG8gdGhpcyBmaWxlLFxuLy8gUGxlYXNlIGNvbnNpZGVyIGFsc28gYWRkaW5nIHRvICdyZWFjdC1kZXZ0b29scy1zaGFyZWQvc3JjL2JhY2tlbmQvUmVhY3RTeW1ib2xzJ1xuLy8gVGhlIFN5bWJvbCB1c2VkIHRvIHRhZyB0aGUgUmVhY3RFbGVtZW50LWxpa2UgdHlwZXMuXG52YXIgUkVBQ1RfRUxFTUVOVF9UWVBFID0gU3ltYm9sLmZvcigncmVhY3QuZWxlbWVudCcpO1xudmFyIFJFQUNUX1BPUlRBTF9UWVBFID0gU3ltYm9sLmZvcigncmVhY3QucG9ydGFsJyk7XG52YXIgUkVBQ1RfRlJBR01FTlRfVFlQRSA9IFN5bWJvbC5mb3IoJ3JlYWN0LmZyYWdtZW50Jyk7XG52YXIgUkVBQ1RfU1RSSUNUX01PREVfVFlQRSA9IFN5bWJvbC5mb3IoJ3JlYWN0LnN0cmljdF9tb2RlJyk7XG52YXIgUkVBQ1RfUFJPRklMRVJfVFlQRSA9IFN5bWJvbC5mb3IoJ3JlYWN0LnByb2ZpbGVyJyk7XG52YXIgUkVBQ1RfUFJPVklERVJfVFlQRSA9IFN5bWJvbC5mb3IoJ3JlYWN0LnByb3ZpZGVyJyk7XG52YXIgUkVBQ1RfQ09OVEVYVF9UWVBFID0gU3ltYm9sLmZvcigncmVhY3QuY29udGV4dCcpO1xudmFyIFJFQUNUX0ZPUldBUkRfUkVGX1RZUEUgPSBTeW1ib2wuZm9yKCdyZWFjdC5mb3J3YXJkX3JlZicpO1xudmFyIFJFQUNUX1NVU1BFTlNFX1RZUEUgPSBTeW1ib2wuZm9yKCdyZWFjdC5zdXNwZW5zZScpO1xudmFyIFJFQUNUX1NVU1BFTlNFX0xJU1RfVFlQRSA9IFN5bWJvbC5mb3IoJ3JlYWN0LnN1c3BlbnNlX2xpc3QnKTtcbnZhciBSRUFDVF9NRU1PX1RZUEUgPSBTeW1ib2wuZm9yKCdyZWFjdC5tZW1vJyk7XG52YXIgUkVBQ1RfTEFaWV9UWVBFID0gU3ltYm9sLmZvcigncmVhY3QubGF6eScpO1xudmFyIFJFQUNUX09GRlNDUkVFTl9UWVBFID0gU3ltYm9sLmZvcigncmVhY3Qub2Zmc2NyZWVuJyk7XG52YXIgTUFZQkVfSVRFUkFUT1JfU1lNQk9MID0gU3ltYm9sLml0ZXJhdG9yO1xudmFyIEZBVVhfSVRFUkFUT1JfU1lNQk9MID0gJ0BAaXRlcmF0b3InO1xuZnVuY3Rpb24gZ2V0SXRlcmF0b3JGbihtYXliZUl0ZXJhYmxlKSB7XG4gIGlmIChtYXliZUl0ZXJhYmxlID09PSBudWxsIHx8IHR5cGVvZiBtYXliZUl0ZXJhYmxlICE9PSAnb2JqZWN0Jykge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgdmFyIG1heWJlSXRlcmF0b3IgPSBNQVlCRV9JVEVSQVRPUl9TWU1CT0wgJiYgbWF5YmVJdGVyYWJsZVtNQVlCRV9JVEVSQVRPUl9TWU1CT0xdIHx8IG1heWJlSXRlcmFibGVbRkFVWF9JVEVSQVRPUl9TWU1CT0xdO1xuXG4gIGlmICh0eXBlb2YgbWF5YmVJdGVyYXRvciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBtYXliZUl0ZXJhdG9yO1xuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59XG5cbnZhciBSZWFjdFNoYXJlZEludGVybmFscyA9IFJlYWN0Ll9fU0VDUkVUX0lOVEVSTkFMU19ET19OT1RfVVNFX09SX1lPVV9XSUxMX0JFX0ZJUkVEO1xuXG5mdW5jdGlvbiBlcnJvcihmb3JtYXQpIHtcbiAge1xuICAgIHtcbiAgICAgIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuMiA+IDEgPyBfbGVuMiAtIDEgOiAwKSwgX2tleTIgPSAxOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7XG4gICAgICAgIGFyZ3NbX2tleTIgLSAxXSA9IGFyZ3VtZW50c1tfa2V5Ml07XG4gICAgICB9XG5cbiAgICAgIHByaW50V2FybmluZygnZXJyb3InLCBmb3JtYXQsIGFyZ3MpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBwcmludFdhcm5pbmcobGV2ZWwsIGZvcm1hdCwgYXJncykge1xuICAvLyBXaGVuIGNoYW5naW5nIHRoaXMgbG9naWMsIHlvdSBtaWdodCB3YW50IHRvIGFsc29cbiAgLy8gdXBkYXRlIGNvbnNvbGVXaXRoU3RhY2tEZXYud3d3LmpzIGFzIHdlbGwuXG4gIHtcbiAgICB2YXIgUmVhY3REZWJ1Z0N1cnJlbnRGcmFtZSA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLlJlYWN0RGVidWdDdXJyZW50RnJhbWU7XG4gICAgdmFyIHN0YWNrID0gUmVhY3REZWJ1Z0N1cnJlbnRGcmFtZS5nZXRTdGFja0FkZGVuZHVtKCk7XG5cbiAgICBpZiAoc3RhY2sgIT09ICcnKSB7XG4gICAgICBmb3JtYXQgKz0gJyVzJztcbiAgICAgIGFyZ3MgPSBhcmdzLmNvbmNhdChbc3RhY2tdKTtcbiAgICB9IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1pbnRlcm5hbC9zYWZlLXN0cmluZy1jb2VyY2lvblxuXG5cbiAgICB2YXIgYXJnc1dpdGhGb3JtYXQgPSBhcmdzLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgcmV0dXJuIFN0cmluZyhpdGVtKTtcbiAgICB9KTsgLy8gQ2FyZWZ1bDogUk4gY3VycmVudGx5IGRlcGVuZHMgb24gdGhpcyBwcmVmaXhcblxuICAgIGFyZ3NXaXRoRm9ybWF0LnVuc2hpZnQoJ1dhcm5pbmc6ICcgKyBmb3JtYXQpOyAvLyBXZSBpbnRlbnRpb25hbGx5IGRvbid0IHVzZSBzcHJlYWQgKG9yIC5hcHBseSkgZGlyZWN0bHkgYmVjYXVzZSBpdFxuICAgIC8vIGJyZWFrcyBJRTk6IGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9pc3N1ZXMvMTM2MTBcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaW50ZXJuYWwvbm8tcHJvZHVjdGlvbi1sb2dnaW5nXG5cbiAgICBGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHkuY2FsbChjb25zb2xlW2xldmVsXSwgY29uc29sZSwgYXJnc1dpdGhGb3JtYXQpO1xuICB9XG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbnZhciBlbmFibGVTY29wZUFQSSA9IGZhbHNlOyAvLyBFeHBlcmltZW50YWwgQ3JlYXRlIEV2ZW50IEhhbmRsZSBBUEkuXG52YXIgZW5hYmxlQ2FjaGVFbGVtZW50ID0gZmFsc2U7XG52YXIgZW5hYmxlVHJhbnNpdGlvblRyYWNpbmcgPSBmYWxzZTsgLy8gTm8ga25vd24gYnVncywgYnV0IG5lZWRzIHBlcmZvcm1hbmNlIHRlc3RpbmdcblxudmFyIGVuYWJsZUxlZ2FjeUhpZGRlbiA9IGZhbHNlOyAvLyBFbmFibGVzIHVuc3RhYmxlX2F2b2lkVGhpc0ZhbGxiYWNrIGZlYXR1cmUgaW4gRmliZXJcbi8vIHN0dWZmLiBJbnRlbmRlZCB0byBlbmFibGUgUmVhY3QgY29yZSBtZW1iZXJzIHRvIG1vcmUgZWFzaWx5IGRlYnVnIHNjaGVkdWxpbmdcbi8vIGlzc3VlcyBpbiBERVYgYnVpbGRzLlxuXG52YXIgZW5hYmxlRGVidWdUcmFjaW5nID0gZmFsc2U7IC8vIFRyYWNrIHdoaWNoIEZpYmVyKHMpIHNjaGVkdWxlIHJlbmRlciB3b3JrLlxuXG52YXIgUkVBQ1RfTU9EVUxFX1JFRkVSRU5DRTtcblxue1xuICBSRUFDVF9NT0RVTEVfUkVGRVJFTkNFID0gU3ltYm9sLmZvcigncmVhY3QubW9kdWxlLnJlZmVyZW5jZScpO1xufVxuXG5mdW5jdGlvbiBpc1ZhbGlkRWxlbWVudFR5cGUodHlwZSkge1xuICBpZiAodHlwZW9mIHR5cGUgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiB0eXBlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gLy8gTm90ZTogdHlwZW9mIG1pZ2h0IGJlIG90aGVyIHRoYW4gJ3N5bWJvbCcgb3IgJ251bWJlcicgKGUuZy4gaWYgaXQncyBhIHBvbHlmaWxsKS5cblxuXG4gIGlmICh0eXBlID09PSBSRUFDVF9GUkFHTUVOVF9UWVBFIHx8IHR5cGUgPT09IFJFQUNUX1BST0ZJTEVSX1RZUEUgfHwgZW5hYmxlRGVidWdUcmFjaW5nICB8fCB0eXBlID09PSBSRUFDVF9TVFJJQ1RfTU9ERV9UWVBFIHx8IHR5cGUgPT09IFJFQUNUX1NVU1BFTlNFX1RZUEUgfHwgdHlwZSA9PT0gUkVBQ1RfU1VTUEVOU0VfTElTVF9UWVBFIHx8IGVuYWJsZUxlZ2FjeUhpZGRlbiAgfHwgdHlwZSA9PT0gUkVBQ1RfT0ZGU0NSRUVOX1RZUEUgfHwgZW5hYmxlU2NvcGVBUEkgIHx8IGVuYWJsZUNhY2hlRWxlbWVudCAgfHwgZW5hYmxlVHJhbnNpdGlvblRyYWNpbmcgKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBpZiAodHlwZW9mIHR5cGUgPT09ICdvYmplY3QnICYmIHR5cGUgIT09IG51bGwpIHtcbiAgICBpZiAodHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfTEFaWV9UWVBFIHx8IHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX01FTU9fVFlQRSB8fCB0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9QUk9WSURFUl9UWVBFIHx8IHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0NPTlRFWFRfVFlQRSB8fCB0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFIHx8IC8vIFRoaXMgbmVlZHMgdG8gaW5jbHVkZSBhbGwgcG9zc2libGUgbW9kdWxlIHJlZmVyZW5jZSBvYmplY3RcbiAgICAvLyB0eXBlcyBzdXBwb3J0ZWQgYnkgYW55IEZsaWdodCBjb25maWd1cmF0aW9uIGFueXdoZXJlIHNpbmNlXG4gICAgLy8gd2UgZG9uJ3Qga25vdyB3aGljaCBGbGlnaHQgYnVpbGQgdGhpcyB3aWxsIGVuZCB1cCBiZWluZyB1c2VkXG4gICAgLy8gd2l0aC5cbiAgICB0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9NT0RVTEVfUkVGRVJFTkNFIHx8IHR5cGUuZ2V0TW9kdWxlSWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiBnZXRXcmFwcGVkTmFtZShvdXRlclR5cGUsIGlubmVyVHlwZSwgd3JhcHBlck5hbWUpIHtcbiAgdmFyIGRpc3BsYXlOYW1lID0gb3V0ZXJUeXBlLmRpc3BsYXlOYW1lO1xuXG4gIGlmIChkaXNwbGF5TmFtZSkge1xuICAgIHJldHVybiBkaXNwbGF5TmFtZTtcbiAgfVxuXG4gIHZhciBmdW5jdGlvbk5hbWUgPSBpbm5lclR5cGUuZGlzcGxheU5hbWUgfHwgaW5uZXJUeXBlLm5hbWUgfHwgJyc7XG4gIHJldHVybiBmdW5jdGlvbk5hbWUgIT09ICcnID8gd3JhcHBlck5hbWUgKyBcIihcIiArIGZ1bmN0aW9uTmFtZSArIFwiKVwiIDogd3JhcHBlck5hbWU7XG59IC8vIEtlZXAgaW4gc3luYyB3aXRoIHJlYWN0LXJlY29uY2lsZXIvZ2V0Q29tcG9uZW50TmFtZUZyb21GaWJlclxuXG5cbmZ1bmN0aW9uIGdldENvbnRleHROYW1lKHR5cGUpIHtcbiAgcmV0dXJuIHR5cGUuZGlzcGxheU5hbWUgfHwgJ0NvbnRleHQnO1xufSAvLyBOb3RlIHRoYXQgdGhlIHJlY29uY2lsZXIgcGFja2FnZSBzaG91bGQgZ2VuZXJhbGx5IHByZWZlciB0byB1c2UgZ2V0Q29tcG9uZW50TmFtZUZyb21GaWJlcigpIGluc3RlYWQuXG5cblxuZnVuY3Rpb24gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKHR5cGUpIHtcbiAgaWYgKHR5cGUgPT0gbnVsbCkge1xuICAgIC8vIEhvc3Qgcm9vdCwgdGV4dCBub2RlIG9yIGp1c3QgaW52YWxpZCB0eXBlLlxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAge1xuICAgIGlmICh0eXBlb2YgdHlwZS50YWcgPT09ICdudW1iZXInKSB7XG4gICAgICBlcnJvcignUmVjZWl2ZWQgYW4gdW5leHBlY3RlZCBvYmplY3QgaW4gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKCkuICcgKyAnVGhpcyBpcyBsaWtlbHkgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLicpO1xuICAgIH1cbiAgfVxuXG4gIGlmICh0eXBlb2YgdHlwZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiB0eXBlLmRpc3BsYXlOYW1lIHx8IHR5cGUubmFtZSB8fCBudWxsO1xuICB9XG5cbiAgaWYgKHR5cGVvZiB0eXBlID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiB0eXBlO1xuICB9XG5cbiAgc3dpdGNoICh0eXBlKSB7XG4gICAgY2FzZSBSRUFDVF9GUkFHTUVOVF9UWVBFOlxuICAgICAgcmV0dXJuICdGcmFnbWVudCc7XG5cbiAgICBjYXNlIFJFQUNUX1BPUlRBTF9UWVBFOlxuICAgICAgcmV0dXJuICdQb3J0YWwnO1xuXG4gICAgY2FzZSBSRUFDVF9QUk9GSUxFUl9UWVBFOlxuICAgICAgcmV0dXJuICdQcm9maWxlcic7XG5cbiAgICBjYXNlIFJFQUNUX1NUUklDVF9NT0RFX1RZUEU6XG4gICAgICByZXR1cm4gJ1N0cmljdE1vZGUnO1xuXG4gICAgY2FzZSBSRUFDVF9TVVNQRU5TRV9UWVBFOlxuICAgICAgcmV0dXJuICdTdXNwZW5zZSc7XG5cbiAgICBjYXNlIFJFQUNUX1NVU1BFTlNFX0xJU1RfVFlQRTpcbiAgICAgIHJldHVybiAnU3VzcGVuc2VMaXN0JztcblxuICB9XG5cbiAgaWYgKHR5cGVvZiB0eXBlID09PSAnb2JqZWN0Jykge1xuICAgIHN3aXRjaCAodHlwZS4kJHR5cGVvZikge1xuICAgICAgY2FzZSBSRUFDVF9DT05URVhUX1RZUEU6XG4gICAgICAgIHZhciBjb250ZXh0ID0gdHlwZTtcbiAgICAgICAgcmV0dXJuIGdldENvbnRleHROYW1lKGNvbnRleHQpICsgJy5Db25zdW1lcic7XG5cbiAgICAgIGNhc2UgUkVBQ1RfUFJPVklERVJfVFlQRTpcbiAgICAgICAgdmFyIHByb3ZpZGVyID0gdHlwZTtcbiAgICAgICAgcmV0dXJuIGdldENvbnRleHROYW1lKHByb3ZpZGVyLl9jb250ZXh0KSArICcuUHJvdmlkZXInO1xuXG4gICAgICBjYXNlIFJFQUNUX0ZPUldBUkRfUkVGX1RZUEU6XG4gICAgICAgIHJldHVybiBnZXRXcmFwcGVkTmFtZSh0eXBlLCB0eXBlLnJlbmRlciwgJ0ZvcndhcmRSZWYnKTtcblxuICAgICAgY2FzZSBSRUFDVF9NRU1PX1RZUEU6XG4gICAgICAgIHZhciBvdXRlck5hbWUgPSB0eXBlLmRpc3BsYXlOYW1lIHx8IG51bGw7XG5cbiAgICAgICAgaWYgKG91dGVyTmFtZSAhPT0gbnVsbCkge1xuICAgICAgICAgIHJldHVybiBvdXRlck5hbWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKHR5cGUudHlwZSkgfHwgJ01lbW8nO1xuXG4gICAgICBjYXNlIFJFQUNUX0xBWllfVFlQRTpcbiAgICAgICAge1xuICAgICAgICAgIHZhciBsYXp5Q29tcG9uZW50ID0gdHlwZTtcbiAgICAgICAgICB2YXIgcGF5bG9hZCA9IGxhenlDb21wb25lbnQuX3BheWxvYWQ7XG4gICAgICAgICAgdmFyIGluaXQgPSBsYXp5Q29tcG9uZW50Ll9pbml0O1xuXG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUoaW5pdChwYXlsb2FkKSk7XG4gICAgICAgICAgfSBjYXRjaCAoeCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1mYWxsdGhyb3VnaFxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBudWxsO1xufVxuXG52YXIgYXNzaWduID0gT2JqZWN0LmFzc2lnbjtcblxuLy8gSGVscGVycyB0byBwYXRjaCBjb25zb2xlLmxvZ3MgdG8gYXZvaWQgbG9nZ2luZyBkdXJpbmcgc2lkZS1lZmZlY3QgZnJlZVxuLy8gcmVwbGF5aW5nIG9uIHJlbmRlciBmdW5jdGlvbi4gVGhpcyBjdXJyZW50bHkgb25seSBwYXRjaGVzIHRoZSBvYmplY3Rcbi8vIGxhemlseSB3aGljaCB3b24ndCBjb3ZlciBpZiB0aGUgbG9nIGZ1bmN0aW9uIHdhcyBleHRyYWN0ZWQgZWFnZXJseS5cbi8vIFdlIGNvdWxkIGFsc28gZWFnZXJseSBwYXRjaCB0aGUgbWV0aG9kLlxudmFyIGRpc2FibGVkRGVwdGggPSAwO1xudmFyIHByZXZMb2c7XG52YXIgcHJldkluZm87XG52YXIgcHJldldhcm47XG52YXIgcHJldkVycm9yO1xudmFyIHByZXZHcm91cDtcbnZhciBwcmV2R3JvdXBDb2xsYXBzZWQ7XG52YXIgcHJldkdyb3VwRW5kO1xuXG5mdW5jdGlvbiBkaXNhYmxlZExvZygpIHt9XG5cbmRpc2FibGVkTG9nLl9fcmVhY3REaXNhYmxlZExvZyA9IHRydWU7XG5mdW5jdGlvbiBkaXNhYmxlTG9ncygpIHtcbiAge1xuICAgIGlmIChkaXNhYmxlZERlcHRoID09PSAwKSB7XG4gICAgICAvKiBlc2xpbnQtZGlzYWJsZSByZWFjdC1pbnRlcm5hbC9uby1wcm9kdWN0aW9uLWxvZ2dpbmcgKi9cbiAgICAgIHByZXZMb2cgPSBjb25zb2xlLmxvZztcbiAgICAgIHByZXZJbmZvID0gY29uc29sZS5pbmZvO1xuICAgICAgcHJldldhcm4gPSBjb25zb2xlLndhcm47XG4gICAgICBwcmV2RXJyb3IgPSBjb25zb2xlLmVycm9yO1xuICAgICAgcHJldkdyb3VwID0gY29uc29sZS5ncm91cDtcbiAgICAgIHByZXZHcm91cENvbGxhcHNlZCA9IGNvbnNvbGUuZ3JvdXBDb2xsYXBzZWQ7XG4gICAgICBwcmV2R3JvdXBFbmQgPSBjb25zb2xlLmdyb3VwRW5kOyAvLyBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvaXNzdWVzLzE5MDk5XG5cbiAgICAgIHZhciBwcm9wcyA9IHtcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogZGlzYWJsZWRMb2csXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgICB9OyAvLyAkRmxvd0ZpeE1lIEZsb3cgdGhpbmtzIGNvbnNvbGUgaXMgaW1tdXRhYmxlLlxuXG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhjb25zb2xlLCB7XG4gICAgICAgIGluZm86IHByb3BzLFxuICAgICAgICBsb2c6IHByb3BzLFxuICAgICAgICB3YXJuOiBwcm9wcyxcbiAgICAgICAgZXJyb3I6IHByb3BzLFxuICAgICAgICBncm91cDogcHJvcHMsXG4gICAgICAgIGdyb3VwQ29sbGFwc2VkOiBwcm9wcyxcbiAgICAgICAgZ3JvdXBFbmQ6IHByb3BzXG4gICAgICB9KTtcbiAgICAgIC8qIGVzbGludC1lbmFibGUgcmVhY3QtaW50ZXJuYWwvbm8tcHJvZHVjdGlvbi1sb2dnaW5nICovXG4gICAgfVxuXG4gICAgZGlzYWJsZWREZXB0aCsrO1xuICB9XG59XG5mdW5jdGlvbiByZWVuYWJsZUxvZ3MoKSB7XG4gIHtcbiAgICBkaXNhYmxlZERlcHRoLS07XG5cbiAgICBpZiAoZGlzYWJsZWREZXB0aCA9PT0gMCkge1xuICAgICAgLyogZXNsaW50LWRpc2FibGUgcmVhY3QtaW50ZXJuYWwvbm8tcHJvZHVjdGlvbi1sb2dnaW5nICovXG4gICAgICB2YXIgcHJvcHMgPSB7XG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgd3JpdGFibGU6IHRydWVcbiAgICAgIH07IC8vICRGbG93Rml4TWUgRmxvdyB0aGlua3MgY29uc29sZSBpcyBpbW11dGFibGUuXG5cbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGNvbnNvbGUsIHtcbiAgICAgICAgbG9nOiBhc3NpZ24oe30sIHByb3BzLCB7XG4gICAgICAgICAgdmFsdWU6IHByZXZMb2dcbiAgICAgICAgfSksXG4gICAgICAgIGluZm86IGFzc2lnbih7fSwgcHJvcHMsIHtcbiAgICAgICAgICB2YWx1ZTogcHJldkluZm9cbiAgICAgICAgfSksXG4gICAgICAgIHdhcm46IGFzc2lnbih7fSwgcHJvcHMsIHtcbiAgICAgICAgICB2YWx1ZTogcHJldldhcm5cbiAgICAgICAgfSksXG4gICAgICAgIGVycm9yOiBhc3NpZ24oe30sIHByb3BzLCB7XG4gICAgICAgICAgdmFsdWU6IHByZXZFcnJvclxuICAgICAgICB9KSxcbiAgICAgICAgZ3JvdXA6IGFzc2lnbih7fSwgcHJvcHMsIHtcbiAgICAgICAgICB2YWx1ZTogcHJldkdyb3VwXG4gICAgICAgIH0pLFxuICAgICAgICBncm91cENvbGxhcHNlZDogYXNzaWduKHt9LCBwcm9wcywge1xuICAgICAgICAgIHZhbHVlOiBwcmV2R3JvdXBDb2xsYXBzZWRcbiAgICAgICAgfSksXG4gICAgICAgIGdyb3VwRW5kOiBhc3NpZ24oe30sIHByb3BzLCB7XG4gICAgICAgICAgdmFsdWU6IHByZXZHcm91cEVuZFxuICAgICAgICB9KVxuICAgICAgfSk7XG4gICAgICAvKiBlc2xpbnQtZW5hYmxlIHJlYWN0LWludGVybmFsL25vLXByb2R1Y3Rpb24tbG9nZ2luZyAqL1xuICAgIH1cblxuICAgIGlmIChkaXNhYmxlZERlcHRoIDwgMCkge1xuICAgICAgZXJyb3IoJ2Rpc2FibGVkRGVwdGggZmVsbCBiZWxvdyB6ZXJvLiAnICsgJ1RoaXMgaXMgYSBidWcgaW4gUmVhY3QuIFBsZWFzZSBmaWxlIGFuIGlzc3VlLicpO1xuICAgIH1cbiAgfVxufVxuXG52YXIgUmVhY3RDdXJyZW50RGlzcGF0Y2hlciA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLlJlYWN0Q3VycmVudERpc3BhdGNoZXI7XG52YXIgcHJlZml4O1xuZnVuY3Rpb24gZGVzY3JpYmVCdWlsdEluQ29tcG9uZW50RnJhbWUobmFtZSwgc291cmNlLCBvd25lckZuKSB7XG4gIHtcbiAgICBpZiAocHJlZml4ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIC8vIEV4dHJhY3QgdGhlIFZNIHNwZWNpZmljIHByZWZpeCB1c2VkIGJ5IGVhY2ggbGluZS5cbiAgICAgIHRyeSB7XG4gICAgICAgIHRocm93IEVycm9yKCk7XG4gICAgICB9IGNhdGNoICh4KSB7XG4gICAgICAgIHZhciBtYXRjaCA9IHguc3RhY2sudHJpbSgpLm1hdGNoKC9cXG4oICooYXQgKT8pLyk7XG4gICAgICAgIHByZWZpeCA9IG1hdGNoICYmIG1hdGNoWzFdIHx8ICcnO1xuICAgICAgfVxuICAgIH0gLy8gV2UgdXNlIHRoZSBwcmVmaXggdG8gZW5zdXJlIG91ciBzdGFja3MgbGluZSB1cCB3aXRoIG5hdGl2ZSBzdGFjayBmcmFtZXMuXG5cblxuICAgIHJldHVybiAnXFxuJyArIHByZWZpeCArIG5hbWU7XG4gIH1cbn1cbnZhciByZWVudHJ5ID0gZmFsc2U7XG52YXIgY29tcG9uZW50RnJhbWVDYWNoZTtcblxue1xuICB2YXIgUG9zc2libHlXZWFrTWFwID0gdHlwZW9mIFdlYWtNYXAgPT09ICdmdW5jdGlvbicgPyBXZWFrTWFwIDogTWFwO1xuICBjb21wb25lbnRGcmFtZUNhY2hlID0gbmV3IFBvc3NpYmx5V2Vha01hcCgpO1xufVxuXG5mdW5jdGlvbiBkZXNjcmliZU5hdGl2ZUNvbXBvbmVudEZyYW1lKGZuLCBjb25zdHJ1Y3QpIHtcbiAgLy8gSWYgc29tZXRoaW5nIGFza2VkIGZvciBhIHN0YWNrIGluc2lkZSBhIGZha2UgcmVuZGVyLCBpdCBzaG91bGQgZ2V0IGlnbm9yZWQuXG4gIGlmICggIWZuIHx8IHJlZW50cnkpIHtcbiAgICByZXR1cm4gJyc7XG4gIH1cblxuICB7XG4gICAgdmFyIGZyYW1lID0gY29tcG9uZW50RnJhbWVDYWNoZS5nZXQoZm4pO1xuXG4gICAgaWYgKGZyYW1lICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBmcmFtZTtcbiAgICB9XG4gIH1cblxuICB2YXIgY29udHJvbDtcbiAgcmVlbnRyeSA9IHRydWU7XG4gIHZhciBwcmV2aW91c1ByZXBhcmVTdGFja1RyYWNlID0gRXJyb3IucHJlcGFyZVN0YWNrVHJhY2U7IC8vICRGbG93Rml4TWUgSXQgZG9lcyBhY2NlcHQgdW5kZWZpbmVkLlxuXG4gIEVycm9yLnByZXBhcmVTdGFja1RyYWNlID0gdW5kZWZpbmVkO1xuICB2YXIgcHJldmlvdXNEaXNwYXRjaGVyO1xuXG4gIHtcbiAgICBwcmV2aW91c0Rpc3BhdGNoZXIgPSBSZWFjdEN1cnJlbnREaXNwYXRjaGVyLmN1cnJlbnQ7IC8vIFNldCB0aGUgZGlzcGF0Y2hlciBpbiBERVYgYmVjYXVzZSB0aGlzIG1pZ2h0IGJlIGNhbGwgaW4gdGhlIHJlbmRlciBmdW5jdGlvblxuICAgIC8vIGZvciB3YXJuaW5ncy5cblxuICAgIFJlYWN0Q3VycmVudERpc3BhdGNoZXIuY3VycmVudCA9IG51bGw7XG4gICAgZGlzYWJsZUxvZ3MoKTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgLy8gVGhpcyBzaG91bGQgdGhyb3cuXG4gICAgaWYgKGNvbnN0cnVjdCkge1xuICAgICAgLy8gU29tZXRoaW5nIHNob3VsZCBiZSBzZXR0aW5nIHRoZSBwcm9wcyBpbiB0aGUgY29uc3RydWN0b3IuXG4gICAgICB2YXIgRmFrZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhyb3cgRXJyb3IoKTtcbiAgICAgIH07IC8vICRGbG93Rml4TWVcblxuXG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRmFrZS5wcm90b3R5cGUsICdwcm9wcycsIHtcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgLy8gV2UgdXNlIGEgdGhyb3dpbmcgc2V0dGVyIGluc3RlYWQgb2YgZnJvemVuIG9yIG5vbi13cml0YWJsZSBwcm9wc1xuICAgICAgICAgIC8vIGJlY2F1c2UgdGhhdCB3b24ndCB0aHJvdyBpbiBhIG5vbi1zdHJpY3QgbW9kZSBmdW5jdGlvbi5cbiAgICAgICAgICB0aHJvdyBFcnJvcigpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSAnb2JqZWN0JyAmJiBSZWZsZWN0LmNvbnN0cnVjdCkge1xuICAgICAgICAvLyBXZSBjb25zdHJ1Y3QgYSBkaWZmZXJlbnQgY29udHJvbCBmb3IgdGhpcyBjYXNlIHRvIGluY2x1ZGUgYW55IGV4dHJhXG4gICAgICAgIC8vIGZyYW1lcyBhZGRlZCBieSB0aGUgY29uc3RydWN0IGNhbGwuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgUmVmbGVjdC5jb25zdHJ1Y3QoRmFrZSwgW10pO1xuICAgICAgICB9IGNhdGNoICh4KSB7XG4gICAgICAgICAgY29udHJvbCA9IHg7XG4gICAgICAgIH1cblxuICAgICAgICBSZWZsZWN0LmNvbnN0cnVjdChmbiwgW10sIEZha2UpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBGYWtlLmNhbGwoKTtcbiAgICAgICAgfSBjYXRjaCAoeCkge1xuICAgICAgICAgIGNvbnRyb2wgPSB4O1xuICAgICAgICB9XG5cbiAgICAgICAgZm4uY2FsbChGYWtlLnByb3RvdHlwZSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHRocm93IEVycm9yKCk7XG4gICAgICB9IGNhdGNoICh4KSB7XG4gICAgICAgIGNvbnRyb2wgPSB4O1xuICAgICAgfVxuXG4gICAgICBmbigpO1xuICAgIH1cbiAgfSBjYXRjaCAoc2FtcGxlKSB7XG4gICAgLy8gVGhpcyBpcyBpbmxpbmVkIG1hbnVhbGx5IGJlY2F1c2UgY2xvc3VyZSBkb2Vzbid0IGRvIGl0IGZvciB1cy5cbiAgICBpZiAoc2FtcGxlICYmIGNvbnRyb2wgJiYgdHlwZW9mIHNhbXBsZS5zdGFjayA9PT0gJ3N0cmluZycpIHtcbiAgICAgIC8vIFRoaXMgZXh0cmFjdHMgdGhlIGZpcnN0IGZyYW1lIGZyb20gdGhlIHNhbXBsZSB0aGF0IGlzbid0IGFsc28gaW4gdGhlIGNvbnRyb2wuXG4gICAgICAvLyBTa2lwcGluZyBvbmUgZnJhbWUgdGhhdCB3ZSBhc3N1bWUgaXMgdGhlIGZyYW1lIHRoYXQgY2FsbHMgdGhlIHR3by5cbiAgICAgIHZhciBzYW1wbGVMaW5lcyA9IHNhbXBsZS5zdGFjay5zcGxpdCgnXFxuJyk7XG4gICAgICB2YXIgY29udHJvbExpbmVzID0gY29udHJvbC5zdGFjay5zcGxpdCgnXFxuJyk7XG4gICAgICB2YXIgcyA9IHNhbXBsZUxpbmVzLmxlbmd0aCAtIDE7XG4gICAgICB2YXIgYyA9IGNvbnRyb2xMaW5lcy5sZW5ndGggLSAxO1xuXG4gICAgICB3aGlsZSAocyA+PSAxICYmIGMgPj0gMCAmJiBzYW1wbGVMaW5lc1tzXSAhPT0gY29udHJvbExpbmVzW2NdKSB7XG4gICAgICAgIC8vIFdlIGV4cGVjdCBhdCBsZWFzdCBvbmUgc3RhY2sgZnJhbWUgdG8gYmUgc2hhcmVkLlxuICAgICAgICAvLyBUeXBpY2FsbHkgdGhpcyB3aWxsIGJlIHRoZSByb290IG1vc3Qgb25lLiBIb3dldmVyLCBzdGFjayBmcmFtZXMgbWF5IGJlXG4gICAgICAgIC8vIGN1dCBvZmYgZHVlIHRvIG1heGltdW0gc3RhY2sgbGltaXRzLiBJbiB0aGlzIGNhc2UsIG9uZSBtYXliZSBjdXQgb2ZmXG4gICAgICAgIC8vIGVhcmxpZXIgdGhhbiB0aGUgb3RoZXIuIFdlIGFzc3VtZSB0aGF0IHRoZSBzYW1wbGUgaXMgbG9uZ2VyIG9yIHRoZSBzYW1lXG4gICAgICAgIC8vIGFuZCB0aGVyZSBmb3IgY3V0IG9mZiBlYXJsaWVyLiBTbyB3ZSBzaG91bGQgZmluZCB0aGUgcm9vdCBtb3N0IGZyYW1lIGluXG4gICAgICAgIC8vIHRoZSBzYW1wbGUgc29tZXdoZXJlIGluIHRoZSBjb250cm9sLlxuICAgICAgICBjLS07XG4gICAgICB9XG5cbiAgICAgIGZvciAoOyBzID49IDEgJiYgYyA+PSAwOyBzLS0sIGMtLSkge1xuICAgICAgICAvLyBOZXh0IHdlIGZpbmQgdGhlIGZpcnN0IG9uZSB0aGF0IGlzbid0IHRoZSBzYW1lIHdoaWNoIHNob3VsZCBiZSB0aGVcbiAgICAgICAgLy8gZnJhbWUgdGhhdCBjYWxsZWQgb3VyIHNhbXBsZSBmdW5jdGlvbiBhbmQgdGhlIGNvbnRyb2wuXG4gICAgICAgIGlmIChzYW1wbGVMaW5lc1tzXSAhPT0gY29udHJvbExpbmVzW2NdKSB7XG4gICAgICAgICAgLy8gSW4gVjgsIHRoZSBmaXJzdCBsaW5lIGlzIGRlc2NyaWJpbmcgdGhlIG1lc3NhZ2UgYnV0IG90aGVyIFZNcyBkb24ndC5cbiAgICAgICAgICAvLyBJZiB3ZSdyZSBhYm91dCB0byByZXR1cm4gdGhlIGZpcnN0IGxpbmUsIGFuZCB0aGUgY29udHJvbCBpcyBhbHNvIG9uIHRoZSBzYW1lXG4gICAgICAgICAgLy8gbGluZSwgdGhhdCdzIGEgcHJldHR5IGdvb2QgaW5kaWNhdG9yIHRoYXQgb3VyIHNhbXBsZSB0aHJldyBhdCBzYW1lIGxpbmUgYXNcbiAgICAgICAgICAvLyB0aGUgY29udHJvbC4gSS5lLiBiZWZvcmUgd2UgZW50ZXJlZCB0aGUgc2FtcGxlIGZyYW1lLiBTbyB3ZSBpZ25vcmUgdGhpcyByZXN1bHQuXG4gICAgICAgICAgLy8gVGhpcyBjYW4gaGFwcGVuIGlmIHlvdSBwYXNzZWQgYSBjbGFzcyB0byBmdW5jdGlvbiBjb21wb25lbnQsIG9yIG5vbi1mdW5jdGlvbi5cbiAgICAgICAgICBpZiAocyAhPT0gMSB8fCBjICE9PSAxKSB7XG4gICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgIHMtLTtcbiAgICAgICAgICAgICAgYy0tOyAvLyBXZSBtYXkgc3RpbGwgaGF2ZSBzaW1pbGFyIGludGVybWVkaWF0ZSBmcmFtZXMgZnJvbSB0aGUgY29uc3RydWN0IGNhbGwuXG4gICAgICAgICAgICAgIC8vIFRoZSBuZXh0IG9uZSB0aGF0IGlzbid0IHRoZSBzYW1lIHNob3VsZCBiZSBvdXIgbWF0Y2ggdGhvdWdoLlxuXG4gICAgICAgICAgICAgIGlmIChjIDwgMCB8fCBzYW1wbGVMaW5lc1tzXSAhPT0gY29udHJvbExpbmVzW2NdKSB7XG4gICAgICAgICAgICAgICAgLy8gVjggYWRkcyBhIFwibmV3XCIgcHJlZml4IGZvciBuYXRpdmUgY2xhc3Nlcy4gTGV0J3MgcmVtb3ZlIGl0IHRvIG1ha2UgaXQgcHJldHRpZXIuXG4gICAgICAgICAgICAgICAgdmFyIF9mcmFtZSA9ICdcXG4nICsgc2FtcGxlTGluZXNbc10ucmVwbGFjZSgnIGF0IG5ldyAnLCAnIGF0ICcpOyAvLyBJZiBvdXIgY29tcG9uZW50IGZyYW1lIGlzIGxhYmVsZWQgXCI8YW5vbnltb3VzPlwiXG4gICAgICAgICAgICAgICAgLy8gYnV0IHdlIGhhdmUgYSB1c2VyLXByb3ZpZGVkIFwiZGlzcGxheU5hbWVcIlxuICAgICAgICAgICAgICAgIC8vIHNwbGljZSBpdCBpbiB0byBtYWtlIHRoZSBzdGFjayBtb3JlIHJlYWRhYmxlLlxuXG5cbiAgICAgICAgICAgICAgICBpZiAoZm4uZGlzcGxheU5hbWUgJiYgX2ZyYW1lLmluY2x1ZGVzKCc8YW5vbnltb3VzPicpKSB7XG4gICAgICAgICAgICAgICAgICBfZnJhbWUgPSBfZnJhbWUucmVwbGFjZSgnPGFub255bW91cz4nLCBmbi5kaXNwbGF5TmFtZSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRGcmFtZUNhY2hlLnNldChmbiwgX2ZyYW1lKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IC8vIFJldHVybiB0aGUgbGluZSB3ZSBmb3VuZC5cblxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIF9mcmFtZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSB3aGlsZSAocyA+PSAxICYmIGMgPj0gMCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0gZmluYWxseSB7XG4gICAgcmVlbnRyeSA9IGZhbHNlO1xuXG4gICAge1xuICAgICAgUmVhY3RDdXJyZW50RGlzcGF0Y2hlci5jdXJyZW50ID0gcHJldmlvdXNEaXNwYXRjaGVyO1xuICAgICAgcmVlbmFibGVMb2dzKCk7XG4gICAgfVxuXG4gICAgRXJyb3IucHJlcGFyZVN0YWNrVHJhY2UgPSBwcmV2aW91c1ByZXBhcmVTdGFja1RyYWNlO1xuICB9IC8vIEZhbGxiYWNrIHRvIGp1c3QgdXNpbmcgdGhlIG5hbWUgaWYgd2UgY291bGRuJ3QgbWFrZSBpdCB0aHJvdy5cblxuXG4gIHZhciBuYW1lID0gZm4gPyBmbi5kaXNwbGF5TmFtZSB8fCBmbi5uYW1lIDogJyc7XG4gIHZhciBzeW50aGV0aWNGcmFtZSA9IG5hbWUgPyBkZXNjcmliZUJ1aWx0SW5Db21wb25lbnRGcmFtZShuYW1lKSA6ICcnO1xuXG4gIHtcbiAgICBpZiAodHlwZW9mIGZuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjb21wb25lbnRGcmFtZUNhY2hlLnNldChmbiwgc3ludGhldGljRnJhbWUpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBzeW50aGV0aWNGcmFtZTtcbn1cbmZ1bmN0aW9uIGRlc2NyaWJlRnVuY3Rpb25Db21wb25lbnRGcmFtZShmbiwgc291cmNlLCBvd25lckZuKSB7XG4gIHtcbiAgICByZXR1cm4gZGVzY3JpYmVOYXRpdmVDb21wb25lbnRGcmFtZShmbiwgZmFsc2UpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHNob3VsZENvbnN0cnVjdChDb21wb25lbnQpIHtcbiAgdmFyIHByb3RvdHlwZSA9IENvbXBvbmVudC5wcm90b3R5cGU7XG4gIHJldHVybiAhIShwcm90b3R5cGUgJiYgcHJvdG90eXBlLmlzUmVhY3RDb21wb25lbnQpO1xufVxuXG5mdW5jdGlvbiBkZXNjcmliZVVua25vd25FbGVtZW50VHlwZUZyYW1lSW5ERVYodHlwZSwgc291cmNlLCBvd25lckZuKSB7XG5cbiAgaWYgKHR5cGUgPT0gbnVsbCkge1xuICAgIHJldHVybiAnJztcbiAgfVxuXG4gIGlmICh0eXBlb2YgdHlwZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHtcbiAgICAgIHJldHVybiBkZXNjcmliZU5hdGl2ZUNvbXBvbmVudEZyYW1lKHR5cGUsIHNob3VsZENvbnN0cnVjdCh0eXBlKSk7XG4gICAgfVxuICB9XG5cbiAgaWYgKHR5cGVvZiB0eXBlID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBkZXNjcmliZUJ1aWx0SW5Db21wb25lbnRGcmFtZSh0eXBlKTtcbiAgfVxuXG4gIHN3aXRjaCAodHlwZSkge1xuICAgIGNhc2UgUkVBQ1RfU1VTUEVOU0VfVFlQRTpcbiAgICAgIHJldHVybiBkZXNjcmliZUJ1aWx0SW5Db21wb25lbnRGcmFtZSgnU3VzcGVuc2UnKTtcblxuICAgIGNhc2UgUkVBQ1RfU1VTUEVOU0VfTElTVF9UWVBFOlxuICAgICAgcmV0dXJuIGRlc2NyaWJlQnVpbHRJbkNvbXBvbmVudEZyYW1lKCdTdXNwZW5zZUxpc3QnKTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgdHlwZSA9PT0gJ29iamVjdCcpIHtcbiAgICBzd2l0Y2ggKHR5cGUuJCR0eXBlb2YpIHtcbiAgICAgIGNhc2UgUkVBQ1RfRk9SV0FSRF9SRUZfVFlQRTpcbiAgICAgICAgcmV0dXJuIGRlc2NyaWJlRnVuY3Rpb25Db21wb25lbnRGcmFtZSh0eXBlLnJlbmRlcik7XG5cbiAgICAgIGNhc2UgUkVBQ1RfTUVNT19UWVBFOlxuICAgICAgICAvLyBNZW1vIG1heSBjb250YWluIGFueSBjb21wb25lbnQgdHlwZSBzbyB3ZSByZWN1cnNpdmVseSByZXNvbHZlIGl0LlxuICAgICAgICByZXR1cm4gZGVzY3JpYmVVbmtub3duRWxlbWVudFR5cGVGcmFtZUluREVWKHR5cGUudHlwZSwgc291cmNlLCBvd25lckZuKTtcblxuICAgICAgY2FzZSBSRUFDVF9MQVpZX1RZUEU6XG4gICAgICAgIHtcbiAgICAgICAgICB2YXIgbGF6eUNvbXBvbmVudCA9IHR5cGU7XG4gICAgICAgICAgdmFyIHBheWxvYWQgPSBsYXp5Q29tcG9uZW50Ll9wYXlsb2FkO1xuICAgICAgICAgIHZhciBpbml0ID0gbGF6eUNvbXBvbmVudC5faW5pdDtcblxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBMYXp5IG1heSBjb250YWluIGFueSBjb21wb25lbnQgdHlwZSBzbyB3ZSByZWN1cnNpdmVseSByZXNvbHZlIGl0LlxuICAgICAgICAgICAgcmV0dXJuIGRlc2NyaWJlVW5rbm93bkVsZW1lbnRUeXBlRnJhbWVJbkRFVihpbml0KHBheWxvYWQpLCBzb3VyY2UsIG93bmVyRm4pO1xuICAgICAgICAgIH0gY2F0Y2ggKHgpIHt9XG4gICAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gJyc7XG59XG5cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG5cbnZhciBsb2dnZWRUeXBlRmFpbHVyZXMgPSB7fTtcbnZhciBSZWFjdERlYnVnQ3VycmVudEZyYW1lID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuUmVhY3REZWJ1Z0N1cnJlbnRGcmFtZTtcblxuZnVuY3Rpb24gc2V0Q3VycmVudGx5VmFsaWRhdGluZ0VsZW1lbnQoZWxlbWVudCkge1xuICB7XG4gICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgIHZhciBvd25lciA9IGVsZW1lbnQuX293bmVyO1xuICAgICAgdmFyIHN0YWNrID0gZGVzY3JpYmVVbmtub3duRWxlbWVudFR5cGVGcmFtZUluREVWKGVsZW1lbnQudHlwZSwgZWxlbWVudC5fc291cmNlLCBvd25lciA/IG93bmVyLnR5cGUgOiBudWxsKTtcbiAgICAgIFJlYWN0RGVidWdDdXJyZW50RnJhbWUuc2V0RXh0cmFTdGFja0ZyYW1lKHN0YWNrKTtcbiAgICB9IGVsc2Uge1xuICAgICAgUmVhY3REZWJ1Z0N1cnJlbnRGcmFtZS5zZXRFeHRyYVN0YWNrRnJhbWUobnVsbCk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGNoZWNrUHJvcFR5cGVzKHR5cGVTcGVjcywgdmFsdWVzLCBsb2NhdGlvbiwgY29tcG9uZW50TmFtZSwgZWxlbWVudCkge1xuICB7XG4gICAgLy8gJEZsb3dGaXhNZSBUaGlzIGlzIG9rYXkgYnV0IEZsb3cgZG9lc24ndCBrbm93IGl0LlxuICAgIHZhciBoYXMgPSBGdW5jdGlvbi5jYWxsLmJpbmQoaGFzT3duUHJvcGVydHkpO1xuXG4gICAgZm9yICh2YXIgdHlwZVNwZWNOYW1lIGluIHR5cGVTcGVjcykge1xuICAgICAgaWYgKGhhcyh0eXBlU3BlY3MsIHR5cGVTcGVjTmFtZSkpIHtcbiAgICAgICAgdmFyIGVycm9yJDEgPSB2b2lkIDA7IC8vIFByb3AgdHlwZSB2YWxpZGF0aW9uIG1heSB0aHJvdy4gSW4gY2FzZSB0aGV5IGRvLCB3ZSBkb24ndCB3YW50IHRvXG4gICAgICAgIC8vIGZhaWwgdGhlIHJlbmRlciBwaGFzZSB3aGVyZSBpdCBkaWRuJ3QgZmFpbCBiZWZvcmUuIFNvIHdlIGxvZyBpdC5cbiAgICAgICAgLy8gQWZ0ZXIgdGhlc2UgaGF2ZSBiZWVuIGNsZWFuZWQgdXAsIHdlJ2xsIGxldCB0aGVtIHRocm93LlxuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgLy8gVGhpcyBpcyBpbnRlbnRpb25hbGx5IGFuIGludmFyaWFudCB0aGF0IGdldHMgY2F1Z2h0LiBJdCdzIHRoZSBzYW1lXG4gICAgICAgICAgLy8gYmVoYXZpb3IgYXMgd2l0aG91dCB0aGlzIHN0YXRlbWVudCBleGNlcHQgd2l0aCBhIGJldHRlciBtZXNzYWdlLlxuICAgICAgICAgIGlmICh0eXBlb2YgdHlwZVNwZWNzW3R5cGVTcGVjTmFtZV0gIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1pbnRlcm5hbC9wcm9kLWVycm9yLWNvZGVzXG4gICAgICAgICAgICB2YXIgZXJyID0gRXJyb3IoKGNvbXBvbmVudE5hbWUgfHwgJ1JlYWN0IGNsYXNzJykgKyAnOiAnICsgbG9jYXRpb24gKyAnIHR5cGUgYCcgKyB0eXBlU3BlY05hbWUgKyAnYCBpcyBpbnZhbGlkOyAnICsgJ2l0IG11c3QgYmUgYSBmdW5jdGlvbiwgdXN1YWxseSBmcm9tIHRoZSBgcHJvcC10eXBlc2AgcGFja2FnZSwgYnV0IHJlY2VpdmVkIGAnICsgdHlwZW9mIHR5cGVTcGVjc1t0eXBlU3BlY05hbWVdICsgJ2AuJyArICdUaGlzIG9mdGVuIGhhcHBlbnMgYmVjYXVzZSBvZiB0eXBvcyBzdWNoIGFzIGBQcm9wVHlwZXMuZnVuY3Rpb25gIGluc3RlYWQgb2YgYFByb3BUeXBlcy5mdW5jYC4nKTtcbiAgICAgICAgICAgIGVyci5uYW1lID0gJ0ludmFyaWFudCBWaW9sYXRpb24nO1xuICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGVycm9yJDEgPSB0eXBlU3BlY3NbdHlwZVNwZWNOYW1lXSh2YWx1ZXMsIHR5cGVTcGVjTmFtZSwgY29tcG9uZW50TmFtZSwgbG9jYXRpb24sIG51bGwsICdTRUNSRVRfRE9fTk9UX1BBU1NfVEhJU19PUl9ZT1VfV0lMTF9CRV9GSVJFRCcpO1xuICAgICAgICB9IGNhdGNoIChleCkge1xuICAgICAgICAgIGVycm9yJDEgPSBleDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChlcnJvciQxICYmICEoZXJyb3IkMSBpbnN0YW5jZW9mIEVycm9yKSkge1xuICAgICAgICAgIHNldEN1cnJlbnRseVZhbGlkYXRpbmdFbGVtZW50KGVsZW1lbnQpO1xuXG4gICAgICAgICAgZXJyb3IoJyVzOiB0eXBlIHNwZWNpZmljYXRpb24gb2YgJXMnICsgJyBgJXNgIGlzIGludmFsaWQ7IHRoZSB0eXBlIGNoZWNrZXIgJyArICdmdW5jdGlvbiBtdXN0IHJldHVybiBgbnVsbGAgb3IgYW4gYEVycm9yYCBidXQgcmV0dXJuZWQgYSAlcy4gJyArICdZb3UgbWF5IGhhdmUgZm9yZ290dGVuIHRvIHBhc3MgYW4gYXJndW1lbnQgdG8gdGhlIHR5cGUgY2hlY2tlciAnICsgJ2NyZWF0b3IgKGFycmF5T2YsIGluc3RhbmNlT2YsIG9iamVjdE9mLCBvbmVPZiwgb25lT2ZUeXBlLCBhbmQgJyArICdzaGFwZSBhbGwgcmVxdWlyZSBhbiBhcmd1bWVudCkuJywgY29tcG9uZW50TmFtZSB8fCAnUmVhY3QgY2xhc3MnLCBsb2NhdGlvbiwgdHlwZVNwZWNOYW1lLCB0eXBlb2YgZXJyb3IkMSk7XG5cbiAgICAgICAgICBzZXRDdXJyZW50bHlWYWxpZGF0aW5nRWxlbWVudChudWxsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChlcnJvciQxIGluc3RhbmNlb2YgRXJyb3IgJiYgIShlcnJvciQxLm1lc3NhZ2UgaW4gbG9nZ2VkVHlwZUZhaWx1cmVzKSkge1xuICAgICAgICAgIC8vIE9ubHkgbW9uaXRvciB0aGlzIGZhaWx1cmUgb25jZSBiZWNhdXNlIHRoZXJlIHRlbmRzIHRvIGJlIGEgbG90IG9mIHRoZVxuICAgICAgICAgIC8vIHNhbWUgZXJyb3IuXG4gICAgICAgICAgbG9nZ2VkVHlwZUZhaWx1cmVzW2Vycm9yJDEubWVzc2FnZV0gPSB0cnVlO1xuICAgICAgICAgIHNldEN1cnJlbnRseVZhbGlkYXRpbmdFbGVtZW50KGVsZW1lbnQpO1xuXG4gICAgICAgICAgZXJyb3IoJ0ZhaWxlZCAlcyB0eXBlOiAlcycsIGxvY2F0aW9uLCBlcnJvciQxLm1lc3NhZ2UpO1xuXG4gICAgICAgICAgc2V0Q3VycmVudGx5VmFsaWRhdGluZ0VsZW1lbnQobnVsbCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxudmFyIGlzQXJyYXlJbXBsID0gQXJyYXkuaXNBcnJheTsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXJlZGVjbGFyZVxuXG5mdW5jdGlvbiBpc0FycmF5KGEpIHtcbiAgcmV0dXJuIGlzQXJyYXlJbXBsKGEpO1xufVxuXG4vKlxuICogVGhlIGAnJyArIHZhbHVlYCBwYXR0ZXJuICh1c2VkIGluIGluIHBlcmYtc2Vuc2l0aXZlIGNvZGUpIHRocm93cyBmb3IgU3ltYm9sXG4gKiBhbmQgVGVtcG9yYWwuKiB0eXBlcy4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9wdWxsLzIyMDY0LlxuICpcbiAqIFRoZSBmdW5jdGlvbnMgaW4gdGhpcyBtb2R1bGUgd2lsbCB0aHJvdyBhbiBlYXNpZXItdG8tdW5kZXJzdGFuZCxcbiAqIGVhc2llci10by1kZWJ1ZyBleGNlcHRpb24gd2l0aCBhIGNsZWFyIGVycm9ycyBtZXNzYWdlIG1lc3NhZ2UgZXhwbGFpbmluZyB0aGVcbiAqIHByb2JsZW0uIChJbnN0ZWFkIG9mIGEgY29uZnVzaW5nIGV4Y2VwdGlvbiB0aHJvd24gaW5zaWRlIHRoZSBpbXBsZW1lbnRhdGlvblxuICogb2YgdGhlIGB2YWx1ZWAgb2JqZWN0KS5cbiAqL1xuLy8gJEZsb3dGaXhNZSBvbmx5IGNhbGxlZCBpbiBERVYsIHNvIHZvaWQgcmV0dXJuIGlzIG5vdCBwb3NzaWJsZS5cbmZ1bmN0aW9uIHR5cGVOYW1lKHZhbHVlKSB7XG4gIHtcbiAgICAvLyB0b1N0cmluZ1RhZyBpcyBuZWVkZWQgZm9yIG5hbWVzcGFjZWQgdHlwZXMgbGlrZSBUZW1wb3JhbC5JbnN0YW50XG4gICAgdmFyIGhhc1RvU3RyaW5nVGFnID0gdHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJiBTeW1ib2wudG9TdHJpbmdUYWc7XG4gICAgdmFyIHR5cGUgPSBoYXNUb1N0cmluZ1RhZyAmJiB2YWx1ZVtTeW1ib2wudG9TdHJpbmdUYWddIHx8IHZhbHVlLmNvbnN0cnVjdG9yLm5hbWUgfHwgJ09iamVjdCc7XG4gICAgcmV0dXJuIHR5cGU7XG4gIH1cbn0gLy8gJEZsb3dGaXhNZSBvbmx5IGNhbGxlZCBpbiBERVYsIHNvIHZvaWQgcmV0dXJuIGlzIG5vdCBwb3NzaWJsZS5cblxuXG5mdW5jdGlvbiB3aWxsQ29lcmNpb25UaHJvdyh2YWx1ZSkge1xuICB7XG4gICAgdHJ5IHtcbiAgICAgIHRlc3RTdHJpbmdDb2VyY2lvbih2YWx1ZSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHRlc3RTdHJpbmdDb2VyY2lvbih2YWx1ZSkge1xuICAvLyBJZiB5b3UgZW5kZWQgdXAgaGVyZSBieSBmb2xsb3dpbmcgYW4gZXhjZXB0aW9uIGNhbGwgc3RhY2ssIGhlcmUncyB3aGF0J3NcbiAgLy8gaGFwcGVuZWQ6IHlvdSBzdXBwbGllZCBhbiBvYmplY3Qgb3Igc3ltYm9sIHZhbHVlIHRvIFJlYWN0IChhcyBhIHByb3AsIGtleSxcbiAgLy8gRE9NIGF0dHJpYnV0ZSwgQ1NTIHByb3BlcnR5LCBzdHJpbmcgcmVmLCBldGMuKSBhbmQgd2hlbiBSZWFjdCB0cmllZCB0b1xuICAvLyBjb2VyY2UgaXQgdG8gYSBzdHJpbmcgdXNpbmcgYCcnICsgdmFsdWVgLCBhbiBleGNlcHRpb24gd2FzIHRocm93bi5cbiAgLy9cbiAgLy8gVGhlIG1vc3QgY29tbW9uIHR5cGVzIHRoYXQgd2lsbCBjYXVzZSB0aGlzIGV4Y2VwdGlvbiBhcmUgYFN5bWJvbGAgaW5zdGFuY2VzXG4gIC8vIGFuZCBUZW1wb3JhbCBvYmplY3RzIGxpa2UgYFRlbXBvcmFsLkluc3RhbnRgLiBCdXQgYW55IG9iamVjdCB0aGF0IGhhcyBhXG4gIC8vIGB2YWx1ZU9mYCBvciBgW1N5bWJvbC50b1ByaW1pdGl2ZV1gIG1ldGhvZCB0aGF0IHRocm93cyB3aWxsIGFsc28gY2F1c2UgdGhpc1xuICAvLyBleGNlcHRpb24uIChMaWJyYXJ5IGF1dGhvcnMgZG8gdGhpcyB0byBwcmV2ZW50IHVzZXJzIGZyb20gdXNpbmcgYnVpbHQtaW5cbiAgLy8gbnVtZXJpYyBvcGVyYXRvcnMgbGlrZSBgK2Agb3IgY29tcGFyaXNvbiBvcGVyYXRvcnMgbGlrZSBgPj1gIGJlY2F1c2UgY3VzdG9tXG4gIC8vIG1ldGhvZHMgYXJlIG5lZWRlZCB0byBwZXJmb3JtIGFjY3VyYXRlIGFyaXRobWV0aWMgb3IgY29tcGFyaXNvbi4pXG4gIC8vXG4gIC8vIFRvIGZpeCB0aGUgcHJvYmxlbSwgY29lcmNlIHRoaXMgb2JqZWN0IG9yIHN5bWJvbCB2YWx1ZSB0byBhIHN0cmluZyBiZWZvcmVcbiAgLy8gcGFzc2luZyBpdCB0byBSZWFjdC4gVGhlIG1vc3QgcmVsaWFibGUgd2F5IGlzIHVzdWFsbHkgYFN0cmluZyh2YWx1ZSlgLlxuICAvL1xuICAvLyBUbyBmaW5kIHdoaWNoIHZhbHVlIGlzIHRocm93aW5nLCBjaGVjayB0aGUgYnJvd3NlciBvciBkZWJ1Z2dlciBjb25zb2xlLlxuICAvLyBCZWZvcmUgdGhpcyBleGNlcHRpb24gd2FzIHRocm93biwgdGhlcmUgc2hvdWxkIGJlIGBjb25zb2xlLmVycm9yYCBvdXRwdXRcbiAgLy8gdGhhdCBzaG93cyB0aGUgdHlwZSAoU3ltYm9sLCBUZW1wb3JhbC5QbGFpbkRhdGUsIGV0Yy4pIHRoYXQgY2F1c2VkIHRoZVxuICAvLyBwcm9ibGVtIGFuZCBob3cgdGhhdCB0eXBlIHdhcyB1c2VkOiBrZXksIGF0cnJpYnV0ZSwgaW5wdXQgdmFsdWUgcHJvcCwgZXRjLlxuICAvLyBJbiBtb3N0IGNhc2VzLCB0aGlzIGNvbnNvbGUgb3V0cHV0IGFsc28gc2hvd3MgdGhlIGNvbXBvbmVudCBhbmQgaXRzXG4gIC8vIGFuY2VzdG9yIGNvbXBvbmVudHMgd2hlcmUgdGhlIGV4Y2VwdGlvbiBoYXBwZW5lZC5cbiAgLy9cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWludGVybmFsL3NhZmUtc3RyaW5nLWNvZXJjaW9uXG4gIHJldHVybiAnJyArIHZhbHVlO1xufVxuZnVuY3Rpb24gY2hlY2tLZXlTdHJpbmdDb2VyY2lvbih2YWx1ZSkge1xuICB7XG4gICAgaWYgKHdpbGxDb2VyY2lvblRocm93KHZhbHVlKSkge1xuICAgICAgZXJyb3IoJ1RoZSBwcm92aWRlZCBrZXkgaXMgYW4gdW5zdXBwb3J0ZWQgdHlwZSAlcy4nICsgJyBUaGlzIHZhbHVlIG11c3QgYmUgY29lcmNlZCB0byBhIHN0cmluZyBiZWZvcmUgYmVmb3JlIHVzaW5nIGl0IGhlcmUuJywgdHlwZU5hbWUodmFsdWUpKTtcblxuICAgICAgcmV0dXJuIHRlc3RTdHJpbmdDb2VyY2lvbih2YWx1ZSk7IC8vIHRocm93ICh0byBoZWxwIGNhbGxlcnMgZmluZCB0cm91Ymxlc2hvb3RpbmcgY29tbWVudHMpXG4gICAgfVxuICB9XG59XG5cbnZhciBSZWFjdEN1cnJlbnRPd25lciA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLlJlYWN0Q3VycmVudE93bmVyO1xudmFyIFJFU0VSVkVEX1BST1BTID0ge1xuICBrZXk6IHRydWUsXG4gIHJlZjogdHJ1ZSxcbiAgX19zZWxmOiB0cnVlLFxuICBfX3NvdXJjZTogdHJ1ZVxufTtcbnZhciBzcGVjaWFsUHJvcEtleVdhcm5pbmdTaG93bjtcbnZhciBzcGVjaWFsUHJvcFJlZldhcm5pbmdTaG93bjtcbnZhciBkaWRXYXJuQWJvdXRTdHJpbmdSZWZzO1xuXG57XG4gIGRpZFdhcm5BYm91dFN0cmluZ1JlZnMgPSB7fTtcbn1cblxuZnVuY3Rpb24gaGFzVmFsaWRSZWYoY29uZmlnKSB7XG4gIHtcbiAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChjb25maWcsICdyZWYnKSkge1xuICAgICAgdmFyIGdldHRlciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoY29uZmlnLCAncmVmJykuZ2V0O1xuXG4gICAgICBpZiAoZ2V0dGVyICYmIGdldHRlci5pc1JlYWN0V2FybmluZykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGNvbmZpZy5yZWYgIT09IHVuZGVmaW5lZDtcbn1cblxuZnVuY3Rpb24gaGFzVmFsaWRLZXkoY29uZmlnKSB7XG4gIHtcbiAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChjb25maWcsICdrZXknKSkge1xuICAgICAgdmFyIGdldHRlciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoY29uZmlnLCAna2V5JykuZ2V0O1xuXG4gICAgICBpZiAoZ2V0dGVyICYmIGdldHRlci5pc1JlYWN0V2FybmluZykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGNvbmZpZy5rZXkgIT09IHVuZGVmaW5lZDtcbn1cblxuZnVuY3Rpb24gd2FybklmU3RyaW5nUmVmQ2Fubm90QmVBdXRvQ29udmVydGVkKGNvbmZpZywgc2VsZikge1xuICB7XG4gICAgaWYgKHR5cGVvZiBjb25maWcucmVmID09PSAnc3RyaW5nJyAmJiBSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50ICYmIHNlbGYgJiYgUmVhY3RDdXJyZW50T3duZXIuY3VycmVudC5zdGF0ZU5vZGUgIT09IHNlbGYpIHtcbiAgICAgIHZhciBjb21wb25lbnROYW1lID0gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKFJlYWN0Q3VycmVudE93bmVyLmN1cnJlbnQudHlwZSk7XG5cbiAgICAgIGlmICghZGlkV2FybkFib3V0U3RyaW5nUmVmc1tjb21wb25lbnROYW1lXSkge1xuICAgICAgICBlcnJvcignQ29tcG9uZW50IFwiJXNcIiBjb250YWlucyB0aGUgc3RyaW5nIHJlZiBcIiVzXCIuICcgKyAnU3VwcG9ydCBmb3Igc3RyaW5nIHJlZnMgd2lsbCBiZSByZW1vdmVkIGluIGEgZnV0dXJlIG1ham9yIHJlbGVhc2UuICcgKyAnVGhpcyBjYXNlIGNhbm5vdCBiZSBhdXRvbWF0aWNhbGx5IGNvbnZlcnRlZCB0byBhbiBhcnJvdyBmdW5jdGlvbi4gJyArICdXZSBhc2sgeW91IHRvIG1hbnVhbGx5IGZpeCB0aGlzIGNhc2UgYnkgdXNpbmcgdXNlUmVmKCkgb3IgY3JlYXRlUmVmKCkgaW5zdGVhZC4gJyArICdMZWFybiBtb3JlIGFib3V0IHVzaW5nIHJlZnMgc2FmZWx5IGhlcmU6ICcgKyAnaHR0cHM6Ly9yZWFjdGpzLm9yZy9saW5rL3N0cmljdC1tb2RlLXN0cmluZy1yZWYnLCBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUoUmVhY3RDdXJyZW50T3duZXIuY3VycmVudC50eXBlKSwgY29uZmlnLnJlZik7XG5cbiAgICAgICAgZGlkV2FybkFib3V0U3RyaW5nUmVmc1tjb21wb25lbnROYW1lXSA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGRlZmluZUtleVByb3BXYXJuaW5nR2V0dGVyKHByb3BzLCBkaXNwbGF5TmFtZSkge1xuICB7XG4gICAgdmFyIHdhcm5BYm91dEFjY2Vzc2luZ0tleSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICghc3BlY2lhbFByb3BLZXlXYXJuaW5nU2hvd24pIHtcbiAgICAgICAgc3BlY2lhbFByb3BLZXlXYXJuaW5nU2hvd24gPSB0cnVlO1xuXG4gICAgICAgIGVycm9yKCclczogYGtleWAgaXMgbm90IGEgcHJvcC4gVHJ5aW5nIHRvIGFjY2VzcyBpdCB3aWxsIHJlc3VsdCAnICsgJ2luIGB1bmRlZmluZWRgIGJlaW5nIHJldHVybmVkLiBJZiB5b3UgbmVlZCB0byBhY2Nlc3MgdGhlIHNhbWUgJyArICd2YWx1ZSB3aXRoaW4gdGhlIGNoaWxkIGNvbXBvbmVudCwgeW91IHNob3VsZCBwYXNzIGl0IGFzIGEgZGlmZmVyZW50ICcgKyAncHJvcC4gKGh0dHBzOi8vcmVhY3Rqcy5vcmcvbGluay9zcGVjaWFsLXByb3BzKScsIGRpc3BsYXlOYW1lKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgd2FybkFib3V0QWNjZXNzaW5nS2V5LmlzUmVhY3RXYXJuaW5nID0gdHJ1ZTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocHJvcHMsICdrZXknLCB7XG4gICAgICBnZXQ6IHdhcm5BYm91dEFjY2Vzc2luZ0tleSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICB9XG59XG5cbmZ1bmN0aW9uIGRlZmluZVJlZlByb3BXYXJuaW5nR2V0dGVyKHByb3BzLCBkaXNwbGF5TmFtZSkge1xuICB7XG4gICAgdmFyIHdhcm5BYm91dEFjY2Vzc2luZ1JlZiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICghc3BlY2lhbFByb3BSZWZXYXJuaW5nU2hvd24pIHtcbiAgICAgICAgc3BlY2lhbFByb3BSZWZXYXJuaW5nU2hvd24gPSB0cnVlO1xuXG4gICAgICAgIGVycm9yKCclczogYHJlZmAgaXMgbm90IGEgcHJvcC4gVHJ5aW5nIHRvIGFjY2VzcyBpdCB3aWxsIHJlc3VsdCAnICsgJ2luIGB1bmRlZmluZWRgIGJlaW5nIHJldHVybmVkLiBJZiB5b3UgbmVlZCB0byBhY2Nlc3MgdGhlIHNhbWUgJyArICd2YWx1ZSB3aXRoaW4gdGhlIGNoaWxkIGNvbXBvbmVudCwgeW91IHNob3VsZCBwYXNzIGl0IGFzIGEgZGlmZmVyZW50ICcgKyAncHJvcC4gKGh0dHBzOi8vcmVhY3Rqcy5vcmcvbGluay9zcGVjaWFsLXByb3BzKScsIGRpc3BsYXlOYW1lKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgd2FybkFib3V0QWNjZXNzaW5nUmVmLmlzUmVhY3RXYXJuaW5nID0gdHJ1ZTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocHJvcHMsICdyZWYnLCB7XG4gICAgICBnZXQ6IHdhcm5BYm91dEFjY2Vzc2luZ1JlZixcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICB9XG59XG4vKipcbiAqIEZhY3RvcnkgbWV0aG9kIHRvIGNyZWF0ZSBhIG5ldyBSZWFjdCBlbGVtZW50LiBUaGlzIG5vIGxvbmdlciBhZGhlcmVzIHRvXG4gKiB0aGUgY2xhc3MgcGF0dGVybiwgc28gZG8gbm90IHVzZSBuZXcgdG8gY2FsbCBpdC4gQWxzbywgaW5zdGFuY2VvZiBjaGVja1xuICogd2lsbCBub3Qgd29yay4gSW5zdGVhZCB0ZXN0ICQkdHlwZW9mIGZpZWxkIGFnYWluc3QgU3ltYm9sLmZvcigncmVhY3QuZWxlbWVudCcpIHRvIGNoZWNrXG4gKiBpZiBzb21ldGhpbmcgaXMgYSBSZWFjdCBFbGVtZW50LlxuICpcbiAqIEBwYXJhbSB7Kn0gdHlwZVxuICogQHBhcmFtIHsqfSBwcm9wc1xuICogQHBhcmFtIHsqfSBrZXlcbiAqIEBwYXJhbSB7c3RyaW5nfG9iamVjdH0gcmVmXG4gKiBAcGFyYW0geyp9IG93bmVyXG4gKiBAcGFyYW0geyp9IHNlbGYgQSAqdGVtcG9yYXJ5KiBoZWxwZXIgdG8gZGV0ZWN0IHBsYWNlcyB3aGVyZSBgdGhpc2AgaXNcbiAqIGRpZmZlcmVudCBmcm9tIHRoZSBgb3duZXJgIHdoZW4gUmVhY3QuY3JlYXRlRWxlbWVudCBpcyBjYWxsZWQsIHNvIHRoYXQgd2VcbiAqIGNhbiB3YXJuLiBXZSB3YW50IHRvIGdldCByaWQgb2Ygb3duZXIgYW5kIHJlcGxhY2Ugc3RyaW5nIGByZWZgcyB3aXRoIGFycm93XG4gKiBmdW5jdGlvbnMsIGFuZCBhcyBsb25nIGFzIGB0aGlzYCBhbmQgb3duZXIgYXJlIHRoZSBzYW1lLCB0aGVyZSB3aWxsIGJlIG5vXG4gKiBjaGFuZ2UgaW4gYmVoYXZpb3IuXG4gKiBAcGFyYW0geyp9IHNvdXJjZSBBbiBhbm5vdGF0aW9uIG9iamVjdCAoYWRkZWQgYnkgYSB0cmFuc3BpbGVyIG9yIG90aGVyd2lzZSlcbiAqIGluZGljYXRpbmcgZmlsZW5hbWUsIGxpbmUgbnVtYmVyLCBhbmQvb3Igb3RoZXIgaW5mb3JtYXRpb24uXG4gKiBAaW50ZXJuYWxcbiAqL1xuXG5cbnZhciBSZWFjdEVsZW1lbnQgPSBmdW5jdGlvbiAodHlwZSwga2V5LCByZWYsIHNlbGYsIHNvdXJjZSwgb3duZXIsIHByb3BzKSB7XG4gIHZhciBlbGVtZW50ID0ge1xuICAgIC8vIFRoaXMgdGFnIGFsbG93cyB1cyB0byB1bmlxdWVseSBpZGVudGlmeSB0aGlzIGFzIGEgUmVhY3QgRWxlbWVudFxuICAgICQkdHlwZW9mOiBSRUFDVF9FTEVNRU5UX1RZUEUsXG4gICAgLy8gQnVpbHQtaW4gcHJvcGVydGllcyB0aGF0IGJlbG9uZyBvbiB0aGUgZWxlbWVudFxuICAgIHR5cGU6IHR5cGUsXG4gICAga2V5OiBrZXksXG4gICAgcmVmOiByZWYsXG4gICAgcHJvcHM6IHByb3BzLFxuICAgIC8vIFJlY29yZCB0aGUgY29tcG9uZW50IHJlc3BvbnNpYmxlIGZvciBjcmVhdGluZyB0aGlzIGVsZW1lbnQuXG4gICAgX293bmVyOiBvd25lclxuICB9O1xuXG4gIHtcbiAgICAvLyBUaGUgdmFsaWRhdGlvbiBmbGFnIGlzIGN1cnJlbnRseSBtdXRhdGl2ZS4gV2UgcHV0IGl0IG9uXG4gICAgLy8gYW4gZXh0ZXJuYWwgYmFja2luZyBzdG9yZSBzbyB0aGF0IHdlIGNhbiBmcmVlemUgdGhlIHdob2xlIG9iamVjdC5cbiAgICAvLyBUaGlzIGNhbiBiZSByZXBsYWNlZCB3aXRoIGEgV2Vha01hcCBvbmNlIHRoZXkgYXJlIGltcGxlbWVudGVkIGluXG4gICAgLy8gY29tbW9ubHkgdXNlZCBkZXZlbG9wbWVudCBlbnZpcm9ubWVudHMuXG4gICAgZWxlbWVudC5fc3RvcmUgPSB7fTsgLy8gVG8gbWFrZSBjb21wYXJpbmcgUmVhY3RFbGVtZW50cyBlYXNpZXIgZm9yIHRlc3RpbmcgcHVycG9zZXMsIHdlIG1ha2VcbiAgICAvLyB0aGUgdmFsaWRhdGlvbiBmbGFnIG5vbi1lbnVtZXJhYmxlICh3aGVyZSBwb3NzaWJsZSwgd2hpY2ggc2hvdWxkXG4gICAgLy8gaW5jbHVkZSBldmVyeSBlbnZpcm9ubWVudCB3ZSBydW4gdGVzdHMgaW4pLCBzbyB0aGUgdGVzdCBmcmFtZXdvcmtcbiAgICAvLyBpZ25vcmVzIGl0LlxuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGVsZW1lbnQuX3N0b3JlLCAndmFsaWRhdGVkJywge1xuICAgICAgY29uZmlndXJhYmxlOiBmYWxzZSxcbiAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICB2YWx1ZTogZmFsc2VcbiAgICB9KTsgLy8gc2VsZiBhbmQgc291cmNlIGFyZSBERVYgb25seSBwcm9wZXJ0aWVzLlxuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGVsZW1lbnQsICdfc2VsZicsIHtcbiAgICAgIGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgIHdyaXRhYmxlOiBmYWxzZSxcbiAgICAgIHZhbHVlOiBzZWxmXG4gICAgfSk7IC8vIFR3byBlbGVtZW50cyBjcmVhdGVkIGluIHR3byBkaWZmZXJlbnQgcGxhY2VzIHNob3VsZCBiZSBjb25zaWRlcmVkXG4gICAgLy8gZXF1YWwgZm9yIHRlc3RpbmcgcHVycG9zZXMgYW5kIHRoZXJlZm9yZSB3ZSBoaWRlIGl0IGZyb20gZW51bWVyYXRpb24uXG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZWxlbWVudCwgJ19zb3VyY2UnLCB7XG4gICAgICBjb25maWd1cmFibGU6IGZhbHNlLFxuICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICB3cml0YWJsZTogZmFsc2UsXG4gICAgICB2YWx1ZTogc291cmNlXG4gICAgfSk7XG5cbiAgICBpZiAoT2JqZWN0LmZyZWV6ZSkge1xuICAgICAgT2JqZWN0LmZyZWV6ZShlbGVtZW50LnByb3BzKTtcbiAgICAgIE9iamVjdC5mcmVlemUoZWxlbWVudCk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGVsZW1lbnQ7XG59O1xuLyoqXG4gKiBodHRwczovL2dpdGh1Yi5jb20vcmVhY3Rqcy9yZmNzL3B1bGwvMTA3XG4gKiBAcGFyYW0geyp9IHR5cGVcbiAqIEBwYXJhbSB7b2JqZWN0fSBwcm9wc1xuICogQHBhcmFtIHtzdHJpbmd9IGtleVxuICovXG5cbmZ1bmN0aW9uIGpzeERFVih0eXBlLCBjb25maWcsIG1heWJlS2V5LCBzb3VyY2UsIHNlbGYpIHtcbiAge1xuICAgIHZhciBwcm9wTmFtZTsgLy8gUmVzZXJ2ZWQgbmFtZXMgYXJlIGV4dHJhY3RlZFxuXG4gICAgdmFyIHByb3BzID0ge307XG4gICAgdmFyIGtleSA9IG51bGw7XG4gICAgdmFyIHJlZiA9IG51bGw7IC8vIEN1cnJlbnRseSwga2V5IGNhbiBiZSBzcHJlYWQgaW4gYXMgYSBwcm9wLiBUaGlzIGNhdXNlcyBhIHBvdGVudGlhbFxuICAgIC8vIGlzc3VlIGlmIGtleSBpcyBhbHNvIGV4cGxpY2l0bHkgZGVjbGFyZWQgKGllLiA8ZGl2IHsuLi5wcm9wc30ga2V5PVwiSGlcIiAvPlxuICAgIC8vIG9yIDxkaXYga2V5PVwiSGlcIiB7Li4ucHJvcHN9IC8+ICkuIFdlIHdhbnQgdG8gZGVwcmVjYXRlIGtleSBzcHJlYWQsXG4gICAgLy8gYnV0IGFzIGFuIGludGVybWVkaWFyeSBzdGVwLCB3ZSB3aWxsIHVzZSBqc3hERVYgZm9yIGV2ZXJ5dGhpbmcgZXhjZXB0XG4gICAgLy8gPGRpdiB7Li4ucHJvcHN9IGtleT1cIkhpXCIgLz4sIGJlY2F1c2Ugd2UgYXJlbid0IGN1cnJlbnRseSBhYmxlIHRvIHRlbGwgaWZcbiAgICAvLyBrZXkgaXMgZXhwbGljaXRseSBkZWNsYXJlZCB0byBiZSB1bmRlZmluZWQgb3Igbm90LlxuXG4gICAgaWYgKG1heWJlS2V5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHtcbiAgICAgICAgY2hlY2tLZXlTdHJpbmdDb2VyY2lvbihtYXliZUtleSk7XG4gICAgICB9XG5cbiAgICAgIGtleSA9ICcnICsgbWF5YmVLZXk7XG4gICAgfVxuXG4gICAgaWYgKGhhc1ZhbGlkS2V5KGNvbmZpZykpIHtcbiAgICAgIHtcbiAgICAgICAgY2hlY2tLZXlTdHJpbmdDb2VyY2lvbihjb25maWcua2V5KTtcbiAgICAgIH1cblxuICAgICAga2V5ID0gJycgKyBjb25maWcua2V5O1xuICAgIH1cblxuICAgIGlmIChoYXNWYWxpZFJlZihjb25maWcpKSB7XG4gICAgICByZWYgPSBjb25maWcucmVmO1xuICAgICAgd2FybklmU3RyaW5nUmVmQ2Fubm90QmVBdXRvQ29udmVydGVkKGNvbmZpZywgc2VsZik7XG4gICAgfSAvLyBSZW1haW5pbmcgcHJvcGVydGllcyBhcmUgYWRkZWQgdG8gYSBuZXcgcHJvcHMgb2JqZWN0XG5cblxuICAgIGZvciAocHJvcE5hbWUgaW4gY29uZmlnKSB7XG4gICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChjb25maWcsIHByb3BOYW1lKSAmJiAhUkVTRVJWRURfUFJPUFMuaGFzT3duUHJvcGVydHkocHJvcE5hbWUpKSB7XG4gICAgICAgIHByb3BzW3Byb3BOYW1lXSA9IGNvbmZpZ1twcm9wTmFtZV07XG4gICAgICB9XG4gICAgfSAvLyBSZXNvbHZlIGRlZmF1bHQgcHJvcHNcblxuXG4gICAgaWYgKHR5cGUgJiYgdHlwZS5kZWZhdWx0UHJvcHMpIHtcbiAgICAgIHZhciBkZWZhdWx0UHJvcHMgPSB0eXBlLmRlZmF1bHRQcm9wcztcblxuICAgICAgZm9yIChwcm9wTmFtZSBpbiBkZWZhdWx0UHJvcHMpIHtcbiAgICAgICAgaWYgKHByb3BzW3Byb3BOYW1lXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgcHJvcHNbcHJvcE5hbWVdID0gZGVmYXVsdFByb3BzW3Byb3BOYW1lXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChrZXkgfHwgcmVmKSB7XG4gICAgICB2YXIgZGlzcGxheU5hbWUgPSB0eXBlb2YgdHlwZSA9PT0gJ2Z1bmN0aW9uJyA/IHR5cGUuZGlzcGxheU5hbWUgfHwgdHlwZS5uYW1lIHx8ICdVbmtub3duJyA6IHR5cGU7XG5cbiAgICAgIGlmIChrZXkpIHtcbiAgICAgICAgZGVmaW5lS2V5UHJvcFdhcm5pbmdHZXR0ZXIocHJvcHMsIGRpc3BsYXlOYW1lKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHJlZikge1xuICAgICAgICBkZWZpbmVSZWZQcm9wV2FybmluZ0dldHRlcihwcm9wcywgZGlzcGxheU5hbWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBSZWFjdEVsZW1lbnQodHlwZSwga2V5LCByZWYsIHNlbGYsIHNvdXJjZSwgUmVhY3RDdXJyZW50T3duZXIuY3VycmVudCwgcHJvcHMpO1xuICB9XG59XG5cbnZhciBSZWFjdEN1cnJlbnRPd25lciQxID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuUmVhY3RDdXJyZW50T3duZXI7XG52YXIgUmVhY3REZWJ1Z0N1cnJlbnRGcmFtZSQxID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuUmVhY3REZWJ1Z0N1cnJlbnRGcmFtZTtcblxuZnVuY3Rpb24gc2V0Q3VycmVudGx5VmFsaWRhdGluZ0VsZW1lbnQkMShlbGVtZW50KSB7XG4gIHtcbiAgICBpZiAoZWxlbWVudCkge1xuICAgICAgdmFyIG93bmVyID0gZWxlbWVudC5fb3duZXI7XG4gICAgICB2YXIgc3RhY2sgPSBkZXNjcmliZVVua25vd25FbGVtZW50VHlwZUZyYW1lSW5ERVYoZWxlbWVudC50eXBlLCBlbGVtZW50Ll9zb3VyY2UsIG93bmVyID8gb3duZXIudHlwZSA6IG51bGwpO1xuICAgICAgUmVhY3REZWJ1Z0N1cnJlbnRGcmFtZSQxLnNldEV4dHJhU3RhY2tGcmFtZShzdGFjayk7XG4gICAgfSBlbHNlIHtcbiAgICAgIFJlYWN0RGVidWdDdXJyZW50RnJhbWUkMS5zZXRFeHRyYVN0YWNrRnJhbWUobnVsbCk7XG4gICAgfVxuICB9XG59XG5cbnZhciBwcm9wVHlwZXNNaXNzcGVsbFdhcm5pbmdTaG93bjtcblxue1xuICBwcm9wVHlwZXNNaXNzcGVsbFdhcm5pbmdTaG93biA9IGZhbHNlO1xufVxuLyoqXG4gKiBWZXJpZmllcyB0aGUgb2JqZWN0IGlzIGEgUmVhY3RFbGVtZW50LlxuICogU2VlIGh0dHBzOi8vcmVhY3Rqcy5vcmcvZG9jcy9yZWFjdC1hcGkuaHRtbCNpc3ZhbGlkZWxlbWVudFxuICogQHBhcmFtIHs/b2JqZWN0fSBvYmplY3RcbiAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgYG9iamVjdGAgaXMgYSBSZWFjdEVsZW1lbnQuXG4gKiBAZmluYWxcbiAqL1xuXG5cbmZ1bmN0aW9uIGlzVmFsaWRFbGVtZW50KG9iamVjdCkge1xuICB7XG4gICAgcmV0dXJuIHR5cGVvZiBvYmplY3QgPT09ICdvYmplY3QnICYmIG9iamVjdCAhPT0gbnVsbCAmJiBvYmplY3QuJCR0eXBlb2YgPT09IFJFQUNUX0VMRU1FTlRfVFlQRTtcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXREZWNsYXJhdGlvbkVycm9yQWRkZW5kdW0oKSB7XG4gIHtcbiAgICBpZiAoUmVhY3RDdXJyZW50T3duZXIkMS5jdXJyZW50KSB7XG4gICAgICB2YXIgbmFtZSA9IGdldENvbXBvbmVudE5hbWVGcm9tVHlwZShSZWFjdEN1cnJlbnRPd25lciQxLmN1cnJlbnQudHlwZSk7XG5cbiAgICAgIGlmIChuYW1lKSB7XG4gICAgICAgIHJldHVybiAnXFxuXFxuQ2hlY2sgdGhlIHJlbmRlciBtZXRob2Qgb2YgYCcgKyBuYW1lICsgJ2AuJztcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gJyc7XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0U291cmNlSW5mb0Vycm9yQWRkZW5kdW0oc291cmNlKSB7XG4gIHtcbiAgICBpZiAoc291cmNlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHZhciBmaWxlTmFtZSA9IHNvdXJjZS5maWxlTmFtZS5yZXBsYWNlKC9eLipbXFxcXFxcL10vLCAnJyk7XG4gICAgICB2YXIgbGluZU51bWJlciA9IHNvdXJjZS5saW5lTnVtYmVyO1xuICAgICAgcmV0dXJuICdcXG5cXG5DaGVjayB5b3VyIGNvZGUgYXQgJyArIGZpbGVOYW1lICsgJzonICsgbGluZU51bWJlciArICcuJztcbiAgICB9XG5cbiAgICByZXR1cm4gJyc7XG4gIH1cbn1cbi8qKlxuICogV2FybiBpZiB0aGVyZSdzIG5vIGtleSBleHBsaWNpdGx5IHNldCBvbiBkeW5hbWljIGFycmF5cyBvZiBjaGlsZHJlbiBvclxuICogb2JqZWN0IGtleXMgYXJlIG5vdCB2YWxpZC4gVGhpcyBhbGxvd3MgdXMgdG8ga2VlcCB0cmFjayBvZiBjaGlsZHJlbiBiZXR3ZWVuXG4gKiB1cGRhdGVzLlxuICovXG5cblxudmFyIG93bmVySGFzS2V5VXNlV2FybmluZyA9IHt9O1xuXG5mdW5jdGlvbiBnZXRDdXJyZW50Q29tcG9uZW50RXJyb3JJbmZvKHBhcmVudFR5cGUpIHtcbiAge1xuICAgIHZhciBpbmZvID0gZ2V0RGVjbGFyYXRpb25FcnJvckFkZGVuZHVtKCk7XG5cbiAgICBpZiAoIWluZm8pIHtcbiAgICAgIHZhciBwYXJlbnROYW1lID0gdHlwZW9mIHBhcmVudFR5cGUgPT09ICdzdHJpbmcnID8gcGFyZW50VHlwZSA6IHBhcmVudFR5cGUuZGlzcGxheU5hbWUgfHwgcGFyZW50VHlwZS5uYW1lO1xuXG4gICAgICBpZiAocGFyZW50TmFtZSkge1xuICAgICAgICBpbmZvID0gXCJcXG5cXG5DaGVjayB0aGUgdG9wLWxldmVsIHJlbmRlciBjYWxsIHVzaW5nIDxcIiArIHBhcmVudE5hbWUgKyBcIj4uXCI7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGluZm87XG4gIH1cbn1cbi8qKlxuICogV2FybiBpZiB0aGUgZWxlbWVudCBkb2Vzbid0IGhhdmUgYW4gZXhwbGljaXQga2V5IGFzc2lnbmVkIHRvIGl0LlxuICogVGhpcyBlbGVtZW50IGlzIGluIGFuIGFycmF5LiBUaGUgYXJyYXkgY291bGQgZ3JvdyBhbmQgc2hyaW5rIG9yIGJlXG4gKiByZW9yZGVyZWQuIEFsbCBjaGlsZHJlbiB0aGF0IGhhdmVuJ3QgYWxyZWFkeSBiZWVuIHZhbGlkYXRlZCBhcmUgcmVxdWlyZWQgdG9cbiAqIGhhdmUgYSBcImtleVwiIHByb3BlcnR5IGFzc2lnbmVkIHRvIGl0LiBFcnJvciBzdGF0dXNlcyBhcmUgY2FjaGVkIHNvIGEgd2FybmluZ1xuICogd2lsbCBvbmx5IGJlIHNob3duIG9uY2UuXG4gKlxuICogQGludGVybmFsXG4gKiBAcGFyYW0ge1JlYWN0RWxlbWVudH0gZWxlbWVudCBFbGVtZW50IHRoYXQgcmVxdWlyZXMgYSBrZXkuXG4gKiBAcGFyYW0geyp9IHBhcmVudFR5cGUgZWxlbWVudCdzIHBhcmVudCdzIHR5cGUuXG4gKi9cblxuXG5mdW5jdGlvbiB2YWxpZGF0ZUV4cGxpY2l0S2V5KGVsZW1lbnQsIHBhcmVudFR5cGUpIHtcbiAge1xuICAgIGlmICghZWxlbWVudC5fc3RvcmUgfHwgZWxlbWVudC5fc3RvcmUudmFsaWRhdGVkIHx8IGVsZW1lbnQua2V5ICE9IG51bGwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBlbGVtZW50Ll9zdG9yZS52YWxpZGF0ZWQgPSB0cnVlO1xuICAgIHZhciBjdXJyZW50Q29tcG9uZW50RXJyb3JJbmZvID0gZ2V0Q3VycmVudENvbXBvbmVudEVycm9ySW5mbyhwYXJlbnRUeXBlKTtcblxuICAgIGlmIChvd25lckhhc0tleVVzZVdhcm5pbmdbY3VycmVudENvbXBvbmVudEVycm9ySW5mb10pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBvd25lckhhc0tleVVzZVdhcm5pbmdbY3VycmVudENvbXBvbmVudEVycm9ySW5mb10gPSB0cnVlOyAvLyBVc3VhbGx5IHRoZSBjdXJyZW50IG93bmVyIGlzIHRoZSBvZmZlbmRlciwgYnV0IGlmIGl0IGFjY2VwdHMgY2hpbGRyZW4gYXMgYVxuICAgIC8vIHByb3BlcnR5LCBpdCBtYXkgYmUgdGhlIGNyZWF0b3Igb2YgdGhlIGNoaWxkIHRoYXQncyByZXNwb25zaWJsZSBmb3JcbiAgICAvLyBhc3NpZ25pbmcgaXQgYSBrZXkuXG5cbiAgICB2YXIgY2hpbGRPd25lciA9ICcnO1xuXG4gICAgaWYgKGVsZW1lbnQgJiYgZWxlbWVudC5fb3duZXIgJiYgZWxlbWVudC5fb3duZXIgIT09IFJlYWN0Q3VycmVudE93bmVyJDEuY3VycmVudCkge1xuICAgICAgLy8gR2l2ZSB0aGUgY29tcG9uZW50IHRoYXQgb3JpZ2luYWxseSBjcmVhdGVkIHRoaXMgY2hpbGQuXG4gICAgICBjaGlsZE93bmVyID0gXCIgSXQgd2FzIHBhc3NlZCBhIGNoaWxkIGZyb20gXCIgKyBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUoZWxlbWVudC5fb3duZXIudHlwZSkgKyBcIi5cIjtcbiAgICB9XG5cbiAgICBzZXRDdXJyZW50bHlWYWxpZGF0aW5nRWxlbWVudCQxKGVsZW1lbnQpO1xuXG4gICAgZXJyb3IoJ0VhY2ggY2hpbGQgaW4gYSBsaXN0IHNob3VsZCBoYXZlIGEgdW5pcXVlIFwia2V5XCIgcHJvcC4nICsgJyVzJXMgU2VlIGh0dHBzOi8vcmVhY3Rqcy5vcmcvbGluay93YXJuaW5nLWtleXMgZm9yIG1vcmUgaW5mb3JtYXRpb24uJywgY3VycmVudENvbXBvbmVudEVycm9ySW5mbywgY2hpbGRPd25lcik7XG5cbiAgICBzZXRDdXJyZW50bHlWYWxpZGF0aW5nRWxlbWVudCQxKG51bGwpO1xuICB9XG59XG4vKipcbiAqIEVuc3VyZSB0aGF0IGV2ZXJ5IGVsZW1lbnQgZWl0aGVyIGlzIHBhc3NlZCBpbiBhIHN0YXRpYyBsb2NhdGlvbiwgaW4gYW5cbiAqIGFycmF5IHdpdGggYW4gZXhwbGljaXQga2V5cyBwcm9wZXJ0eSBkZWZpbmVkLCBvciBpbiBhbiBvYmplY3QgbGl0ZXJhbFxuICogd2l0aCB2YWxpZCBrZXkgcHJvcGVydHkuXG4gKlxuICogQGludGVybmFsXG4gKiBAcGFyYW0ge1JlYWN0Tm9kZX0gbm9kZSBTdGF0aWNhbGx5IHBhc3NlZCBjaGlsZCBvZiBhbnkgdHlwZS5cbiAqIEBwYXJhbSB7Kn0gcGFyZW50VHlwZSBub2RlJ3MgcGFyZW50J3MgdHlwZS5cbiAqL1xuXG5cbmZ1bmN0aW9uIHZhbGlkYXRlQ2hpbGRLZXlzKG5vZGUsIHBhcmVudFR5cGUpIHtcbiAge1xuICAgIGlmICh0eXBlb2Ygbm9kZSAhPT0gJ29iamVjdCcpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoaXNBcnJheShub2RlKSkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub2RlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBjaGlsZCA9IG5vZGVbaV07XG5cbiAgICAgICAgaWYgKGlzVmFsaWRFbGVtZW50KGNoaWxkKSkge1xuICAgICAgICAgIHZhbGlkYXRlRXhwbGljaXRLZXkoY2hpbGQsIHBhcmVudFR5cGUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChpc1ZhbGlkRWxlbWVudChub2RlKSkge1xuICAgICAgLy8gVGhpcyBlbGVtZW50IHdhcyBwYXNzZWQgaW4gYSB2YWxpZCBsb2NhdGlvbi5cbiAgICAgIGlmIChub2RlLl9zdG9yZSkge1xuICAgICAgICBub2RlLl9zdG9yZS52YWxpZGF0ZWQgPSB0cnVlO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAobm9kZSkge1xuICAgICAgdmFyIGl0ZXJhdG9yRm4gPSBnZXRJdGVyYXRvckZuKG5vZGUpO1xuXG4gICAgICBpZiAodHlwZW9mIGl0ZXJhdG9yRm4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgLy8gRW50cnkgaXRlcmF0b3JzIHVzZWQgdG8gcHJvdmlkZSBpbXBsaWNpdCBrZXlzLFxuICAgICAgICAvLyBidXQgbm93IHdlIHByaW50IGEgc2VwYXJhdGUgd2FybmluZyBmb3IgdGhlbSBsYXRlci5cbiAgICAgICAgaWYgKGl0ZXJhdG9yRm4gIT09IG5vZGUuZW50cmllcykge1xuICAgICAgICAgIHZhciBpdGVyYXRvciA9IGl0ZXJhdG9yRm4uY2FsbChub2RlKTtcbiAgICAgICAgICB2YXIgc3RlcDtcblxuICAgICAgICAgIHdoaWxlICghKHN0ZXAgPSBpdGVyYXRvci5uZXh0KCkpLmRvbmUpIHtcbiAgICAgICAgICAgIGlmIChpc1ZhbGlkRWxlbWVudChzdGVwLnZhbHVlKSkge1xuICAgICAgICAgICAgICB2YWxpZGF0ZUV4cGxpY2l0S2V5KHN0ZXAudmFsdWUsIHBhcmVudFR5cGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuLyoqXG4gKiBHaXZlbiBhbiBlbGVtZW50LCB2YWxpZGF0ZSB0aGF0IGl0cyBwcm9wcyBmb2xsb3cgdGhlIHByb3BUeXBlcyBkZWZpbml0aW9uLFxuICogcHJvdmlkZWQgYnkgdGhlIHR5cGUuXG4gKlxuICogQHBhcmFtIHtSZWFjdEVsZW1lbnR9IGVsZW1lbnRcbiAqL1xuXG5cbmZ1bmN0aW9uIHZhbGlkYXRlUHJvcFR5cGVzKGVsZW1lbnQpIHtcbiAge1xuICAgIHZhciB0eXBlID0gZWxlbWVudC50eXBlO1xuXG4gICAgaWYgKHR5cGUgPT09IG51bGwgfHwgdHlwZSA9PT0gdW5kZWZpbmVkIHx8IHR5cGVvZiB0eXBlID09PSAnc3RyaW5nJykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBwcm9wVHlwZXM7XG5cbiAgICBpZiAodHlwZW9mIHR5cGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHByb3BUeXBlcyA9IHR5cGUucHJvcFR5cGVzO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIHR5cGUgPT09ICdvYmplY3QnICYmICh0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFIHx8IC8vIE5vdGU6IE1lbW8gb25seSBjaGVja3Mgb3V0ZXIgcHJvcHMgaGVyZS5cbiAgICAvLyBJbm5lciBwcm9wcyBhcmUgY2hlY2tlZCBpbiB0aGUgcmVjb25jaWxlci5cbiAgICB0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9NRU1PX1RZUEUpKSB7XG4gICAgICBwcm9wVHlwZXMgPSB0eXBlLnByb3BUeXBlcztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChwcm9wVHlwZXMpIHtcbiAgICAgIC8vIEludGVudGlvbmFsbHkgaW5zaWRlIHRvIGF2b2lkIHRyaWdnZXJpbmcgbGF6eSBpbml0aWFsaXplcnM6XG4gICAgICB2YXIgbmFtZSA9IGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSh0eXBlKTtcbiAgICAgIGNoZWNrUHJvcFR5cGVzKHByb3BUeXBlcywgZWxlbWVudC5wcm9wcywgJ3Byb3AnLCBuYW1lLCBlbGVtZW50KTtcbiAgICB9IGVsc2UgaWYgKHR5cGUuUHJvcFR5cGVzICE9PSB1bmRlZmluZWQgJiYgIXByb3BUeXBlc01pc3NwZWxsV2FybmluZ1Nob3duKSB7XG4gICAgICBwcm9wVHlwZXNNaXNzcGVsbFdhcm5pbmdTaG93biA9IHRydWU7IC8vIEludGVudGlvbmFsbHkgaW5zaWRlIHRvIGF2b2lkIHRyaWdnZXJpbmcgbGF6eSBpbml0aWFsaXplcnM6XG5cbiAgICAgIHZhciBfbmFtZSA9IGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSh0eXBlKTtcblxuICAgICAgZXJyb3IoJ0NvbXBvbmVudCAlcyBkZWNsYXJlZCBgUHJvcFR5cGVzYCBpbnN0ZWFkIG9mIGBwcm9wVHlwZXNgLiBEaWQgeW91IG1pc3NwZWxsIHRoZSBwcm9wZXJ0eSBhc3NpZ25tZW50PycsIF9uYW1lIHx8ICdVbmtub3duJyk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiB0eXBlLmdldERlZmF1bHRQcm9wcyA9PT0gJ2Z1bmN0aW9uJyAmJiAhdHlwZS5nZXREZWZhdWx0UHJvcHMuaXNSZWFjdENsYXNzQXBwcm92ZWQpIHtcbiAgICAgIGVycm9yKCdnZXREZWZhdWx0UHJvcHMgaXMgb25seSB1c2VkIG9uIGNsYXNzaWMgUmVhY3QuY3JlYXRlQ2xhc3MgJyArICdkZWZpbml0aW9ucy4gVXNlIGEgc3RhdGljIHByb3BlcnR5IG5hbWVkIGBkZWZhdWx0UHJvcHNgIGluc3RlYWQuJyk7XG4gICAgfVxuICB9XG59XG4vKipcbiAqIEdpdmVuIGEgZnJhZ21lbnQsIHZhbGlkYXRlIHRoYXQgaXQgY2FuIG9ubHkgYmUgcHJvdmlkZWQgd2l0aCBmcmFnbWVudCBwcm9wc1xuICogQHBhcmFtIHtSZWFjdEVsZW1lbnR9IGZyYWdtZW50XG4gKi9cblxuXG5mdW5jdGlvbiB2YWxpZGF0ZUZyYWdtZW50UHJvcHMoZnJhZ21lbnQpIHtcbiAge1xuICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMoZnJhZ21lbnQucHJvcHMpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIga2V5ID0ga2V5c1tpXTtcblxuICAgICAgaWYgKGtleSAhPT0gJ2NoaWxkcmVuJyAmJiBrZXkgIT09ICdrZXknKSB7XG4gICAgICAgIHNldEN1cnJlbnRseVZhbGlkYXRpbmdFbGVtZW50JDEoZnJhZ21lbnQpO1xuXG4gICAgICAgIGVycm9yKCdJbnZhbGlkIHByb3AgYCVzYCBzdXBwbGllZCB0byBgUmVhY3QuRnJhZ21lbnRgLiAnICsgJ1JlYWN0LkZyYWdtZW50IGNhbiBvbmx5IGhhdmUgYGtleWAgYW5kIGBjaGlsZHJlbmAgcHJvcHMuJywga2V5KTtcblxuICAgICAgICBzZXRDdXJyZW50bHlWYWxpZGF0aW5nRWxlbWVudCQxKG51bGwpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoZnJhZ21lbnQucmVmICE9PSBudWxsKSB7XG4gICAgICBzZXRDdXJyZW50bHlWYWxpZGF0aW5nRWxlbWVudCQxKGZyYWdtZW50KTtcblxuICAgICAgZXJyb3IoJ0ludmFsaWQgYXR0cmlidXRlIGByZWZgIHN1cHBsaWVkIHRvIGBSZWFjdC5GcmFnbWVudGAuJyk7XG5cbiAgICAgIHNldEN1cnJlbnRseVZhbGlkYXRpbmdFbGVtZW50JDEobnVsbCk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGpzeFdpdGhWYWxpZGF0aW9uKHR5cGUsIHByb3BzLCBrZXksIGlzU3RhdGljQ2hpbGRyZW4sIHNvdXJjZSwgc2VsZikge1xuICB7XG4gICAgdmFyIHZhbGlkVHlwZSA9IGlzVmFsaWRFbGVtZW50VHlwZSh0eXBlKTsgLy8gV2Ugd2FybiBpbiB0aGlzIGNhc2UgYnV0IGRvbid0IHRocm93LiBXZSBleHBlY3QgdGhlIGVsZW1lbnQgY3JlYXRpb24gdG9cbiAgICAvLyBzdWNjZWVkIGFuZCB0aGVyZSB3aWxsIGxpa2VseSBiZSBlcnJvcnMgaW4gcmVuZGVyLlxuXG4gICAgaWYgKCF2YWxpZFR5cGUpIHtcbiAgICAgIHZhciBpbmZvID0gJyc7XG5cbiAgICAgIGlmICh0eXBlID09PSB1bmRlZmluZWQgfHwgdHlwZW9mIHR5cGUgPT09ICdvYmplY3QnICYmIHR5cGUgIT09IG51bGwgJiYgT2JqZWN0LmtleXModHlwZSkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGluZm8gKz0gJyBZb3UgbGlrZWx5IGZvcmdvdCB0byBleHBvcnQgeW91ciBjb21wb25lbnQgZnJvbSB0aGUgZmlsZSAnICsgXCJpdCdzIGRlZmluZWQgaW4sIG9yIHlvdSBtaWdodCBoYXZlIG1peGVkIHVwIGRlZmF1bHQgYW5kIG5hbWVkIGltcG9ydHMuXCI7XG4gICAgICB9XG5cbiAgICAgIHZhciBzb3VyY2VJbmZvID0gZ2V0U291cmNlSW5mb0Vycm9yQWRkZW5kdW0oc291cmNlKTtcblxuICAgICAgaWYgKHNvdXJjZUluZm8pIHtcbiAgICAgICAgaW5mbyArPSBzb3VyY2VJbmZvO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaW5mbyArPSBnZXREZWNsYXJhdGlvbkVycm9yQWRkZW5kdW0oKTtcbiAgICAgIH1cblxuICAgICAgdmFyIHR5cGVTdHJpbmc7XG5cbiAgICAgIGlmICh0eXBlID09PSBudWxsKSB7XG4gICAgICAgIHR5cGVTdHJpbmcgPSAnbnVsbCc7XG4gICAgICB9IGVsc2UgaWYgKGlzQXJyYXkodHlwZSkpIHtcbiAgICAgICAgdHlwZVN0cmluZyA9ICdhcnJheSc7XG4gICAgICB9IGVsc2UgaWYgKHR5cGUgIT09IHVuZGVmaW5lZCAmJiB0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9FTEVNRU5UX1RZUEUpIHtcbiAgICAgICAgdHlwZVN0cmluZyA9IFwiPFwiICsgKGdldENvbXBvbmVudE5hbWVGcm9tVHlwZSh0eXBlLnR5cGUpIHx8ICdVbmtub3duJykgKyBcIiAvPlwiO1xuICAgICAgICBpbmZvID0gJyBEaWQgeW91IGFjY2lkZW50YWxseSBleHBvcnQgYSBKU1ggbGl0ZXJhbCBpbnN0ZWFkIG9mIGEgY29tcG9uZW50Pyc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0eXBlU3RyaW5nID0gdHlwZW9mIHR5cGU7XG4gICAgICB9XG5cbiAgICAgIGVycm9yKCdSZWFjdC5qc3g6IHR5cGUgaXMgaW52YWxpZCAtLSBleHBlY3RlZCBhIHN0cmluZyAoZm9yICcgKyAnYnVpbHQtaW4gY29tcG9uZW50cykgb3IgYSBjbGFzcy9mdW5jdGlvbiAoZm9yIGNvbXBvc2l0ZSAnICsgJ2NvbXBvbmVudHMpIGJ1dCBnb3Q6ICVzLiVzJywgdHlwZVN0cmluZywgaW5mbyk7XG4gICAgfVxuXG4gICAgdmFyIGVsZW1lbnQgPSBqc3hERVYodHlwZSwgcHJvcHMsIGtleSwgc291cmNlLCBzZWxmKTsgLy8gVGhlIHJlc3VsdCBjYW4gYmUgbnVsbGlzaCBpZiBhIG1vY2sgb3IgYSBjdXN0b20gZnVuY3Rpb24gaXMgdXNlZC5cbiAgICAvLyBUT0RPOiBEcm9wIHRoaXMgd2hlbiB0aGVzZSBhcmUgbm8gbG9uZ2VyIGFsbG93ZWQgYXMgdGhlIHR5cGUgYXJndW1lbnQuXG5cbiAgICBpZiAoZWxlbWVudCA9PSBudWxsKSB7XG4gICAgICByZXR1cm4gZWxlbWVudDtcbiAgICB9IC8vIFNraXAga2V5IHdhcm5pbmcgaWYgdGhlIHR5cGUgaXNuJ3QgdmFsaWQgc2luY2Ugb3VyIGtleSB2YWxpZGF0aW9uIGxvZ2ljXG4gICAgLy8gZG9lc24ndCBleHBlY3QgYSBub24tc3RyaW5nL2Z1bmN0aW9uIHR5cGUgYW5kIGNhbiB0aHJvdyBjb25mdXNpbmcgZXJyb3JzLlxuICAgIC8vIFdlIGRvbid0IHdhbnQgZXhjZXB0aW9uIGJlaGF2aW9yIHRvIGRpZmZlciBiZXR3ZWVuIGRldiBhbmQgcHJvZC5cbiAgICAvLyAoUmVuZGVyaW5nIHdpbGwgdGhyb3cgd2l0aCBhIGhlbHBmdWwgbWVzc2FnZSBhbmQgYXMgc29vbiBhcyB0aGUgdHlwZSBpc1xuICAgIC8vIGZpeGVkLCB0aGUga2V5IHdhcm5pbmdzIHdpbGwgYXBwZWFyLilcblxuXG4gICAgaWYgKHZhbGlkVHlwZSkge1xuICAgICAgdmFyIGNoaWxkcmVuID0gcHJvcHMuY2hpbGRyZW47XG5cbiAgICAgIGlmIChjaGlsZHJlbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGlmIChpc1N0YXRpY0NoaWxkcmVuKSB7XG4gICAgICAgICAgaWYgKGlzQXJyYXkoY2hpbGRyZW4pKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgIHZhbGlkYXRlQ2hpbGRLZXlzKGNoaWxkcmVuW2ldLCB0eXBlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKE9iamVjdC5mcmVlemUpIHtcbiAgICAgICAgICAgICAgT2JqZWN0LmZyZWV6ZShjaGlsZHJlbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGVycm9yKCdSZWFjdC5qc3g6IFN0YXRpYyBjaGlsZHJlbiBzaG91bGQgYWx3YXlzIGJlIGFuIGFycmF5LiAnICsgJ1lvdSBhcmUgbGlrZWx5IGV4cGxpY2l0bHkgY2FsbGluZyBSZWFjdC5qc3hzIG9yIFJlYWN0LmpzeERFVi4gJyArICdVc2UgdGhlIEJhYmVsIHRyYW5zZm9ybSBpbnN0ZWFkLicpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YWxpZGF0ZUNoaWxkS2V5cyhjaGlsZHJlbiwgdHlwZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodHlwZSA9PT0gUkVBQ1RfRlJBR01FTlRfVFlQRSkge1xuICAgICAgdmFsaWRhdGVGcmFnbWVudFByb3BzKGVsZW1lbnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YWxpZGF0ZVByb3BUeXBlcyhlbGVtZW50KTtcbiAgICB9XG5cbiAgICByZXR1cm4gZWxlbWVudDtcbiAgfVxufSAvLyBUaGVzZSB0d28gZnVuY3Rpb25zIGV4aXN0IHRvIHN0aWxsIGdldCBjaGlsZCB3YXJuaW5ncyBpbiBkZXZcbi8vIGV2ZW4gd2l0aCB0aGUgcHJvZCB0cmFuc2Zvcm0uIFRoaXMgbWVhbnMgdGhhdCBqc3hERVYgaXMgcHVyZWx5XG4vLyBvcHQtaW4gYmVoYXZpb3IgZm9yIGJldHRlciBtZXNzYWdlcyBidXQgdGhhdCB3ZSB3b24ndCBzdG9wXG4vLyBnaXZpbmcgeW91IHdhcm5pbmdzIGlmIHlvdSB1c2UgcHJvZHVjdGlvbiBhcGlzLlxuXG5mdW5jdGlvbiBqc3hXaXRoVmFsaWRhdGlvblN0YXRpYyh0eXBlLCBwcm9wcywga2V5KSB7XG4gIHtcbiAgICByZXR1cm4ganN4V2l0aFZhbGlkYXRpb24odHlwZSwgcHJvcHMsIGtleSwgdHJ1ZSk7XG4gIH1cbn1cbmZ1bmN0aW9uIGpzeFdpdGhWYWxpZGF0aW9uRHluYW1pYyh0eXBlLCBwcm9wcywga2V5KSB7XG4gIHtcbiAgICByZXR1cm4ganN4V2l0aFZhbGlkYXRpb24odHlwZSwgcHJvcHMsIGtleSwgZmFsc2UpO1xuICB9XG59XG5cbnZhciBqc3ggPSAganN4V2l0aFZhbGlkYXRpb25EeW5hbWljIDsgLy8gd2UgbWF5IHdhbnQgdG8gc3BlY2lhbCBjYXNlIGpzeHMgaW50ZXJuYWxseSB0byB0YWtlIGFkdmFudGFnZSBvZiBzdGF0aWMgY2hpbGRyZW4uXG4vLyBmb3Igbm93IHdlIGNhbiBzaGlwIGlkZW50aWNhbCBwcm9kIGZ1bmN0aW9uc1xuXG52YXIganN4cyA9ICBqc3hXaXRoVmFsaWRhdGlvblN0YXRpYyA7XG5cbmV4cG9ydHMuRnJhZ21lbnQgPSBSRUFDVF9GUkFHTUVOVF9UWVBFO1xuZXhwb3J0cy5qc3ggPSBqc3g7XG5leHBvcnRzLmpzeHMgPSBqc3hzO1xuICB9KSgpO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/react/cjs/react-jsx-runtime.development.js\n"));

/***/ }),

/***/ "./node_modules/react/jsx-dev-runtime.js":
/*!***********************************************!*\
  !*** ./node_modules/react/jsx-dev-runtime.js ***!
  \***********************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\n\nif (false) {} else {\n  module.exports = __webpack_require__(/*! ./cjs/react-jsx-dev-runtime.development.js */ \"./node_modules/react/cjs/react-jsx-dev-runtime.development.js\");\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3QvanN4LWRldi1ydW50aW1lLmpzLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLElBQUksS0FBcUMsRUFBRSxFQUUxQyxDQUFDO0FBQ0YsRUFBRSx1SkFBc0U7QUFDeEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3JlYWN0L2pzeC1kZXYtcnVudGltZS5qcz81Nzc3Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Nqcy9yZWFjdC1qc3gtZGV2LXJ1bnRpbWUucHJvZHVjdGlvbi5taW4uanMnKTtcbn0gZWxzZSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9janMvcmVhY3QtanN4LWRldi1ydW50aW1lLmRldmVsb3BtZW50LmpzJyk7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/react/jsx-dev-runtime.js\n"));

/***/ }),

/***/ "./node_modules/react/jsx-runtime.js":
/*!*******************************************!*\
  !*** ./node_modules/react/jsx-runtime.js ***!
  \*******************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\n\nif (false) {} else {\n  module.exports = __webpack_require__(/*! ./cjs/react-jsx-runtime.development.js */ \"./node_modules/react/cjs/react-jsx-runtime.development.js\");\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3QvanN4LXJ1bnRpbWUuanMuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsSUFBSSxLQUFxQyxFQUFFLEVBRTFDLENBQUM7QUFDRixFQUFFLCtJQUFrRTtBQUNwRSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvcmVhY3QvanN4LXJ1bnRpbWUuanM/MzRkMCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9janMvcmVhY3QtanN4LXJ1bnRpbWUucHJvZHVjdGlvbi5taW4uanMnKTtcbn0gZWxzZSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9janMvcmVhY3QtanN4LXJ1bnRpbWUuZGV2ZWxvcG1lbnQuanMnKTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/react/jsx-runtime.js\n"));

/***/ }),

/***/ "./node_modules/supertokens-auth-react/index.js":
/*!******************************************************!*\
  !*** ./node_modules/supertokens-auth-react/index.js ***!
  \******************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("/* Copyright (c) 2021, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\n\n\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nexports.__esModule = true;\n__export(__webpack_require__(/*! ./lib/build/ */ \"./node_modules/supertokens-auth-react/lib/build/index.js\"));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3VwZXJ0b2tlbnMtYXV0aC1yZWFjdC9pbmRleC5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVhO0FBQ2I7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCLFNBQVMsbUJBQU8sQ0FBQyw4RUFBYyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvc3VwZXJ0b2tlbnMtYXV0aC1yZWFjdC9pbmRleC5qcz81N2IxIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIENvcHlyaWdodCAoYykgMjAyMSwgVlJBSSBMYWJzIGFuZC9vciBpdHMgYWZmaWxpYXRlcy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvZnR3YXJlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZVxuICogXCJMaWNlbnNlXCIpIGFzIHB1Ymxpc2hlZCBieSB0aGUgQXBhY2hlIFNvZnR3YXJlIEZvdW5kYXRpb24uXG4gKlxuICogWW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5XG4gKiBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVFxuICogV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiBTZWUgdGhlXG4gKiBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9uc1xuICogdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiBfX2V4cG9ydChtKSB7XG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAoIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xufVxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuL2xpYi9idWlsZC9cIikpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/supertokens-auth-react/index.js\n"));

/***/ }),

/***/ "./node_modules/supertokens-auth-react/lib/build/authRecipe-shared.js":
/*!****************************************************************************!*\
  !*** ./node_modules/supertokens-auth-react/lib/build/authRecipe-shared.js ***!
  \****************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\n\nvar utils = __webpack_require__(/*! ./utils.js */ \"./node_modules/supertokens-auth-react/lib/build/utils.js\");\nvar postSuperTokensInitCallbacks = __webpack_require__(/*! supertokens-web-js/utils/postSuperTokensInitCallbacks */ \"./node_modules/supertokens-web-js/utils/postSuperTokensInitCallbacks.js\");\nvar utils$1 = __webpack_require__(/*! ./recipeModule-shared.js */ \"./node_modules/supertokens-auth-react/lib/build/recipeModule-shared.js\");\nvar recipe = __webpack_require__(/*! ./session-shared2.js */ \"./node_modules/supertokens-auth-react/lib/build/session-shared2.js\");\n\n/* Copyright (c) 2021, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nvar AuthRecipe = /** @class */ (function (_super) {\n    utils.__extends(AuthRecipe, _super);\n    function AuthRecipe(config) {\n        var _this = _super.call(this, config) || this;\n        _this.getAuthRecipeDefaultRedirectionURL = function (context) {\n            return utils.__awaiter(_this, void 0, void 0, function () {\n                return utils.__generator(this, function (_a) {\n                    if (context.action === \"SUCCESS\") {\n                        return [2 /*return*/, context.redirectToPath === undefined ? \"/\" : context.redirectToPath];\n                    } else {\n                        throw new Error(\"Should never come here\");\n                    }\n                });\n            });\n        };\n        _this.signOut = function (input) {\n            return utils.__awaiter(_this, void 0, void 0, function () {\n                return utils.__generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            return [\n                                4 /*yield*/,\n                                recipe.Session.getInstanceOrThrow().signOut({\n                                    userContext: utils.getNormalisedUserContext(\n                                        input === null || input === void 0 ? void 0 : input.userContext\n                                    ),\n                                }),\n                            ];\n                        case 1:\n                            return [2 /*return*/, _a.sent()];\n                    }\n                });\n            });\n        };\n        _this.doesSessionExist = function (input) {\n            return utils.__awaiter(_this, void 0, void 0, function () {\n                return utils.__generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            return [\n                                4 /*yield*/,\n                                recipe.Session.getInstanceOrThrow().doesSessionExist({\n                                    userContext: utils.getNormalisedUserContext(\n                                        input === null || input === void 0 ? void 0 : input.userContext\n                                    ),\n                                }),\n                            ];\n                        case 1:\n                            return [2 /*return*/, _a.sent()];\n                    }\n                });\n            });\n        };\n        postSuperTokensInitCallbacks.PostSuperTokensInitCallbacks.addPostInitCallback(function () {\n            var session = recipe.Session.getInstance();\n            if (session !== undefined) {\n                session.addAuthRecipeRedirectionHandler(_this.config.recipeId, _this.redirect.bind(_this));\n            }\n        });\n        return _this;\n    }\n    return AuthRecipe;\n})(utils$1.RecipeModule);\n\n/* Copyright (c) 2021, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nfunction normaliseAuthRecipe(config) {\n    return utils$1.normaliseRecipeModuleConfig(config);\n}\n\nexports.AuthRecipe = AuthRecipe;\nexports.normaliseAuthRecipe = normaliseAuthRecipe;\n//# sourceMappingURL=authRecipe-shared.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3VwZXJ0b2tlbnMtYXV0aC1yZWFjdC9saWIvYnVpbGQvYXV0aFJlY2lwZS1zaGFyZWQuanMuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsWUFBWSxtQkFBTyxDQUFDLDRFQUFZO0FBQ2hDLG1DQUFtQyxtQkFBTyxDQUFDLHNJQUF1RDtBQUNsRyxjQUFjLG1CQUFPLENBQUMsd0dBQTBCO0FBQ2hELGFBQWEsbUJBQU8sQ0FBQyxnR0FBc0I7O0FBRTNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEI7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsa0JBQWtCO0FBQ2xCLDJCQUEyQjtBQUMzQiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvc3VwZXJ0b2tlbnMtYXV0aC1yZWFjdC9saWIvYnVpbGQvYXV0aFJlY2lwZS1zaGFyZWQuanM/NWU0NiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxudmFyIHV0aWxzID0gcmVxdWlyZShcIi4vdXRpbHMuanNcIik7XG52YXIgcG9zdFN1cGVyVG9rZW5zSW5pdENhbGxiYWNrcyA9IHJlcXVpcmUoXCJzdXBlcnRva2Vucy13ZWItanMvdXRpbHMvcG9zdFN1cGVyVG9rZW5zSW5pdENhbGxiYWNrc1wiKTtcbnZhciB1dGlscyQxID0gcmVxdWlyZShcIi4vcmVjaXBlTW9kdWxlLXNoYXJlZC5qc1wiKTtcbnZhciByZWNpcGUgPSByZXF1aXJlKFwiLi9zZXNzaW9uLXNoYXJlZDIuanNcIik7XG5cbi8qIENvcHlyaWdodCAoYykgMjAyMSwgVlJBSSBMYWJzIGFuZC9vciBpdHMgYWZmaWxpYXRlcy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvZnR3YXJlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZVxuICogXCJMaWNlbnNlXCIpIGFzIHB1Ymxpc2hlZCBieSB0aGUgQXBhY2hlIFNvZnR3YXJlIEZvdW5kYXRpb24uXG4gKlxuICogWW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5XG4gKiBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVFxuICogV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiBTZWUgdGhlXG4gKiBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9uc1xuICogdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbnZhciBBdXRoUmVjaXBlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHV0aWxzLl9fZXh0ZW5kcyhBdXRoUmVjaXBlLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEF1dGhSZWNpcGUoY29uZmlnKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGNvbmZpZykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuZ2V0QXV0aFJlY2lwZURlZmF1bHRSZWRpcmVjdGlvblVSTCA9IGZ1bmN0aW9uIChjb250ZXh0KSB7XG4gICAgICAgICAgICByZXR1cm4gdXRpbHMuX19hd2FpdGVyKF90aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB1dGlscy5fX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRleHQuYWN0aW9uID09PSBcIlNVQ0NFU1NcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIGNvbnRleHQucmVkaXJlY3RUb1BhdGggPT09IHVuZGVmaW5lZCA/IFwiL1wiIDogY29udGV4dC5yZWRpcmVjdFRvUGF0aF07XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJTaG91bGQgbmV2ZXIgY29tZSBoZXJlXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMuc2lnbk91dCA9IGZ1bmN0aW9uIChpbnB1dCkge1xuICAgICAgICAgICAgcmV0dXJuIHV0aWxzLl9fYXdhaXRlcihfdGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdXRpbHMuX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA0IC8qeWllbGQqLyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVjaXBlLlNlc3Npb24uZ2V0SW5zdGFuY2VPclRocm93KCkuc2lnbk91dCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyQ29udGV4dDogdXRpbHMuZ2V0Tm9ybWFsaXNlZFVzZXJDb250ZXh0KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0ID09PSBudWxsIHx8IGlucHV0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpbnB1dC51c2VyQ29udGV4dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgX2Euc2VudCgpXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLmRvZXNTZXNzaW9uRXhpc3QgPSBmdW5jdGlvbiAoaW5wdXQpIHtcbiAgICAgICAgICAgIHJldHVybiB1dGlscy5fX2F3YWl0ZXIoX3RoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHV0aWxzLl9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgNCAvKnlpZWxkKi8sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlY2lwZS5TZXNzaW9uLmdldEluc3RhbmNlT3JUaHJvdygpLmRvZXNTZXNzaW9uRXhpc3Qoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlckNvbnRleHQ6IHV0aWxzLmdldE5vcm1hbGlzZWRVc2VyQ29udGV4dChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnB1dCA9PT0gbnVsbCB8fCBpbnB1dCA9PT0gdm9pZCAwID8gdm9pZCAwIDogaW5wdXQudXNlckNvbnRleHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIF9hLnNlbnQoKV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICBwb3N0U3VwZXJUb2tlbnNJbml0Q2FsbGJhY2tzLlBvc3RTdXBlclRva2Vuc0luaXRDYWxsYmFja3MuYWRkUG9zdEluaXRDYWxsYmFjayhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgc2Vzc2lvbiA9IHJlY2lwZS5TZXNzaW9uLmdldEluc3RhbmNlKCk7XG4gICAgICAgICAgICBpZiAoc2Vzc2lvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgc2Vzc2lvbi5hZGRBdXRoUmVjaXBlUmVkaXJlY3Rpb25IYW5kbGVyKF90aGlzLmNvbmZpZy5yZWNpcGVJZCwgX3RoaXMucmVkaXJlY3QuYmluZChfdGhpcykpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICByZXR1cm4gQXV0aFJlY2lwZTtcbn0pKHV0aWxzJDEuUmVjaXBlTW9kdWxlKTtcblxuLyogQ29weXJpZ2h0IChjKSAyMDIxLCBWUkFJIExhYnMgYW5kL29yIGl0cyBhZmZpbGlhdGVzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc29mdHdhcmUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlXG4gKiBcIkxpY2Vuc2VcIikgYXMgcHVibGlzaGVkIGJ5IHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRhdGlvbi5cbiAqXG4gKiBZb3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXlcbiAqIG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLCBXSVRIT1VUXG4gKiBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuIFNlZSB0aGVcbiAqIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zXG4gKiB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuZnVuY3Rpb24gbm9ybWFsaXNlQXV0aFJlY2lwZShjb25maWcpIHtcbiAgICByZXR1cm4gdXRpbHMkMS5ub3JtYWxpc2VSZWNpcGVNb2R1bGVDb25maWcoY29uZmlnKTtcbn1cblxuZXhwb3J0cy5BdXRoUmVjaXBlID0gQXV0aFJlY2lwZTtcbmV4cG9ydHMubm9ybWFsaXNlQXV0aFJlY2lwZSA9IG5vcm1hbGlzZUF1dGhSZWNpcGU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hdXRoUmVjaXBlLXNoYXJlZC5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/supertokens-auth-react/lib/build/authRecipe-shared.js\n"));

/***/ }),

/***/ "./node_modules/supertokens-auth-react/lib/build/emailpassword-shared2.js":
/*!********************************************************************************!*\
  !*** ./node_modules/supertokens-auth-react/lib/build/emailpassword-shared2.js ***!
  \********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\n\nvar genericComponentOverrideContext = __webpack_require__(/*! ./genericComponentOverrideContext.js */ \"./node_modules/supertokens-auth-react/lib/build/genericComponentOverrideContext.js\");\n\nvar _a = genericComponentOverrideContext.createGenericComponentsOverrideContext(),\n    useContext = _a[0],\n    Provider = _a[1];\n\nexports.Provider = Provider;\nexports.useContext = useContext;\n//# sourceMappingURL=emailpassword-shared2.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3VwZXJ0b2tlbnMtYXV0aC1yZWFjdC9saWIvYnVpbGQvZW1haWxwYXNzd29yZC1zaGFyZWQyLmpzLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLHNDQUFzQyxtQkFBTyxDQUFDLGdJQUFzQzs7QUFFcEY7QUFDQTtBQUNBOztBQUVBLGdCQUFnQjtBQUNoQixrQkFBa0I7QUFDbEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3N1cGVydG9rZW5zLWF1dGgtcmVhY3QvbGliL2J1aWxkL2VtYWlscGFzc3dvcmQtc2hhcmVkMi5qcz8zZmQ4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG52YXIgZ2VuZXJpY0NvbXBvbmVudE92ZXJyaWRlQ29udGV4dCA9IHJlcXVpcmUoXCIuL2dlbmVyaWNDb21wb25lbnRPdmVycmlkZUNvbnRleHQuanNcIik7XG5cbnZhciBfYSA9IGdlbmVyaWNDb21wb25lbnRPdmVycmlkZUNvbnRleHQuY3JlYXRlR2VuZXJpY0NvbXBvbmVudHNPdmVycmlkZUNvbnRleHQoKSxcbiAgICB1c2VDb250ZXh0ID0gX2FbMF0sXG4gICAgUHJvdmlkZXIgPSBfYVsxXTtcblxuZXhwb3J0cy5Qcm92aWRlciA9IFByb3ZpZGVyO1xuZXhwb3J0cy51c2VDb250ZXh0ID0gdXNlQ29udGV4dDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVtYWlscGFzc3dvcmQtc2hhcmVkMi5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/supertokens-auth-react/lib/build/emailpassword-shared2.js\n"));

/***/ }),

/***/ "./node_modules/supertokens-auth-react/lib/build/emailpassword-shared3.js":
/*!********************************************************************************!*\
  !*** ./node_modules/supertokens-auth-react/lib/build/emailpassword-shared3.js ***!
  \********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\n\nvar utils = __webpack_require__(/*! ./utils.js */ \"./node_modules/supertokens-auth-react/lib/build/utils.js\");\nvar EmailPasswordWebJS = __webpack_require__(/*! supertokens-web-js/recipe/emailpassword */ \"./node_modules/supertokens-web-js/recipe/emailpassword/index.js\");\nvar NormalisedURLPath = __webpack_require__(/*! supertokens-web-js/utils/normalisedURLPath */ \"./node_modules/supertokens-web-js/utils/normalisedURLPath.js\");\nvar utils$1 = __webpack_require__(/*! ./authRecipe-shared.js */ \"./node_modules/supertokens-auth-react/lib/build/authRecipe-shared.js\");\nvar validators = __webpack_require__(/*! ./emailpassword-shared4.js */ \"./node_modules/supertokens-auth-react/lib/build/emailpassword-shared4.js\");\n\nfunction _interopDefault(e) {\n    return e && e.__esModule ? e : { default: e };\n}\n\nvar EmailPasswordWebJS__default = /*#__PURE__*/ _interopDefault(EmailPasswordWebJS);\nvar NormalisedURLPath__default = /*#__PURE__*/ _interopDefault(NormalisedURLPath);\n\nvar getFunctionOverrides = function (onHandleEvent) {\n    return function (originalImp) {\n        return utils.__assign(utils.__assign({}, originalImp), {\n            submitNewPassword: function (input) {\n                return utils.__awaiter(this, void 0, void 0, function () {\n                    var response;\n                    return utils.__generator(this, function (_a) {\n                        switch (_a.label) {\n                            case 0:\n                                return [\n                                    4 /*yield*/,\n                                    originalImp.submitNewPassword(\n                                        utils.__assign(utils.__assign({}, input), { formFields: [input.formFields[0]] })\n                                    ),\n                                ];\n                            case 1:\n                                response = _a.sent();\n                                if (response.status === \"OK\") {\n                                    onHandleEvent({\n                                        action: \"PASSWORD_RESET_SUCCESSFUL\",\n                                        userContext: input.userContext,\n                                    });\n                                }\n                                return [2 /*return*/, response];\n                        }\n                    });\n                });\n            },\n            sendPasswordResetEmail: function (input) {\n                return utils.__awaiter(this, void 0, void 0, function () {\n                    var response;\n                    return utils.__generator(this, function (_a) {\n                        switch (_a.label) {\n                            case 0:\n                                return [4 /*yield*/, originalImp.sendPasswordResetEmail(input)];\n                            case 1:\n                                response = _a.sent();\n                                if (response.status === \"OK\") {\n                                    onHandleEvent({\n                                        action: \"RESET_PASSWORD_EMAIL_SENT\",\n                                        userContext: input.userContext,\n                                    });\n                                }\n                                return [2 /*return*/, response];\n                        }\n                    });\n                });\n            },\n            signUp: function (input) {\n                return utils.__awaiter(this, void 0, void 0, function () {\n                    var response;\n                    return utils.__generator(this, function (_a) {\n                        switch (_a.label) {\n                            case 0:\n                                return [4 /*yield*/, originalImp.signUp(input)];\n                            case 1:\n                                response = _a.sent();\n                                if (response.status === \"OK\") {\n                                    onHandleEvent({\n                                        action: \"SUCCESS\",\n                                        isNewUser: true,\n                                        user: response.user,\n                                        userContext: input.userContext,\n                                    });\n                                }\n                                return [2 /*return*/, response];\n                        }\n                    });\n                });\n            },\n            signIn: function (input) {\n                return utils.__awaiter(this, void 0, void 0, function () {\n                    var response;\n                    return utils.__generator(this, function (_a) {\n                        switch (_a.label) {\n                            case 0:\n                                return [4 /*yield*/, originalImp.signIn(input)];\n                            case 1:\n                                response = _a.sent();\n                                if (response.status === \"OK\") {\n                                    onHandleEvent({\n                                        action: \"SUCCESS\",\n                                        isNewUser: false,\n                                        user: response.user,\n                                        userContext: input.userContext,\n                                    });\n                                }\n                                return [2 /*return*/, response];\n                        }\n                    });\n                });\n            },\n        });\n    };\n};\n\n/* Copyright (c) 2021, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nfunction normaliseEmailPasswordConfig(config) {\n    if (config === undefined) {\n        config = {};\n    }\n    var signInAndUpFeature = normaliseSignInAndUpFeature(config.signInAndUpFeature);\n    var signUpPasswordField = signInAndUpFeature.signUpForm.formFields.find(function (field) {\n        return field.id === \"password\";\n    });\n    var signUpEmailField = signInAndUpFeature.signUpForm.formFields.find(function (field) {\n        return field.id === \"email\";\n    });\n    var resetPasswordUsingTokenFeature = normaliseResetPasswordUsingTokenFeature(\n        signUpPasswordField.validate,\n        signUpEmailField,\n        config.resetPasswordUsingTokenFeature\n    );\n    var override = utils.__assign(\n        {\n            functions: function (originalImplementation) {\n                return originalImplementation;\n            },\n        },\n        config.override\n    );\n    return utils.__assign(utils.__assign({}, utils$1.normaliseAuthRecipe(config)), {\n        signInAndUpFeature: signInAndUpFeature,\n        resetPasswordUsingTokenFeature: resetPasswordUsingTokenFeature,\n        override: override,\n    });\n}\nfunction normaliseSignInAndUpFeature(config) {\n    if (config === undefined) {\n        config = {};\n    }\n    var disableDefaultUI = config.disableDefaultUI === true;\n    var signUpForm = normaliseSignUpFormFeatureConfig(config.signUpForm);\n    var defaultToSignUp = config.defaultToSignUp !== undefined ? config.defaultToSignUp : false;\n    /*\n     * Default Sign In corresponds to computed Sign Up fields filtered by email and password only.\n     * i.e. If the user overrides sign Up fields, that is propagated to default sign In fields.\n     * Exception made of the password validator which only verifies that the value is not empty for login\n     * https://github.com/supertokens/supertokens-auth-react/issues/21\n     */\n    var defaultSignInFields = signUpForm.formFields.reduce(function (signInFieldsAccumulator, field) {\n        if (field.id === \"email\") {\n            return utils.__spreadArray(utils.__spreadArray([], signInFieldsAccumulator, true), [field], false);\n        }\n        if (field.id === \"password\") {\n            return utils.__spreadArray(\n                utils.__spreadArray([], signInFieldsAccumulator, true),\n                [\n                    utils.__assign(utils.__assign({}, field), {\n                        autoComplete: \"current-password\",\n                        validate: validators.defaultLoginPasswordValidator,\n                    }),\n                ],\n                false\n            );\n        }\n        return signInFieldsAccumulator;\n    }, []);\n    var signInForm = normaliseSignInFormFeatureConfig(defaultSignInFields, config.signInForm);\n    return {\n        disableDefaultUI: disableDefaultUI,\n        defaultToSignUp: defaultToSignUp,\n        signUpForm: signUpForm,\n        signInForm: signInForm,\n    };\n}\nfunction normaliseSignUpFormFeatureConfig(config) {\n    if (config === undefined) {\n        config = {};\n    }\n    var defaultFormFields = getDefaultFormFields();\n    var userFormFields = [];\n    if (config.formFields !== undefined) {\n        userFormFields = config.formFields;\n    }\n    var formFields = mergeFormFields(defaultFormFields, userFormFields);\n    var privacyPolicyLink = config.privacyPolicyLink;\n    var termsOfServiceLink = config.termsOfServiceLink;\n    var style = config.style !== undefined ? config.style : \"\";\n    return {\n        style: style,\n        formFields: formFields,\n        privacyPolicyLink: privacyPolicyLink,\n        termsOfServiceLink: termsOfServiceLink,\n    };\n}\nfunction normaliseSignInFormFeatureConfig(defaultFormFields, config) {\n    if (config === undefined) {\n        config = {};\n    }\n    var userFormFields = [];\n    if (config.formFields !== undefined) {\n        userFormFields = config.formFields\n            // Filter on email and password only.\n            .filter(function (field) {\n                return validators.MANDATORY_FORM_FIELDS_ID_ARRAY.includes(field.id);\n            })\n            // Sign In fields are never optional.\n            .map(function (field) {\n                return utils.__assign(utils.__assign({}, field), { optional: false });\n            });\n    }\n    var formFields = mergeFormFields(defaultFormFields, userFormFields);\n    var style = config.style !== undefined ? config.style : \"\";\n    return {\n        style: style,\n        formFields: formFields,\n    };\n}\nfunction getDefaultFormFields() {\n    return [getDefaultEmailFormField(), getDefaultPasswordFormField()];\n}\nfunction getDefaultEmailFormField() {\n    return {\n        id: \"email\",\n        label: \"EMAIL_PASSWORD_EMAIL_LABEL\",\n        placeholder: \"EMAIL_PASSWORD_EMAIL_PLACEHOLDER\",\n        validate: validators.defaultEmailValidator,\n        optional: false,\n        autoComplete: \"email\",\n    };\n}\nfunction getDefaultPasswordFormField() {\n    return {\n        id: \"password\",\n        label: \"EMAIL_PASSWORD_PASSWORD_LABEL\",\n        placeholder: \"EMAIL_PASSWORD_PASSWORD_PLACEHOLDER\",\n        validate: validators.defaultPasswordValidator,\n        optional: false,\n        autoComplete: \"new-password\",\n    };\n}\nfunction normaliseResetPasswordUsingTokenFeature(signUpPasswordFieldValidate, signUpEmailField, config) {\n    if (config === undefined) {\n        config = {};\n    }\n    var disableDefaultUI = config.disableDefaultUI === true;\n    var submitNewPasswordFormStyle =\n        config.submitNewPasswordForm !== undefined && config.submitNewPasswordForm.style !== undefined\n            ? config.submitNewPasswordForm.style\n            : \"\";\n    var submitNewPasswordForm = {\n        style: submitNewPasswordFormStyle,\n        formFields: [\n            {\n                id: \"password\",\n                label: \"EMAIL_PASSWORD_NEW_PASSWORD_LABEL\",\n                placeholder: \"EMAIL_PASSWORD_NEW_PASSWORD_PLACEHOLDER\",\n                validate: signUpPasswordFieldValidate,\n                optional: false,\n                autoComplete: \"new-password\",\n            },\n            {\n                id: \"confirm-password\",\n                label: \"EMAIL_PASSWORD_CONFIRM_PASSWORD_LABEL\",\n                placeholder: \"EMAIL_PASSWORD_CONFIRM_PASSWORD_PLACEHOLDER\",\n                validate: signUpPasswordFieldValidate,\n                optional: false,\n                autoComplete: \"new-password\",\n            },\n        ],\n    };\n    var enterEmailFormStyle =\n        config.enterEmailForm !== undefined && config.enterEmailForm.style !== undefined\n            ? config.enterEmailForm.style\n            : \"\";\n    var enterEmailForm = {\n        style: enterEmailFormStyle,\n        formFields: [\n            utils.__assign(utils.__assign({}, getDefaultEmailFormField()), {\n                validate: signUpEmailField.validate,\n                placeholder: \"\",\n                autofocus: true,\n            }),\n        ],\n    };\n    return {\n        disableDefaultUI: disableDefaultUI,\n        submitNewPasswordForm: submitNewPasswordForm,\n        enterEmailForm: enterEmailForm,\n    };\n}\n/*\n * mergeFormFields by keeping the provided order, defaultFormFields or merged first, and unmerged userFormFields after.\n */\nfunction mergeFormFields(defaultFormFields, userFormFields) {\n    // Create a new array with default fields.\n    var mergedFormFields = defaultFormFields;\n    // Loop through user provided fields.\n    for (var i = 0; i < userFormFields.length; i++) {\n        var userField = userFormFields[i];\n        var isNewField = true;\n        // Loop through the merged fields array.\n        for (var j = 0; j < mergedFormFields.length; j++) {\n            var mergedField = mergedFormFields[j];\n            // If id is equal, merge the fields\n            if (userField.id === mergedField.id) {\n                // Make sure that email and password are kept mandatory.\n                var optional = mergedField.optional; // Init with default value.\n                // If user provided value, overwrite.\n                if (userField.optional !== undefined) {\n                    optional = userField.optional;\n                }\n                // If \"email\" or \"password\", always mandatory.\n                if (validators.MANDATORY_FORM_FIELDS_ID_ARRAY.includes(userField.id)) {\n                    optional = false;\n                }\n                // Merge.\n                mergedFormFields[j] = utils.__assign(\n                    utils.__assign(utils.__assign({}, mergedFormFields[j]), userField),\n                    { optional: optional }\n                );\n                isNewField = false;\n                break;\n            }\n        }\n        // If new field, push to mergeFormFields.\n        if (isNewField) {\n            mergedFormFields.push(\n                utils.__assign(\n                    { optional: false, placeholder: userField.label, validate: validators.defaultValidate },\n                    userField\n                )\n            );\n        }\n    }\n    return mergedFormFields.map(function (field) {\n        return getFormattedFormField(field);\n    });\n}\nfunction getFormattedFormField(field) {\n    var _this = this;\n    return utils.__assign(utils.__assign({}, field), {\n        validate: function (value) {\n            return utils.__awaiter(_this, void 0, void 0, function () {\n                return utils.__generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            // Absent or not optional empty field\n                            if (value === \"\" && field.optional === false) {\n                                return [2 /*return*/, \"ERROR_NON_OPTIONAL\"];\n                            }\n                            return [4 /*yield*/, field.validate(value)];\n                        case 1:\n                            return [2 /*return*/, _a.sent()];\n                    }\n                });\n            });\n        },\n    });\n}\n\n/* Copyright (c) 2021, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\n/*\n * Class.\n */\nvar EmailPassword = /** @class */ (function (_super) {\n    utils.__extends(EmailPassword, _super);\n    function EmailPassword(config, webJSRecipe) {\n        if (webJSRecipe === void 0) {\n            webJSRecipe = EmailPasswordWebJS__default.default;\n        }\n        var _this = _super.call(this, config) || this;\n        _this.webJSRecipe = webJSRecipe;\n        _this.getDefaultRedirectionURL = function (context) {\n            return utils.__awaiter(_this, void 0, void 0, function () {\n                var resetPasswordPath;\n                return utils.__generator(this, function (_a) {\n                    if (context.action === \"RESET_PASSWORD\") {\n                        resetPasswordPath = new NormalisedURLPath__default.default(\n                            validators.DEFAULT_RESET_PASSWORD_PATH\n                        );\n                        return [\n                            2 /*return*/,\n                            \"\"\n                                .concat(\n                                    this.config.appInfo.websiteBasePath\n                                        .appendPath(resetPasswordPath)\n                                        .getAsStringDangerous(),\n                                    \"?rid=\"\n                                )\n                                .concat(this.config.recipeId),\n                        ];\n                    }\n                    return [2 /*return*/, this.getAuthRecipeDefaultRedirectionURL(context)];\n                });\n            });\n        };\n        return _this;\n    }\n    EmailPassword.init = function (config) {\n        var normalisedConfig = normaliseEmailPasswordConfig(config);\n        return {\n            authReact: function (appInfo) {\n                EmailPassword.instance = new EmailPassword(\n                    utils.__assign(utils.__assign({}, normalisedConfig), {\n                        appInfo: appInfo,\n                        recipeId: EmailPassword.RECIPE_ID,\n                    })\n                );\n                return EmailPassword.instance;\n            },\n            webJS: EmailPasswordWebJS__default.default.init(\n                utils.__assign(utils.__assign({}, normalisedConfig), {\n                    override: {\n                        functions: function (originalImpl, builder) {\n                            var functions = getFunctionOverrides(normalisedConfig.onHandleEvent);\n                            builder.override(functions);\n                            builder.override(normalisedConfig.override.functions);\n                            return originalImpl;\n                        },\n                    },\n                })\n            ),\n        };\n    };\n    EmailPassword.getInstanceOrThrow = function () {\n        if (EmailPassword.instance === undefined) {\n            var error =\n                \"No instance of EmailPassword found. Make sure to call the EmailPassword.init method.\" +\n                \"See https://supertokens.io/docs/emailpassword/quick-setup/frontend\";\n            // eslint-disable-next-line supertokens-auth-react/no-direct-window-object\n            if (typeof window === \"undefined\") {\n                error = error + utils.SSR_ERROR;\n            }\n            throw Error(error);\n        }\n        return EmailPassword.instance;\n    };\n    /*\n     * Tests methods.\n     */\n    EmailPassword.reset = function () {\n        if (!utils.isTest()) {\n            return;\n        }\n        EmailPassword.instance = undefined;\n        return;\n    };\n    EmailPassword.RECIPE_ID = \"emailpassword\";\n    return EmailPassword;\n})(utils$1.AuthRecipe);\n\nexports.EmailPassword = EmailPassword;\nexports.normaliseEmailPasswordConfig = normaliseEmailPasswordConfig;\n//# sourceMappingURL=emailpassword-shared3.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3VwZXJ0b2tlbnMtYXV0aC1yZWFjdC9saWIvYnVpbGQvZW1haWxwYXNzd29yZC1zaGFyZWQzLmpzLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLFlBQVksbUJBQU8sQ0FBQyw0RUFBWTtBQUNoQyx5QkFBeUIsbUJBQU8sQ0FBQyxnSEFBeUM7QUFDMUUsd0JBQXdCLG1CQUFPLENBQUMsZ0hBQTRDO0FBQzVFLGNBQWMsbUJBQU8sQ0FBQyxvR0FBd0I7QUFDOUMsaUJBQWlCLG1CQUFPLENBQUMsNEdBQTRCOztBQUVyRDtBQUNBLHFDQUFxQztBQUNyQzs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSwrQ0FBK0M7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0VBQXdFLFlBQVksbUNBQW1DO0FBQ3ZIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUM7QUFDckM7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUM7QUFDckM7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQztBQUNyQztBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckIsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQSwyQ0FBMkM7QUFDM0M7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0RBQW9EO0FBQ3BEO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSx1REFBdUQsWUFBWSxpQkFBaUI7QUFDcEYsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNENBQTRDO0FBQzVDO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsMkJBQTJCO0FBQy9DO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qiw2QkFBNkI7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxREFBcUQ7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvREFBb0Q7QUFDcEQsc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixxRkFBcUY7QUFDM0c7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYixTQUFTO0FBQ1QsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0RBQW9EO0FBQ3BEO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLGdEQUFnRDtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekIscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQscUJBQXFCO0FBQ3JCLG9DQUFvQztBQUNwQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvc3VwZXJ0b2tlbnMtYXV0aC1yZWFjdC9saWIvYnVpbGQvZW1haWxwYXNzd29yZC1zaGFyZWQzLmpzPzg0MjciXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoXCIuL3V0aWxzLmpzXCIpO1xudmFyIEVtYWlsUGFzc3dvcmRXZWJKUyA9IHJlcXVpcmUoXCJzdXBlcnRva2Vucy13ZWItanMvcmVjaXBlL2VtYWlscGFzc3dvcmRcIik7XG52YXIgTm9ybWFsaXNlZFVSTFBhdGggPSByZXF1aXJlKFwic3VwZXJ0b2tlbnMtd2ViLWpzL3V0aWxzL25vcm1hbGlzZWRVUkxQYXRoXCIpO1xudmFyIHV0aWxzJDEgPSByZXF1aXJlKFwiLi9hdXRoUmVjaXBlLXNoYXJlZC5qc1wiKTtcbnZhciB2YWxpZGF0b3JzID0gcmVxdWlyZShcIi4vZW1haWxwYXNzd29yZC1zaGFyZWQ0LmpzXCIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcERlZmF1bHQoZSkge1xuICAgIHJldHVybiBlICYmIGUuX19lc01vZHVsZSA/IGUgOiB7IGRlZmF1bHQ6IGUgfTtcbn1cblxudmFyIEVtYWlsUGFzc3dvcmRXZWJKU19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi8gX2ludGVyb3BEZWZhdWx0KEVtYWlsUGFzc3dvcmRXZWJKUyk7XG52YXIgTm9ybWFsaXNlZFVSTFBhdGhfX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovIF9pbnRlcm9wRGVmYXVsdChOb3JtYWxpc2VkVVJMUGF0aCk7XG5cbnZhciBnZXRGdW5jdGlvbk92ZXJyaWRlcyA9IGZ1bmN0aW9uIChvbkhhbmRsZUV2ZW50KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChvcmlnaW5hbEltcCkge1xuICAgICAgICByZXR1cm4gdXRpbHMuX19hc3NpZ24odXRpbHMuX19hc3NpZ24oe30sIG9yaWdpbmFsSW1wKSwge1xuICAgICAgICAgICAgc3VibWl0TmV3UGFzc3dvcmQ6IGZ1bmN0aW9uIChpbnB1dCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB1dGlscy5fX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3BvbnNlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdXRpbHMuX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgNCAvKnlpZWxkKi8sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbEltcC5zdWJtaXROZXdQYXNzd29yZChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1dGlscy5fX2Fzc2lnbih1dGlscy5fX2Fzc2lnbih7fSwgaW5wdXQpLCB7IGZvcm1GaWVsZHM6IFtpbnB1dC5mb3JtRmllbGRzWzBdXSB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSBcIk9LXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uSGFuZGxlRXZlbnQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbjogXCJQQVNTV09SRF9SRVNFVF9TVUNDRVNTRlVMXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlckNvbnRleHQ6IGlucHV0LnVzZXJDb250ZXh0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHJlc3BvbnNlXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2VuZFBhc3N3b3JkUmVzZXRFbWFpbDogZnVuY3Rpb24gKGlucHV0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHV0aWxzLl9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzcG9uc2U7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1dGlscy5fX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIG9yaWdpbmFsSW1wLnNlbmRQYXNzd29yZFJlc2V0RW1haWwoaW5wdXQpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSBcIk9LXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uSGFuZGxlRXZlbnQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbjogXCJSRVNFVF9QQVNTV09SRF9FTUFJTF9TRU5UXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlckNvbnRleHQ6IGlucHV0LnVzZXJDb250ZXh0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHJlc3BvbnNlXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2lnblVwOiBmdW5jdGlvbiAoaW5wdXQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdXRpbHMuX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXNwb25zZTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHV0aWxzLl9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgb3JpZ2luYWxJbXAuc2lnblVwKGlucHV0KV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gXCJPS1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkhhbmRsZUV2ZW50KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb246IFwiU1VDQ0VTU1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzTmV3VXNlcjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyOiByZXNwb25zZS51c2VyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJDb250ZXh0OiBpbnB1dC51c2VyQ29udGV4dCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCByZXNwb25zZV07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNpZ25JbjogZnVuY3Rpb24gKGlucHV0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHV0aWxzLl9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzcG9uc2U7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1dGlscy5fX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIG9yaWdpbmFsSW1wLnNpZ25JbihpbnB1dCldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IFwiT0tcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25IYW5kbGVFdmVudCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiBcIlNVQ0NFU1NcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc05ld1VzZXI6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXI6IHJlc3BvbnNlLnVzZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlckNvbnRleHQ6IGlucHV0LnVzZXJDb250ZXh0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHJlc3BvbnNlXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9O1xufTtcblxuLyogQ29weXJpZ2h0IChjKSAyMDIxLCBWUkFJIExhYnMgYW5kL29yIGl0cyBhZmZpbGlhdGVzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc29mdHdhcmUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlXG4gKiBcIkxpY2Vuc2VcIikgYXMgcHVibGlzaGVkIGJ5IHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRhdGlvbi5cbiAqXG4gKiBZb3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXlcbiAqIG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLCBXSVRIT1VUXG4gKiBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuIFNlZSB0aGVcbiAqIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zXG4gKiB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuZnVuY3Rpb24gbm9ybWFsaXNlRW1haWxQYXNzd29yZENvbmZpZyhjb25maWcpIHtcbiAgICBpZiAoY29uZmlnID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29uZmlnID0ge307XG4gICAgfVxuICAgIHZhciBzaWduSW5BbmRVcEZlYXR1cmUgPSBub3JtYWxpc2VTaWduSW5BbmRVcEZlYXR1cmUoY29uZmlnLnNpZ25JbkFuZFVwRmVhdHVyZSk7XG4gICAgdmFyIHNpZ25VcFBhc3N3b3JkRmllbGQgPSBzaWduSW5BbmRVcEZlYXR1cmUuc2lnblVwRm9ybS5mb3JtRmllbGRzLmZpbmQoZnVuY3Rpb24gKGZpZWxkKSB7XG4gICAgICAgIHJldHVybiBmaWVsZC5pZCA9PT0gXCJwYXNzd29yZFwiO1xuICAgIH0pO1xuICAgIHZhciBzaWduVXBFbWFpbEZpZWxkID0gc2lnbkluQW5kVXBGZWF0dXJlLnNpZ25VcEZvcm0uZm9ybUZpZWxkcy5maW5kKGZ1bmN0aW9uIChmaWVsZCkge1xuICAgICAgICByZXR1cm4gZmllbGQuaWQgPT09IFwiZW1haWxcIjtcbiAgICB9KTtcbiAgICB2YXIgcmVzZXRQYXNzd29yZFVzaW5nVG9rZW5GZWF0dXJlID0gbm9ybWFsaXNlUmVzZXRQYXNzd29yZFVzaW5nVG9rZW5GZWF0dXJlKFxuICAgICAgICBzaWduVXBQYXNzd29yZEZpZWxkLnZhbGlkYXRlLFxuICAgICAgICBzaWduVXBFbWFpbEZpZWxkLFxuICAgICAgICBjb25maWcucmVzZXRQYXNzd29yZFVzaW5nVG9rZW5GZWF0dXJlXG4gICAgKTtcbiAgICB2YXIgb3ZlcnJpZGUgPSB1dGlscy5fX2Fzc2lnbihcbiAgICAgICAge1xuICAgICAgICAgICAgZnVuY3Rpb25zOiBmdW5jdGlvbiAob3JpZ2luYWxJbXBsZW1lbnRhdGlvbikge1xuICAgICAgICAgICAgICAgIHJldHVybiBvcmlnaW5hbEltcGxlbWVudGF0aW9uO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgY29uZmlnLm92ZXJyaWRlXG4gICAgKTtcbiAgICByZXR1cm4gdXRpbHMuX19hc3NpZ24odXRpbHMuX19hc3NpZ24oe30sIHV0aWxzJDEubm9ybWFsaXNlQXV0aFJlY2lwZShjb25maWcpKSwge1xuICAgICAgICBzaWduSW5BbmRVcEZlYXR1cmU6IHNpZ25JbkFuZFVwRmVhdHVyZSxcbiAgICAgICAgcmVzZXRQYXNzd29yZFVzaW5nVG9rZW5GZWF0dXJlOiByZXNldFBhc3N3b3JkVXNpbmdUb2tlbkZlYXR1cmUsXG4gICAgICAgIG92ZXJyaWRlOiBvdmVycmlkZSxcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIG5vcm1hbGlzZVNpZ25JbkFuZFVwRmVhdHVyZShjb25maWcpIHtcbiAgICBpZiAoY29uZmlnID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29uZmlnID0ge307XG4gICAgfVxuICAgIHZhciBkaXNhYmxlRGVmYXVsdFVJID0gY29uZmlnLmRpc2FibGVEZWZhdWx0VUkgPT09IHRydWU7XG4gICAgdmFyIHNpZ25VcEZvcm0gPSBub3JtYWxpc2VTaWduVXBGb3JtRmVhdHVyZUNvbmZpZyhjb25maWcuc2lnblVwRm9ybSk7XG4gICAgdmFyIGRlZmF1bHRUb1NpZ25VcCA9IGNvbmZpZy5kZWZhdWx0VG9TaWduVXAgIT09IHVuZGVmaW5lZCA/IGNvbmZpZy5kZWZhdWx0VG9TaWduVXAgOiBmYWxzZTtcbiAgICAvKlxuICAgICAqIERlZmF1bHQgU2lnbiBJbiBjb3JyZXNwb25kcyB0byBjb21wdXRlZCBTaWduIFVwIGZpZWxkcyBmaWx0ZXJlZCBieSBlbWFpbCBhbmQgcGFzc3dvcmQgb25seS5cbiAgICAgKiBpLmUuIElmIHRoZSB1c2VyIG92ZXJyaWRlcyBzaWduIFVwIGZpZWxkcywgdGhhdCBpcyBwcm9wYWdhdGVkIHRvIGRlZmF1bHQgc2lnbiBJbiBmaWVsZHMuXG4gICAgICogRXhjZXB0aW9uIG1hZGUgb2YgdGhlIHBhc3N3b3JkIHZhbGlkYXRvciB3aGljaCBvbmx5IHZlcmlmaWVzIHRoYXQgdGhlIHZhbHVlIGlzIG5vdCBlbXB0eSBmb3IgbG9naW5cbiAgICAgKiBodHRwczovL2dpdGh1Yi5jb20vc3VwZXJ0b2tlbnMvc3VwZXJ0b2tlbnMtYXV0aC1yZWFjdC9pc3N1ZXMvMjFcbiAgICAgKi9cbiAgICB2YXIgZGVmYXVsdFNpZ25JbkZpZWxkcyA9IHNpZ25VcEZvcm0uZm9ybUZpZWxkcy5yZWR1Y2UoZnVuY3Rpb24gKHNpZ25JbkZpZWxkc0FjY3VtdWxhdG9yLCBmaWVsZCkge1xuICAgICAgICBpZiAoZmllbGQuaWQgPT09IFwiZW1haWxcIikge1xuICAgICAgICAgICAgcmV0dXJuIHV0aWxzLl9fc3ByZWFkQXJyYXkodXRpbHMuX19zcHJlYWRBcnJheShbXSwgc2lnbkluRmllbGRzQWNjdW11bGF0b3IsIHRydWUpLCBbZmllbGRdLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZpZWxkLmlkID09PSBcInBhc3N3b3JkXCIpIHtcbiAgICAgICAgICAgIHJldHVybiB1dGlscy5fX3NwcmVhZEFycmF5KFxuICAgICAgICAgICAgICAgIHV0aWxzLl9fc3ByZWFkQXJyYXkoW10sIHNpZ25JbkZpZWxkc0FjY3VtdWxhdG9yLCB0cnVlKSxcbiAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgIHV0aWxzLl9fYXNzaWduKHV0aWxzLl9fYXNzaWduKHt9LCBmaWVsZCksIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1dG9Db21wbGV0ZTogXCJjdXJyZW50LXBhc3N3b3JkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0ZTogdmFsaWRhdG9ycy5kZWZhdWx0TG9naW5QYXNzd29yZFZhbGlkYXRvcixcbiAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICBmYWxzZVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2lnbkluRmllbGRzQWNjdW11bGF0b3I7XG4gICAgfSwgW10pO1xuICAgIHZhciBzaWduSW5Gb3JtID0gbm9ybWFsaXNlU2lnbkluRm9ybUZlYXR1cmVDb25maWcoZGVmYXVsdFNpZ25JbkZpZWxkcywgY29uZmlnLnNpZ25JbkZvcm0pO1xuICAgIHJldHVybiB7XG4gICAgICAgIGRpc2FibGVEZWZhdWx0VUk6IGRpc2FibGVEZWZhdWx0VUksXG4gICAgICAgIGRlZmF1bHRUb1NpZ25VcDogZGVmYXVsdFRvU2lnblVwLFxuICAgICAgICBzaWduVXBGb3JtOiBzaWduVXBGb3JtLFxuICAgICAgICBzaWduSW5Gb3JtOiBzaWduSW5Gb3JtLFxuICAgIH07XG59XG5mdW5jdGlvbiBub3JtYWxpc2VTaWduVXBGb3JtRmVhdHVyZUNvbmZpZyhjb25maWcpIHtcbiAgICBpZiAoY29uZmlnID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29uZmlnID0ge307XG4gICAgfVxuICAgIHZhciBkZWZhdWx0Rm9ybUZpZWxkcyA9IGdldERlZmF1bHRGb3JtRmllbGRzKCk7XG4gICAgdmFyIHVzZXJGb3JtRmllbGRzID0gW107XG4gICAgaWYgKGNvbmZpZy5mb3JtRmllbGRzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdXNlckZvcm1GaWVsZHMgPSBjb25maWcuZm9ybUZpZWxkcztcbiAgICB9XG4gICAgdmFyIGZvcm1GaWVsZHMgPSBtZXJnZUZvcm1GaWVsZHMoZGVmYXVsdEZvcm1GaWVsZHMsIHVzZXJGb3JtRmllbGRzKTtcbiAgICB2YXIgcHJpdmFjeVBvbGljeUxpbmsgPSBjb25maWcucHJpdmFjeVBvbGljeUxpbms7XG4gICAgdmFyIHRlcm1zT2ZTZXJ2aWNlTGluayA9IGNvbmZpZy50ZXJtc09mU2VydmljZUxpbms7XG4gICAgdmFyIHN0eWxlID0gY29uZmlnLnN0eWxlICE9PSB1bmRlZmluZWQgPyBjb25maWcuc3R5bGUgOiBcIlwiO1xuICAgIHJldHVybiB7XG4gICAgICAgIHN0eWxlOiBzdHlsZSxcbiAgICAgICAgZm9ybUZpZWxkczogZm9ybUZpZWxkcyxcbiAgICAgICAgcHJpdmFjeVBvbGljeUxpbms6IHByaXZhY3lQb2xpY3lMaW5rLFxuICAgICAgICB0ZXJtc09mU2VydmljZUxpbms6IHRlcm1zT2ZTZXJ2aWNlTGluayxcbiAgICB9O1xufVxuZnVuY3Rpb24gbm9ybWFsaXNlU2lnbkluRm9ybUZlYXR1cmVDb25maWcoZGVmYXVsdEZvcm1GaWVsZHMsIGNvbmZpZykge1xuICAgIGlmIChjb25maWcgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb25maWcgPSB7fTtcbiAgICB9XG4gICAgdmFyIHVzZXJGb3JtRmllbGRzID0gW107XG4gICAgaWYgKGNvbmZpZy5mb3JtRmllbGRzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdXNlckZvcm1GaWVsZHMgPSBjb25maWcuZm9ybUZpZWxkc1xuICAgICAgICAgICAgLy8gRmlsdGVyIG9uIGVtYWlsIGFuZCBwYXNzd29yZCBvbmx5LlxuICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAoZmllbGQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsaWRhdG9ycy5NQU5EQVRPUllfRk9STV9GSUVMRFNfSURfQVJSQVkuaW5jbHVkZXMoZmllbGQuaWQpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC8vIFNpZ24gSW4gZmllbGRzIGFyZSBuZXZlciBvcHRpb25hbC5cbiAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKGZpZWxkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHV0aWxzLl9fYXNzaWduKHV0aWxzLl9fYXNzaWduKHt9LCBmaWVsZCksIHsgb3B0aW9uYWw6IGZhbHNlIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgfVxuICAgIHZhciBmb3JtRmllbGRzID0gbWVyZ2VGb3JtRmllbGRzKGRlZmF1bHRGb3JtRmllbGRzLCB1c2VyRm9ybUZpZWxkcyk7XG4gICAgdmFyIHN0eWxlID0gY29uZmlnLnN0eWxlICE9PSB1bmRlZmluZWQgPyBjb25maWcuc3R5bGUgOiBcIlwiO1xuICAgIHJldHVybiB7XG4gICAgICAgIHN0eWxlOiBzdHlsZSxcbiAgICAgICAgZm9ybUZpZWxkczogZm9ybUZpZWxkcyxcbiAgICB9O1xufVxuZnVuY3Rpb24gZ2V0RGVmYXVsdEZvcm1GaWVsZHMoKSB7XG4gICAgcmV0dXJuIFtnZXREZWZhdWx0RW1haWxGb3JtRmllbGQoKSwgZ2V0RGVmYXVsdFBhc3N3b3JkRm9ybUZpZWxkKCldO1xufVxuZnVuY3Rpb24gZ2V0RGVmYXVsdEVtYWlsRm9ybUZpZWxkKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGlkOiBcImVtYWlsXCIsXG4gICAgICAgIGxhYmVsOiBcIkVNQUlMX1BBU1NXT1JEX0VNQUlMX0xBQkVMXCIsXG4gICAgICAgIHBsYWNlaG9sZGVyOiBcIkVNQUlMX1BBU1NXT1JEX0VNQUlMX1BMQUNFSE9MREVSXCIsXG4gICAgICAgIHZhbGlkYXRlOiB2YWxpZGF0b3JzLmRlZmF1bHRFbWFpbFZhbGlkYXRvcixcbiAgICAgICAgb3B0aW9uYWw6IGZhbHNlLFxuICAgICAgICBhdXRvQ29tcGxldGU6IFwiZW1haWxcIixcbiAgICB9O1xufVxuZnVuY3Rpb24gZ2V0RGVmYXVsdFBhc3N3b3JkRm9ybUZpZWxkKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGlkOiBcInBhc3N3b3JkXCIsXG4gICAgICAgIGxhYmVsOiBcIkVNQUlMX1BBU1NXT1JEX1BBU1NXT1JEX0xBQkVMXCIsXG4gICAgICAgIHBsYWNlaG9sZGVyOiBcIkVNQUlMX1BBU1NXT1JEX1BBU1NXT1JEX1BMQUNFSE9MREVSXCIsXG4gICAgICAgIHZhbGlkYXRlOiB2YWxpZGF0b3JzLmRlZmF1bHRQYXNzd29yZFZhbGlkYXRvcixcbiAgICAgICAgb3B0aW9uYWw6IGZhbHNlLFxuICAgICAgICBhdXRvQ29tcGxldGU6IFwibmV3LXBhc3N3b3JkXCIsXG4gICAgfTtcbn1cbmZ1bmN0aW9uIG5vcm1hbGlzZVJlc2V0UGFzc3dvcmRVc2luZ1Rva2VuRmVhdHVyZShzaWduVXBQYXNzd29yZEZpZWxkVmFsaWRhdGUsIHNpZ25VcEVtYWlsRmllbGQsIGNvbmZpZykge1xuICAgIGlmIChjb25maWcgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb25maWcgPSB7fTtcbiAgICB9XG4gICAgdmFyIGRpc2FibGVEZWZhdWx0VUkgPSBjb25maWcuZGlzYWJsZURlZmF1bHRVSSA9PT0gdHJ1ZTtcbiAgICB2YXIgc3VibWl0TmV3UGFzc3dvcmRGb3JtU3R5bGUgPVxuICAgICAgICBjb25maWcuc3VibWl0TmV3UGFzc3dvcmRGb3JtICE9PSB1bmRlZmluZWQgJiYgY29uZmlnLnN1Ym1pdE5ld1Bhc3N3b3JkRm9ybS5zdHlsZSAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICA/IGNvbmZpZy5zdWJtaXROZXdQYXNzd29yZEZvcm0uc3R5bGVcbiAgICAgICAgICAgIDogXCJcIjtcbiAgICB2YXIgc3VibWl0TmV3UGFzc3dvcmRGb3JtID0ge1xuICAgICAgICBzdHlsZTogc3VibWl0TmV3UGFzc3dvcmRGb3JtU3R5bGUsXG4gICAgICAgIGZvcm1GaWVsZHM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZDogXCJwYXNzd29yZFwiLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkVNQUlMX1BBU1NXT1JEX05FV19QQVNTV09SRF9MQUJFTFwiLFxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBcIkVNQUlMX1BBU1NXT1JEX05FV19QQVNTV09SRF9QTEFDRUhPTERFUlwiLFxuICAgICAgICAgICAgICAgIHZhbGlkYXRlOiBzaWduVXBQYXNzd29yZEZpZWxkVmFsaWRhdGUsXG4gICAgICAgICAgICAgICAgb3B0aW9uYWw6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGF1dG9Db21wbGV0ZTogXCJuZXctcGFzc3dvcmRcIixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWQ6IFwiY29uZmlybS1wYXNzd29yZFwiLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkVNQUlMX1BBU1NXT1JEX0NPTkZJUk1fUEFTU1dPUkRfTEFCRUxcIixcbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogXCJFTUFJTF9QQVNTV09SRF9DT05GSVJNX1BBU1NXT1JEX1BMQUNFSE9MREVSXCIsXG4gICAgICAgICAgICAgICAgdmFsaWRhdGU6IHNpZ25VcFBhc3N3b3JkRmllbGRWYWxpZGF0ZSxcbiAgICAgICAgICAgICAgICBvcHRpb25hbDogZmFsc2UsXG4gICAgICAgICAgICAgICAgYXV0b0NvbXBsZXRlOiBcIm5ldy1wYXNzd29yZFwiLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgXSxcbiAgICB9O1xuICAgIHZhciBlbnRlckVtYWlsRm9ybVN0eWxlID1cbiAgICAgICAgY29uZmlnLmVudGVyRW1haWxGb3JtICE9PSB1bmRlZmluZWQgJiYgY29uZmlnLmVudGVyRW1haWxGb3JtLnN0eWxlICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgID8gY29uZmlnLmVudGVyRW1haWxGb3JtLnN0eWxlXG4gICAgICAgICAgICA6IFwiXCI7XG4gICAgdmFyIGVudGVyRW1haWxGb3JtID0ge1xuICAgICAgICBzdHlsZTogZW50ZXJFbWFpbEZvcm1TdHlsZSxcbiAgICAgICAgZm9ybUZpZWxkczogW1xuICAgICAgICAgICAgdXRpbHMuX19hc3NpZ24odXRpbHMuX19hc3NpZ24oe30sIGdldERlZmF1bHRFbWFpbEZvcm1GaWVsZCgpKSwge1xuICAgICAgICAgICAgICAgIHZhbGlkYXRlOiBzaWduVXBFbWFpbEZpZWxkLnZhbGlkYXRlLFxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBcIlwiLFxuICAgICAgICAgICAgICAgIGF1dG9mb2N1czogdHJ1ZSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICBdLFxuICAgIH07XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZGlzYWJsZURlZmF1bHRVSTogZGlzYWJsZURlZmF1bHRVSSxcbiAgICAgICAgc3VibWl0TmV3UGFzc3dvcmRGb3JtOiBzdWJtaXROZXdQYXNzd29yZEZvcm0sXG4gICAgICAgIGVudGVyRW1haWxGb3JtOiBlbnRlckVtYWlsRm9ybSxcbiAgICB9O1xufVxuLypcbiAqIG1lcmdlRm9ybUZpZWxkcyBieSBrZWVwaW5nIHRoZSBwcm92aWRlZCBvcmRlciwgZGVmYXVsdEZvcm1GaWVsZHMgb3IgbWVyZ2VkIGZpcnN0LCBhbmQgdW5tZXJnZWQgdXNlckZvcm1GaWVsZHMgYWZ0ZXIuXG4gKi9cbmZ1bmN0aW9uIG1lcmdlRm9ybUZpZWxkcyhkZWZhdWx0Rm9ybUZpZWxkcywgdXNlckZvcm1GaWVsZHMpIHtcbiAgICAvLyBDcmVhdGUgYSBuZXcgYXJyYXkgd2l0aCBkZWZhdWx0IGZpZWxkcy5cbiAgICB2YXIgbWVyZ2VkRm9ybUZpZWxkcyA9IGRlZmF1bHRGb3JtRmllbGRzO1xuICAgIC8vIExvb3AgdGhyb3VnaCB1c2VyIHByb3ZpZGVkIGZpZWxkcy5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHVzZXJGb3JtRmllbGRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciB1c2VyRmllbGQgPSB1c2VyRm9ybUZpZWxkc1tpXTtcbiAgICAgICAgdmFyIGlzTmV3RmllbGQgPSB0cnVlO1xuICAgICAgICAvLyBMb29wIHRocm91Z2ggdGhlIG1lcmdlZCBmaWVsZHMgYXJyYXkuXG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbWVyZ2VkRm9ybUZpZWxkcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgdmFyIG1lcmdlZEZpZWxkID0gbWVyZ2VkRm9ybUZpZWxkc1tqXTtcbiAgICAgICAgICAgIC8vIElmIGlkIGlzIGVxdWFsLCBtZXJnZSB0aGUgZmllbGRzXG4gICAgICAgICAgICBpZiAodXNlckZpZWxkLmlkID09PSBtZXJnZWRGaWVsZC5pZCkge1xuICAgICAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSB0aGF0IGVtYWlsIGFuZCBwYXNzd29yZCBhcmUga2VwdCBtYW5kYXRvcnkuXG4gICAgICAgICAgICAgICAgdmFyIG9wdGlvbmFsID0gbWVyZ2VkRmllbGQub3B0aW9uYWw7IC8vIEluaXQgd2l0aCBkZWZhdWx0IHZhbHVlLlxuICAgICAgICAgICAgICAgIC8vIElmIHVzZXIgcHJvdmlkZWQgdmFsdWUsIG92ZXJ3cml0ZS5cbiAgICAgICAgICAgICAgICBpZiAodXNlckZpZWxkLm9wdGlvbmFsICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uYWwgPSB1c2VyRmllbGQub3B0aW9uYWw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIElmIFwiZW1haWxcIiBvciBcInBhc3N3b3JkXCIsIGFsd2F5cyBtYW5kYXRvcnkuXG4gICAgICAgICAgICAgICAgaWYgKHZhbGlkYXRvcnMuTUFOREFUT1JZX0ZPUk1fRklFTERTX0lEX0FSUkFZLmluY2x1ZGVzKHVzZXJGaWVsZC5pZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uYWwgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gTWVyZ2UuXG4gICAgICAgICAgICAgICAgbWVyZ2VkRm9ybUZpZWxkc1tqXSA9IHV0aWxzLl9fYXNzaWduKFxuICAgICAgICAgICAgICAgICAgICB1dGlscy5fX2Fzc2lnbih1dGlscy5fX2Fzc2lnbih7fSwgbWVyZ2VkRm9ybUZpZWxkc1tqXSksIHVzZXJGaWVsZCksXG4gICAgICAgICAgICAgICAgICAgIHsgb3B0aW9uYWw6IG9wdGlvbmFsIH1cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGlzTmV3RmllbGQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBJZiBuZXcgZmllbGQsIHB1c2ggdG8gbWVyZ2VGb3JtRmllbGRzLlxuICAgICAgICBpZiAoaXNOZXdGaWVsZCkge1xuICAgICAgICAgICAgbWVyZ2VkRm9ybUZpZWxkcy5wdXNoKFxuICAgICAgICAgICAgICAgIHV0aWxzLl9fYXNzaWduKFxuICAgICAgICAgICAgICAgICAgICB7IG9wdGlvbmFsOiBmYWxzZSwgcGxhY2Vob2xkZXI6IHVzZXJGaWVsZC5sYWJlbCwgdmFsaWRhdGU6IHZhbGlkYXRvcnMuZGVmYXVsdFZhbGlkYXRlIH0sXG4gICAgICAgICAgICAgICAgICAgIHVzZXJGaWVsZFxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lcmdlZEZvcm1GaWVsZHMubWFwKGZ1bmN0aW9uIChmaWVsZCkge1xuICAgICAgICByZXR1cm4gZ2V0Rm9ybWF0dGVkRm9ybUZpZWxkKGZpZWxkKTtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGdldEZvcm1hdHRlZEZvcm1GaWVsZChmaWVsZCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgcmV0dXJuIHV0aWxzLl9fYXNzaWduKHV0aWxzLl9fYXNzaWduKHt9LCBmaWVsZCksIHtcbiAgICAgICAgdmFsaWRhdGU6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHV0aWxzLl9fYXdhaXRlcihfdGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdXRpbHMuX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBYnNlbnQgb3Igbm90IG9wdGlvbmFsIGVtcHR5IGZpZWxkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSBcIlwiICYmIGZpZWxkLm9wdGlvbmFsID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgXCJFUlJPUl9OT05fT1BUSU9OQUxcIl07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIGZpZWxkLnZhbGlkYXRlKHZhbHVlKV07XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIF9hLnNlbnQoKV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgIH0pO1xufVxuXG4vKiBDb3B5cmlnaHQgKGMpIDIwMjEsIFZSQUkgTGFicyBhbmQvb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb2Z0d2FyZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGVcbiAqIFwiTGljZW5zZVwiKSBhcyBwdWJsaXNoZWQgYnkgdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLlxuICpcbiAqIFlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heVxuICogb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVRcbiAqIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gU2VlIHRoZVxuICogTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnNcbiAqIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKlxuICogQ2xhc3MuXG4gKi9cbnZhciBFbWFpbFBhc3N3b3JkID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHV0aWxzLl9fZXh0ZW5kcyhFbWFpbFBhc3N3b3JkLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEVtYWlsUGFzc3dvcmQoY29uZmlnLCB3ZWJKU1JlY2lwZSkge1xuICAgICAgICBpZiAod2ViSlNSZWNpcGUgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgd2ViSlNSZWNpcGUgPSBFbWFpbFBhc3N3b3JkV2ViSlNfX2RlZmF1bHQuZGVmYXVsdDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBjb25maWcpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLndlYkpTUmVjaXBlID0gd2ViSlNSZWNpcGU7XG4gICAgICAgIF90aGlzLmdldERlZmF1bHRSZWRpcmVjdGlvblVSTCA9IGZ1bmN0aW9uIChjb250ZXh0KSB7XG4gICAgICAgICAgICByZXR1cm4gdXRpbHMuX19hd2FpdGVyKF90aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciByZXNldFBhc3N3b3JkUGF0aDtcbiAgICAgICAgICAgICAgICByZXR1cm4gdXRpbHMuX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb250ZXh0LmFjdGlvbiA9PT0gXCJSRVNFVF9QQVNTV09SRFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNldFBhc3N3b3JkUGF0aCA9IG5ldyBOb3JtYWxpc2VkVVJMUGF0aF9fZGVmYXVsdC5kZWZhdWx0KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRvcnMuREVGQVVMVF9SRVNFVF9QQVNTV09SRF9QQVRIXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAyIC8qcmV0dXJuKi8sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuY29uY2F0KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25maWcuYXBwSW5mby53ZWJzaXRlQmFzZVBhdGhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kUGF0aChyZXNldFBhc3N3b3JkUGF0aClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZ2V0QXNTdHJpbmdEYW5nZXJvdXMoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiP3JpZD1cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5jb25jYXQodGhpcy5jb25maWcucmVjaXBlSWQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgdGhpcy5nZXRBdXRoUmVjaXBlRGVmYXVsdFJlZGlyZWN0aW9uVVJMKGNvbnRleHQpXTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIEVtYWlsUGFzc3dvcmQuaW5pdCA9IGZ1bmN0aW9uIChjb25maWcpIHtcbiAgICAgICAgdmFyIG5vcm1hbGlzZWRDb25maWcgPSBub3JtYWxpc2VFbWFpbFBhc3N3b3JkQ29uZmlnKGNvbmZpZyk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBhdXRoUmVhY3Q6IGZ1bmN0aW9uIChhcHBJbmZvKSB7XG4gICAgICAgICAgICAgICAgRW1haWxQYXNzd29yZC5pbnN0YW5jZSA9IG5ldyBFbWFpbFBhc3N3b3JkKFxuICAgICAgICAgICAgICAgICAgICB1dGlscy5fX2Fzc2lnbih1dGlscy5fX2Fzc2lnbih7fSwgbm9ybWFsaXNlZENvbmZpZyksIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwcEluZm86IGFwcEluZm8sXG4gICAgICAgICAgICAgICAgICAgICAgICByZWNpcGVJZDogRW1haWxQYXNzd29yZC5SRUNJUEVfSUQsXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gRW1haWxQYXNzd29yZC5pbnN0YW5jZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB3ZWJKUzogRW1haWxQYXNzd29yZFdlYkpTX19kZWZhdWx0LmRlZmF1bHQuaW5pdChcbiAgICAgICAgICAgICAgICB1dGlscy5fX2Fzc2lnbih1dGlscy5fX2Fzc2lnbih7fSwgbm9ybWFsaXNlZENvbmZpZyksIHtcbiAgICAgICAgICAgICAgICAgICAgb3ZlcnJpZGU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uczogZnVuY3Rpb24gKG9yaWdpbmFsSW1wbCwgYnVpbGRlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmdW5jdGlvbnMgPSBnZXRGdW5jdGlvbk92ZXJyaWRlcyhub3JtYWxpc2VkQ29uZmlnLm9uSGFuZGxlRXZlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1aWxkZXIub3ZlcnJpZGUoZnVuY3Rpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidWlsZGVyLm92ZXJyaWRlKG5vcm1hbGlzZWRDb25maWcub3ZlcnJpZGUuZnVuY3Rpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb3JpZ2luYWxJbXBsO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgKSxcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIEVtYWlsUGFzc3dvcmQuZ2V0SW5zdGFuY2VPclRocm93ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoRW1haWxQYXNzd29yZC5pbnN0YW5jZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB2YXIgZXJyb3IgPVxuICAgICAgICAgICAgICAgIFwiTm8gaW5zdGFuY2Ugb2YgRW1haWxQYXNzd29yZCBmb3VuZC4gTWFrZSBzdXJlIHRvIGNhbGwgdGhlIEVtYWlsUGFzc3dvcmQuaW5pdCBtZXRob2QuXCIgK1xuICAgICAgICAgICAgICAgIFwiU2VlIGh0dHBzOi8vc3VwZXJ0b2tlbnMuaW8vZG9jcy9lbWFpbHBhc3N3b3JkL3F1aWNrLXNldHVwL2Zyb250ZW5kXCI7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgc3VwZXJ0b2tlbnMtYXV0aC1yZWFjdC9uby1kaXJlY3Qtd2luZG93LW9iamVjdFxuICAgICAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgICAgICBlcnJvciA9IGVycm9yICsgdXRpbHMuU1NSX0VSUk9SO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoZXJyb3IpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBFbWFpbFBhc3N3b3JkLmluc3RhbmNlO1xuICAgIH07XG4gICAgLypcbiAgICAgKiBUZXN0cyBtZXRob2RzLlxuICAgICAqL1xuICAgIEVtYWlsUGFzc3dvcmQucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdXRpbHMuaXNUZXN0KCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBFbWFpbFBhc3N3b3JkLmluc3RhbmNlID0gdW5kZWZpbmVkO1xuICAgICAgICByZXR1cm47XG4gICAgfTtcbiAgICBFbWFpbFBhc3N3b3JkLlJFQ0lQRV9JRCA9IFwiZW1haWxwYXNzd29yZFwiO1xuICAgIHJldHVybiBFbWFpbFBhc3N3b3JkO1xufSkodXRpbHMkMS5BdXRoUmVjaXBlKTtcblxuZXhwb3J0cy5FbWFpbFBhc3N3b3JkID0gRW1haWxQYXNzd29yZDtcbmV4cG9ydHMubm9ybWFsaXNlRW1haWxQYXNzd29yZENvbmZpZyA9IG5vcm1hbGlzZUVtYWlsUGFzc3dvcmRDb25maWc7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1lbWFpbHBhc3N3b3JkLXNoYXJlZDMuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/supertokens-auth-react/lib/build/emailpassword-shared3.js\n"));

/***/ }),

/***/ "./node_modules/supertokens-auth-react/lib/build/emailpassword-shared4.js":
/*!********************************************************************************!*\
  !*** ./node_modules/supertokens-auth-react/lib/build/emailpassword-shared4.js ***!
  \********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\n\nvar utils = __webpack_require__(/*! ./utils.js */ \"./node_modules/supertokens-auth-react/lib/build/utils.js\");\n\n/* Copyright (c) 2021, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nvar MANDATORY_FORM_FIELDS_ID_ARRAY = [\"email\", \"password\"];\nvar DEFAULT_RESET_PASSWORD_PATH = \"/reset-password\";\n\n/* Copyright (c) 2021, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\n/*\n * defaultEmailValidator.\n */\nfunction defaultEmailValidator(value) {\n    return utils.__awaiter(this, void 0, void 0, function () {\n        var defaultEmailValidatorRegexp;\n        return utils.__generator(this, function (_a) {\n            if (typeof value !== \"string\") {\n                return [2 /*return*/, \"ERROR_EMAIL_NON_STRING\"];\n            }\n            value = value.trim();\n            defaultEmailValidatorRegexp =\n                // eslint-disable-next-line no-useless-escape\n                /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n            // We check if the email syntax is correct\n            // As per https://github.com/supertokens/supertokens-auth-react/issues/5#issuecomment-709512438\n            // Regex from https://stackoverflow.com/a/46181/3867175\n            if (value.match(defaultEmailValidatorRegexp) === null) {\n                return [2 /*return*/, \"ERROR_EMAIL_INVALID\"];\n            }\n            return [2 /*return*/, undefined];\n        });\n    });\n}\n/*\n * defaultPasswordValidator.\n * min 8 characters.\n * Contains lowercase, uppercase, and numbers.\n */\nfunction defaultPasswordValidator(value) {\n    return utils.__awaiter(this, void 0, void 0, function () {\n        return utils.__generator(this, function (_a) {\n            if (typeof value !== \"string\") {\n                return [2 /*return*/, \"ERROR_PASSWORD_NON_STRING\"];\n            }\n            // length >= 8 && < 100\n            // must have a number and a character\n            // as per https://github.com/supertokens/supertokens-auth-react/issues/5#issuecomment-709512438\n            if (value.length < 8) {\n                return [2 /*return*/, \"ERROR_PASSWORD_TOO_SHORT\"];\n            }\n            if (value.length >= 100) {\n                return [2 /*return*/, \"ERROR_PASSWORD_TOO_LONG\"];\n            }\n            if (value.match(/^.*[A-Za-z]+.*$/) === null) {\n                return [2 /*return*/, \"ERROR_PASSWORD_NO_ALPHA\"];\n            }\n            if (value.match(/^.*[0-9]+.*$/) === null) {\n                return [2 /*return*/, \"ERROR_PASSWORD_NO_NUM\"];\n            }\n            return [2 /*return*/, undefined];\n        });\n    });\n}\n/*\n * defaultLoginPasswordValidator.\n * type string\n */\nfunction defaultLoginPasswordValidator(value) {\n    return utils.__awaiter(this, void 0, void 0, function () {\n        return utils.__generator(this, function (_a) {\n            if (typeof value !== \"string\") {\n                return [2 /*return*/, \"ERROR_PASSWORD_NON_STRING\"];\n            }\n            return [2 /*return*/, undefined];\n        });\n    });\n}\n/*\n * defaultValidate\n */\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nfunction defaultValidate(_) {\n    return utils.__awaiter(this, void 0, void 0, function () {\n        return utils.__generator(this, function (_a) {\n            return [2 /*return*/, undefined];\n        });\n    });\n}\n\nexports.DEFAULT_RESET_PASSWORD_PATH = DEFAULT_RESET_PASSWORD_PATH;\nexports.MANDATORY_FORM_FIELDS_ID_ARRAY = MANDATORY_FORM_FIELDS_ID_ARRAY;\nexports.defaultEmailValidator = defaultEmailValidator;\nexports.defaultLoginPasswordValidator = defaultLoginPasswordValidator;\nexports.defaultPasswordValidator = defaultPasswordValidator;\nexports.defaultValidate = defaultValidate;\n//# sourceMappingURL=emailpassword-shared4.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3VwZXJ0b2tlbnMtYXV0aC1yZWFjdC9saWIvYnVpbGQvZW1haWxwYXNzd29yZC1zaGFyZWQ0LmpzLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLFlBQVksbUJBQU8sQ0FBQyw0RUFBWTs7QUFFaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLHlCQUF5Qiw2QkFBNkIsSUFBSSxRQUFRLElBQUksUUFBUSxJQUFJLFFBQVEsSUFBSSxpQ0FBaUMsR0FBRztBQUNySztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDs7QUFFQSxtQ0FBbUM7QUFDbkMsc0NBQXNDO0FBQ3RDLDZCQUE2QjtBQUM3QixxQ0FBcUM7QUFDckMsZ0NBQWdDO0FBQ2hDLHVCQUF1QjtBQUN2QiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvc3VwZXJ0b2tlbnMtYXV0aC1yZWFjdC9saWIvYnVpbGQvZW1haWxwYXNzd29yZC1zaGFyZWQ0LmpzPzBhNjQiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoXCIuL3V0aWxzLmpzXCIpO1xuXG4vKiBDb3B5cmlnaHQgKGMpIDIwMjEsIFZSQUkgTGFicyBhbmQvb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb2Z0d2FyZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGVcbiAqIFwiTGljZW5zZVwiKSBhcyBwdWJsaXNoZWQgYnkgdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLlxuICpcbiAqIFlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heVxuICogb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVRcbiAqIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gU2VlIHRoZVxuICogTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnNcbiAqIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG52YXIgTUFOREFUT1JZX0ZPUk1fRklFTERTX0lEX0FSUkFZID0gW1wiZW1haWxcIiwgXCJwYXNzd29yZFwiXTtcbnZhciBERUZBVUxUX1JFU0VUX1BBU1NXT1JEX1BBVEggPSBcIi9yZXNldC1wYXNzd29yZFwiO1xuXG4vKiBDb3B5cmlnaHQgKGMpIDIwMjEsIFZSQUkgTGFicyBhbmQvb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb2Z0d2FyZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGVcbiAqIFwiTGljZW5zZVwiKSBhcyBwdWJsaXNoZWQgYnkgdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLlxuICpcbiAqIFlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heVxuICogb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVRcbiAqIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gU2VlIHRoZVxuICogTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnNcbiAqIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKlxuICogZGVmYXVsdEVtYWlsVmFsaWRhdG9yLlxuICovXG5mdW5jdGlvbiBkZWZhdWx0RW1haWxWYWxpZGF0b3IodmFsdWUpIHtcbiAgICByZXR1cm4gdXRpbHMuX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBkZWZhdWx0RW1haWxWYWxpZGF0b3JSZWdleHA7XG4gICAgICAgIHJldHVybiB1dGlscy5fX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgXCJFUlJPUl9FTUFJTF9OT05fU1RSSU5HXCJdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS50cmltKCk7XG4gICAgICAgICAgICBkZWZhdWx0RW1haWxWYWxpZGF0b3JSZWdleHAgPVxuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11c2VsZXNzLWVzY2FwZVxuICAgICAgICAgICAgICAgIC9eKChbXjw+KClcXFtcXF1cXFxcLiw7Olxcc0BcIl0rKFxcLltePD4oKVxcW1xcXVxcXFwuLDs6XFxzQFwiXSspKil8KFwiLitcIikpQCgoXFxbWzAtOV17MSwzfVxcLlswLTldezEsM31cXC5bMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcXSl8KChbYS16QS1aXFwtMC05XStcXC4pK1thLXpBLVpdezIsfSkpJC87XG4gICAgICAgICAgICAvLyBXZSBjaGVjayBpZiB0aGUgZW1haWwgc3ludGF4IGlzIGNvcnJlY3RcbiAgICAgICAgICAgIC8vIEFzIHBlciBodHRwczovL2dpdGh1Yi5jb20vc3VwZXJ0b2tlbnMvc3VwZXJ0b2tlbnMtYXV0aC1yZWFjdC9pc3N1ZXMvNSNpc3N1ZWNvbW1lbnQtNzA5NTEyNDM4XG4gICAgICAgICAgICAvLyBSZWdleCBmcm9tIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS80NjE4MS8zODY3MTc1XG4gICAgICAgICAgICBpZiAodmFsdWUubWF0Y2goZGVmYXVsdEVtYWlsVmFsaWRhdG9yUmVnZXhwKSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBcIkVSUk9SX0VNQUlMX0lOVkFMSURcIl07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgdW5kZWZpbmVkXTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG4vKlxuICogZGVmYXVsdFBhc3N3b3JkVmFsaWRhdG9yLlxuICogbWluIDggY2hhcmFjdGVycy5cbiAqIENvbnRhaW5zIGxvd2VyY2FzZSwgdXBwZXJjYXNlLCBhbmQgbnVtYmVycy5cbiAqL1xuZnVuY3Rpb24gZGVmYXVsdFBhc3N3b3JkVmFsaWRhdG9yKHZhbHVlKSB7XG4gICAgcmV0dXJuIHV0aWxzLl9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdXRpbHMuX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIFwiRVJST1JfUEFTU1dPUkRfTk9OX1NUUklOR1wiXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGxlbmd0aCA+PSA4ICYmIDwgMTAwXG4gICAgICAgICAgICAvLyBtdXN0IGhhdmUgYSBudW1iZXIgYW5kIGEgY2hhcmFjdGVyXG4gICAgICAgICAgICAvLyBhcyBwZXIgaHR0cHM6Ly9naXRodWIuY29tL3N1cGVydG9rZW5zL3N1cGVydG9rZW5zLWF1dGgtcmVhY3QvaXNzdWVzLzUjaXNzdWVjb21tZW50LTcwOTUxMjQzOFxuICAgICAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCA8IDgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgXCJFUlJPUl9QQVNTV09SRF9UT09fU0hPUlRcIl07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodmFsdWUubGVuZ3RoID49IDEwMCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBcIkVSUk9SX1BBU1NXT1JEX1RPT19MT05HXCJdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHZhbHVlLm1hdGNoKC9eLipbQS1aYS16XSsuKiQvKSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBcIkVSUk9SX1BBU1NXT1JEX05PX0FMUEhBXCJdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHZhbHVlLm1hdGNoKC9eLipbMC05XSsuKiQvKSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBcIkVSUk9SX1BBU1NXT1JEX05PX05VTVwiXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCB1bmRlZmluZWRdO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn1cbi8qXG4gKiBkZWZhdWx0TG9naW5QYXNzd29yZFZhbGlkYXRvci5cbiAqIHR5cGUgc3RyaW5nXG4gKi9cbmZ1bmN0aW9uIGRlZmF1bHRMb2dpblBhc3N3b3JkVmFsaWRhdG9yKHZhbHVlKSB7XG4gICAgcmV0dXJuIHV0aWxzLl9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdXRpbHMuX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIFwiRVJST1JfUEFTU1dPUkRfTk9OX1NUUklOR1wiXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCB1bmRlZmluZWRdO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn1cbi8qXG4gKiBkZWZhdWx0VmFsaWRhdGVcbiAqL1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnVzZWQtdmFyc1xuZnVuY3Rpb24gZGVmYXVsdFZhbGlkYXRlKF8pIHtcbiAgICByZXR1cm4gdXRpbHMuX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB1dGlscy5fX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCB1bmRlZmluZWRdO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn1cblxuZXhwb3J0cy5ERUZBVUxUX1JFU0VUX1BBU1NXT1JEX1BBVEggPSBERUZBVUxUX1JFU0VUX1BBU1NXT1JEX1BBVEg7XG5leHBvcnRzLk1BTkRBVE9SWV9GT1JNX0ZJRUxEU19JRF9BUlJBWSA9IE1BTkRBVE9SWV9GT1JNX0ZJRUxEU19JRF9BUlJBWTtcbmV4cG9ydHMuZGVmYXVsdEVtYWlsVmFsaWRhdG9yID0gZGVmYXVsdEVtYWlsVmFsaWRhdG9yO1xuZXhwb3J0cy5kZWZhdWx0TG9naW5QYXNzd29yZFZhbGlkYXRvciA9IGRlZmF1bHRMb2dpblBhc3N3b3JkVmFsaWRhdG9yO1xuZXhwb3J0cy5kZWZhdWx0UGFzc3dvcmRWYWxpZGF0b3IgPSBkZWZhdWx0UGFzc3dvcmRWYWxpZGF0b3I7XG5leHBvcnRzLmRlZmF1bHRWYWxpZGF0ZSA9IGRlZmF1bHRWYWxpZGF0ZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVtYWlscGFzc3dvcmQtc2hhcmVkNC5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/supertokens-auth-react/lib/build/emailpassword-shared4.js\n"));

/***/ }),

/***/ "./node_modules/supertokens-auth-react/lib/build/emailpassword.js":
/*!************************************************************************!*\
  !*** ./node_modules/supertokens-auth-react/lib/build/emailpassword.js ***!
  \************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\n\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n\nvar utils = __webpack_require__(/*! ./utils.js */ \"./node_modules/supertokens-auth-react/lib/build/utils.js\");\nvar componentOverrideContext = __webpack_require__(/*! ./emailpassword-shared2.js */ \"./node_modules/supertokens-auth-react/lib/build/emailpassword-shared2.js\");\nvar recipe = __webpack_require__(/*! ./emailpassword-shared3.js */ \"./node_modules/supertokens-auth-react/lib/build/emailpassword-shared3.js\");\n__webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n__webpack_require__(/*! supertokens-web-js/utils/cookieHandler */ \"./node_modules/supertokens-web-js/utils/cookieHandler/index.js\");\n__webpack_require__(/*! supertokens-web-js/utils/normalisedURLDomain */ \"./node_modules/supertokens-web-js/utils/normalisedURLDomain.js\");\n__webpack_require__(/*! supertokens-web-js/utils/normalisedURLPath */ \"./node_modules/supertokens-web-js/utils/normalisedURLPath.js\");\n__webpack_require__(/*! supertokens-web-js/utils/windowHandler */ \"./node_modules/supertokens-web-js/utils/windowHandler/index.js\");\n__webpack_require__(/*! ./genericComponentOverrideContext.js */ \"./node_modules/supertokens-auth-react/lib/build/genericComponentOverrideContext.js\");\n__webpack_require__(/*! react/jsx-runtime */ \"./node_modules/react/jsx-runtime.js\");\n__webpack_require__(/*! supertokens-web-js/recipe/emailpassword */ \"./node_modules/supertokens-web-js/recipe/emailpassword/index.js\");\n__webpack_require__(/*! ./authRecipe-shared.js */ \"./node_modules/supertokens-auth-react/lib/build/authRecipe-shared.js\");\n__webpack_require__(/*! supertokens-web-js/utils/postSuperTokensInitCallbacks */ \"./node_modules/supertokens-web-js/utils/postSuperTokensInitCallbacks.js\");\n__webpack_require__(/*! ./recipeModule-shared.js */ \"./node_modules/supertokens-auth-react/lib/build/recipeModule-shared.js\");\n__webpack_require__(/*! supertokens-web-js */ \"./node_modules/supertokens-web-js/index.js\");\n__webpack_require__(/*! ./session-shared2.js */ \"./node_modules/supertokens-auth-react/lib/build/session-shared2.js\");\n__webpack_require__(/*! supertokens-web-js/recipe/session */ \"./node_modules/supertokens-web-js/recipe/session/index.js\");\n__webpack_require__(/*! ./emailpassword-shared4.js */ \"./node_modules/supertokens-auth-react/lib/build/emailpassword-shared4.js\");\n\n/* Copyright (c) 2021, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nvar Wrapper = /** @class */ (function () {\n    function Wrapper() {}\n    Wrapper.init = function (config) {\n        return recipe.EmailPassword.init(config);\n    };\n    Wrapper.signOut = function (input) {\n        return utils.__awaiter(this, void 0, void 0, function () {\n            return utils.__generator(this, function (_a) {\n                return [\n                    2 /*return*/,\n                    recipe.EmailPassword.getInstanceOrThrow().signOut({\n                        userContext: utils.getNormalisedUserContext(\n                            input === null || input === void 0 ? void 0 : input.userContext\n                        ),\n                    }),\n                ];\n            });\n        });\n    };\n    Wrapper.submitNewPassword = function (input) {\n        return utils.__awaiter(this, void 0, void 0, function () {\n            return utils.__generator(this, function (_a) {\n                return [\n                    2 /*return*/,\n                    recipe.EmailPassword.getInstanceOrThrow().webJSRecipe.submitNewPassword(\n                        utils.__assign(utils.__assign({}, input), {\n                            userContext: utils.getNormalisedUserContext(input.userContext),\n                        })\n                    ),\n                ];\n            });\n        });\n    };\n    Wrapper.sendPasswordResetEmail = function (input) {\n        return utils.__awaiter(this, void 0, void 0, function () {\n            return utils.__generator(this, function (_a) {\n                return [\n                    2 /*return*/,\n                    recipe.EmailPassword.getInstanceOrThrow().webJSRecipe.sendPasswordResetEmail(\n                        utils.__assign(utils.__assign({}, input), {\n                            userContext: utils.getNormalisedUserContext(input.userContext),\n                        })\n                    ),\n                ];\n            });\n        });\n    };\n    Wrapper.signUp = function (input) {\n        return utils.__awaiter(this, void 0, void 0, function () {\n            return utils.__generator(this, function (_a) {\n                return [\n                    2 /*return*/,\n                    recipe.EmailPassword.getInstanceOrThrow().webJSRecipe.signUp(\n                        utils.__assign(utils.__assign({}, input), {\n                            userContext: utils.getNormalisedUserContext(input.userContext),\n                        })\n                    ),\n                ];\n            });\n        });\n    };\n    Wrapper.signIn = function (input) {\n        return utils.__awaiter(this, void 0, void 0, function () {\n            return utils.__generator(this, function (_a) {\n                return [\n                    2 /*return*/,\n                    recipe.EmailPassword.getInstanceOrThrow().webJSRecipe.signIn(\n                        utils.__assign(utils.__assign({}, input), {\n                            userContext: utils.getNormalisedUserContext(input.userContext),\n                        })\n                    ),\n                ];\n            });\n        });\n    };\n    Wrapper.doesEmailExist = function (input) {\n        return utils.__awaiter(this, void 0, void 0, function () {\n            return utils.__generator(this, function (_a) {\n                return [\n                    2 /*return*/,\n                    recipe.EmailPassword.getInstanceOrThrow().webJSRecipe.doesEmailExist(\n                        utils.__assign(utils.__assign({}, input), {\n                            userContext: utils.getNormalisedUserContext(input.userContext),\n                        })\n                    ),\n                ];\n            });\n        });\n    };\n    Wrapper.getResetPasswordTokenFromURL = function (input) {\n        return recipe.EmailPassword.getInstanceOrThrow().webJSRecipe.getResetPasswordTokenFromURL(\n            utils.__assign(utils.__assign({}, input), {\n                userContext: utils.getNormalisedUserContext(\n                    input === null || input === void 0 ? void 0 : input.userContext\n                ),\n            })\n        );\n    };\n    Wrapper.ComponentsOverrideProvider = componentOverrideContext.Provider;\n    return Wrapper;\n})();\nvar init = Wrapper.init;\nvar signOut = Wrapper.signOut;\nvar submitNewPassword = Wrapper.submitNewPassword;\nvar sendPasswordResetEmail = Wrapper.sendPasswordResetEmail;\nvar signUp = Wrapper.signUp;\nvar signIn = Wrapper.signIn;\nvar doesEmailExist = Wrapper.doesEmailExist;\nvar getResetPasswordTokenFromURL = Wrapper.getResetPasswordTokenFromURL;\nvar EmailPasswordComponentsOverrideProvider = Wrapper.ComponentsOverrideProvider;\n\nexports.EmailPasswordComponentsOverrideProvider = EmailPasswordComponentsOverrideProvider;\nexports[\"default\"] = Wrapper;\nexports.doesEmailExist = doesEmailExist;\nexports.getResetPasswordTokenFromURL = getResetPasswordTokenFromURL;\nexports.init = init;\nexports.sendPasswordResetEmail = sendPasswordResetEmail;\nexports.signIn = signIn;\nexports.signOut = signOut;\nexports.signUp = signUp;\nexports.submitNewPassword = submitNewPassword;\n//# sourceMappingURL=emailpassword.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3VwZXJ0b2tlbnMtYXV0aC1yZWFjdC9saWIvYnVpbGQvZW1haWxwYXNzd29yZC5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7O0FBRTdELFlBQVksbUJBQU8sQ0FBQyw0RUFBWTtBQUNoQywrQkFBK0IsbUJBQU8sQ0FBQyw0R0FBNEI7QUFDbkUsYUFBYSxtQkFBTyxDQUFDLDRHQUE0QjtBQUNqRCxtQkFBTyxDQUFDLDRDQUFPO0FBQ2YsbUJBQU8sQ0FBQyw4R0FBd0M7QUFDaEQsbUJBQU8sQ0FBQyxvSEFBOEM7QUFDdEQsbUJBQU8sQ0FBQyxnSEFBNEM7QUFDcEQsbUJBQU8sQ0FBQyw4R0FBd0M7QUFDaEQsbUJBQU8sQ0FBQyxnSUFBc0M7QUFDOUMsbUJBQU8sQ0FBQyw4REFBbUI7QUFDM0IsbUJBQU8sQ0FBQyxnSEFBeUM7QUFDakQsbUJBQU8sQ0FBQyxvR0FBd0I7QUFDaEMsbUJBQU8sQ0FBQyxzSUFBdUQ7QUFDL0QsbUJBQU8sQ0FBQyx3R0FBMEI7QUFDbEMsbUJBQU8sQ0FBQyxzRUFBb0I7QUFDNUIsbUJBQU8sQ0FBQyxnR0FBc0I7QUFDOUIsbUJBQU8sQ0FBQyxvR0FBbUM7QUFDM0MsbUJBQU8sQ0FBQyw0R0FBNEI7O0FBRXBDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdEQUF3RDtBQUN4RDtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdEQUF3RDtBQUN4RDtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdEQUF3RDtBQUN4RDtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdEQUF3RDtBQUN4RDtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdEQUF3RDtBQUN4RDtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEM7QUFDNUM7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSwrQ0FBK0M7QUFDL0Msa0JBQWU7QUFDZixzQkFBc0I7QUFDdEIsb0NBQW9DO0FBQ3BDLFlBQVk7QUFDWiw4QkFBOEI7QUFDOUIsY0FBYztBQUNkLGVBQWU7QUFDZixjQUFjO0FBQ2QseUJBQXlCO0FBQ3pCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9zdXBlcnRva2Vucy1hdXRoLXJlYWN0L2xpYi9idWlsZC9lbWFpbHBhc3N3b3JkLmpzPzIzNGUiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcblxudmFyIHV0aWxzID0gcmVxdWlyZShcIi4vdXRpbHMuanNcIik7XG52YXIgY29tcG9uZW50T3ZlcnJpZGVDb250ZXh0ID0gcmVxdWlyZShcIi4vZW1haWxwYXNzd29yZC1zaGFyZWQyLmpzXCIpO1xudmFyIHJlY2lwZSA9IHJlcXVpcmUoXCIuL2VtYWlscGFzc3dvcmQtc2hhcmVkMy5qc1wiKTtcbnJlcXVpcmUoXCJyZWFjdFwiKTtcbnJlcXVpcmUoXCJzdXBlcnRva2Vucy13ZWItanMvdXRpbHMvY29va2llSGFuZGxlclwiKTtcbnJlcXVpcmUoXCJzdXBlcnRva2Vucy13ZWItanMvdXRpbHMvbm9ybWFsaXNlZFVSTERvbWFpblwiKTtcbnJlcXVpcmUoXCJzdXBlcnRva2Vucy13ZWItanMvdXRpbHMvbm9ybWFsaXNlZFVSTFBhdGhcIik7XG5yZXF1aXJlKFwic3VwZXJ0b2tlbnMtd2ViLWpzL3V0aWxzL3dpbmRvd0hhbmRsZXJcIik7XG5yZXF1aXJlKFwiLi9nZW5lcmljQ29tcG9uZW50T3ZlcnJpZGVDb250ZXh0LmpzXCIpO1xucmVxdWlyZShcInJlYWN0L2pzeC1ydW50aW1lXCIpO1xucmVxdWlyZShcInN1cGVydG9rZW5zLXdlYi1qcy9yZWNpcGUvZW1haWxwYXNzd29yZFwiKTtcbnJlcXVpcmUoXCIuL2F1dGhSZWNpcGUtc2hhcmVkLmpzXCIpO1xucmVxdWlyZShcInN1cGVydG9rZW5zLXdlYi1qcy91dGlscy9wb3N0U3VwZXJUb2tlbnNJbml0Q2FsbGJhY2tzXCIpO1xucmVxdWlyZShcIi4vcmVjaXBlTW9kdWxlLXNoYXJlZC5qc1wiKTtcbnJlcXVpcmUoXCJzdXBlcnRva2Vucy13ZWItanNcIik7XG5yZXF1aXJlKFwiLi9zZXNzaW9uLXNoYXJlZDIuanNcIik7XG5yZXF1aXJlKFwic3VwZXJ0b2tlbnMtd2ViLWpzL3JlY2lwZS9zZXNzaW9uXCIpO1xucmVxdWlyZShcIi4vZW1haWxwYXNzd29yZC1zaGFyZWQ0LmpzXCIpO1xuXG4vKiBDb3B5cmlnaHQgKGMpIDIwMjEsIFZSQUkgTGFicyBhbmQvb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb2Z0d2FyZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGVcbiAqIFwiTGljZW5zZVwiKSBhcyBwdWJsaXNoZWQgYnkgdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLlxuICpcbiAqIFlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heVxuICogb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVRcbiAqIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gU2VlIHRoZVxuICogTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnNcbiAqIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG52YXIgV3JhcHBlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBXcmFwcGVyKCkge31cbiAgICBXcmFwcGVyLmluaXQgPSBmdW5jdGlvbiAoY29uZmlnKSB7XG4gICAgICAgIHJldHVybiByZWNpcGUuRW1haWxQYXNzd29yZC5pbml0KGNvbmZpZyk7XG4gICAgfTtcbiAgICBXcmFwcGVyLnNpZ25PdXQgPSBmdW5jdGlvbiAoaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIHV0aWxzLl9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHV0aWxzLl9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgIDIgLypyZXR1cm4qLyxcbiAgICAgICAgICAgICAgICAgICAgcmVjaXBlLkVtYWlsUGFzc3dvcmQuZ2V0SW5zdGFuY2VPclRocm93KCkuc2lnbk91dCh7XG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VyQ29udGV4dDogdXRpbHMuZ2V0Tm9ybWFsaXNlZFVzZXJDb250ZXh0KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0ID09PSBudWxsIHx8IGlucHV0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpbnB1dC51c2VyQ29udGV4dFxuICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFdyYXBwZXIuc3VibWl0TmV3UGFzc3dvcmQgPSBmdW5jdGlvbiAoaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIHV0aWxzLl9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHV0aWxzLl9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgIDIgLypyZXR1cm4qLyxcbiAgICAgICAgICAgICAgICAgICAgcmVjaXBlLkVtYWlsUGFzc3dvcmQuZ2V0SW5zdGFuY2VPclRocm93KCkud2ViSlNSZWNpcGUuc3VibWl0TmV3UGFzc3dvcmQoXG4gICAgICAgICAgICAgICAgICAgICAgICB1dGlscy5fX2Fzc2lnbih1dGlscy5fX2Fzc2lnbih7fSwgaW5wdXQpLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlckNvbnRleHQ6IHV0aWxzLmdldE5vcm1hbGlzZWRVc2VyQ29udGV4dChpbnB1dC51c2VyQ29udGV4dCksXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBXcmFwcGVyLnNlbmRQYXNzd29yZFJlc2V0RW1haWwgPSBmdW5jdGlvbiAoaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIHV0aWxzLl9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHV0aWxzLl9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgIDIgLypyZXR1cm4qLyxcbiAgICAgICAgICAgICAgICAgICAgcmVjaXBlLkVtYWlsUGFzc3dvcmQuZ2V0SW5zdGFuY2VPclRocm93KCkud2ViSlNSZWNpcGUuc2VuZFBhc3N3b3JkUmVzZXRFbWFpbChcbiAgICAgICAgICAgICAgICAgICAgICAgIHV0aWxzLl9fYXNzaWduKHV0aWxzLl9fYXNzaWduKHt9LCBpbnB1dCksIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyQ29udGV4dDogdXRpbHMuZ2V0Tm9ybWFsaXNlZFVzZXJDb250ZXh0KGlucHV0LnVzZXJDb250ZXh0KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFdyYXBwZXIuc2lnblVwID0gZnVuY3Rpb24gKGlucHV0KSB7XG4gICAgICAgIHJldHVybiB1dGlscy5fX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB1dGlscy5fX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAyIC8qcmV0dXJuKi8sXG4gICAgICAgICAgICAgICAgICAgIHJlY2lwZS5FbWFpbFBhc3N3b3JkLmdldEluc3RhbmNlT3JUaHJvdygpLndlYkpTUmVjaXBlLnNpZ25VcChcbiAgICAgICAgICAgICAgICAgICAgICAgIHV0aWxzLl9fYXNzaWduKHV0aWxzLl9fYXNzaWduKHt9LCBpbnB1dCksIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyQ29udGV4dDogdXRpbHMuZ2V0Tm9ybWFsaXNlZFVzZXJDb250ZXh0KGlucHV0LnVzZXJDb250ZXh0KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFdyYXBwZXIuc2lnbkluID0gZnVuY3Rpb24gKGlucHV0KSB7XG4gICAgICAgIHJldHVybiB1dGlscy5fX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB1dGlscy5fX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAyIC8qcmV0dXJuKi8sXG4gICAgICAgICAgICAgICAgICAgIHJlY2lwZS5FbWFpbFBhc3N3b3JkLmdldEluc3RhbmNlT3JUaHJvdygpLndlYkpTUmVjaXBlLnNpZ25JbihcbiAgICAgICAgICAgICAgICAgICAgICAgIHV0aWxzLl9fYXNzaWduKHV0aWxzLl9fYXNzaWduKHt9LCBpbnB1dCksIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyQ29udGV4dDogdXRpbHMuZ2V0Tm9ybWFsaXNlZFVzZXJDb250ZXh0KGlucHV0LnVzZXJDb250ZXh0KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFdyYXBwZXIuZG9lc0VtYWlsRXhpc3QgPSBmdW5jdGlvbiAoaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIHV0aWxzLl9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHV0aWxzLl9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgIDIgLypyZXR1cm4qLyxcbiAgICAgICAgICAgICAgICAgICAgcmVjaXBlLkVtYWlsUGFzc3dvcmQuZ2V0SW5zdGFuY2VPclRocm93KCkud2ViSlNSZWNpcGUuZG9lc0VtYWlsRXhpc3QoXG4gICAgICAgICAgICAgICAgICAgICAgICB1dGlscy5fX2Fzc2lnbih1dGlscy5fX2Fzc2lnbih7fSwgaW5wdXQpLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlckNvbnRleHQ6IHV0aWxzLmdldE5vcm1hbGlzZWRVc2VyQ29udGV4dChpbnB1dC51c2VyQ29udGV4dCksXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBXcmFwcGVyLmdldFJlc2V0UGFzc3dvcmRUb2tlbkZyb21VUkwgPSBmdW5jdGlvbiAoaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIHJlY2lwZS5FbWFpbFBhc3N3b3JkLmdldEluc3RhbmNlT3JUaHJvdygpLndlYkpTUmVjaXBlLmdldFJlc2V0UGFzc3dvcmRUb2tlbkZyb21VUkwoXG4gICAgICAgICAgICB1dGlscy5fX2Fzc2lnbih1dGlscy5fX2Fzc2lnbih7fSwgaW5wdXQpLCB7XG4gICAgICAgICAgICAgICAgdXNlckNvbnRleHQ6IHV0aWxzLmdldE5vcm1hbGlzZWRVc2VyQ29udGV4dChcbiAgICAgICAgICAgICAgICAgICAgaW5wdXQgPT09IG51bGwgfHwgaW5wdXQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGlucHV0LnVzZXJDb250ZXh0XG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgfTtcbiAgICBXcmFwcGVyLkNvbXBvbmVudHNPdmVycmlkZVByb3ZpZGVyID0gY29tcG9uZW50T3ZlcnJpZGVDb250ZXh0LlByb3ZpZGVyO1xuICAgIHJldHVybiBXcmFwcGVyO1xufSkoKTtcbnZhciBpbml0ID0gV3JhcHBlci5pbml0O1xudmFyIHNpZ25PdXQgPSBXcmFwcGVyLnNpZ25PdXQ7XG52YXIgc3VibWl0TmV3UGFzc3dvcmQgPSBXcmFwcGVyLnN1Ym1pdE5ld1Bhc3N3b3JkO1xudmFyIHNlbmRQYXNzd29yZFJlc2V0RW1haWwgPSBXcmFwcGVyLnNlbmRQYXNzd29yZFJlc2V0RW1haWw7XG52YXIgc2lnblVwID0gV3JhcHBlci5zaWduVXA7XG52YXIgc2lnbkluID0gV3JhcHBlci5zaWduSW47XG52YXIgZG9lc0VtYWlsRXhpc3QgPSBXcmFwcGVyLmRvZXNFbWFpbEV4aXN0O1xudmFyIGdldFJlc2V0UGFzc3dvcmRUb2tlbkZyb21VUkwgPSBXcmFwcGVyLmdldFJlc2V0UGFzc3dvcmRUb2tlbkZyb21VUkw7XG52YXIgRW1haWxQYXNzd29yZENvbXBvbmVudHNPdmVycmlkZVByb3ZpZGVyID0gV3JhcHBlci5Db21wb25lbnRzT3ZlcnJpZGVQcm92aWRlcjtcblxuZXhwb3J0cy5FbWFpbFBhc3N3b3JkQ29tcG9uZW50c092ZXJyaWRlUHJvdmlkZXIgPSBFbWFpbFBhc3N3b3JkQ29tcG9uZW50c092ZXJyaWRlUHJvdmlkZXI7XG5leHBvcnRzLmRlZmF1bHQgPSBXcmFwcGVyO1xuZXhwb3J0cy5kb2VzRW1haWxFeGlzdCA9IGRvZXNFbWFpbEV4aXN0O1xuZXhwb3J0cy5nZXRSZXNldFBhc3N3b3JkVG9rZW5Gcm9tVVJMID0gZ2V0UmVzZXRQYXNzd29yZFRva2VuRnJvbVVSTDtcbmV4cG9ydHMuaW5pdCA9IGluaXQ7XG5leHBvcnRzLnNlbmRQYXNzd29yZFJlc2V0RW1haWwgPSBzZW5kUGFzc3dvcmRSZXNldEVtYWlsO1xuZXhwb3J0cy5zaWduSW4gPSBzaWduSW47XG5leHBvcnRzLnNpZ25PdXQgPSBzaWduT3V0O1xuZXhwb3J0cy5zaWduVXAgPSBzaWduVXA7XG5leHBvcnRzLnN1Ym1pdE5ld1Bhc3N3b3JkID0gc3VibWl0TmV3UGFzc3dvcmQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1lbWFpbHBhc3N3b3JkLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/supertokens-auth-react/lib/build/emailpassword.js\n"));

/***/ }),

/***/ "./node_modules/supertokens-auth-react/lib/build/genericComponentOverrideContext.js":
/*!******************************************************************************************!*\
  !*** ./node_modules/supertokens-auth-react/lib/build/genericComponentOverrideContext.js ***!
  \******************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\n\nvar utils = __webpack_require__(/*! ./utils.js */ \"./node_modules/supertokens-auth-react/lib/build/utils.js\");\nvar jsxRuntime = __webpack_require__(/*! react/jsx-runtime */ \"./node_modules/react/jsx-runtime.js\");\nvar React = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n\nfunction _interopDefault(e) {\n    return e && e.__esModule ? e : { default: e };\n}\n\nvar React__default = /*#__PURE__*/ _interopDefault(React);\n\nvar createGenericComponentsOverrideContext = function (v) {\n    if (v === void 0) {\n        v = {};\n    }\n    var genericContext = React__default.default.createContext(v);\n    var useComponentsOverrideContext = function () {\n        return React__default.default.useContext(genericContext);\n    };\n    var Provider = function (_a) {\n        var children = _a.children,\n            components = _a.components;\n        return jsxRuntime.jsx(genericContext.Provider, utils.__assign({ value: components }, { children: children }));\n    };\n    return [useComponentsOverrideContext, Provider, genericContext.Consumer];\n};\n\nexports.createGenericComponentsOverrideContext = createGenericComponentsOverrideContext;\n//# sourceMappingURL=genericComponentOverrideContext.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3VwZXJ0b2tlbnMtYXV0aC1yZWFjdC9saWIvYnVpbGQvZ2VuZXJpY0NvbXBvbmVudE92ZXJyaWRlQ29udGV4dC5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYixZQUFZLG1CQUFPLENBQUMsNEVBQVk7QUFDaEMsaUJBQWlCLG1CQUFPLENBQUMsOERBQW1CO0FBQzVDLFlBQVksbUJBQU8sQ0FBQyw0Q0FBTzs7QUFFM0I7QUFDQSxxQ0FBcUM7QUFDckM7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdFQUF3RSxtQkFBbUIsSUFBSSxvQkFBb0I7QUFDbkg7QUFDQTtBQUNBOztBQUVBLDhDQUE4QztBQUM5QyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvc3VwZXJ0b2tlbnMtYXV0aC1yZWFjdC9saWIvYnVpbGQvZ2VuZXJpY0NvbXBvbmVudE92ZXJyaWRlQ29udGV4dC5qcz8zNjVkIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKFwiLi91dGlscy5qc1wiKTtcbnZhciBqc3hSdW50aW1lID0gcmVxdWlyZShcInJlYWN0L2pzeC1ydW50aW1lXCIpO1xudmFyIFJlYWN0ID0gcmVxdWlyZShcInJlYWN0XCIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcERlZmF1bHQoZSkge1xuICAgIHJldHVybiBlICYmIGUuX19lc01vZHVsZSA/IGUgOiB7IGRlZmF1bHQ6IGUgfTtcbn1cblxudmFyIFJlYWN0X19kZWZhdWx0ID0gLyojX19QVVJFX18qLyBfaW50ZXJvcERlZmF1bHQoUmVhY3QpO1xuXG52YXIgY3JlYXRlR2VuZXJpY0NvbXBvbmVudHNPdmVycmlkZUNvbnRleHQgPSBmdW5jdGlvbiAodikge1xuICAgIGlmICh2ID09PSB2b2lkIDApIHtcbiAgICAgICAgdiA9IHt9O1xuICAgIH1cbiAgICB2YXIgZ2VuZXJpY0NvbnRleHQgPSBSZWFjdF9fZGVmYXVsdC5kZWZhdWx0LmNyZWF0ZUNvbnRleHQodik7XG4gICAgdmFyIHVzZUNvbXBvbmVudHNPdmVycmlkZUNvbnRleHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBSZWFjdF9fZGVmYXVsdC5kZWZhdWx0LnVzZUNvbnRleHQoZ2VuZXJpY0NvbnRleHQpO1xuICAgIH07XG4gICAgdmFyIFByb3ZpZGVyID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHZhciBjaGlsZHJlbiA9IF9hLmNoaWxkcmVuLFxuICAgICAgICAgICAgY29tcG9uZW50cyA9IF9hLmNvbXBvbmVudHM7XG4gICAgICAgIHJldHVybiBqc3hSdW50aW1lLmpzeChnZW5lcmljQ29udGV4dC5Qcm92aWRlciwgdXRpbHMuX19hc3NpZ24oeyB2YWx1ZTogY29tcG9uZW50cyB9LCB7IGNoaWxkcmVuOiBjaGlsZHJlbiB9KSk7XG4gICAgfTtcbiAgICByZXR1cm4gW3VzZUNvbXBvbmVudHNPdmVycmlkZUNvbnRleHQsIFByb3ZpZGVyLCBnZW5lcmljQ29udGV4dC5Db25zdW1lcl07XG59O1xuXG5leHBvcnRzLmNyZWF0ZUdlbmVyaWNDb21wb25lbnRzT3ZlcnJpZGVDb250ZXh0ID0gY3JlYXRlR2VuZXJpY0NvbXBvbmVudHNPdmVycmlkZUNvbnRleHQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1nZW5lcmljQ29tcG9uZW50T3ZlcnJpZGVDb250ZXh0LmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/supertokens-auth-react/lib/build/genericComponentOverrideContext.js\n"));

/***/ }),

/***/ "./node_modules/supertokens-auth-react/lib/build/index.js":
/*!****************************************************************!*\
  !*** ./node_modules/supertokens-auth-react/lib/build/index.js ***!
  \****************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\n\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n\nvar utils = __webpack_require__(/*! ./utils.js */ \"./node_modules/supertokens-auth-react/lib/build/utils.js\");\nvar jsxRuntime = __webpack_require__(/*! react/jsx-runtime */ \"./node_modules/react/jsx-runtime.js\");\nvar sessionAuth = __webpack_require__(/*! ./session-shared.js */ \"./node_modules/supertokens-auth-react/lib/build/session-shared.js\");\nvar utils$1 = __webpack_require__(/*! ./recipeModule-shared.js */ \"./node_modules/supertokens-auth-react/lib/build/recipeModule-shared.js\");\nvar translationContext = __webpack_require__(/*! ./translationContext.js */ \"./node_modules/supertokens-auth-react/lib/build/translationContext.js\");\n__webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n__webpack_require__(/*! supertokens-web-js/utils/cookieHandler */ \"./node_modules/supertokens-web-js/utils/cookieHandler/index.js\");\n__webpack_require__(/*! supertokens-web-js/utils/normalisedURLDomain */ \"./node_modules/supertokens-web-js/utils/normalisedURLDomain.js\");\n__webpack_require__(/*! supertokens-web-js/utils/normalisedURLPath */ \"./node_modules/supertokens-web-js/utils/normalisedURLPath.js\");\n__webpack_require__(/*! supertokens-web-js/utils/windowHandler */ \"./node_modules/supertokens-web-js/utils/windowHandler/index.js\");\n__webpack_require__(/*! ./index2.js */ \"./node_modules/supertokens-auth-react/lib/build/index2.js\");\n__webpack_require__(/*! ./session-shared2.js */ \"./node_modules/supertokens-auth-react/lib/build/session-shared2.js\");\n__webpack_require__(/*! supertokens-web-js/recipe/session */ \"./node_modules/supertokens-web-js/recipe/session/index.js\");\n__webpack_require__(/*! supertokens-web-js */ \"./node_modules/supertokens-web-js/index.js\");\n__webpack_require__(/*! supertokens-web-js/utils/postSuperTokensInitCallbacks */ \"./node_modules/supertokens-web-js/utils/postSuperTokensInitCallbacks.js\");\n\nvar SuperTokensWrapper = function (props) {\n    return jsxRuntime.jsx(\n        sessionAuth.SessionAuthWrapper,\n        utils.__assign({}, props, { requireAuth: false, doRedirection: false })\n    );\n};\n\n/* Copyright (c) 2021, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\n/*\n * API Wrapper exposed to user.\n */\nvar SuperTokensAPIWrapper = /** @class */ (function () {\n    function SuperTokensAPIWrapper() {}\n    SuperTokensAPIWrapper.init = function (config) {\n        utils$1.SuperTokens.init(config);\n    };\n    SuperTokensAPIWrapper.changeLanguage = function (language) {\n        return utils$1.SuperTokens.getInstanceOrThrow().changeLanguage(language);\n    };\n    SuperTokensAPIWrapper.loadTranslation = function (store) {\n        return utils$1.SuperTokens.getInstanceOrThrow().loadTranslation(store);\n    };\n    var _a;\n    _a = SuperTokensAPIWrapper;\n    SuperTokensAPIWrapper.SuperTokensWrapper = SuperTokensWrapper;\n    SuperTokensAPIWrapper.redirectToAuth = function (options) {\n        return utils.__awaiter(void 0, void 0, void 0, function () {\n            var _b;\n            return utils.__generator(_a, function (_c) {\n                return [\n                    2 /*return*/,\n                    utils$1.SuperTokens.getInstanceOrThrow().redirectToAuth(\n                        utils.__assign(utils.__assign({}, options), {\n                            redirectBack:\n                                (_b = options === null || options === void 0 ? void 0 : options.redirectBack) !==\n                                    null && _b !== void 0\n                                    ? _b\n                                    : true,\n                        })\n                    ),\n                ];\n            });\n        });\n    };\n    SuperTokensAPIWrapper.useTranslation = translationContext.useTranslation;\n    SuperTokensAPIWrapper.useUserContext = sessionAuth.useUserContext;\n    return SuperTokensAPIWrapper;\n})();\nvar init = SuperTokensAPIWrapper.init;\nvar changeLanguage = SuperTokensAPIWrapper.changeLanguage;\nvar loadTranslation = SuperTokensAPIWrapper.loadTranslation;\nvar redirectToAuth = SuperTokensAPIWrapper.redirectToAuth;\n\nexports.useUserContext = sessionAuth.useUserContext;\nexports.useTranslation = translationContext.useTranslation;\nexports.SuperTokensWrapper = SuperTokensWrapper;\nexports.changeLanguage = changeLanguage;\nexports[\"default\"] = SuperTokensAPIWrapper;\nexports.init = init;\nexports.loadTranslation = loadTranslation;\nexports.redirectToAuth = redirectToAuth;\n//# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3VwZXJ0b2tlbnMtYXV0aC1yZWFjdC9saWIvYnVpbGQvaW5kZXguanMuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsOENBQTZDLEVBQUUsYUFBYSxFQUFDOztBQUU3RCxZQUFZLG1CQUFPLENBQUMsNEVBQVk7QUFDaEMsaUJBQWlCLG1CQUFPLENBQUMsOERBQW1CO0FBQzVDLGtCQUFrQixtQkFBTyxDQUFDLDhGQUFxQjtBQUMvQyxjQUFjLG1CQUFPLENBQUMsd0dBQTBCO0FBQ2hELHlCQUF5QixtQkFBTyxDQUFDLHNHQUF5QjtBQUMxRCxtQkFBTyxDQUFDLDRDQUFPO0FBQ2YsbUJBQU8sQ0FBQyw4R0FBd0M7QUFDaEQsbUJBQU8sQ0FBQyxvSEFBOEM7QUFDdEQsbUJBQU8sQ0FBQyxnSEFBNEM7QUFDcEQsbUJBQU8sQ0FBQyw4R0FBd0M7QUFDaEQsbUJBQU8sQ0FBQyw4RUFBYTtBQUNyQixtQkFBTyxDQUFDLGdHQUFzQjtBQUM5QixtQkFBTyxDQUFDLG9HQUFtQztBQUMzQyxtQkFBTyxDQUFDLHNFQUFvQjtBQUM1QixtQkFBTyxDQUFDLHNJQUF1RDs7QUFFL0Q7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLFdBQVcsMENBQTBDO0FBQzlFO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdEQUF3RDtBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHNCQUFzQjtBQUN0QixzQkFBc0I7QUFDdEIsMEJBQTBCO0FBQzFCLHNCQUFzQjtBQUN0QixrQkFBZTtBQUNmLFlBQVk7QUFDWix1QkFBdUI7QUFDdkIsc0JBQXNCO0FBQ3RCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9zdXBlcnRva2Vucy1hdXRoLXJlYWN0L2xpYi9idWlsZC9pbmRleC5qcz80ZTBmIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoXCIuL3V0aWxzLmpzXCIpO1xudmFyIGpzeFJ1bnRpbWUgPSByZXF1aXJlKFwicmVhY3QvanN4LXJ1bnRpbWVcIik7XG52YXIgc2Vzc2lvbkF1dGggPSByZXF1aXJlKFwiLi9zZXNzaW9uLXNoYXJlZC5qc1wiKTtcbnZhciB1dGlscyQxID0gcmVxdWlyZShcIi4vcmVjaXBlTW9kdWxlLXNoYXJlZC5qc1wiKTtcbnZhciB0cmFuc2xhdGlvbkNvbnRleHQgPSByZXF1aXJlKFwiLi90cmFuc2xhdGlvbkNvbnRleHQuanNcIik7XG5yZXF1aXJlKFwicmVhY3RcIik7XG5yZXF1aXJlKFwic3VwZXJ0b2tlbnMtd2ViLWpzL3V0aWxzL2Nvb2tpZUhhbmRsZXJcIik7XG5yZXF1aXJlKFwic3VwZXJ0b2tlbnMtd2ViLWpzL3V0aWxzL25vcm1hbGlzZWRVUkxEb21haW5cIik7XG5yZXF1aXJlKFwic3VwZXJ0b2tlbnMtd2ViLWpzL3V0aWxzL25vcm1hbGlzZWRVUkxQYXRoXCIpO1xucmVxdWlyZShcInN1cGVydG9rZW5zLXdlYi1qcy91dGlscy93aW5kb3dIYW5kbGVyXCIpO1xucmVxdWlyZShcIi4vaW5kZXgyLmpzXCIpO1xucmVxdWlyZShcIi4vc2Vzc2lvbi1zaGFyZWQyLmpzXCIpO1xucmVxdWlyZShcInN1cGVydG9rZW5zLXdlYi1qcy9yZWNpcGUvc2Vzc2lvblwiKTtcbnJlcXVpcmUoXCJzdXBlcnRva2Vucy13ZWItanNcIik7XG5yZXF1aXJlKFwic3VwZXJ0b2tlbnMtd2ViLWpzL3V0aWxzL3Bvc3RTdXBlclRva2Vuc0luaXRDYWxsYmFja3NcIik7XG5cbnZhciBTdXBlclRva2Vuc1dyYXBwZXIgPSBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICByZXR1cm4ganN4UnVudGltZS5qc3goXG4gICAgICAgIHNlc3Npb25BdXRoLlNlc3Npb25BdXRoV3JhcHBlcixcbiAgICAgICAgdXRpbHMuX19hc3NpZ24oe30sIHByb3BzLCB7IHJlcXVpcmVBdXRoOiBmYWxzZSwgZG9SZWRpcmVjdGlvbjogZmFsc2UgfSlcbiAgICApO1xufTtcblxuLyogQ29weXJpZ2h0IChjKSAyMDIxLCBWUkFJIExhYnMgYW5kL29yIGl0cyBhZmZpbGlhdGVzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc29mdHdhcmUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlXG4gKiBcIkxpY2Vuc2VcIikgYXMgcHVibGlzaGVkIGJ5IHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRhdGlvbi5cbiAqXG4gKiBZb3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXlcbiAqIG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLCBXSVRIT1VUXG4gKiBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuIFNlZSB0aGVcbiAqIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zXG4gKiB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLypcbiAqIEFQSSBXcmFwcGVyIGV4cG9zZWQgdG8gdXNlci5cbiAqL1xudmFyIFN1cGVyVG9rZW5zQVBJV3JhcHBlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTdXBlclRva2Vuc0FQSVdyYXBwZXIoKSB7fVxuICAgIFN1cGVyVG9rZW5zQVBJV3JhcHBlci5pbml0ID0gZnVuY3Rpb24gKGNvbmZpZykge1xuICAgICAgICB1dGlscyQxLlN1cGVyVG9rZW5zLmluaXQoY29uZmlnKTtcbiAgICB9O1xuICAgIFN1cGVyVG9rZW5zQVBJV3JhcHBlci5jaGFuZ2VMYW5ndWFnZSA9IGZ1bmN0aW9uIChsYW5ndWFnZSkge1xuICAgICAgICByZXR1cm4gdXRpbHMkMS5TdXBlclRva2Vucy5nZXRJbnN0YW5jZU9yVGhyb3coKS5jaGFuZ2VMYW5ndWFnZShsYW5ndWFnZSk7XG4gICAgfTtcbiAgICBTdXBlclRva2Vuc0FQSVdyYXBwZXIubG9hZFRyYW5zbGF0aW9uID0gZnVuY3Rpb24gKHN0b3JlKSB7XG4gICAgICAgIHJldHVybiB1dGlscyQxLlN1cGVyVG9rZW5zLmdldEluc3RhbmNlT3JUaHJvdygpLmxvYWRUcmFuc2xhdGlvbihzdG9yZSk7XG4gICAgfTtcbiAgICB2YXIgX2E7XG4gICAgX2EgPSBTdXBlclRva2Vuc0FQSVdyYXBwZXI7XG4gICAgU3VwZXJUb2tlbnNBUElXcmFwcGVyLlN1cGVyVG9rZW5zV3JhcHBlciA9IFN1cGVyVG9rZW5zV3JhcHBlcjtcbiAgICBTdXBlclRva2Vuc0FQSVdyYXBwZXIucmVkaXJlY3RUb0F1dGggPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdXRpbHMuX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBfYjtcbiAgICAgICAgICAgIHJldHVybiB1dGlscy5fX2dlbmVyYXRvcihfYSwgZnVuY3Rpb24gKF9jKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgMiAvKnJldHVybiovLFxuICAgICAgICAgICAgICAgICAgICB1dGlscyQxLlN1cGVyVG9rZW5zLmdldEluc3RhbmNlT3JUaHJvdygpLnJlZGlyZWN0VG9BdXRoKFxuICAgICAgICAgICAgICAgICAgICAgICAgdXRpbHMuX19hc3NpZ24odXRpbHMuX19hc3NpZ24oe30sIG9wdGlvbnMpLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVkaXJlY3RCYWNrOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoX2IgPSBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMucmVkaXJlY3RCYWNrKSAhPT1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bGwgJiYgX2IgIT09IHZvaWQgMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBfYlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgU3VwZXJUb2tlbnNBUElXcmFwcGVyLnVzZVRyYW5zbGF0aW9uID0gdHJhbnNsYXRpb25Db250ZXh0LnVzZVRyYW5zbGF0aW9uO1xuICAgIFN1cGVyVG9rZW5zQVBJV3JhcHBlci51c2VVc2VyQ29udGV4dCA9IHNlc3Npb25BdXRoLnVzZVVzZXJDb250ZXh0O1xuICAgIHJldHVybiBTdXBlclRva2Vuc0FQSVdyYXBwZXI7XG59KSgpO1xudmFyIGluaXQgPSBTdXBlclRva2Vuc0FQSVdyYXBwZXIuaW5pdDtcbnZhciBjaGFuZ2VMYW5ndWFnZSA9IFN1cGVyVG9rZW5zQVBJV3JhcHBlci5jaGFuZ2VMYW5ndWFnZTtcbnZhciBsb2FkVHJhbnNsYXRpb24gPSBTdXBlclRva2Vuc0FQSVdyYXBwZXIubG9hZFRyYW5zbGF0aW9uO1xudmFyIHJlZGlyZWN0VG9BdXRoID0gU3VwZXJUb2tlbnNBUElXcmFwcGVyLnJlZGlyZWN0VG9BdXRoO1xuXG5leHBvcnRzLnVzZVVzZXJDb250ZXh0ID0gc2Vzc2lvbkF1dGgudXNlVXNlckNvbnRleHQ7XG5leHBvcnRzLnVzZVRyYW5zbGF0aW9uID0gdHJhbnNsYXRpb25Db250ZXh0LnVzZVRyYW5zbGF0aW9uO1xuZXhwb3J0cy5TdXBlclRva2Vuc1dyYXBwZXIgPSBTdXBlclRva2Vuc1dyYXBwZXI7XG5leHBvcnRzLmNoYW5nZUxhbmd1YWdlID0gY2hhbmdlTGFuZ3VhZ2U7XG5leHBvcnRzLmRlZmF1bHQgPSBTdXBlclRva2Vuc0FQSVdyYXBwZXI7XG5leHBvcnRzLmluaXQgPSBpbml0O1xuZXhwb3J0cy5sb2FkVHJhbnNsYXRpb24gPSBsb2FkVHJhbnNsYXRpb247XG5leHBvcnRzLnJlZGlyZWN0VG9BdXRoID0gcmVkaXJlY3RUb0F1dGg7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/supertokens-auth-react/lib/build/index.js\n"));

/***/ }),

/***/ "./node_modules/supertokens-auth-react/lib/build/index2.js":
/*!*****************************************************************!*\
  !*** ./node_modules/supertokens-auth-react/lib/build/index2.js ***!
  \*****************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\n\nvar jsxRuntime = __webpack_require__(/*! react/jsx-runtime */ \"./node_modules/react/jsx-runtime.js\");\nvar React = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\nvar NormalisedURLPath = __webpack_require__(/*! supertokens-web-js/utils/normalisedURLPath */ \"./node_modules/supertokens-web-js/utils/normalisedURLPath.js\");\nvar utils = __webpack_require__(/*! ./utils.js */ \"./node_modules/supertokens-auth-react/lib/build/utils.js\");\n\nfunction _interopDefault(e) {\n    return e && e.__esModule ? e : { default: e };\n}\n\nvar React__default = /*#__PURE__*/ _interopDefault(React);\nvar NormalisedURLPath__default = /*#__PURE__*/ _interopDefault(NormalisedURLPath);\n\nvar RecipeRouter = /** @class */ (function () {\n    function RecipeRouter() {\n        var _this = this;\n        this.getPathsToFeatureComponentWithRecipeIdMap = function () {\n            // Memoized version of the map.\n            if (_this.pathsToFeatureComponentWithRecipeIdMap !== undefined) {\n                return _this.pathsToFeatureComponentWithRecipeIdMap;\n            }\n            var pathsToFeatureComponentWithRecipeIdMap = {};\n            var features = _this.getFeatures();\n            var featurePaths = Object.keys(features);\n            for (var j = 0; j < featurePaths.length; j++) {\n                // If no components yet for this route, initialize empty array.\n                var featurePath = featurePaths[j];\n                if (pathsToFeatureComponentWithRecipeIdMap[featurePath] === undefined) {\n                    pathsToFeatureComponentWithRecipeIdMap[featurePath] = [];\n                }\n                pathsToFeatureComponentWithRecipeIdMap[featurePath].push(features[featurePath]);\n            }\n            _this.pathsToFeatureComponentWithRecipeIdMap = pathsToFeatureComponentWithRecipeIdMap;\n            return _this.pathsToFeatureComponentWithRecipeIdMap;\n        };\n    }\n    RecipeRouter.getMatchingComponentForRouteAndRecipeIdFromPreBuiltUIList = function (normalisedUrl, preBuiltUIList) {\n        var path = normalisedUrl.getAsStringDangerous();\n        var routeComponents = preBuiltUIList.reduce(function (components, c) {\n            var _a;\n            var routes =\n                (_a = c.getPathsToFeatureComponentWithRecipeIdMap) === null || _a === void 0\n                    ? void 0\n                    : _a.call(c)[path];\n            return routes !== undefined ? components.concat(routes) : components;\n        }, []);\n        if (routeComponents.length === 0) {\n            return undefined;\n        }\n        var component = routeComponents.find(function (c) {\n            return c.matches();\n        });\n        if (component !== undefined) {\n            return component;\n        }\n        // Otherwise, If no recipe Id provided, or if no recipe id matches, return the first matching component.\n        return routeComponents[0];\n    };\n    return RecipeRouter;\n})();\n\nfunction RoutingComponent(props) {\n    var _a, _b;\n    var path = props.path;\n    var location =\n        (_a = props.getReactRouterDomWithCustomHistory()) === null || _a === void 0 ? void 0 : _a.useLocation();\n    var componentToRender = React__default.default.useMemo(\n        function () {\n            var normalizedPath = new NormalisedURLPath__default.default(path);\n            // During development, this runs twice so as to warn devs of if there\n            // are any side effects that happen here. So in tests, it will result in\n            // the console log twice\n            return RecipeRouter.getMatchingComponentForRouteAndRecipeIdFromPreBuiltUIList(\n                normalizedPath,\n                props.preBuiltUIList\n            );\n        },\n        [path, location]\n    ); // location dependency needs to be kept in order to get new component on url change\n    var history =\n        (_b = props.getReactRouterDomWithCustomHistory()) === null || _b === void 0 ? void 0 : _b.useHistoryCustom();\n    if (componentToRender === undefined) {\n        return null;\n    }\n    return jsxRuntime.jsx(componentToRender.component, { history: history });\n}\n\n/*\n * Component.\n */\nfunction getSuperTokensRoutesForReactRouterDom$1(_a) {\n    var getReactRouterDomWithCustomHistory = _a.getReactRouterDomWithCustomHistory,\n        recipeList = _a.recipeList;\n    var routerInfo = getReactRouterDomWithCustomHistory();\n    if (routerInfo === undefined) {\n        return [];\n    }\n    var Route = routerInfo.router.Route;\n    return Object.values(\n        recipeList.reduce(function (routes, recipe) {\n            var pathsToFeatureComponentWithRecipeIdMap = recipe.getPathsToFeatureComponentWithRecipeIdMap();\n            Object.keys(pathsToFeatureComponentWithRecipeIdMap).forEach(function (path) {\n                path = path === \"\" ? \"/\" : path;\n                if (!(path in routes)) {\n                    routes[path] = jsxRuntime.jsx(\n                        Route,\n                        utils.__assign(\n                            { exact: true, path: path },\n                            {\n                                children: jsxRuntime.jsx(RoutingComponent, {\n                                    getReactRouterDomWithCustomHistory: getReactRouterDomWithCustomHistory,\n                                    preBuiltUIList: recipeList,\n                                    path: path,\n                                }),\n                            }\n                        ),\n                        \"st-\".concat(path)\n                    );\n                }\n            });\n            return routes;\n        }, {})\n    );\n}\n\n/*\n * Component.\n */\nfunction getSuperTokensRoutesForReactRouterDomV6(_a) {\n    var getReactRouterDomWithCustomHistory = _a.getReactRouterDomWithCustomHistory,\n        recipeList = _a.recipeList;\n    var routerInfo = getReactRouterDomWithCustomHistory();\n    if (routerInfo === undefined) {\n        return [];\n    }\n    var Route = routerInfo.router.Route;\n    return Object.values(\n        recipeList.reduce(function (routes, recipe) {\n            var pathsToFeatureComponentWithRecipeIdMap = recipe.getPathsToFeatureComponentWithRecipeIdMap();\n            Object.keys(pathsToFeatureComponentWithRecipeIdMap).forEach(function (path) {\n                path = path === \"\" ? \"/\" : path;\n                if (!(path in routes)) {\n                    routes[path] = jsxRuntime.jsx(\n                        Route,\n                        {\n                            path: path,\n                            element: jsxRuntime.jsx(RoutingComponent, {\n                                getReactRouterDomWithCustomHistory: getReactRouterDomWithCustomHistory,\n                                preBuiltUIList: recipeList,\n                                path: path,\n                            }),\n                        },\n                        \"st-\".concat(path)\n                    );\n                }\n            });\n            return routes;\n        }, {})\n    );\n}\n\nvar UI = /** @class */ (function () {\n    function UI() {}\n    UI.getSuperTokensRoutesForReactRouterDom = function (reactRouterDom, preBuiltUiClassList) {\n        if (preBuiltUiClassList === void 0) {\n            preBuiltUiClassList = [];\n        }\n        if (reactRouterDom === undefined || preBuiltUiClassList.length === 0) {\n            throw new Error(\n                // eslint-disable-next-line @typescript-eslint/quotes\n                'Please use getSuperTokensRoutesForReactRouterDom like getSuperTokensRoutesForReactRouterDom(require(\"react-router-dom\"), [EmailPasswordPreBuiltUI]) in your render function'\n            );\n        }\n        var recipeList = preBuiltUiClassList.map(function (r) {\n            return r.getInstanceOrInitAndGetInstance();\n        });\n        if (UI.reactRouterDomIsV6 === undefined) {\n            UI.reactRouterDomIsV6 = reactRouterDom.withRouter === undefined;\n        }\n        if (UI.reactRouterDomIsV6) {\n            if (UI.reactRouterDom === undefined) {\n                // this function wraps the react-router-dom v6 useNavigate function in a way\n                // that enforces that it runs within a useEffect. The reason we do this is\n                // cause of https://github.com/remix-run/react-router/issues/7460\n                // which gets shown when visiting a social auth callback url like\n                // /auth/callback/github, without a valid code or state. This then\n                // doesn't navigate the user to the auth page.\n                var useNavigateHookForRRDV6 = function () {\n                    var navigateHook = reactRouterDom.useNavigate();\n                    var _a = React__default.default.useState(undefined),\n                        to = _a[0],\n                        setTo = _a[1];\n                    React__default.default.useEffect(\n                        function () {\n                            if (to !== undefined) {\n                                setTo(undefined);\n                                navigateHook(to);\n                            }\n                        },\n                        [to, navigateHook, setTo]\n                    );\n                    return setTo;\n                };\n                UI.reactRouterDom = {\n                    router: reactRouterDom,\n                    useHistoryCustom: useNavigateHookForRRDV6,\n                    useLocation: reactRouterDom.useLocation,\n                };\n            }\n            return getSuperTokensRoutesForReactRouterDomV6({\n                getReactRouterDomWithCustomHistory: UI.getReactRouterDomWithCustomHistory,\n                recipeList: recipeList,\n            });\n        }\n        if (UI.reactRouterDom === undefined) {\n            UI.reactRouterDom = {\n                router: reactRouterDom,\n                useHistoryCustom: reactRouterDom.useHistory,\n                useLocation: reactRouterDom.useLocation,\n            };\n        }\n        return getSuperTokensRoutesForReactRouterDom$1({\n            getReactRouterDomWithCustomHistory: UI.getReactRouterDomWithCustomHistory,\n            recipeList: recipeList,\n        });\n    };\n    UI.canHandleRoute = function (preBuiltUiClassList) {\n        var recipeList = preBuiltUiClassList.map(function (r) {\n            return r.getInstanceOrInitAndGetInstance();\n        });\n        return (\n            RecipeRouter.getMatchingComponentForRouteAndRecipeIdFromPreBuiltUIList(\n                utils.getCurrentNormalisedUrlPath(),\n                recipeList\n            ) !== undefined\n        );\n    };\n    UI.getRoutingComponent = function (preBuiltUiClassList) {\n        var recipeList = preBuiltUiClassList.map(function (r) {\n            return r.getInstanceOrInitAndGetInstance();\n        });\n        return jsxRuntime.jsx(RoutingComponent, {\n            getReactRouterDomWithCustomHistory: UI.getReactRouterDomWithCustomHistory,\n            path: utils.getCurrentNormalisedUrlPath().getAsStringDangerous(),\n            preBuiltUIList: recipeList,\n        });\n    };\n    UI.getReactRouterDomWithCustomHistory = function () {\n        return UI.reactRouterDom;\n    };\n    return UI;\n})();\nvar getSuperTokensRoutesForReactRouterDom = UI.getSuperTokensRoutesForReactRouterDom;\nvar canHandleRoute = UI.canHandleRoute;\nvar getRoutingComponent = UI.getRoutingComponent;\n\nexports.RecipeRouter = RecipeRouter;\nexports.UI = UI;\nexports.canHandleRoute = canHandleRoute;\nexports.getRoutingComponent = getRoutingComponent;\nexports.getSuperTokensRoutesForReactRouterDom = getSuperTokensRoutesForReactRouterDom;\n//# sourceMappingURL=index2.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3VwZXJ0b2tlbnMtYXV0aC1yZWFjdC9saWIvYnVpbGQvaW5kZXgyLmpzLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLGlCQUFpQixtQkFBTyxDQUFDLDhEQUFtQjtBQUM1QyxZQUFZLG1CQUFPLENBQUMsNENBQU87QUFDM0Isd0JBQXdCLG1CQUFPLENBQUMsZ0hBQTRDO0FBQzVFLFlBQVksbUJBQU8sQ0FBQyw0RUFBWTs7QUFFaEM7QUFDQSxxQ0FBcUM7QUFDckM7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLHlCQUF5QjtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseURBQXlELGtCQUFrQjtBQUMzRTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLHlCQUF5QjtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxTQUFTLElBQUk7QUFDYjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxTQUFTLElBQUk7QUFDYjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTs7QUFFQSxvQkFBb0I7QUFDcEIsVUFBVTtBQUNWLHNCQUFzQjtBQUN0QiwyQkFBMkI7QUFDM0IsNkNBQTZDO0FBQzdDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9zdXBlcnRva2Vucy1hdXRoLXJlYWN0L2xpYi9idWlsZC9pbmRleDIuanM/NDlhZCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxudmFyIGpzeFJ1bnRpbWUgPSByZXF1aXJlKFwicmVhY3QvanN4LXJ1bnRpbWVcIik7XG52YXIgUmVhY3QgPSByZXF1aXJlKFwicmVhY3RcIik7XG52YXIgTm9ybWFsaXNlZFVSTFBhdGggPSByZXF1aXJlKFwic3VwZXJ0b2tlbnMtd2ViLWpzL3V0aWxzL25vcm1hbGlzZWRVUkxQYXRoXCIpO1xudmFyIHV0aWxzID0gcmVxdWlyZShcIi4vdXRpbHMuanNcIik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wRGVmYXVsdChlKSB7XG4gICAgcmV0dXJuIGUgJiYgZS5fX2VzTW9kdWxlID8gZSA6IHsgZGVmYXVsdDogZSB9O1xufVxuXG52YXIgUmVhY3RfX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovIF9pbnRlcm9wRGVmYXVsdChSZWFjdCk7XG52YXIgTm9ybWFsaXNlZFVSTFBhdGhfX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovIF9pbnRlcm9wRGVmYXVsdChOb3JtYWxpc2VkVVJMUGF0aCk7XG5cbnZhciBSZWNpcGVSb3V0ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUmVjaXBlUm91dGVyKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLmdldFBhdGhzVG9GZWF0dXJlQ29tcG9uZW50V2l0aFJlY2lwZUlkTWFwID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgLy8gTWVtb2l6ZWQgdmVyc2lvbiBvZiB0aGUgbWFwLlxuICAgICAgICAgICAgaWYgKF90aGlzLnBhdGhzVG9GZWF0dXJlQ29tcG9uZW50V2l0aFJlY2lwZUlkTWFwICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMucGF0aHNUb0ZlYXR1cmVDb21wb25lbnRXaXRoUmVjaXBlSWRNYXA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgcGF0aHNUb0ZlYXR1cmVDb21wb25lbnRXaXRoUmVjaXBlSWRNYXAgPSB7fTtcbiAgICAgICAgICAgIHZhciBmZWF0dXJlcyA9IF90aGlzLmdldEZlYXR1cmVzKCk7XG4gICAgICAgICAgICB2YXIgZmVhdHVyZVBhdGhzID0gT2JqZWN0LmtleXMoZmVhdHVyZXMpO1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBmZWF0dXJlUGF0aHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAvLyBJZiBubyBjb21wb25lbnRzIHlldCBmb3IgdGhpcyByb3V0ZSwgaW5pdGlhbGl6ZSBlbXB0eSBhcnJheS5cbiAgICAgICAgICAgICAgICB2YXIgZmVhdHVyZVBhdGggPSBmZWF0dXJlUGF0aHNbal07XG4gICAgICAgICAgICAgICAgaWYgKHBhdGhzVG9GZWF0dXJlQ29tcG9uZW50V2l0aFJlY2lwZUlkTWFwW2ZlYXR1cmVQYXRoXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhdGhzVG9GZWF0dXJlQ29tcG9uZW50V2l0aFJlY2lwZUlkTWFwW2ZlYXR1cmVQYXRoXSA9IFtdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBwYXRoc1RvRmVhdHVyZUNvbXBvbmVudFdpdGhSZWNpcGVJZE1hcFtmZWF0dXJlUGF0aF0ucHVzaChmZWF0dXJlc1tmZWF0dXJlUGF0aF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3RoaXMucGF0aHNUb0ZlYXR1cmVDb21wb25lbnRXaXRoUmVjaXBlSWRNYXAgPSBwYXRoc1RvRmVhdHVyZUNvbXBvbmVudFdpdGhSZWNpcGVJZE1hcDtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5wYXRoc1RvRmVhdHVyZUNvbXBvbmVudFdpdGhSZWNpcGVJZE1hcDtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgUmVjaXBlUm91dGVyLmdldE1hdGNoaW5nQ29tcG9uZW50Rm9yUm91dGVBbmRSZWNpcGVJZEZyb21QcmVCdWlsdFVJTGlzdCA9IGZ1bmN0aW9uIChub3JtYWxpc2VkVXJsLCBwcmVCdWlsdFVJTGlzdCkge1xuICAgICAgICB2YXIgcGF0aCA9IG5vcm1hbGlzZWRVcmwuZ2V0QXNTdHJpbmdEYW5nZXJvdXMoKTtcbiAgICAgICAgdmFyIHJvdXRlQ29tcG9uZW50cyA9IHByZUJ1aWx0VUlMaXN0LnJlZHVjZShmdW5jdGlvbiAoY29tcG9uZW50cywgYykge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgdmFyIHJvdXRlcyA9XG4gICAgICAgICAgICAgICAgKF9hID0gYy5nZXRQYXRoc1RvRmVhdHVyZUNvbXBvbmVudFdpdGhSZWNpcGVJZE1hcCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMFxuICAgICAgICAgICAgICAgICAgICA/IHZvaWQgMFxuICAgICAgICAgICAgICAgICAgICA6IF9hLmNhbGwoYylbcGF0aF07XG4gICAgICAgICAgICByZXR1cm4gcm91dGVzICE9PSB1bmRlZmluZWQgPyBjb21wb25lbnRzLmNvbmNhdChyb3V0ZXMpIDogY29tcG9uZW50cztcbiAgICAgICAgfSwgW10pO1xuICAgICAgICBpZiAocm91dGVDb21wb25lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY29tcG9uZW50ID0gcm91dGVDb21wb25lbnRzLmZpbmQoZnVuY3Rpb24gKGMpIHtcbiAgICAgICAgICAgIHJldHVybiBjLm1hdGNoZXMoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChjb21wb25lbnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIGNvbXBvbmVudDtcbiAgICAgICAgfVxuICAgICAgICAvLyBPdGhlcndpc2UsIElmIG5vIHJlY2lwZSBJZCBwcm92aWRlZCwgb3IgaWYgbm8gcmVjaXBlIGlkIG1hdGNoZXMsIHJldHVybiB0aGUgZmlyc3QgbWF0Y2hpbmcgY29tcG9uZW50LlxuICAgICAgICByZXR1cm4gcm91dGVDb21wb25lbnRzWzBdO1xuICAgIH07XG4gICAgcmV0dXJuIFJlY2lwZVJvdXRlcjtcbn0pKCk7XG5cbmZ1bmN0aW9uIFJvdXRpbmdDb21wb25lbnQocHJvcHMpIHtcbiAgICB2YXIgX2EsIF9iO1xuICAgIHZhciBwYXRoID0gcHJvcHMucGF0aDtcbiAgICB2YXIgbG9jYXRpb24gPVxuICAgICAgICAoX2EgPSBwcm9wcy5nZXRSZWFjdFJvdXRlckRvbVdpdGhDdXN0b21IaXN0b3J5KCkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS51c2VMb2NhdGlvbigpO1xuICAgIHZhciBjb21wb25lbnRUb1JlbmRlciA9IFJlYWN0X19kZWZhdWx0LmRlZmF1bHQudXNlTWVtbyhcbiAgICAgICAgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIG5vcm1hbGl6ZWRQYXRoID0gbmV3IE5vcm1hbGlzZWRVUkxQYXRoX19kZWZhdWx0LmRlZmF1bHQocGF0aCk7XG4gICAgICAgICAgICAvLyBEdXJpbmcgZGV2ZWxvcG1lbnQsIHRoaXMgcnVucyB0d2ljZSBzbyBhcyB0byB3YXJuIGRldnMgb2YgaWYgdGhlcmVcbiAgICAgICAgICAgIC8vIGFyZSBhbnkgc2lkZSBlZmZlY3RzIHRoYXQgaGFwcGVuIGhlcmUuIFNvIGluIHRlc3RzLCBpdCB3aWxsIHJlc3VsdCBpblxuICAgICAgICAgICAgLy8gdGhlIGNvbnNvbGUgbG9nIHR3aWNlXG4gICAgICAgICAgICByZXR1cm4gUmVjaXBlUm91dGVyLmdldE1hdGNoaW5nQ29tcG9uZW50Rm9yUm91dGVBbmRSZWNpcGVJZEZyb21QcmVCdWlsdFVJTGlzdChcbiAgICAgICAgICAgICAgICBub3JtYWxpemVkUGF0aCxcbiAgICAgICAgICAgICAgICBwcm9wcy5wcmVCdWlsdFVJTGlzdFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSxcbiAgICAgICAgW3BhdGgsIGxvY2F0aW9uXVxuICAgICk7IC8vIGxvY2F0aW9uIGRlcGVuZGVuY3kgbmVlZHMgdG8gYmUga2VwdCBpbiBvcmRlciB0byBnZXQgbmV3IGNvbXBvbmVudCBvbiB1cmwgY2hhbmdlXG4gICAgdmFyIGhpc3RvcnkgPVxuICAgICAgICAoX2IgPSBwcm9wcy5nZXRSZWFjdFJvdXRlckRvbVdpdGhDdXN0b21IaXN0b3J5KCkpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi51c2VIaXN0b3J5Q3VzdG9tKCk7XG4gICAgaWYgKGNvbXBvbmVudFRvUmVuZGVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBqc3hSdW50aW1lLmpzeChjb21wb25lbnRUb1JlbmRlci5jb21wb25lbnQsIHsgaGlzdG9yeTogaGlzdG9yeSB9KTtcbn1cblxuLypcbiAqIENvbXBvbmVudC5cbiAqL1xuZnVuY3Rpb24gZ2V0U3VwZXJUb2tlbnNSb3V0ZXNGb3JSZWFjdFJvdXRlckRvbSQxKF9hKSB7XG4gICAgdmFyIGdldFJlYWN0Um91dGVyRG9tV2l0aEN1c3RvbUhpc3RvcnkgPSBfYS5nZXRSZWFjdFJvdXRlckRvbVdpdGhDdXN0b21IaXN0b3J5LFxuICAgICAgICByZWNpcGVMaXN0ID0gX2EucmVjaXBlTGlzdDtcbiAgICB2YXIgcm91dGVySW5mbyA9IGdldFJlYWN0Um91dGVyRG9tV2l0aEN1c3RvbUhpc3RvcnkoKTtcbiAgICBpZiAocm91dGVySW5mbyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgdmFyIFJvdXRlID0gcm91dGVySW5mby5yb3V0ZXIuUm91dGU7XG4gICAgcmV0dXJuIE9iamVjdC52YWx1ZXMoXG4gICAgICAgIHJlY2lwZUxpc3QucmVkdWNlKGZ1bmN0aW9uIChyb3V0ZXMsIHJlY2lwZSkge1xuICAgICAgICAgICAgdmFyIHBhdGhzVG9GZWF0dXJlQ29tcG9uZW50V2l0aFJlY2lwZUlkTWFwID0gcmVjaXBlLmdldFBhdGhzVG9GZWF0dXJlQ29tcG9uZW50V2l0aFJlY2lwZUlkTWFwKCk7XG4gICAgICAgICAgICBPYmplY3Qua2V5cyhwYXRoc1RvRmVhdHVyZUNvbXBvbmVudFdpdGhSZWNpcGVJZE1hcCkuZm9yRWFjaChmdW5jdGlvbiAocGF0aCkge1xuICAgICAgICAgICAgICAgIHBhdGggPSBwYXRoID09PSBcIlwiID8gXCIvXCIgOiBwYXRoO1xuICAgICAgICAgICAgICAgIGlmICghKHBhdGggaW4gcm91dGVzKSkge1xuICAgICAgICAgICAgICAgICAgICByb3V0ZXNbcGF0aF0gPSBqc3hSdW50aW1lLmpzeChcbiAgICAgICAgICAgICAgICAgICAgICAgIFJvdXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXRpbHMuX19hc3NpZ24oXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBleGFjdDogdHJ1ZSwgcGF0aDogcGF0aCB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW46IGpzeFJ1bnRpbWUuanN4KFJvdXRpbmdDb21wb25lbnQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldFJlYWN0Um91dGVyRG9tV2l0aEN1c3RvbUhpc3Rvcnk6IGdldFJlYWN0Um91dGVyRG9tV2l0aEN1c3RvbUhpc3RvcnksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmVCdWlsdFVJTGlzdDogcmVjaXBlTGlzdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6IHBhdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICBcInN0LVwiLmNvbmNhdChwYXRoKVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHJvdXRlcztcbiAgICAgICAgfSwge30pXG4gICAgKTtcbn1cblxuLypcbiAqIENvbXBvbmVudC5cbiAqL1xuZnVuY3Rpb24gZ2V0U3VwZXJUb2tlbnNSb3V0ZXNGb3JSZWFjdFJvdXRlckRvbVY2KF9hKSB7XG4gICAgdmFyIGdldFJlYWN0Um91dGVyRG9tV2l0aEN1c3RvbUhpc3RvcnkgPSBfYS5nZXRSZWFjdFJvdXRlckRvbVdpdGhDdXN0b21IaXN0b3J5LFxuICAgICAgICByZWNpcGVMaXN0ID0gX2EucmVjaXBlTGlzdDtcbiAgICB2YXIgcm91dGVySW5mbyA9IGdldFJlYWN0Um91dGVyRG9tV2l0aEN1c3RvbUhpc3RvcnkoKTtcbiAgICBpZiAocm91dGVySW5mbyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgdmFyIFJvdXRlID0gcm91dGVySW5mby5yb3V0ZXIuUm91dGU7XG4gICAgcmV0dXJuIE9iamVjdC52YWx1ZXMoXG4gICAgICAgIHJlY2lwZUxpc3QucmVkdWNlKGZ1bmN0aW9uIChyb3V0ZXMsIHJlY2lwZSkge1xuICAgICAgICAgICAgdmFyIHBhdGhzVG9GZWF0dXJlQ29tcG9uZW50V2l0aFJlY2lwZUlkTWFwID0gcmVjaXBlLmdldFBhdGhzVG9GZWF0dXJlQ29tcG9uZW50V2l0aFJlY2lwZUlkTWFwKCk7XG4gICAgICAgICAgICBPYmplY3Qua2V5cyhwYXRoc1RvRmVhdHVyZUNvbXBvbmVudFdpdGhSZWNpcGVJZE1hcCkuZm9yRWFjaChmdW5jdGlvbiAocGF0aCkge1xuICAgICAgICAgICAgICAgIHBhdGggPSBwYXRoID09PSBcIlwiID8gXCIvXCIgOiBwYXRoO1xuICAgICAgICAgICAgICAgIGlmICghKHBhdGggaW4gcm91dGVzKSkge1xuICAgICAgICAgICAgICAgICAgICByb3V0ZXNbcGF0aF0gPSBqc3hSdW50aW1lLmpzeChcbiAgICAgICAgICAgICAgICAgICAgICAgIFJvdXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6IHBhdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudDoganN4UnVudGltZS5qc3goUm91dGluZ0NvbXBvbmVudCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZXRSZWFjdFJvdXRlckRvbVdpdGhDdXN0b21IaXN0b3J5OiBnZXRSZWFjdFJvdXRlckRvbVdpdGhDdXN0b21IaXN0b3J5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmVCdWlsdFVJTGlzdDogcmVjaXBlTGlzdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0aDogcGF0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBcInN0LVwiLmNvbmNhdChwYXRoKVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHJvdXRlcztcbiAgICAgICAgfSwge30pXG4gICAgKTtcbn1cblxudmFyIFVJID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFVJKCkge31cbiAgICBVSS5nZXRTdXBlclRva2Vuc1JvdXRlc0ZvclJlYWN0Um91dGVyRG9tID0gZnVuY3Rpb24gKHJlYWN0Um91dGVyRG9tLCBwcmVCdWlsdFVpQ2xhc3NMaXN0KSB7XG4gICAgICAgIGlmIChwcmVCdWlsdFVpQ2xhc3NMaXN0ID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIHByZUJ1aWx0VWlDbGFzc0xpc3QgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVhY3RSb3V0ZXJEb20gPT09IHVuZGVmaW5lZCB8fCBwcmVCdWlsdFVpQ2xhc3NMaXN0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvcXVvdGVzXG4gICAgICAgICAgICAgICAgJ1BsZWFzZSB1c2UgZ2V0U3VwZXJUb2tlbnNSb3V0ZXNGb3JSZWFjdFJvdXRlckRvbSBsaWtlIGdldFN1cGVyVG9rZW5zUm91dGVzRm9yUmVhY3RSb3V0ZXJEb20ocmVxdWlyZShcInJlYWN0LXJvdXRlci1kb21cIiksIFtFbWFpbFBhc3N3b3JkUHJlQnVpbHRVSV0pIGluIHlvdXIgcmVuZGVyIGZ1bmN0aW9uJ1xuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVjaXBlTGlzdCA9IHByZUJ1aWx0VWlDbGFzc0xpc3QubWFwKGZ1bmN0aW9uIChyKSB7XG4gICAgICAgICAgICByZXR1cm4gci5nZXRJbnN0YW5jZU9ySW5pdEFuZEdldEluc3RhbmNlKCk7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoVUkucmVhY3RSb3V0ZXJEb21Jc1Y2ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIFVJLnJlYWN0Um91dGVyRG9tSXNWNiA9IHJlYWN0Um91dGVyRG9tLndpdGhSb3V0ZXIgPT09IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoVUkucmVhY3RSb3V0ZXJEb21Jc1Y2KSB7XG4gICAgICAgICAgICBpZiAoVUkucmVhY3RSb3V0ZXJEb20gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIC8vIHRoaXMgZnVuY3Rpb24gd3JhcHMgdGhlIHJlYWN0LXJvdXRlci1kb20gdjYgdXNlTmF2aWdhdGUgZnVuY3Rpb24gaW4gYSB3YXlcbiAgICAgICAgICAgICAgICAvLyB0aGF0IGVuZm9yY2VzIHRoYXQgaXQgcnVucyB3aXRoaW4gYSB1c2VFZmZlY3QuIFRoZSByZWFzb24gd2UgZG8gdGhpcyBpc1xuICAgICAgICAgICAgICAgIC8vIGNhdXNlIG9mIGh0dHBzOi8vZ2l0aHViLmNvbS9yZW1peC1ydW4vcmVhY3Qtcm91dGVyL2lzc3Vlcy83NDYwXG4gICAgICAgICAgICAgICAgLy8gd2hpY2ggZ2V0cyBzaG93biB3aGVuIHZpc2l0aW5nIGEgc29jaWFsIGF1dGggY2FsbGJhY2sgdXJsIGxpa2VcbiAgICAgICAgICAgICAgICAvLyAvYXV0aC9jYWxsYmFjay9naXRodWIsIHdpdGhvdXQgYSB2YWxpZCBjb2RlIG9yIHN0YXRlLiBUaGlzIHRoZW5cbiAgICAgICAgICAgICAgICAvLyBkb2Vzbid0IG5hdmlnYXRlIHRoZSB1c2VyIHRvIHRoZSBhdXRoIHBhZ2UuXG4gICAgICAgICAgICAgICAgdmFyIHVzZU5hdmlnYXRlSG9va0ZvclJSRFY2ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbmF2aWdhdGVIb29rID0gcmVhY3RSb3V0ZXJEb20udXNlTmF2aWdhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9hID0gUmVhY3RfX2RlZmF1bHQuZGVmYXVsdC51c2VTdGF0ZSh1bmRlZmluZWQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgdG8gPSBfYVswXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRvID0gX2FbMV07XG4gICAgICAgICAgICAgICAgICAgIFJlYWN0X19kZWZhdWx0LmRlZmF1bHQudXNlRWZmZWN0KFxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0byAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRvKHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hdmlnYXRlSG9vayh0byk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFt0bywgbmF2aWdhdGVIb29rLCBzZXRUb11cbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNldFRvO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgVUkucmVhY3RSb3V0ZXJEb20gPSB7XG4gICAgICAgICAgICAgICAgICAgIHJvdXRlcjogcmVhY3RSb3V0ZXJEb20sXG4gICAgICAgICAgICAgICAgICAgIHVzZUhpc3RvcnlDdXN0b206IHVzZU5hdmlnYXRlSG9va0ZvclJSRFY2LFxuICAgICAgICAgICAgICAgICAgICB1c2VMb2NhdGlvbjogcmVhY3RSb3V0ZXJEb20udXNlTG9jYXRpb24sXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBnZXRTdXBlclRva2Vuc1JvdXRlc0ZvclJlYWN0Um91dGVyRG9tVjYoe1xuICAgICAgICAgICAgICAgIGdldFJlYWN0Um91dGVyRG9tV2l0aEN1c3RvbUhpc3Rvcnk6IFVJLmdldFJlYWN0Um91dGVyRG9tV2l0aEN1c3RvbUhpc3RvcnksXG4gICAgICAgICAgICAgICAgcmVjaXBlTGlzdDogcmVjaXBlTGlzdCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChVSS5yZWFjdFJvdXRlckRvbSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBVSS5yZWFjdFJvdXRlckRvbSA9IHtcbiAgICAgICAgICAgICAgICByb3V0ZXI6IHJlYWN0Um91dGVyRG9tLFxuICAgICAgICAgICAgICAgIHVzZUhpc3RvcnlDdXN0b206IHJlYWN0Um91dGVyRG9tLnVzZUhpc3RvcnksXG4gICAgICAgICAgICAgICAgdXNlTG9jYXRpb246IHJlYWN0Um91dGVyRG9tLnVzZUxvY2F0aW9uLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZ2V0U3VwZXJUb2tlbnNSb3V0ZXNGb3JSZWFjdFJvdXRlckRvbSQxKHtcbiAgICAgICAgICAgIGdldFJlYWN0Um91dGVyRG9tV2l0aEN1c3RvbUhpc3Rvcnk6IFVJLmdldFJlYWN0Um91dGVyRG9tV2l0aEN1c3RvbUhpc3RvcnksXG4gICAgICAgICAgICByZWNpcGVMaXN0OiByZWNpcGVMaXN0LFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFVJLmNhbkhhbmRsZVJvdXRlID0gZnVuY3Rpb24gKHByZUJ1aWx0VWlDbGFzc0xpc3QpIHtcbiAgICAgICAgdmFyIHJlY2lwZUxpc3QgPSBwcmVCdWlsdFVpQ2xhc3NMaXN0Lm1hcChmdW5jdGlvbiAocikge1xuICAgICAgICAgICAgcmV0dXJuIHIuZ2V0SW5zdGFuY2VPckluaXRBbmRHZXRJbnN0YW5jZSgpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIFJlY2lwZVJvdXRlci5nZXRNYXRjaGluZ0NvbXBvbmVudEZvclJvdXRlQW5kUmVjaXBlSWRGcm9tUHJlQnVpbHRVSUxpc3QoXG4gICAgICAgICAgICAgICAgdXRpbHMuZ2V0Q3VycmVudE5vcm1hbGlzZWRVcmxQYXRoKCksXG4gICAgICAgICAgICAgICAgcmVjaXBlTGlzdFxuICAgICAgICAgICAgKSAhPT0gdW5kZWZpbmVkXG4gICAgICAgICk7XG4gICAgfTtcbiAgICBVSS5nZXRSb3V0aW5nQ29tcG9uZW50ID0gZnVuY3Rpb24gKHByZUJ1aWx0VWlDbGFzc0xpc3QpIHtcbiAgICAgICAgdmFyIHJlY2lwZUxpc3QgPSBwcmVCdWlsdFVpQ2xhc3NMaXN0Lm1hcChmdW5jdGlvbiAocikge1xuICAgICAgICAgICAgcmV0dXJuIHIuZ2V0SW5zdGFuY2VPckluaXRBbmRHZXRJbnN0YW5jZSgpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGpzeFJ1bnRpbWUuanN4KFJvdXRpbmdDb21wb25lbnQsIHtcbiAgICAgICAgICAgIGdldFJlYWN0Um91dGVyRG9tV2l0aEN1c3RvbUhpc3Rvcnk6IFVJLmdldFJlYWN0Um91dGVyRG9tV2l0aEN1c3RvbUhpc3RvcnksXG4gICAgICAgICAgICBwYXRoOiB1dGlscy5nZXRDdXJyZW50Tm9ybWFsaXNlZFVybFBhdGgoKS5nZXRBc1N0cmluZ0Rhbmdlcm91cygpLFxuICAgICAgICAgICAgcHJlQnVpbHRVSUxpc3Q6IHJlY2lwZUxpc3QsXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgVUkuZ2V0UmVhY3RSb3V0ZXJEb21XaXRoQ3VzdG9tSGlzdG9yeSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIFVJLnJlYWN0Um91dGVyRG9tO1xuICAgIH07XG4gICAgcmV0dXJuIFVJO1xufSkoKTtcbnZhciBnZXRTdXBlclRva2Vuc1JvdXRlc0ZvclJlYWN0Um91dGVyRG9tID0gVUkuZ2V0U3VwZXJUb2tlbnNSb3V0ZXNGb3JSZWFjdFJvdXRlckRvbTtcbnZhciBjYW5IYW5kbGVSb3V0ZSA9IFVJLmNhbkhhbmRsZVJvdXRlO1xudmFyIGdldFJvdXRpbmdDb21wb25lbnQgPSBVSS5nZXRSb3V0aW5nQ29tcG9uZW50O1xuXG5leHBvcnRzLlJlY2lwZVJvdXRlciA9IFJlY2lwZVJvdXRlcjtcbmV4cG9ydHMuVUkgPSBVSTtcbmV4cG9ydHMuY2FuSGFuZGxlUm91dGUgPSBjYW5IYW5kbGVSb3V0ZTtcbmV4cG9ydHMuZ2V0Um91dGluZ0NvbXBvbmVudCA9IGdldFJvdXRpbmdDb21wb25lbnQ7XG5leHBvcnRzLmdldFN1cGVyVG9rZW5zUm91dGVzRm9yUmVhY3RSb3V0ZXJEb20gPSBnZXRTdXBlclRva2Vuc1JvdXRlc0ZvclJlYWN0Um91dGVyRG9tO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgyLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/supertokens-auth-react/lib/build/index2.js\n"));

/***/ }),

/***/ "./node_modules/supertokens-auth-react/lib/build/recipeModule-shared.js":
/*!******************************************************************************!*\
  !*** ./node_modules/supertokens-auth-react/lib/build/recipeModule-shared.js ***!
  \******************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\n\nvar utils = __webpack_require__(/*! ./utils.js */ \"./node_modules/supertokens-auth-react/lib/build/utils.js\");\nvar SuperTokensWebJS = __webpack_require__(/*! supertokens-web-js */ \"./node_modules/supertokens-web-js/index.js\");\nvar cookieHandler = __webpack_require__(/*! supertokens-web-js/utils/cookieHandler */ \"./node_modules/supertokens-web-js/utils/cookieHandler/index.js\");\nvar postSuperTokensInitCallbacks = __webpack_require__(/*! supertokens-web-js/utils/postSuperTokensInitCallbacks */ \"./node_modules/supertokens-web-js/utils/postSuperTokensInitCallbacks.js\");\nvar windowHandler = __webpack_require__(/*! supertokens-web-js/utils/windowHandler */ \"./node_modules/supertokens-web-js/utils/windowHandler/index.js\");\n\nfunction _interopDefault(e) {\n    return e && e.__esModule ? e : { default: e };\n}\n\nvar SuperTokensWebJS__default = /*#__PURE__*/ _interopDefault(SuperTokensWebJS);\n\nvar TranslationController = /** @class */ (function () {\n    function TranslationController() {\n        this.handlers = new Map();\n    }\n    TranslationController.prototype.emit = function (event, detail) {\n        var handlerList = this.handlers.get(event) || [];\n        for (var _i = 0, handlerList_1 = handlerList; _i < handlerList_1.length; _i++) {\n            var h = handlerList_1[_i];\n            h(event, detail);\n        }\n    };\n    TranslationController.prototype.on = function (event, handler) {\n        var handlerList = this.handlers.get(event) || [];\n        this.handlers.set(event, handlerList.concat(handler));\n    };\n    TranslationController.prototype.off = function (event, handler) {\n        var handlerList = this.handlers.get(event) || [];\n        this.handlers.set(\n            event,\n            handlerList.filter(function (h) {\n                return h !== handler;\n            })\n        );\n    };\n    return TranslationController;\n})();\nvar CURRENT_LANGUAGE_COOKIE_NAME = \"sCurrLanguage\";\nfunction saveCurrentLanguage(language, cookieDomain) {\n    return utils.__awaiter(this, void 0, void 0, function () {\n        return utils.__generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    _b.trys.push([0, 2, , 3]);\n                    return [4 /*yield*/, utils.setFrontendCookie(CURRENT_LANGUAGE_COOKIE_NAME, language, cookieDomain)];\n                case 1:\n                    _b.sent();\n                    return [3 /*break*/, 3];\n                case 2:\n                    _b.sent();\n                    return [3 /*break*/, 3];\n                case 3:\n                    return [2 /*return*/];\n            }\n        });\n    });\n}\nfunction getCurrentLanguageFromCookie() {\n    return utils.__awaiter(this, void 0, void 0, function () {\n        return utils.__generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    _b.trys.push([0, 2, , 3]);\n                    return [4 /*yield*/, utils.getCookieValue(CURRENT_LANGUAGE_COOKIE_NAME)];\n                case 1:\n                    return [2 /*return*/, _b.sent()];\n                case 2:\n                    _b.sent();\n                    // This can throw if we are not in a browser\n                    // Since this is just loading a preference we can safely ignore the exception\n                    return [2 /*return*/, null];\n                case 3:\n                    return [2 /*return*/];\n            }\n        });\n    });\n}\n\n/* Copyright (c) 2021, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\n/*\n * Class.\n */\nvar SuperTokens = /** @class */ (function () {\n    /*\n     * Constructor.\n     */\n    function SuperTokens(config) {\n        var _this = this;\n        this.recipeList = [];\n        this.changeLanguage = function (lang) {\n            return utils.__awaiter(_this, void 0, void 0, function () {\n                return utils.__generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            return [\n                                4 /*yield*/,\n                                saveCurrentLanguage(lang, this.languageTranslations.currentLanguageCookieScope),\n                            ];\n                        case 1:\n                            _a.sent();\n                            this.languageTranslations.translationEventSource.emit(\"LanguageChange\", lang);\n                            return [2 /*return*/];\n                    }\n                });\n            });\n        };\n        this.redirectToAuth = function (options) {\n            return utils.__awaiter(_this, void 0, void 0, function () {\n                var queryParams, redirectUrl;\n                return utils.__generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            queryParams = options.queryParams === undefined ? {} : options.queryParams;\n                            if (options.show !== undefined) {\n                                queryParams.show = options.show;\n                            }\n                            if (options.redirectBack === true) {\n                                queryParams.redirectToPath = utils.getCurrentNormalisedUrlPath().getAsStringDangerous();\n                            }\n                            return [\n                                4 /*yield*/,\n                                this.getRedirectUrl({\n                                    action: \"TO_AUTH\",\n                                    showSignIn: options.show === \"signin\",\n                                }),\n                            ];\n                        case 1:\n                            redirectUrl = _a.sent();\n                            redirectUrl = utils.appendQueryParamsToURL(redirectUrl, queryParams);\n                            return [2 /*return*/, this.redirectToUrl(redirectUrl, options.history)];\n                    }\n                });\n            });\n        };\n        this.redirectToUrl = function (redirectUrl, history) {\n            return utils.__awaiter(_this, void 0, void 0, function () {\n                var origin_1;\n                return utils.__generator(this, function (_a) {\n                    try {\n                        new URL(redirectUrl); // If full URL, no error thrown, skip in app redirection.\n                    } catch (e) {\n                        origin_1 = utils.getOriginOfPage().getAsStringDangerous();\n                        if (origin_1 !== this.appInfo.websiteDomain.getAsStringDangerous()) {\n                            redirectUrl = \"\"\n                                .concat(this.appInfo.websiteDomain.getAsStringDangerous())\n                                .concat(redirectUrl);\n                            utils.redirectWithFullPageReload(redirectUrl);\n                            return [2 /*return*/];\n                        }\n                        // If history was provided, use to redirect without reloading.\n                        if (history !== undefined) {\n                            utils.redirectWithHistory(redirectUrl, history);\n                            return [2 /*return*/];\n                        }\n                    }\n                    // Otherwise, redirect in app.\n                    utils.redirectWithFullPageReload(redirectUrl);\n                    return [2 /*return*/];\n                });\n            });\n        };\n        this.appInfo = utils.normaliseInputAppInfoOrThrowError(config.appInfo);\n        if (config.recipeList === undefined || config.recipeList.length === 0) {\n            throw new Error(\n                \"Please provide at least one recipe to the supertokens.init function call. See https://supertokens.io/docs/emailpassword/quick-setup/frontend\"\n            );\n        }\n        var translationConfig = config.languageTranslations === undefined ? {} : config.languageTranslations;\n        this.languageTranslations = {\n            defaultLanguage: translationConfig.defaultLanguage === undefined ? \"en\" : translationConfig.defaultLanguage,\n            currentLanguageCookieScope:\n                translationConfig.currentLanguageCookieScope !== undefined\n                    ? utils.normaliseCookieScopeOrThrowError(translationConfig.currentLanguageCookieScope)\n                    : utils.getDefaultCookieScope(),\n            userTranslationStore: translationConfig.translations !== undefined ? translationConfig.translations : {},\n            translationEventSource: new TranslationController(),\n            userTranslationFunc: translationConfig.translationFunc,\n        };\n        var enableDebugLogs = false;\n        if (config.enableDebugLogs !== undefined) {\n            enableDebugLogs = config.enableDebugLogs;\n        }\n        this.userGetRedirectionURL = config.getRedirectionURL;\n        this.recipeList = config.recipeList.map(function (_a) {\n            var authReact = _a.authReact;\n            return authReact(_this.appInfo, enableDebugLogs);\n        });\n    }\n    /*\n     * Static Methods.\n     */\n    SuperTokens.init = function (config) {\n        cookieHandler.CookieHandlerReference.init(config.cookieHandler);\n        windowHandler.WindowHandlerReference.init(config.windowHandler);\n        if (SuperTokens.instance !== undefined) {\n            console.warn(\"SuperTokens was already initialized\");\n            return;\n        }\n        SuperTokensWebJS__default.default.init(\n            utils.__assign(utils.__assign({}, config), {\n                recipeList: config.recipeList.map(function (_a) {\n                    var webJS = _a.webJS;\n                    return webJS;\n                }),\n            })\n        );\n        SuperTokens.instance = new SuperTokens(config);\n        postSuperTokensInitCallbacks.PostSuperTokensInitCallbacks.runPostInitCallbacks();\n    };\n    SuperTokens.getInstanceOrThrow = function () {\n        if (SuperTokens.instance === undefined) {\n            var error = \"SuperTokens must be initialized before calling this method.\";\n            // eslint-disable-next-line supertokens-auth-react/no-direct-window-object\n            if (typeof window === \"undefined\") {\n                error = error + utils.SSR_ERROR;\n            }\n            throw new Error(error);\n        }\n        return SuperTokens.instance;\n    };\n    SuperTokens.prototype.getRecipeOrThrow = function (recipeId) {\n        var recipe = this.recipeList.find(function (recipe) {\n            return recipe.config.recipeId === recipeId;\n        });\n        if (recipe === undefined) {\n            throw new Error(\"Missing recipe: \".concat(recipeId));\n        }\n        return recipe;\n    };\n    SuperTokens.prototype.loadTranslation = function (store) {\n        this.languageTranslations.translationEventSource.emit(\"TranslationLoaded\", store);\n    };\n    SuperTokens.prototype.getRedirectUrl = function (context) {\n        return utils.__awaiter(this, void 0, void 0, function () {\n            var userRes, redirectUrl;\n            return utils.__generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!this.userGetRedirectionURL) return [3 /*break*/, 2];\n                        return [4 /*yield*/, this.userGetRedirectionURL(context)];\n                    case 1:\n                        userRes = _a.sent();\n                        if (userRes !== undefined) {\n                            return [2 /*return*/, userRes];\n                        }\n                        _a.label = 2;\n                    case 2:\n                        if (context.action === \"TO_AUTH\") {\n                            redirectUrl = this.appInfo.websiteBasePath.getAsStringDangerous();\n                            return [2 /*return*/, utils.appendTrailingSlashToURL(redirectUrl)];\n                        }\n                        throw new Error(\"Should never come here: unexpected redirection context\");\n                }\n            });\n        });\n    };\n    /*\n     * Tests methods.\n     */\n    SuperTokens.reset = function () {\n        if (!utils.isTest()) {\n            return;\n        }\n        SuperTokens.instance = undefined;\n        return;\n    };\n    return SuperTokens;\n})();\n\n/* Copyright (c) 2021, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\n/*\n * Class.\n */\nvar RecipeModule = /** @class */ (function () {\n    /*\n     * Constructor.\n     */\n    function RecipeModule(config) {\n        var _this = this;\n        this.redirect = function (context, history, queryParams) {\n            return utils.__awaiter(_this, void 0, void 0, function () {\n                var redirectUrl;\n                return utils.__generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            return [4 /*yield*/, this.getRedirectUrl(context)];\n                        case 1:\n                            redirectUrl = _a.sent();\n                            redirectUrl = utils.appendQueryParamsToURL(redirectUrl, queryParams);\n                            return [2 /*return*/, SuperTokens.getInstanceOrThrow().redirectToUrl(redirectUrl, history)];\n                    }\n                });\n            });\n        };\n        // eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\n        this.getRedirectUrl = function (context) {\n            return utils.__awaiter(_this, void 0, void 0, function () {\n                var redirectUrl;\n                return utils.__generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            return [4 /*yield*/, this.config.getRedirectionURL(context)];\n                        case 1:\n                            redirectUrl = _a.sent();\n                            if (redirectUrl !== undefined) {\n                                return [2 /*return*/, redirectUrl];\n                            }\n                            return [4 /*yield*/, this.getDefaultRedirectionURL(context)];\n                        case 2:\n                            // Otherwise, use default.\n                            return [2 /*return*/, _a.sent()];\n                    }\n                });\n            });\n        };\n        this.config = config;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    RecipeModule.prototype.getDefaultRedirectionURL = function (_) {\n        return utils.__awaiter(this, void 0, void 0, function () {\n            return utils.__generator(this, function (_a) {\n                throw new Error(\"getDefaultRedirectionURL is not implemented.\");\n            });\n        });\n    };\n    return RecipeModule;\n})();\n\nfunction normaliseRecipeModuleConfig(config) {\n    var _this = this;\n    if (config === undefined) {\n        config = {};\n    }\n    var onHandleEvent = config.onHandleEvent,\n        getRedirectionURL = config.getRedirectionURL,\n        preAPIHook = config.preAPIHook,\n        postAPIHook = config.postAPIHook;\n    if (onHandleEvent === undefined) {\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars, @typescript-eslint/no-empty-function\n        onHandleEvent = function (_) {};\n    }\n    if (getRedirectionURL === undefined) {\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        getRedirectionURL = function (_) {\n            return utils.__awaiter(_this, void 0, void 0, function () {\n                return utils.__generator(this, function (_a) {\n                    return [2 /*return*/, undefined];\n                });\n            });\n        };\n    }\n    if (preAPIHook === undefined) {\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        preAPIHook = function (context) {\n            return utils.__awaiter(_this, void 0, void 0, function () {\n                return utils.__generator(this, function (_a) {\n                    return [2 /*return*/, context];\n                });\n            });\n        };\n    }\n    if (postAPIHook === undefined) {\n        // eslint-disable-next-line @typescript-eslint/no-empty-function\n        postAPIHook = function () {\n            return utils.__awaiter(_this, void 0, void 0, function () {\n                return utils.__generator(this, function (_a) {\n                    return [2 /*return*/];\n                });\n            });\n        };\n    }\n    var useShadowDom = config.useShadowDom === undefined ? true : config.useShadowDom;\n    useShadowDom = getShouldUseShadowDomBasedOnBrowser(useShadowDom);\n    var rootStyle = config.style === undefined ? \"\" : config.style;\n    return utils.__assign(utils.__assign({}, config), {\n        getRedirectionURL: getRedirectionURL,\n        onHandleEvent: onHandleEvent,\n        preAPIHook: preAPIHook,\n        postAPIHook: postAPIHook,\n        useShadowDom: useShadowDom,\n        rootStyle: rootStyle,\n    });\n}\nfunction getShouldUseShadowDomBasedOnBrowser(useShadowDom) {\n    return useShadowDom !== undefined ? useShadowDom : true;\n}\n\nexports.RecipeModule = RecipeModule;\nexports.SuperTokens = SuperTokens;\nexports.getCurrentLanguageFromCookie = getCurrentLanguageFromCookie;\nexports.normaliseRecipeModuleConfig = normaliseRecipeModuleConfig;\n//# sourceMappingURL=recipeModule-shared.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3VwZXJ0b2tlbnMtYXV0aC1yZWFjdC9saWIvYnVpbGQvcmVjaXBlTW9kdWxlLXNoYXJlZC5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYixZQUFZLG1CQUFPLENBQUMsNEVBQVk7QUFDaEMsdUJBQXVCLG1CQUFPLENBQUMsc0VBQW9CO0FBQ25ELG9CQUFvQixtQkFBTyxDQUFDLDhHQUF3QztBQUNwRSxtQ0FBbUMsbUJBQU8sQ0FBQyxzSUFBdUQ7QUFDbEcsb0JBQW9CLG1CQUFPLENBQUMsOEdBQXdDOztBQUVwRTtBQUNBLHFDQUFxQztBQUNyQzs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzREFBc0QsMkJBQTJCO0FBQ2pGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpRkFBaUY7QUFDakY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QztBQUM5QyxzQkFBc0I7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrRUFBK0U7QUFDL0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0hBQW9IO0FBQ3BIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNENBQTRDO0FBQzVDO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxvQkFBb0I7QUFDcEIsbUJBQW1CO0FBQ25CLG9DQUFvQztBQUNwQyxtQ0FBbUM7QUFDbkMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3N1cGVydG9rZW5zLWF1dGgtcmVhY3QvbGliL2J1aWxkL3JlY2lwZU1vZHVsZS1zaGFyZWQuanM/ODhiMSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxudmFyIHV0aWxzID0gcmVxdWlyZShcIi4vdXRpbHMuanNcIik7XG52YXIgU3VwZXJUb2tlbnNXZWJKUyA9IHJlcXVpcmUoXCJzdXBlcnRva2Vucy13ZWItanNcIik7XG52YXIgY29va2llSGFuZGxlciA9IHJlcXVpcmUoXCJzdXBlcnRva2Vucy13ZWItanMvdXRpbHMvY29va2llSGFuZGxlclwiKTtcbnZhciBwb3N0U3VwZXJUb2tlbnNJbml0Q2FsbGJhY2tzID0gcmVxdWlyZShcInN1cGVydG9rZW5zLXdlYi1qcy91dGlscy9wb3N0U3VwZXJUb2tlbnNJbml0Q2FsbGJhY2tzXCIpO1xudmFyIHdpbmRvd0hhbmRsZXIgPSByZXF1aXJlKFwic3VwZXJ0b2tlbnMtd2ViLWpzL3V0aWxzL3dpbmRvd0hhbmRsZXJcIik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wRGVmYXVsdChlKSB7XG4gICAgcmV0dXJuIGUgJiYgZS5fX2VzTW9kdWxlID8gZSA6IHsgZGVmYXVsdDogZSB9O1xufVxuXG52YXIgU3VwZXJUb2tlbnNXZWJKU19fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi8gX2ludGVyb3BEZWZhdWx0KFN1cGVyVG9rZW5zV2ViSlMpO1xuXG52YXIgVHJhbnNsYXRpb25Db250cm9sbGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFRyYW5zbGF0aW9uQ29udHJvbGxlcigpIHtcbiAgICAgICAgdGhpcy5oYW5kbGVycyA9IG5ldyBNYXAoKTtcbiAgICB9XG4gICAgVHJhbnNsYXRpb25Db250cm9sbGVyLnByb3RvdHlwZS5lbWl0ID0gZnVuY3Rpb24gKGV2ZW50LCBkZXRhaWwpIHtcbiAgICAgICAgdmFyIGhhbmRsZXJMaXN0ID0gdGhpcy5oYW5kbGVycy5nZXQoZXZlbnQpIHx8IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIGhhbmRsZXJMaXN0XzEgPSBoYW5kbGVyTGlzdDsgX2kgPCBoYW5kbGVyTGlzdF8xLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgdmFyIGggPSBoYW5kbGVyTGlzdF8xW19pXTtcbiAgICAgICAgICAgIGgoZXZlbnQsIGRldGFpbCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFRyYW5zbGF0aW9uQ29udHJvbGxlci5wcm90b3R5cGUub24gPSBmdW5jdGlvbiAoZXZlbnQsIGhhbmRsZXIpIHtcbiAgICAgICAgdmFyIGhhbmRsZXJMaXN0ID0gdGhpcy5oYW5kbGVycy5nZXQoZXZlbnQpIHx8IFtdO1xuICAgICAgICB0aGlzLmhhbmRsZXJzLnNldChldmVudCwgaGFuZGxlckxpc3QuY29uY2F0KGhhbmRsZXIpKTtcbiAgICB9O1xuICAgIFRyYW5zbGF0aW9uQ29udHJvbGxlci5wcm90b3R5cGUub2ZmID0gZnVuY3Rpb24gKGV2ZW50LCBoYW5kbGVyKSB7XG4gICAgICAgIHZhciBoYW5kbGVyTGlzdCA9IHRoaXMuaGFuZGxlcnMuZ2V0KGV2ZW50KSB8fCBbXTtcbiAgICAgICAgdGhpcy5oYW5kbGVycy5zZXQoXG4gICAgICAgICAgICBldmVudCxcbiAgICAgICAgICAgIGhhbmRsZXJMaXN0LmZpbHRlcihmdW5jdGlvbiAoaCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBoICE9PSBoYW5kbGVyO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgKTtcbiAgICB9O1xuICAgIHJldHVybiBUcmFuc2xhdGlvbkNvbnRyb2xsZXI7XG59KSgpO1xudmFyIENVUlJFTlRfTEFOR1VBR0VfQ09PS0lFX05BTUUgPSBcInNDdXJyTGFuZ3VhZ2VcIjtcbmZ1bmN0aW9uIHNhdmVDdXJyZW50TGFuZ3VhZ2UobGFuZ3VhZ2UsIGNvb2tpZURvbWFpbikge1xuICAgIHJldHVybiB1dGlscy5fX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHV0aWxzLl9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYikge1xuICAgICAgICAgICAgc3dpdGNoIChfYi5sYWJlbCkge1xuICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgX2IudHJ5cy5wdXNoKFswLCAyLCAsIDNdKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdXRpbHMuc2V0RnJvbnRlbmRDb29raWUoQ1VSUkVOVF9MQU5HVUFHRV9DT09LSUVfTkFNRSwgbGFuZ3VhZ2UsIGNvb2tpZURvbWFpbildO1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgX2Iuc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCAzXTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIF9iLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgM107XG4gICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuZnVuY3Rpb24gZ2V0Q3VycmVudExhbmd1YWdlRnJvbUNvb2tpZSgpIHtcbiAgICByZXR1cm4gdXRpbHMuX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB1dGlscy5fX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2IpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2IubGFiZWwpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgIF9iLnRyeXMucHVzaChbMCwgMiwgLCAzXSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHV0aWxzLmdldENvb2tpZVZhbHVlKENVUlJFTlRfTEFOR1VBR0VfQ09PS0lFX05BTUUpXTtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBfYi5zZW50KCldO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgX2Iuc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIGNhbiB0aHJvdyBpZiB3ZSBhcmUgbm90IGluIGEgYnJvd3NlclxuICAgICAgICAgICAgICAgICAgICAvLyBTaW5jZSB0aGlzIGlzIGp1c3QgbG9hZGluZyBhIHByZWZlcmVuY2Ugd2UgY2FuIHNhZmVseSBpZ25vcmUgdGhlIGV4Y2VwdGlvblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgbnVsbF07XG4gICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuXG4vKiBDb3B5cmlnaHQgKGMpIDIwMjEsIFZSQUkgTGFicyBhbmQvb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb2Z0d2FyZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGVcbiAqIFwiTGljZW5zZVwiKSBhcyBwdWJsaXNoZWQgYnkgdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLlxuICpcbiAqIFlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heVxuICogb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVRcbiAqIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gU2VlIHRoZVxuICogTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnNcbiAqIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKlxuICogQ2xhc3MuXG4gKi9cbnZhciBTdXBlclRva2VucyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICAvKlxuICAgICAqIENvbnN0cnVjdG9yLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIFN1cGVyVG9rZW5zKGNvbmZpZykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLnJlY2lwZUxpc3QgPSBbXTtcbiAgICAgICAgdGhpcy5jaGFuZ2VMYW5ndWFnZSA9IGZ1bmN0aW9uIChsYW5nKSB7XG4gICAgICAgICAgICByZXR1cm4gdXRpbHMuX19hd2FpdGVyKF90aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB1dGlscy5fX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDQgLyp5aWVsZCovLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzYXZlQ3VycmVudExhbmd1YWdlKGxhbmcsIHRoaXMubGFuZ3VhZ2VUcmFuc2xhdGlvbnMuY3VycmVudExhbmd1YWdlQ29va2llU2NvcGUpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGFuZ3VhZ2VUcmFuc2xhdGlvbnMudHJhbnNsYXRpb25FdmVudFNvdXJjZS5lbWl0KFwiTGFuZ3VhZ2VDaGFuZ2VcIiwgbGFuZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5yZWRpcmVjdFRvQXV0aCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgICAgICByZXR1cm4gdXRpbHMuX19hd2FpdGVyKF90aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBxdWVyeVBhcmFtcywgcmVkaXJlY3RVcmw7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHV0aWxzLl9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVlcnlQYXJhbXMgPSBvcHRpb25zLnF1ZXJ5UGFyYW1zID09PSB1bmRlZmluZWQgPyB7fSA6IG9wdGlvbnMucXVlcnlQYXJhbXM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuc2hvdyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXJ5UGFyYW1zLnNob3cgPSBvcHRpb25zLnNob3c7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLnJlZGlyZWN0QmFjayA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdWVyeVBhcmFtcy5yZWRpcmVjdFRvUGF0aCA9IHV0aWxzLmdldEN1cnJlbnROb3JtYWxpc2VkVXJsUGF0aCgpLmdldEFzU3RyaW5nRGFuZ2Vyb3VzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDQgLyp5aWVsZCovLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdldFJlZGlyZWN0VXJsKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbjogXCJUT19BVVRIXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93U2lnbkluOiBvcHRpb25zLnNob3cgPT09IFwic2lnbmluXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVkaXJlY3RVcmwgPSBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVkaXJlY3RVcmwgPSB1dGlscy5hcHBlbmRRdWVyeVBhcmFtc1RvVVJMKHJlZGlyZWN0VXJsLCBxdWVyeVBhcmFtcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHRoaXMucmVkaXJlY3RUb1VybChyZWRpcmVjdFVybCwgb3B0aW9ucy5oaXN0b3J5KV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnJlZGlyZWN0VG9VcmwgPSBmdW5jdGlvbiAocmVkaXJlY3RVcmwsIGhpc3RvcnkpIHtcbiAgICAgICAgICAgIHJldHVybiB1dGlscy5fX2F3YWl0ZXIoX3RoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIG9yaWdpbl8xO1xuICAgICAgICAgICAgICAgIHJldHVybiB1dGlscy5fX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBVUkwocmVkaXJlY3RVcmwpOyAvLyBJZiBmdWxsIFVSTCwgbm8gZXJyb3IgdGhyb3duLCBza2lwIGluIGFwcCByZWRpcmVjdGlvbi5cbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luXzEgPSB1dGlscy5nZXRPcmlnaW5PZlBhZ2UoKS5nZXRBc1N0cmluZ0Rhbmdlcm91cygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9yaWdpbl8xICE9PSB0aGlzLmFwcEluZm8ud2Vic2l0ZURvbWFpbi5nZXRBc1N0cmluZ0Rhbmdlcm91cygpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVkaXJlY3RVcmwgPSBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5jb25jYXQodGhpcy5hcHBJbmZvLndlYnNpdGVEb21haW4uZ2V0QXNTdHJpbmdEYW5nZXJvdXMoKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNvbmNhdChyZWRpcmVjdFVybCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXRpbHMucmVkaXJlY3RXaXRoRnVsbFBhZ2VSZWxvYWQocmVkaXJlY3RVcmwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIGhpc3Rvcnkgd2FzIHByb3ZpZGVkLCB1c2UgdG8gcmVkaXJlY3Qgd2l0aG91dCByZWxvYWRpbmcuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaGlzdG9yeSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXRpbHMucmVkaXJlY3RXaXRoSGlzdG9yeShyZWRpcmVjdFVybCwgaGlzdG9yeSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIE90aGVyd2lzZSwgcmVkaXJlY3QgaW4gYXBwLlxuICAgICAgICAgICAgICAgICAgICB1dGlscy5yZWRpcmVjdFdpdGhGdWxsUGFnZVJlbG9hZChyZWRpcmVjdFVybCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovXTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmFwcEluZm8gPSB1dGlscy5ub3JtYWxpc2VJbnB1dEFwcEluZm9PclRocm93RXJyb3IoY29uZmlnLmFwcEluZm8pO1xuICAgICAgICBpZiAoY29uZmlnLnJlY2lwZUxpc3QgPT09IHVuZGVmaW5lZCB8fCBjb25maWcucmVjaXBlTGlzdC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgICAgICBcIlBsZWFzZSBwcm92aWRlIGF0IGxlYXN0IG9uZSByZWNpcGUgdG8gdGhlIHN1cGVydG9rZW5zLmluaXQgZnVuY3Rpb24gY2FsbC4gU2VlIGh0dHBzOi8vc3VwZXJ0b2tlbnMuaW8vZG9jcy9lbWFpbHBhc3N3b3JkL3F1aWNrLXNldHVwL2Zyb250ZW5kXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHRyYW5zbGF0aW9uQ29uZmlnID0gY29uZmlnLmxhbmd1YWdlVHJhbnNsYXRpb25zID09PSB1bmRlZmluZWQgPyB7fSA6IGNvbmZpZy5sYW5ndWFnZVRyYW5zbGF0aW9ucztcbiAgICAgICAgdGhpcy5sYW5ndWFnZVRyYW5zbGF0aW9ucyA9IHtcbiAgICAgICAgICAgIGRlZmF1bHRMYW5ndWFnZTogdHJhbnNsYXRpb25Db25maWcuZGVmYXVsdExhbmd1YWdlID09PSB1bmRlZmluZWQgPyBcImVuXCIgOiB0cmFuc2xhdGlvbkNvbmZpZy5kZWZhdWx0TGFuZ3VhZ2UsXG4gICAgICAgICAgICBjdXJyZW50TGFuZ3VhZ2VDb29raWVTY29wZTpcbiAgICAgICAgICAgICAgICB0cmFuc2xhdGlvbkNvbmZpZy5jdXJyZW50TGFuZ3VhZ2VDb29raWVTY29wZSAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgID8gdXRpbHMubm9ybWFsaXNlQ29va2llU2NvcGVPclRocm93RXJyb3IodHJhbnNsYXRpb25Db25maWcuY3VycmVudExhbmd1YWdlQ29va2llU2NvcGUpXG4gICAgICAgICAgICAgICAgICAgIDogdXRpbHMuZ2V0RGVmYXVsdENvb2tpZVNjb3BlKCksXG4gICAgICAgICAgICB1c2VyVHJhbnNsYXRpb25TdG9yZTogdHJhbnNsYXRpb25Db25maWcudHJhbnNsYXRpb25zICE9PSB1bmRlZmluZWQgPyB0cmFuc2xhdGlvbkNvbmZpZy50cmFuc2xhdGlvbnMgOiB7fSxcbiAgICAgICAgICAgIHRyYW5zbGF0aW9uRXZlbnRTb3VyY2U6IG5ldyBUcmFuc2xhdGlvbkNvbnRyb2xsZXIoKSxcbiAgICAgICAgICAgIHVzZXJUcmFuc2xhdGlvbkZ1bmM6IHRyYW5zbGF0aW9uQ29uZmlnLnRyYW5zbGF0aW9uRnVuYyxcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIGVuYWJsZURlYnVnTG9ncyA9IGZhbHNlO1xuICAgICAgICBpZiAoY29uZmlnLmVuYWJsZURlYnVnTG9ncyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBlbmFibGVEZWJ1Z0xvZ3MgPSBjb25maWcuZW5hYmxlRGVidWdMb2dzO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudXNlckdldFJlZGlyZWN0aW9uVVJMID0gY29uZmlnLmdldFJlZGlyZWN0aW9uVVJMO1xuICAgICAgICB0aGlzLnJlY2lwZUxpc3QgPSBjb25maWcucmVjaXBlTGlzdC5tYXAoZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICB2YXIgYXV0aFJlYWN0ID0gX2EuYXV0aFJlYWN0O1xuICAgICAgICAgICAgcmV0dXJuIGF1dGhSZWFjdChfdGhpcy5hcHBJbmZvLCBlbmFibGVEZWJ1Z0xvZ3MpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLypcbiAgICAgKiBTdGF0aWMgTWV0aG9kcy5cbiAgICAgKi9cbiAgICBTdXBlclRva2Vucy5pbml0ID0gZnVuY3Rpb24gKGNvbmZpZykge1xuICAgICAgICBjb29raWVIYW5kbGVyLkNvb2tpZUhhbmRsZXJSZWZlcmVuY2UuaW5pdChjb25maWcuY29va2llSGFuZGxlcik7XG4gICAgICAgIHdpbmRvd0hhbmRsZXIuV2luZG93SGFuZGxlclJlZmVyZW5jZS5pbml0KGNvbmZpZy53aW5kb3dIYW5kbGVyKTtcbiAgICAgICAgaWYgKFN1cGVyVG9rZW5zLmluc3RhbmNlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcIlN1cGVyVG9rZW5zIHdhcyBhbHJlYWR5IGluaXRpYWxpemVkXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIFN1cGVyVG9rZW5zV2ViSlNfX2RlZmF1bHQuZGVmYXVsdC5pbml0KFxuICAgICAgICAgICAgdXRpbHMuX19hc3NpZ24odXRpbHMuX19hc3NpZ24oe30sIGNvbmZpZyksIHtcbiAgICAgICAgICAgICAgICByZWNpcGVMaXN0OiBjb25maWcucmVjaXBlTGlzdC5tYXAoZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB3ZWJKUyA9IF9hLndlYkpTO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gd2ViSlM7XG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgICAgICBTdXBlclRva2Vucy5pbnN0YW5jZSA9IG5ldyBTdXBlclRva2Vucyhjb25maWcpO1xuICAgICAgICBwb3N0U3VwZXJUb2tlbnNJbml0Q2FsbGJhY2tzLlBvc3RTdXBlclRva2Vuc0luaXRDYWxsYmFja3MucnVuUG9zdEluaXRDYWxsYmFja3MoKTtcbiAgICB9O1xuICAgIFN1cGVyVG9rZW5zLmdldEluc3RhbmNlT3JUaHJvdyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKFN1cGVyVG9rZW5zLmluc3RhbmNlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHZhciBlcnJvciA9IFwiU3VwZXJUb2tlbnMgbXVzdCBiZSBpbml0aWFsaXplZCBiZWZvcmUgY2FsbGluZyB0aGlzIG1ldGhvZC5cIjtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBzdXBlcnRva2Vucy1hdXRoLXJlYWN0L25vLWRpcmVjdC13aW5kb3ctb2JqZWN0XG4gICAgICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgICAgIGVycm9yID0gZXJyb3IgKyB1dGlscy5TU1JfRVJST1I7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3IpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBTdXBlclRva2Vucy5pbnN0YW5jZTtcbiAgICB9O1xuICAgIFN1cGVyVG9rZW5zLnByb3RvdHlwZS5nZXRSZWNpcGVPclRocm93ID0gZnVuY3Rpb24gKHJlY2lwZUlkKSB7XG4gICAgICAgIHZhciByZWNpcGUgPSB0aGlzLnJlY2lwZUxpc3QuZmluZChmdW5jdGlvbiAocmVjaXBlKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVjaXBlLmNvbmZpZy5yZWNpcGVJZCA9PT0gcmVjaXBlSWQ7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAocmVjaXBlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1pc3NpbmcgcmVjaXBlOiBcIi5jb25jYXQocmVjaXBlSWQpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVjaXBlO1xuICAgIH07XG4gICAgU3VwZXJUb2tlbnMucHJvdG90eXBlLmxvYWRUcmFuc2xhdGlvbiA9IGZ1bmN0aW9uIChzdG9yZSkge1xuICAgICAgICB0aGlzLmxhbmd1YWdlVHJhbnNsYXRpb25zLnRyYW5zbGF0aW9uRXZlbnRTb3VyY2UuZW1pdChcIlRyYW5zbGF0aW9uTG9hZGVkXCIsIHN0b3JlKTtcbiAgICB9O1xuICAgIFN1cGVyVG9rZW5zLnByb3RvdHlwZS5nZXRSZWRpcmVjdFVybCA9IGZ1bmN0aW9uIChjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiB1dGlscy5fX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciB1c2VyUmVzLCByZWRpcmVjdFVybDtcbiAgICAgICAgICAgIHJldHVybiB1dGlscy5fX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy51c2VyR2V0UmVkaXJlY3Rpb25VUkwpIHJldHVybiBbMyAvKmJyZWFrKi8sIDJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy51c2VyR2V0UmVkaXJlY3Rpb25VUkwoY29udGV4dCldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VyUmVzID0gX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHVzZXJSZXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCB1c2VyUmVzXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLmxhYmVsID0gMjtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRleHQuYWN0aW9uID09PSBcIlRPX0FVVEhcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZGlyZWN0VXJsID0gdGhpcy5hcHBJbmZvLndlYnNpdGVCYXNlUGF0aC5nZXRBc1N0cmluZ0Rhbmdlcm91cygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCB1dGlscy5hcHBlbmRUcmFpbGluZ1NsYXNoVG9VUkwocmVkaXJlY3RVcmwpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlNob3VsZCBuZXZlciBjb21lIGhlcmU6IHVuZXhwZWN0ZWQgcmVkaXJlY3Rpb24gY29udGV4dFwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKlxuICAgICAqIFRlc3RzIG1ldGhvZHMuXG4gICAgICovXG4gICAgU3VwZXJUb2tlbnMucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdXRpbHMuaXNUZXN0KCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBTdXBlclRva2Vucy5pbnN0YW5jZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgcmV0dXJuO1xuICAgIH07XG4gICAgcmV0dXJuIFN1cGVyVG9rZW5zO1xufSkoKTtcblxuLyogQ29weXJpZ2h0IChjKSAyMDIxLCBWUkFJIExhYnMgYW5kL29yIGl0cyBhZmZpbGlhdGVzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc29mdHdhcmUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlXG4gKiBcIkxpY2Vuc2VcIikgYXMgcHVibGlzaGVkIGJ5IHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRhdGlvbi5cbiAqXG4gKiBZb3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXlcbiAqIG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLCBXSVRIT1VUXG4gKiBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuIFNlZSB0aGVcbiAqIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zXG4gKiB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLypcbiAqIENsYXNzLlxuICovXG52YXIgUmVjaXBlTW9kdWxlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8qXG4gICAgICogQ29uc3RydWN0b3IuXG4gICAgICovXG4gICAgZnVuY3Rpb24gUmVjaXBlTW9kdWxlKGNvbmZpZykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLnJlZGlyZWN0ID0gZnVuY3Rpb24gKGNvbnRleHQsIGhpc3RvcnksIHF1ZXJ5UGFyYW1zKSB7XG4gICAgICAgICAgICByZXR1cm4gdXRpbHMuX19hd2FpdGVyKF90aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciByZWRpcmVjdFVybDtcbiAgICAgICAgICAgICAgICByZXR1cm4gdXRpbHMuX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLmdldFJlZGlyZWN0VXJsKGNvbnRleHQpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWRpcmVjdFVybCA9IF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWRpcmVjdFVybCA9IHV0aWxzLmFwcGVuZFF1ZXJ5UGFyYW1zVG9VUkwocmVkaXJlY3RVcmwsIHF1ZXJ5UGFyYW1zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgU3VwZXJUb2tlbnMuZ2V0SW5zdGFuY2VPclRocm93KCkucmVkaXJlY3RUb1VybChyZWRpcmVjdFVybCwgaGlzdG9yeSldO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9leHBsaWNpdC1tb2R1bGUtYm91bmRhcnktdHlwZXNcbiAgICAgICAgdGhpcy5nZXRSZWRpcmVjdFVybCA9IGZ1bmN0aW9uIChjb250ZXh0KSB7XG4gICAgICAgICAgICByZXR1cm4gdXRpbHMuX19hd2FpdGVyKF90aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciByZWRpcmVjdFVybDtcbiAgICAgICAgICAgICAgICByZXR1cm4gdXRpbHMuX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLmNvbmZpZy5nZXRSZWRpcmVjdGlvblVSTChjb250ZXh0KV07XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVkaXJlY3RVcmwgPSBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlZGlyZWN0VXJsICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHJlZGlyZWN0VXJsXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5nZXREZWZhdWx0UmVkaXJlY3Rpb25VUkwoY29udGV4dCldO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE90aGVyd2lzZSwgdXNlIGRlZmF1bHQuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIF9hLnNlbnQoKV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcbiAgICB9XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnVzZWQtdmFyc1xuICAgIFJlY2lwZU1vZHVsZS5wcm90b3R5cGUuZ2V0RGVmYXVsdFJlZGlyZWN0aW9uVVJMID0gZnVuY3Rpb24gKF8pIHtcbiAgICAgICAgcmV0dXJuIHV0aWxzLl9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHV0aWxzLl9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImdldERlZmF1bHRSZWRpcmVjdGlvblVSTCBpcyBub3QgaW1wbGVtZW50ZWQuXCIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgcmV0dXJuIFJlY2lwZU1vZHVsZTtcbn0pKCk7XG5cbmZ1bmN0aW9uIG5vcm1hbGlzZVJlY2lwZU1vZHVsZUNvbmZpZyhjb25maWcpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgIGlmIChjb25maWcgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb25maWcgPSB7fTtcbiAgICB9XG4gICAgdmFyIG9uSGFuZGxlRXZlbnQgPSBjb25maWcub25IYW5kbGVFdmVudCxcbiAgICAgICAgZ2V0UmVkaXJlY3Rpb25VUkwgPSBjb25maWcuZ2V0UmVkaXJlY3Rpb25VUkwsXG4gICAgICAgIHByZUFQSUhvb2sgPSBjb25maWcucHJlQVBJSG9vayxcbiAgICAgICAgcG9zdEFQSUhvb2sgPSBjb25maWcucG9zdEFQSUhvb2s7XG4gICAgaWYgKG9uSGFuZGxlRXZlbnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzLCBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZW1wdHktZnVuY3Rpb25cbiAgICAgICAgb25IYW5kbGVFdmVudCA9IGZ1bmN0aW9uIChfKSB7fTtcbiAgICB9XG4gICAgaWYgKGdldFJlZGlyZWN0aW9uVVJMID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnVzZWQtdmFyc1xuICAgICAgICBnZXRSZWRpcmVjdGlvblVSTCA9IGZ1bmN0aW9uIChfKSB7XG4gICAgICAgICAgICByZXR1cm4gdXRpbHMuX19hd2FpdGVyKF90aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB1dGlscy5fX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHVuZGVmaW5lZF07XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgaWYgKHByZUFQSUhvb2sgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzXG4gICAgICAgIHByZUFQSUhvb2sgPSBmdW5jdGlvbiAoY29udGV4dCkge1xuICAgICAgICAgICAgcmV0dXJuIHV0aWxzLl9fYXdhaXRlcihfdGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdXRpbHMuX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBjb250ZXh0XTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBpZiAocG9zdEFQSUhvb2sgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWVtcHR5LWZ1bmN0aW9uXG4gICAgICAgIHBvc3RBUElIb29rID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHV0aWxzLl9fYXdhaXRlcihfdGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdXRpbHMuX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovXTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgIH1cbiAgICB2YXIgdXNlU2hhZG93RG9tID0gY29uZmlnLnVzZVNoYWRvd0RvbSA9PT0gdW5kZWZpbmVkID8gdHJ1ZSA6IGNvbmZpZy51c2VTaGFkb3dEb207XG4gICAgdXNlU2hhZG93RG9tID0gZ2V0U2hvdWxkVXNlU2hhZG93RG9tQmFzZWRPbkJyb3dzZXIodXNlU2hhZG93RG9tKTtcbiAgICB2YXIgcm9vdFN0eWxlID0gY29uZmlnLnN0eWxlID09PSB1bmRlZmluZWQgPyBcIlwiIDogY29uZmlnLnN0eWxlO1xuICAgIHJldHVybiB1dGlscy5fX2Fzc2lnbih1dGlscy5fX2Fzc2lnbih7fSwgY29uZmlnKSwge1xuICAgICAgICBnZXRSZWRpcmVjdGlvblVSTDogZ2V0UmVkaXJlY3Rpb25VUkwsXG4gICAgICAgIG9uSGFuZGxlRXZlbnQ6IG9uSGFuZGxlRXZlbnQsXG4gICAgICAgIHByZUFQSUhvb2s6IHByZUFQSUhvb2ssXG4gICAgICAgIHBvc3RBUElIb29rOiBwb3N0QVBJSG9vayxcbiAgICAgICAgdXNlU2hhZG93RG9tOiB1c2VTaGFkb3dEb20sXG4gICAgICAgIHJvb3RTdHlsZTogcm9vdFN0eWxlLFxuICAgIH0pO1xufVxuZnVuY3Rpb24gZ2V0U2hvdWxkVXNlU2hhZG93RG9tQmFzZWRPbkJyb3dzZXIodXNlU2hhZG93RG9tKSB7XG4gICAgcmV0dXJuIHVzZVNoYWRvd0RvbSAhPT0gdW5kZWZpbmVkID8gdXNlU2hhZG93RG9tIDogdHJ1ZTtcbn1cblxuZXhwb3J0cy5SZWNpcGVNb2R1bGUgPSBSZWNpcGVNb2R1bGU7XG5leHBvcnRzLlN1cGVyVG9rZW5zID0gU3VwZXJUb2tlbnM7XG5leHBvcnRzLmdldEN1cnJlbnRMYW5ndWFnZUZyb21Db29raWUgPSBnZXRDdXJyZW50TGFuZ3VhZ2VGcm9tQ29va2llO1xuZXhwb3J0cy5ub3JtYWxpc2VSZWNpcGVNb2R1bGVDb25maWcgPSBub3JtYWxpc2VSZWNpcGVNb2R1bGVDb25maWc7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZWNpcGVNb2R1bGUtc2hhcmVkLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/supertokens-auth-react/lib/build/recipeModule-shared.js\n"));

/***/ }),

/***/ "./node_modules/supertokens-auth-react/lib/build/session-shared.js":
/*!*************************************************************************!*\
  !*** ./node_modules/supertokens-auth-react/lib/build/session-shared.js ***!
  \*************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\n\nvar utils = __webpack_require__(/*! ./utils.js */ \"./node_modules/supertokens-auth-react/lib/build/utils.js\");\nvar jsxRuntime = __webpack_require__(/*! react/jsx-runtime */ \"./node_modules/react/jsx-runtime.js\");\nvar React = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\nvar utils$1 = __webpack_require__(/*! ./recipeModule-shared.js */ \"./node_modules/supertokens-auth-react/lib/build/recipeModule-shared.js\");\nvar uiEntry = __webpack_require__(/*! ./index2.js */ \"./node_modules/supertokens-auth-react/lib/build/index2.js\");\nvar recipe = __webpack_require__(/*! ./session-shared2.js */ \"./node_modules/supertokens-auth-react/lib/build/session-shared2.js\");\n\nfunction _interopDefault(e) {\n    return e && e.__esModule ? e : { default: e };\n}\n\nvar React__default = /*#__PURE__*/ _interopDefault(React);\n\nvar UserContextContext = React__default.default.createContext(undefined);\nvar useUserContext = function () {\n    return React__default.default.useContext(UserContextContext);\n};\nvar UserContextProvider = function (_a) {\n    var children = _a.children,\n        userContext = _a.userContext;\n    var currentUserContext = React.useState(utils.getNormalisedUserContext(userContext))[0];\n    return jsxRuntime.jsx(\n        UserContextContext.Provider,\n        utils.__assign({ value: currentUserContext }, { children: children })\n    );\n};\n\nfunction UserContextWrapper(props) {\n    /**\n     * If we receive a userContext as a props we should assume that the user\n     * is either trying to use a theme component as standalone or that they\n     * want to override an existing value for userContext.\n     *\n     * In this case we should always return a Provider with the value of userContext\n     */\n    if (props.userContext !== undefined) {\n        return jsxRuntime.jsx(\n            UserContextProvider,\n            utils.__assign({ userContext: props.userContext }, { children: props.children })\n        );\n    }\n    return jsxRuntime.jsx(UserContextContext.Consumer, {\n        children: function (value) {\n            /**\n             * value is undefined only if there is no Provider in the tree. In this case it is safe to\n             * assume that the theme component is not being rendered by the SDK and that the user is not\n             * using this as a child of one of the pre-built feature components.\n             *\n             * In this case we return a provider so that the userContext hook can be used by the children\n             * of this theme component\n             */\n            if (value === undefined) {\n                return jsxRuntime.jsx(UserContextProvider, { children: props.children });\n            }\n            /**\n             * If value is not undefined then a provider exists in the tree. This means that this component\n             * is either being rendered by the SDK or the user has added it as a child of the pre-built\n             * feature components. In either case the userContext hook will be available so simply\n             * return the theme component.\n             */\n            return props.children;\n        },\n    });\n}\n\nvar SessionContext = React__default.default.createContext({\n    loading: true,\n    isDefault: true,\n});\n\nvar SessionAuth = function (_a) {\n    var _b;\n    var children = _a.children,\n        props = utils.__rest(_a, [\"children\"]);\n    var requireAuth = React.useRef(props.requireAuth);\n    if (props.requireAuth !== requireAuth.current) {\n        throw new Error(\n            // eslint-disable-next-line @typescript-eslint/quotes\n            'requireAuth prop should not change. If you are seeing this, it probably means that you are using SessionAuth in multiple routes with different values for requireAuth. To solve this, try adding the \"key\" prop to all uses of SessionAuth like <SessionAuth key=\"someUniqueKeyPerRoute\" requireAuth={...}>'\n        );\n    }\n    // Reusing the parent context was removed because it caused a redirect loop in an edge case\n    // because it'd also reuse the invalid claims part until it loaded.\n    var _c = React.useState({ loading: true }),\n        context = _c[0],\n        setContext = _c[1];\n    var session = React.useRef();\n    // We store this here, to prevent the list of called hooks changing even if a history hook is added later to SuperTokens.\n    var historyHookRef = React.useRef(\n        (_b = uiEntry.UI.getReactRouterDomWithCustomHistory()) === null || _b === void 0 ? void 0 : _b.useHistoryCustom\n    );\n    var history;\n    try {\n        if (historyHookRef.current) {\n            history = historyHookRef.current();\n        }\n    } catch (_d) {\n        // We catch and ignore errors here, because if this is may throw if\n        // the app is using react-router-dom but added a session auth outside of the router.\n    }\n    var userContext = useUserContext();\n    var redirectToLogin = React.useCallback(function () {\n        void utils$1.SuperTokens.getInstanceOrThrow().redirectToAuth({ history: history, redirectBack: true });\n    }, []);\n    var buildContext = React.useCallback(function () {\n        return utils.__awaiter(void 0, void 0, void 0, function () {\n            var sessionExists, invalidClaims, err_1, invalidClaimRedirectToPath, err_2;\n            var _a;\n            return utils.__generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        if (session.current === undefined) {\n                            session.current = recipe.Session.getInstanceOrThrow();\n                        }\n                        return [\n                            4 /*yield*/,\n                            session.current.doesSessionExist({\n                                userContext: userContext,\n                            }),\n                        ];\n                    case 1:\n                        sessionExists = _b.sent();\n                        if (sessionExists === false) {\n                            return [\n                                2 /*return*/,\n                                {\n                                    loading: false,\n                                    doesSessionExist: false,\n                                    accessTokenPayload: {},\n                                    invalidClaims: [],\n                                    userId: \"\",\n                                },\n                            ];\n                        }\n                        _b.label = 2;\n                    case 2:\n                        _b.trys.push([2, 4, , 6]);\n                        return [\n                            4 /*yield*/,\n                            session.current.validateClaims({\n                                overrideGlobalClaimValidators: props.overrideGlobalClaimValidators,\n                                userContext: userContext,\n                            }),\n                        ];\n                    case 3:\n                        invalidClaims = _b.sent();\n                        return [3 /*break*/, 6];\n                    case 4:\n                        err_1 = _b.sent();\n                        return [\n                            4 /*yield*/,\n                            session.current.doesSessionExist({\n                                userContext: userContext,\n                            }),\n                        ];\n                    case 5:\n                        // These errors should only come from getAccessTokenPayloadSecurely inside validateClaims if refreshing a claim cleared the session\n                        // Which means that the session was most likely cleared, meaning returning false is right.\n                        // This might also happen if the user provides an override or a custom claim validator that throws (or if we have a bug)\n                        // In which case the session will not be cleared so we rethrow the error\n                        if (_b.sent()) {\n                            throw err_1;\n                        }\n                        return [\n                            2 /*return*/,\n                            {\n                                loading: false,\n                                doesSessionExist: false,\n                                accessTokenPayload: {},\n                                invalidClaims: [],\n                                userId: \"\",\n                            },\n                        ];\n                    case 6:\n                        invalidClaimRedirectToPath = utils.popInvalidClaimRedirectPathFromContext(userContext);\n                        _b.label = 7;\n                    case 7:\n                        _b.trys.push([7, 10, , 12]);\n                        _a = {\n                            loading: false,\n                            doesSessionExist: true,\n                            invalidClaims: invalidClaims,\n                            invalidClaimRedirectToPath: invalidClaimRedirectToPath,\n                        };\n                        return [\n                            4 /*yield*/,\n                            session.current.getAccessTokenPayloadSecurely({\n                                userContext: userContext,\n                            }),\n                        ];\n                    case 8:\n                        _a.accessTokenPayload = _b.sent();\n                        return [\n                            4 /*yield*/,\n                            session.current.getUserId({\n                                userContext: userContext,\n                            }),\n                        ];\n                    case 9:\n                        return [2 /*return*/, ((_a.userId = _b.sent()), _a)];\n                    case 10:\n                        err_2 = _b.sent();\n                        return [\n                            4 /*yield*/,\n                            session.current.doesSessionExist({\n                                userContext: userContext,\n                            }),\n                        ];\n                    case 11:\n                        if (_b.sent()) {\n                            throw err_2;\n                        }\n                        // This means that loading the access token or the userId failed\n                        // This may happen if the server cleared the error since the validation was done which should be extremely rare\n                        return [\n                            2 /*return*/,\n                            {\n                                loading: false,\n                                doesSessionExist: false,\n                                accessTokenPayload: {},\n                                invalidClaims: [],\n                                userId: \"\",\n                            },\n                        ];\n                    case 12:\n                        return [2 /*return*/];\n                }\n            });\n        });\n    }, []);\n    var setInitialContextAndMaybeRedirect = React.useCallback(\n        function (toSetContext) {\n            return utils.__awaiter(void 0, void 0, void 0, function () {\n                return utils.__generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            if (context.loading === false) {\n                                return [2 /*return*/];\n                            }\n                            if (!(props.doRedirection !== false)) return [3 /*break*/, 3];\n                            if (!(!toSetContext.doesSessionExist && props.requireAuth !== false))\n                                return [3 /*break*/, 1];\n                            redirectToLogin();\n                            return [2 /*return*/];\n                        case 1:\n                            if (!(toSetContext.invalidClaimRedirectToPath !== undefined)) return [3 /*break*/, 3];\n                            return [\n                                4 /*yield*/,\n                                utils$1.SuperTokens.getInstanceOrThrow().redirectToUrl(\n                                    toSetContext.invalidClaimRedirectToPath,\n                                    history\n                                ),\n                            ];\n                        case 2:\n                            _a.sent();\n                            return [2 /*return*/];\n                        case 3:\n                            delete toSetContext.invalidClaimRedirectToPath;\n                            setContext(toSetContext);\n                            return [2 /*return*/];\n                    }\n                });\n            });\n        },\n        [props.doRedirection, props.requireAuth, redirectToLogin, context]\n    );\n    utils.useOnMountAPICall(buildContext, setInitialContextAndMaybeRedirect);\n    // subscribe to events on mount\n    React.useEffect(\n        function () {\n            function onHandleEvent(event) {\n                return utils.__awaiter(this, void 0, void 0, function () {\n                    var _a, invalidClaims, redirectPath;\n                    return utils.__generator(this, function (_b) {\n                        switch (_b.label) {\n                            case 0:\n                                _a = event.action;\n                                switch (_a) {\n                                    case \"SESSION_CREATED\":\n                                        return [3 /*break*/, 1];\n                                    case \"REFRESH_SESSION\":\n                                        return [3 /*break*/, 1];\n                                    case \"ACCESS_TOKEN_PAYLOAD_UPDATED\":\n                                        return [3 /*break*/, 1];\n                                    case \"API_INVALID_CLAIM\":\n                                        return [3 /*break*/, 1];\n                                    case \"SIGN_OUT\":\n                                        return [3 /*break*/, 5];\n                                    case \"UNAUTHORISED\":\n                                        return [3 /*break*/, 6];\n                                }\n                                return [3 /*break*/, 7];\n                            case 1:\n                                return [\n                                    4 /*yield*/,\n                                    session.current.validateClaims({\n                                        overrideGlobalClaimValidators: props.overrideGlobalClaimValidators,\n                                        userContext: userContext,\n                                    }),\n                                ];\n                            case 2:\n                                invalidClaims = _b.sent();\n                                setContext(\n                                    utils.__assign(utils.__assign({}, event.sessionContext), {\n                                        loading: false,\n                                        invalidClaims: invalidClaims,\n                                    })\n                                );\n                                redirectPath = utils.popInvalidClaimRedirectPathFromContext(userContext);\n                                if (!(props.doRedirection !== false && redirectPath)) return [3 /*break*/, 4];\n                                return [\n                                    4 /*yield*/,\n                                    utils$1.SuperTokens.getInstanceOrThrow().redirectToUrl(redirectPath, history),\n                                ];\n                            case 3:\n                                _b.sent();\n                                _b.label = 4;\n                            case 4:\n                                return [2 /*return*/];\n                            case 5:\n                                setContext(\n                                    utils.__assign(utils.__assign({}, event.sessionContext), {\n                                        loading: false,\n                                        invalidClaims: [],\n                                    })\n                                );\n                                return [2 /*return*/];\n                            case 6:\n                                setContext(\n                                    utils.__assign(utils.__assign({}, event.sessionContext), {\n                                        loading: false,\n                                        invalidClaims: [],\n                                    })\n                                );\n                                if (props.onSessionExpired !== undefined) {\n                                    props.onSessionExpired();\n                                } else if (props.requireAuth !== false && props.doRedirection !== false) {\n                                    redirectToLogin();\n                                }\n                                return [2 /*return*/];\n                            case 7:\n                                return [2 /*return*/];\n                        }\n                    });\n                });\n            }\n            if (session.current === undefined) {\n                session.current = recipe.Session.getInstanceOrThrow();\n            }\n            if (context.loading === false) {\n                // we return here cause addEventListener returns a function that removes\n                // the listener, and this function will be called by useEffect when\n                // onHandleEvent changes or if the component is unmounting.\n                return session.current.addEventListener(onHandleEvent);\n            }\n            return undefined;\n        },\n        [props, setContext, context.loading]\n    );\n    if (props.requireAuth !== false && (context.loading || !context.doesSessionExist)) {\n        return null;\n    }\n    return jsxRuntime.jsx(SessionContext.Provider, utils.__assign({ value: context }, { children: children }));\n};\nvar SessionAuthWrapper = function (props) {\n    return jsxRuntime.jsx(\n        UserContextWrapper,\n        utils.__assign(\n            { userContext: props.userContext },\n            { children: jsxRuntime.jsx(SessionAuth, utils.__assign({}, props)) }\n        )\n    );\n};\n\nexports.SessionAuthWrapper = SessionAuthWrapper;\nexports.SessionContext = SessionContext;\nexports.UserContextContext = UserContextContext;\nexports.UserContextWrapper = UserContextWrapper;\nexports.useUserContext = useUserContext;\n//# sourceMappingURL=session-shared.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3VwZXJ0b2tlbnMtYXV0aC1yZWFjdC9saWIvYnVpbGQvc2Vzc2lvbi1zaGFyZWQuanMuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsWUFBWSxtQkFBTyxDQUFDLDRFQUFZO0FBQ2hDLGlCQUFpQixtQkFBTyxDQUFDLDhEQUFtQjtBQUM1QyxZQUFZLG1CQUFPLENBQUMsNENBQU87QUFDM0IsY0FBYyxtQkFBTyxDQUFDLHdHQUEwQjtBQUNoRCxjQUFjLG1CQUFPLENBQUMsOEVBQWE7QUFDbkMsYUFBYSxtQkFBTyxDQUFDLGdHQUFzQjs7QUFFM0M7QUFDQSxxQ0FBcUM7QUFDckM7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsMkJBQTJCLElBQUksb0JBQW9CO0FBQzVFO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixnQ0FBZ0MsSUFBSSwwQkFBMEI7QUFDM0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2REFBNkQsMEJBQTBCO0FBQ3ZGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1UQUFtVCxJQUFJO0FBQ3ZUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLGVBQWU7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1RUFBdUUsc0NBQXNDO0FBQzdHLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBEQUEwRDtBQUMxRDtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzREFBc0Q7QUFDdEQ7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0RBQXNEO0FBQ3REO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0VBQW9FO0FBQ3BFO0FBQ0E7QUFDQSxxQ0FBcUM7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9FQUFvRTtBQUNwRTtBQUNBO0FBQ0EscUNBQXFDO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0VBQW9FO0FBQ3BFO0FBQ0E7QUFDQSxxQ0FBcUM7QUFDckM7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0VBQW9FLGdCQUFnQixJQUFJLG9CQUFvQjtBQUM1RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxnQ0FBZ0M7QUFDOUMsY0FBYyx1REFBdUQ7QUFDckU7QUFDQTtBQUNBOztBQUVBLDBCQUEwQjtBQUMxQixzQkFBc0I7QUFDdEIsMEJBQTBCO0FBQzFCLDBCQUEwQjtBQUMxQixzQkFBc0I7QUFDdEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3N1cGVydG9rZW5zLWF1dGgtcmVhY3QvbGliL2J1aWxkL3Nlc3Npb24tc2hhcmVkLmpzPzRlY2IiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoXCIuL3V0aWxzLmpzXCIpO1xudmFyIGpzeFJ1bnRpbWUgPSByZXF1aXJlKFwicmVhY3QvanN4LXJ1bnRpbWVcIik7XG52YXIgUmVhY3QgPSByZXF1aXJlKFwicmVhY3RcIik7XG52YXIgdXRpbHMkMSA9IHJlcXVpcmUoXCIuL3JlY2lwZU1vZHVsZS1zaGFyZWQuanNcIik7XG52YXIgdWlFbnRyeSA9IHJlcXVpcmUoXCIuL2luZGV4Mi5qc1wiKTtcbnZhciByZWNpcGUgPSByZXF1aXJlKFwiLi9zZXNzaW9uLXNoYXJlZDIuanNcIik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wRGVmYXVsdChlKSB7XG4gICAgcmV0dXJuIGUgJiYgZS5fX2VzTW9kdWxlID8gZSA6IHsgZGVmYXVsdDogZSB9O1xufVxuXG52YXIgUmVhY3RfX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovIF9pbnRlcm9wRGVmYXVsdChSZWFjdCk7XG5cbnZhciBVc2VyQ29udGV4dENvbnRleHQgPSBSZWFjdF9fZGVmYXVsdC5kZWZhdWx0LmNyZWF0ZUNvbnRleHQodW5kZWZpbmVkKTtcbnZhciB1c2VVc2VyQ29udGV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gUmVhY3RfX2RlZmF1bHQuZGVmYXVsdC51c2VDb250ZXh0KFVzZXJDb250ZXh0Q29udGV4dCk7XG59O1xudmFyIFVzZXJDb250ZXh0UHJvdmlkZXIgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgY2hpbGRyZW4gPSBfYS5jaGlsZHJlbixcbiAgICAgICAgdXNlckNvbnRleHQgPSBfYS51c2VyQ29udGV4dDtcbiAgICB2YXIgY3VycmVudFVzZXJDb250ZXh0ID0gUmVhY3QudXNlU3RhdGUodXRpbHMuZ2V0Tm9ybWFsaXNlZFVzZXJDb250ZXh0KHVzZXJDb250ZXh0KSlbMF07XG4gICAgcmV0dXJuIGpzeFJ1bnRpbWUuanN4KFxuICAgICAgICBVc2VyQ29udGV4dENvbnRleHQuUHJvdmlkZXIsXG4gICAgICAgIHV0aWxzLl9fYXNzaWduKHsgdmFsdWU6IGN1cnJlbnRVc2VyQ29udGV4dCB9LCB7IGNoaWxkcmVuOiBjaGlsZHJlbiB9KVxuICAgICk7XG59O1xuXG5mdW5jdGlvbiBVc2VyQ29udGV4dFdyYXBwZXIocHJvcHMpIHtcbiAgICAvKipcbiAgICAgKiBJZiB3ZSByZWNlaXZlIGEgdXNlckNvbnRleHQgYXMgYSBwcm9wcyB3ZSBzaG91bGQgYXNzdW1lIHRoYXQgdGhlIHVzZXJcbiAgICAgKiBpcyBlaXRoZXIgdHJ5aW5nIHRvIHVzZSBhIHRoZW1lIGNvbXBvbmVudCBhcyBzdGFuZGFsb25lIG9yIHRoYXQgdGhleVxuICAgICAqIHdhbnQgdG8gb3ZlcnJpZGUgYW4gZXhpc3RpbmcgdmFsdWUgZm9yIHVzZXJDb250ZXh0LlxuICAgICAqXG4gICAgICogSW4gdGhpcyBjYXNlIHdlIHNob3VsZCBhbHdheXMgcmV0dXJuIGEgUHJvdmlkZXIgd2l0aCB0aGUgdmFsdWUgb2YgdXNlckNvbnRleHRcbiAgICAgKi9cbiAgICBpZiAocHJvcHMudXNlckNvbnRleHQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4ganN4UnVudGltZS5qc3goXG4gICAgICAgICAgICBVc2VyQ29udGV4dFByb3ZpZGVyLFxuICAgICAgICAgICAgdXRpbHMuX19hc3NpZ24oeyB1c2VyQ29udGV4dDogcHJvcHMudXNlckNvbnRleHQgfSwgeyBjaGlsZHJlbjogcHJvcHMuY2hpbGRyZW4gfSlcbiAgICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIGpzeFJ1bnRpbWUuanN4KFVzZXJDb250ZXh0Q29udGV4dC5Db25zdW1lciwge1xuICAgICAgICBjaGlsZHJlbjogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIHZhbHVlIGlzIHVuZGVmaW5lZCBvbmx5IGlmIHRoZXJlIGlzIG5vIFByb3ZpZGVyIGluIHRoZSB0cmVlLiBJbiB0aGlzIGNhc2UgaXQgaXMgc2FmZSB0b1xuICAgICAgICAgICAgICogYXNzdW1lIHRoYXQgdGhlIHRoZW1lIGNvbXBvbmVudCBpcyBub3QgYmVpbmcgcmVuZGVyZWQgYnkgdGhlIFNESyBhbmQgdGhhdCB0aGUgdXNlciBpcyBub3RcbiAgICAgICAgICAgICAqIHVzaW5nIHRoaXMgYXMgYSBjaGlsZCBvZiBvbmUgb2YgdGhlIHByZS1idWlsdCBmZWF0dXJlIGNvbXBvbmVudHMuXG4gICAgICAgICAgICAgKlxuICAgICAgICAgICAgICogSW4gdGhpcyBjYXNlIHdlIHJldHVybiBhIHByb3ZpZGVyIHNvIHRoYXQgdGhlIHVzZXJDb250ZXh0IGhvb2sgY2FuIGJlIHVzZWQgYnkgdGhlIGNoaWxkcmVuXG4gICAgICAgICAgICAgKiBvZiB0aGlzIHRoZW1lIGNvbXBvbmVudFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBqc3hSdW50aW1lLmpzeChVc2VyQ29udGV4dFByb3ZpZGVyLCB7IGNoaWxkcmVuOiBwcm9wcy5jaGlsZHJlbiB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogSWYgdmFsdWUgaXMgbm90IHVuZGVmaW5lZCB0aGVuIGEgcHJvdmlkZXIgZXhpc3RzIGluIHRoZSB0cmVlLiBUaGlzIG1lYW5zIHRoYXQgdGhpcyBjb21wb25lbnRcbiAgICAgICAgICAgICAqIGlzIGVpdGhlciBiZWluZyByZW5kZXJlZCBieSB0aGUgU0RLIG9yIHRoZSB1c2VyIGhhcyBhZGRlZCBpdCBhcyBhIGNoaWxkIG9mIHRoZSBwcmUtYnVpbHRcbiAgICAgICAgICAgICAqIGZlYXR1cmUgY29tcG9uZW50cy4gSW4gZWl0aGVyIGNhc2UgdGhlIHVzZXJDb250ZXh0IGhvb2sgd2lsbCBiZSBhdmFpbGFibGUgc28gc2ltcGx5XG4gICAgICAgICAgICAgKiByZXR1cm4gdGhlIHRoZW1lIGNvbXBvbmVudC5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgcmV0dXJuIHByb3BzLmNoaWxkcmVuO1xuICAgICAgICB9LFxuICAgIH0pO1xufVxuXG52YXIgU2Vzc2lvbkNvbnRleHQgPSBSZWFjdF9fZGVmYXVsdC5kZWZhdWx0LmNyZWF0ZUNvbnRleHQoe1xuICAgIGxvYWRpbmc6IHRydWUsXG4gICAgaXNEZWZhdWx0OiB0cnVlLFxufSk7XG5cbnZhciBTZXNzaW9uQXV0aCA9IGZ1bmN0aW9uIChfYSkge1xuICAgIHZhciBfYjtcbiAgICB2YXIgY2hpbGRyZW4gPSBfYS5jaGlsZHJlbixcbiAgICAgICAgcHJvcHMgPSB1dGlscy5fX3Jlc3QoX2EsIFtcImNoaWxkcmVuXCJdKTtcbiAgICB2YXIgcmVxdWlyZUF1dGggPSBSZWFjdC51c2VSZWYocHJvcHMucmVxdWlyZUF1dGgpO1xuICAgIGlmIChwcm9wcy5yZXF1aXJlQXV0aCAhPT0gcmVxdWlyZUF1dGguY3VycmVudCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L3F1b3Rlc1xuICAgICAgICAgICAgJ3JlcXVpcmVBdXRoIHByb3Agc2hvdWxkIG5vdCBjaGFuZ2UuIElmIHlvdSBhcmUgc2VlaW5nIHRoaXMsIGl0IHByb2JhYmx5IG1lYW5zIHRoYXQgeW91IGFyZSB1c2luZyBTZXNzaW9uQXV0aCBpbiBtdWx0aXBsZSByb3V0ZXMgd2l0aCBkaWZmZXJlbnQgdmFsdWVzIGZvciByZXF1aXJlQXV0aC4gVG8gc29sdmUgdGhpcywgdHJ5IGFkZGluZyB0aGUgXCJrZXlcIiBwcm9wIHRvIGFsbCB1c2VzIG9mIFNlc3Npb25BdXRoIGxpa2UgPFNlc3Npb25BdXRoIGtleT1cInNvbWVVbmlxdWVLZXlQZXJSb3V0ZVwiIHJlcXVpcmVBdXRoPXsuLi59PidcbiAgICAgICAgKTtcbiAgICB9XG4gICAgLy8gUmV1c2luZyB0aGUgcGFyZW50IGNvbnRleHQgd2FzIHJlbW92ZWQgYmVjYXVzZSBpdCBjYXVzZWQgYSByZWRpcmVjdCBsb29wIGluIGFuIGVkZ2UgY2FzZVxuICAgIC8vIGJlY2F1c2UgaXQnZCBhbHNvIHJldXNlIHRoZSBpbnZhbGlkIGNsYWltcyBwYXJ0IHVudGlsIGl0IGxvYWRlZC5cbiAgICB2YXIgX2MgPSBSZWFjdC51c2VTdGF0ZSh7IGxvYWRpbmc6IHRydWUgfSksXG4gICAgICAgIGNvbnRleHQgPSBfY1swXSxcbiAgICAgICAgc2V0Q29udGV4dCA9IF9jWzFdO1xuICAgIHZhciBzZXNzaW9uID0gUmVhY3QudXNlUmVmKCk7XG4gICAgLy8gV2Ugc3RvcmUgdGhpcyBoZXJlLCB0byBwcmV2ZW50IHRoZSBsaXN0IG9mIGNhbGxlZCBob29rcyBjaGFuZ2luZyBldmVuIGlmIGEgaGlzdG9yeSBob29rIGlzIGFkZGVkIGxhdGVyIHRvIFN1cGVyVG9rZW5zLlxuICAgIHZhciBoaXN0b3J5SG9va1JlZiA9IFJlYWN0LnVzZVJlZihcbiAgICAgICAgKF9iID0gdWlFbnRyeS5VSS5nZXRSZWFjdFJvdXRlckRvbVdpdGhDdXN0b21IaXN0b3J5KCkpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi51c2VIaXN0b3J5Q3VzdG9tXG4gICAgKTtcbiAgICB2YXIgaGlzdG9yeTtcbiAgICB0cnkge1xuICAgICAgICBpZiAoaGlzdG9yeUhvb2tSZWYuY3VycmVudCkge1xuICAgICAgICAgICAgaGlzdG9yeSA9IGhpc3RvcnlIb29rUmVmLmN1cnJlbnQoKTtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKF9kKSB7XG4gICAgICAgIC8vIFdlIGNhdGNoIGFuZCBpZ25vcmUgZXJyb3JzIGhlcmUsIGJlY2F1c2UgaWYgdGhpcyBpcyBtYXkgdGhyb3cgaWZcbiAgICAgICAgLy8gdGhlIGFwcCBpcyB1c2luZyByZWFjdC1yb3V0ZXItZG9tIGJ1dCBhZGRlZCBhIHNlc3Npb24gYXV0aCBvdXRzaWRlIG9mIHRoZSByb3V0ZXIuXG4gICAgfVxuICAgIHZhciB1c2VyQ29udGV4dCA9IHVzZVVzZXJDb250ZXh0KCk7XG4gICAgdmFyIHJlZGlyZWN0VG9Mb2dpbiA9IFJlYWN0LnVzZUNhbGxiYWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdm9pZCB1dGlscyQxLlN1cGVyVG9rZW5zLmdldEluc3RhbmNlT3JUaHJvdygpLnJlZGlyZWN0VG9BdXRoKHsgaGlzdG9yeTogaGlzdG9yeSwgcmVkaXJlY3RCYWNrOiB0cnVlIH0pO1xuICAgIH0sIFtdKTtcbiAgICB2YXIgYnVpbGRDb250ZXh0ID0gUmVhY3QudXNlQ2FsbGJhY2soZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdXRpbHMuX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBzZXNzaW9uRXhpc3RzLCBpbnZhbGlkQ2xhaW1zLCBlcnJfMSwgaW52YWxpZENsYWltUmVkaXJlY3RUb1BhdGgsIGVycl8yO1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgcmV0dXJuIHV0aWxzLl9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYikge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2IubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlc3Npb24uY3VycmVudCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbi5jdXJyZW50ID0gcmVjaXBlLlNlc3Npb24uZ2V0SW5zdGFuY2VPclRocm93KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDQgLyp5aWVsZCovLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb24uY3VycmVudC5kb2VzU2Vzc2lvbkV4aXN0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlckNvbnRleHQ6IHVzZXJDb250ZXh0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbkV4aXN0cyA9IF9iLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZXNzaW9uRXhpc3RzID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDIgLypyZXR1cm4qLyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9hZGluZzogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2VzU2Vzc2lvbkV4aXN0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjY2Vzc1Rva2VuUGF5bG9hZDoge30sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnZhbGlkQ2xhaW1zOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJJZDogXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgX2IubGFiZWwgPSAyO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYi50cnlzLnB1c2goWzIsIDQsICwgNl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA0IC8qeWllbGQqLyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXNzaW9uLmN1cnJlbnQudmFsaWRhdGVDbGFpbXMoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdmVycmlkZUdsb2JhbENsYWltVmFsaWRhdG9yczogcHJvcHMub3ZlcnJpZGVHbG9iYWxDbGFpbVZhbGlkYXRvcnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJDb250ZXh0OiB1c2VyQ29udGV4dCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGludmFsaWRDbGFpbXMgPSBfYi5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCA2XTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyXzEgPSBfYi5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDQgLyp5aWVsZCovLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb24uY3VycmVudC5kb2VzU2Vzc2lvbkV4aXN0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlckNvbnRleHQ6IHVzZXJDb250ZXh0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlc2UgZXJyb3JzIHNob3VsZCBvbmx5IGNvbWUgZnJvbSBnZXRBY2Nlc3NUb2tlblBheWxvYWRTZWN1cmVseSBpbnNpZGUgdmFsaWRhdGVDbGFpbXMgaWYgcmVmcmVzaGluZyBhIGNsYWltIGNsZWFyZWQgdGhlIHNlc3Npb25cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdoaWNoIG1lYW5zIHRoYXQgdGhlIHNlc3Npb24gd2FzIG1vc3QgbGlrZWx5IGNsZWFyZWQsIG1lYW5pbmcgcmV0dXJuaW5nIGZhbHNlIGlzIHJpZ2h0LlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyBtaWdodCBhbHNvIGhhcHBlbiBpZiB0aGUgdXNlciBwcm92aWRlcyBhbiBvdmVycmlkZSBvciBhIGN1c3RvbSBjbGFpbSB2YWxpZGF0b3IgdGhhdCB0aHJvd3MgKG9yIGlmIHdlIGhhdmUgYSBidWcpXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJbiB3aGljaCBjYXNlIHRoZSBzZXNzaW9uIHdpbGwgbm90IGJlIGNsZWFyZWQgc28gd2UgcmV0aHJvdyB0aGUgZXJyb3JcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfYi5zZW50KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnJfMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMiAvKnJldHVybiovLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9hZGluZzogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvZXNTZXNzaW9uRXhpc3Q6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY2Nlc3NUb2tlblBheWxvYWQ6IHt9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnZhbGlkQ2xhaW1zOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlcklkOiBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgICAgICAgICBpbnZhbGlkQ2xhaW1SZWRpcmVjdFRvUGF0aCA9IHV0aWxzLnBvcEludmFsaWRDbGFpbVJlZGlyZWN0UGF0aEZyb21Db250ZXh0KHVzZXJDb250ZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9iLmxhYmVsID0gNztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgICAgICAgICAgICAgX2IudHJ5cy5wdXNoKFs3LCAxMCwgLCAxMl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2EgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9hZGluZzogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9lc1Nlc3Npb25FeGlzdDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnZhbGlkQ2xhaW1zOiBpbnZhbGlkQ2xhaW1zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludmFsaWRDbGFpbVJlZGlyZWN0VG9QYXRoOiBpbnZhbGlkQ2xhaW1SZWRpcmVjdFRvUGF0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDQgLyp5aWVsZCovLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb24uY3VycmVudC5nZXRBY2Nlc3NUb2tlblBheWxvYWRTZWN1cmVseSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJDb250ZXh0OiB1c2VyQ29udGV4dCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgODpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLmFjY2Vzc1Rva2VuUGF5bG9hZCA9IF9iLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgNCAvKnlpZWxkKi8sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbi5jdXJyZW50LmdldFVzZXJJZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJDb250ZXh0OiB1c2VyQ29udGV4dCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgOTpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCAoKF9hLnVzZXJJZCA9IF9iLnNlbnQoKSksIF9hKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTA6XG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJfMiA9IF9iLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgNCAvKnlpZWxkKi8sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbi5jdXJyZW50LmRvZXNTZXNzaW9uRXhpc3Qoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyQ29udGV4dDogdXNlckNvbnRleHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDExOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9iLnNlbnQoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IGVycl8yO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyBtZWFucyB0aGF0IGxvYWRpbmcgdGhlIGFjY2VzcyB0b2tlbiBvciB0aGUgdXNlcklkIGZhaWxlZFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyBtYXkgaGFwcGVuIGlmIHRoZSBzZXJ2ZXIgY2xlYXJlZCB0aGUgZXJyb3Igc2luY2UgdGhlIHZhbGlkYXRpb24gd2FzIGRvbmUgd2hpY2ggc2hvdWxkIGJlIGV4dHJlbWVseSByYXJlXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDIgLypyZXR1cm4qLyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRpbmc6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2VzU2Vzc2lvbkV4aXN0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWNjZXNzVG9rZW5QYXlsb2FkOiB7fSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW52YWxpZENsYWltczogW10sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJJZDogXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxMjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfSwgW10pO1xuICAgIHZhciBzZXRJbml0aWFsQ29udGV4dEFuZE1heWJlUmVkaXJlY3QgPSBSZWFjdC51c2VDYWxsYmFjayhcbiAgICAgICAgZnVuY3Rpb24gKHRvU2V0Q29udGV4dCkge1xuICAgICAgICAgICAgcmV0dXJuIHV0aWxzLl9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHV0aWxzLl9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRleHQubG9hZGluZyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShwcm9wcy5kb1JlZGlyZWN0aW9uICE9PSBmYWxzZSkpIHJldHVybiBbMyAvKmJyZWFrKi8sIDNdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKCF0b1NldENvbnRleHQuZG9lc1Nlc3Npb25FeGlzdCAmJiBwcm9wcy5yZXF1aXJlQXV0aCAhPT0gZmFsc2UpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCAxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWRpcmVjdFRvTG9naW4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEodG9TZXRDb250ZXh0LmludmFsaWRDbGFpbVJlZGlyZWN0VG9QYXRoICE9PSB1bmRlZmluZWQpKSByZXR1cm4gWzMgLypicmVhayovLCAzXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA0IC8qeWllbGQqLyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXRpbHMkMS5TdXBlclRva2Vucy5nZXRJbnN0YW5jZU9yVGhyb3coKS5yZWRpcmVjdFRvVXJsKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9TZXRDb250ZXh0LmludmFsaWRDbGFpbVJlZGlyZWN0VG9QYXRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGlzdG9yeVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgdG9TZXRDb250ZXh0LmludmFsaWRDbGFpbVJlZGlyZWN0VG9QYXRoO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldENvbnRleHQodG9TZXRDb250ZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBbcHJvcHMuZG9SZWRpcmVjdGlvbiwgcHJvcHMucmVxdWlyZUF1dGgsIHJlZGlyZWN0VG9Mb2dpbiwgY29udGV4dF1cbiAgICApO1xuICAgIHV0aWxzLnVzZU9uTW91bnRBUElDYWxsKGJ1aWxkQ29udGV4dCwgc2V0SW5pdGlhbENvbnRleHRBbmRNYXliZVJlZGlyZWN0KTtcbiAgICAvLyBzdWJzY3JpYmUgdG8gZXZlbnRzIG9uIG1vdW50XG4gICAgUmVhY3QudXNlRWZmZWN0KFxuICAgICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBmdW5jdGlvbiBvbkhhbmRsZUV2ZW50KGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHV0aWxzLl9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2EsIGludmFsaWRDbGFpbXMsIHJlZGlyZWN0UGF0aDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHV0aWxzLl9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYikge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfYi5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2EgPSBldmVudC5hY3Rpb247XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJTRVNTSU9OX0NSRUFURURcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCAxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJSRUZSRVNIX1NFU1NJT05cIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCAxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJBQ0NFU1NfVE9LRU5fUEFZTE9BRF9VUERBVEVEXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgMV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiQVBJX0lOVkFMSURfQ0xBSU1cIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCAxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJTSUdOX09VVFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDVdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlVOQVVUSE9SSVNFRFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDZdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDddO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDQgLyp5aWVsZCovLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbi5jdXJyZW50LnZhbGlkYXRlQ2xhaW1zKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdmVycmlkZUdsb2JhbENsYWltVmFsaWRhdG9yczogcHJvcHMub3ZlcnJpZGVHbG9iYWxDbGFpbVZhbGlkYXRvcnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlckNvbnRleHQ6IHVzZXJDb250ZXh0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnZhbGlkQ2xhaW1zID0gX2Iuc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRDb250ZXh0KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXRpbHMuX19hc3NpZ24odXRpbHMuX19hc3NpZ24oe30sIGV2ZW50LnNlc3Npb25Db250ZXh0KSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRpbmc6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludmFsaWRDbGFpbXM6IGludmFsaWRDbGFpbXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWRpcmVjdFBhdGggPSB1dGlscy5wb3BJbnZhbGlkQ2xhaW1SZWRpcmVjdFBhdGhGcm9tQ29udGV4dCh1c2VyQ29udGV4dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKHByb3BzLmRvUmVkaXJlY3Rpb24gIT09IGZhbHNlICYmIHJlZGlyZWN0UGF0aCkpIHJldHVybiBbMyAvKmJyZWFrKi8sIDRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgNCAvKnlpZWxkKi8sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1dGlscyQxLlN1cGVyVG9rZW5zLmdldEluc3RhbmNlT3JUaHJvdygpLnJlZGlyZWN0VG9VcmwocmVkaXJlY3RQYXRoLCBoaXN0b3J5KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9iLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2IubGFiZWwgPSA0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Q29udGV4dChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHV0aWxzLl9fYXNzaWduKHV0aWxzLl9fYXNzaWduKHt9LCBldmVudC5zZXNzaW9uQ29udGV4dCksIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2FkaW5nOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnZhbGlkQ2xhaW1zOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldENvbnRleHQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1dGlscy5fX2Fzc2lnbih1dGlscy5fX2Fzc2lnbih7fSwgZXZlbnQuc2Vzc2lvbkNvbnRleHQpLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9hZGluZzogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW52YWxpZENsYWltczogW10sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvcHMub25TZXNzaW9uRXhwaXJlZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wcy5vblNlc3Npb25FeHBpcmVkKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocHJvcHMucmVxdWlyZUF1dGggIT09IGZhbHNlICYmIHByb3BzLmRvUmVkaXJlY3Rpb24gIT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWRpcmVjdFRvTG9naW4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNlc3Npb24uY3VycmVudCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgc2Vzc2lvbi5jdXJyZW50ID0gcmVjaXBlLlNlc3Npb24uZ2V0SW5zdGFuY2VPclRocm93KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY29udGV4dC5sb2FkaW5nID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIC8vIHdlIHJldHVybiBoZXJlIGNhdXNlIGFkZEV2ZW50TGlzdGVuZXIgcmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgcmVtb3Zlc1xuICAgICAgICAgICAgICAgIC8vIHRoZSBsaXN0ZW5lciwgYW5kIHRoaXMgZnVuY3Rpb24gd2lsbCBiZSBjYWxsZWQgYnkgdXNlRWZmZWN0IHdoZW5cbiAgICAgICAgICAgICAgICAvLyBvbkhhbmRsZUV2ZW50IGNoYW5nZXMgb3IgaWYgdGhlIGNvbXBvbmVudCBpcyB1bm1vdW50aW5nLlxuICAgICAgICAgICAgICAgIHJldHVybiBzZXNzaW9uLmN1cnJlbnQuYWRkRXZlbnRMaXN0ZW5lcihvbkhhbmRsZUV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH0sXG4gICAgICAgIFtwcm9wcywgc2V0Q29udGV4dCwgY29udGV4dC5sb2FkaW5nXVxuICAgICk7XG4gICAgaWYgKHByb3BzLnJlcXVpcmVBdXRoICE9PSBmYWxzZSAmJiAoY29udGV4dC5sb2FkaW5nIHx8ICFjb250ZXh0LmRvZXNTZXNzaW9uRXhpc3QpKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4ganN4UnVudGltZS5qc3goU2Vzc2lvbkNvbnRleHQuUHJvdmlkZXIsIHV0aWxzLl9fYXNzaWduKHsgdmFsdWU6IGNvbnRleHQgfSwgeyBjaGlsZHJlbjogY2hpbGRyZW4gfSkpO1xufTtcbnZhciBTZXNzaW9uQXV0aFdyYXBwZXIgPSBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICByZXR1cm4ganN4UnVudGltZS5qc3goXG4gICAgICAgIFVzZXJDb250ZXh0V3JhcHBlcixcbiAgICAgICAgdXRpbHMuX19hc3NpZ24oXG4gICAgICAgICAgICB7IHVzZXJDb250ZXh0OiBwcm9wcy51c2VyQ29udGV4dCB9LFxuICAgICAgICAgICAgeyBjaGlsZHJlbjoganN4UnVudGltZS5qc3goU2Vzc2lvbkF1dGgsIHV0aWxzLl9fYXNzaWduKHt9LCBwcm9wcykpIH1cbiAgICAgICAgKVxuICAgICk7XG59O1xuXG5leHBvcnRzLlNlc3Npb25BdXRoV3JhcHBlciA9IFNlc3Npb25BdXRoV3JhcHBlcjtcbmV4cG9ydHMuU2Vzc2lvbkNvbnRleHQgPSBTZXNzaW9uQ29udGV4dDtcbmV4cG9ydHMuVXNlckNvbnRleHRDb250ZXh0ID0gVXNlckNvbnRleHRDb250ZXh0O1xuZXhwb3J0cy5Vc2VyQ29udGV4dFdyYXBwZXIgPSBVc2VyQ29udGV4dFdyYXBwZXI7XG5leHBvcnRzLnVzZVVzZXJDb250ZXh0ID0gdXNlVXNlckNvbnRleHQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zZXNzaW9uLXNoYXJlZC5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/supertokens-auth-react/lib/build/session-shared.js\n"));

/***/ }),

/***/ "./node_modules/supertokens-auth-react/lib/build/session-shared2.js":
/*!**************************************************************************!*\
  !*** ./node_modules/supertokens-auth-react/lib/build/session-shared2.js ***!
  \**************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\n\nvar utils = __webpack_require__(/*! ./utils.js */ \"./node_modules/supertokens-auth-react/lib/build/utils.js\");\nvar WebJSSessionRecipe = __webpack_require__(/*! supertokens-web-js/recipe/session */ \"./node_modules/supertokens-web-js/recipe/session/index.js\");\nvar utils$1 = __webpack_require__(/*! ./recipeModule-shared.js */ \"./node_modules/supertokens-auth-react/lib/build/recipeModule-shared.js\");\n\nfunction _interopDefault(e) {\n    return e && e.__esModule ? e : { default: e };\n}\n\nvar WebJSSessionRecipe__default = /*#__PURE__*/ _interopDefault(WebJSSessionRecipe);\n\n/* Copyright (c) 2021, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nvar Session = /** @class */ (function (_super) {\n    utils.__extends(Session, _super);\n    function Session(config, webJSRecipe) {\n        if (webJSRecipe === void 0) {\n            webJSRecipe = WebJSSessionRecipe__default.default;\n        }\n        var _this = _super.call(this, config) || this;\n        _this.webJSRecipe = webJSRecipe;\n        _this.eventListeners = new Set();\n        _this.redirectionHandlersFromAuthRecipes = new Map();\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        _this.getFeatureComponent = function (_) {\n            throw new Error(\"should never come here\");\n        };\n        _this.getFeatures = function () {\n            return {};\n        };\n        _this.getUserId = function (input) {\n            return _this.webJSRecipe.getUserId(input);\n        };\n        _this.getAccessToken = function (input) {\n            return _this.webJSRecipe.getAccessToken(input);\n        };\n        _this.getClaimValue = function (input) {\n            return _this.webJSRecipe.getClaimValue(input);\n        };\n        _this.getAccessTokenPayloadSecurely = function (input) {\n            return utils.__awaiter(_this, void 0, void 0, function () {\n                return utils.__generator(this, function (_a) {\n                    return [2 /*return*/, this.webJSRecipe.getAccessTokenPayloadSecurely(input)];\n                });\n            });\n        };\n        _this.doesSessionExist = function (input) {\n            return _this.webJSRecipe.doesSessionExist(input);\n        };\n        _this.signOut = function (input) {\n            return _this.webJSRecipe.signOut(input);\n        };\n        _this.attemptRefreshingSession = function () {\n            return utils.__awaiter(_this, void 0, void 0, function () {\n                return utils.__generator(this, function (_a) {\n                    return [2 /*return*/, this.webJSRecipe.attemptRefreshingSession()];\n                });\n            });\n        };\n        _this.validateClaims = function (input) {\n            return _this.webJSRecipe.validateClaims(input);\n        };\n        _this.getInvalidClaimsFromResponse = function (input) {\n            return _this.webJSRecipe.getInvalidClaimsFromResponse(input);\n        };\n        /**\n         * @returns Function to remove event listener\n         */\n        _this.addEventListener = function (listener) {\n            _this.eventListeners.add(listener);\n            return function () {\n                return _this.eventListeners.delete(listener);\n            };\n        };\n        _this.addAuthRecipeRedirectionHandler = function (rid, redirect) {\n            _this.redirectionHandlersFromAuthRecipes.set(rid, redirect);\n        };\n        _this.validateGlobalClaimsAndHandleSuccessRedirection = function (redirectInfo, userContext, history) {\n            return utils.__awaiter(_this, void 0, void 0, function () {\n                var invalidClaims, invalidClaimRedirectPath, jsonContext, successContextStr, authRecipeRedirectHandler;\n                return utils.__generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            return [4 /*yield*/, this.doesSessionExist({ userContext: userContext })];\n                        case 1:\n                            // First we check if there is an active session\n                            if (!_a.sent()) {\n                                // If there is none, we have no way of checking claims, so we redirect to the auth page\n                                // This can happen e.g.: if the user clicked on the email verification link in a browser without an active session\n                                return [\n                                    2 /*return*/,\n                                    utils$1.SuperTokens.getInstanceOrThrow().redirectToAuth({\n                                        history: history,\n                                        redirectBack: false,\n                                    }),\n                                ];\n                            }\n                            return [4 /*yield*/, this.validateClaims({ userContext: userContext })];\n                        case 2:\n                            invalidClaims = _a.sent();\n                            invalidClaimRedirectPath = utils.popInvalidClaimRedirectPathFromContext(userContext);\n                            if (!(invalidClaims.length > 0 && invalidClaimRedirectPath !== undefined))\n                                return [3 /*break*/, 5];\n                            if (!(redirectInfo !== undefined)) return [3 /*break*/, 4];\n                            jsonContext = JSON.stringify(redirectInfo);\n                            return [\n                                4 /*yield*/,\n                                utils.setLocalStorage(\"supertokens-success-redirection-context\", jsonContext),\n                            ];\n                        case 3:\n                            _a.sent();\n                            _a.label = 4;\n                        case 4:\n                            // then we do the redirection.\n                            return [\n                                2 /*return*/,\n                                utils$1.SuperTokens.getInstanceOrThrow().redirectToUrl(\n                                    invalidClaimRedirectPath,\n                                    history\n                                ),\n                            ];\n                        case 5:\n                            if (!(redirectInfo === undefined)) return [3 /*break*/, 12];\n                            return [4 /*yield*/, utils.getLocalStorage(\"supertokens-success-redirection-context\")];\n                        case 6:\n                            successContextStr = _a.sent();\n                            if (!(successContextStr !== null)) return [3 /*break*/, 11];\n                            _a.label = 7;\n                        case 7:\n                            _a.trys.push([7, , 8, 10]);\n                            redirectInfo = JSON.parse(successContextStr);\n                            return [3 /*break*/, 10];\n                        case 8:\n                            return [\n                                4 /*yield*/,\n                                utils.removeFromLocalStorage(\"supertokens-success-redirection-context\"),\n                            ];\n                        case 9:\n                            _a.sent();\n                            return [7 /*endfinally*/];\n                        case 10:\n                            return [3 /*break*/, 12];\n                        case 11:\n                            // If there was nothing in localstorage we set a default\n                            // this can happen if the user visited email verification screen without an auth recipe redirecting them there\n                            // but already had the email verified and an active session\n                            redirectInfo = {\n                                rid: Session.RECIPE_ID,\n                                successRedirectContext: {\n                                    action: \"SUCCESS\",\n                                    isNewUser: false,\n                                },\n                            };\n                            _a.label = 12;\n                        case 12:\n                            authRecipeRedirectHandler = this.redirectionHandlersFromAuthRecipes.get(redirectInfo.rid);\n                            if (authRecipeRedirectHandler !== undefined) {\n                                // and call it with the saved info\n                                return [\n                                    2 /*return*/,\n                                    authRecipeRedirectHandler(redirectInfo.successRedirectContext, history),\n                                ];\n                            }\n                            // This should only happen if the configuration changed between saving the context and finishing the sign in process\n                            // or if the user navigated to a page where they were expected to have a stored redirectInfo but didn't\n                            // (e.g.: pressed back after email verification)\n                            return [2 /*return*/, this.redirect(redirectInfo.successRedirectContext, history)];\n                    }\n                });\n            });\n        };\n        /**\n         * This should only get called if validateGlobalClaimsAndHandleSuccessRedirection couldn't get a redirectInfo\n         * @returns \"/\"\n         */\n        _this.getDefaultRedirectionURL = function () {\n            return utils.__awaiter(_this, void 0, void 0, function () {\n                return utils.__generator(this, function (_a) {\n                    return [2 /*return*/, \"/\"];\n                });\n            });\n        };\n        _this.notifyListeners = function (event) {\n            return utils.__awaiter(_this, void 0, void 0, function () {\n                var sessionContext;\n                return utils.__generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            return [4 /*yield*/, this.getSessionContext(event)];\n                        case 1:\n                            sessionContext = _a.sent();\n                            // We copy this.eventListeners into a new array to \"freeze\" it for the loop\n                            // We do this to avoid an infinite loop in case one of the listeners causes a new listener to be added (e.g.: through re-rendering)\n                            Array.from(this.eventListeners).forEach(function (listener) {\n                                return listener(utils.__assign({ sessionContext: sessionContext }, event));\n                            });\n                            return [2 /*return*/];\n                    }\n                });\n            });\n        };\n        return _this;\n    }\n    Session.prototype.getSessionContext = function (_a) {\n        var action = _a.action,\n            userContext = _a.userContext;\n        return utils.__awaiter(this, void 0, void 0, function () {\n            var _b, userId, accessTokenPayload;\n            return utils.__generator(this, function (_c) {\n                switch (_c.label) {\n                    case 0:\n                        if (\n                            !(\n                                action === \"SESSION_CREATED\" ||\n                                action === \"REFRESH_SESSION\" ||\n                                action === \"API_INVALID_CLAIM\" ||\n                                action === \"ACCESS_TOKEN_PAYLOAD_UPDATED\"\n                            )\n                        )\n                            return [3 /*break*/, 2];\n                        return [\n                            4 /*yield*/,\n                            Promise.all([\n                                this.getUserId({\n                                    userContext: userContext,\n                                }),\n                                this.getAccessTokenPayloadSecurely({\n                                    userContext: userContext,\n                                }),\n                            ]),\n                        ];\n                    case 1:\n                        (_b = _c.sent()), (userId = _b[0]), (accessTokenPayload = _b[1]);\n                        return [\n                            2 /*return*/,\n                            {\n                                doesSessionExist: true,\n                                accessTokenPayload: accessTokenPayload,\n                                userId: userId,\n                            },\n                        ];\n                    case 2:\n                        if (action === \"SIGN_OUT\" || action === \"UNAUTHORISED\") {\n                            return [\n                                2 /*return*/,\n                                {\n                                    doesSessionExist: false,\n                                    accessTokenPayload: {},\n                                    userId: \"\",\n                                },\n                            ];\n                        }\n                        throw new Error(\"Unhandled recipe event: \".concat(action));\n                }\n            });\n        });\n    };\n    // eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\n    Session.addAxiosInterceptors = function (axiosInstance, userContext) {\n        return WebJSSessionRecipe__default.default.addAxiosInterceptors(axiosInstance, userContext);\n    };\n    Session.init = function (config) {\n        var _this = this;\n        var normalisedConfig = utils$1.normaliseRecipeModuleConfig(config);\n        return {\n            authReact: function (appInfo, enableDebugLogs) {\n                Session.instance = new Session(\n                    utils.__assign(utils.__assign({}, normalisedConfig), {\n                        appInfo: appInfo,\n                        recipeId: Session.RECIPE_ID,\n                        enableDebugLogs: enableDebugLogs,\n                    })\n                );\n                return Session.instance;\n            },\n            webJS: WebJSSessionRecipe__default.default.init(\n                utils.__assign(utils.__assign({}, normalisedConfig), {\n                    onHandleEvent: function (event) {\n                        if (normalisedConfig.onHandleEvent !== undefined) {\n                            normalisedConfig.onHandleEvent(event);\n                        }\n                        void Session.getInstanceOrThrow().notifyListeners(event);\n                    },\n                    preAPIHook: function (context) {\n                        return utils.__awaiter(_this, void 0, void 0, function () {\n                            var response;\n                            return utils.__generator(this, function (_a) {\n                                response = utils.__assign(utils.__assign({}, context), {\n                                    requestInit: utils.__assign(utils.__assign({}, context.requestInit), {\n                                        headers: utils.__assign(utils.__assign({}, context.requestInit.headers), {\n                                            rid: Session.RECIPE_ID,\n                                        }),\n                                    }),\n                                });\n                                if (normalisedConfig.preAPIHook === undefined) {\n                                    return [2 /*return*/, response];\n                                } else {\n                                    return [2 /*return*/, normalisedConfig.preAPIHook(context)];\n                                }\n                            });\n                        });\n                    },\n                })\n            ),\n        };\n    };\n    Session.getInstanceOrThrow = function () {\n        if (Session.instance === undefined) {\n            throw Error(\n                \"No instance of Session found. Make sure to call the Session.init method. See https://supertokens.io/docs/emailpassword/quick-setup/frontend\"\n            );\n        }\n        return Session.instance;\n    };\n    Session.getInstance = function () {\n        return Session.instance;\n    };\n    Session.reset = function () {\n        if (!utils.isTest()) {\n            return;\n        }\n        Session.instance = undefined;\n        return;\n    };\n    Session.RECIPE_ID = \"session\";\n    return Session;\n})(utils$1.RecipeModule);\n\nexports.Session = Session;\n//# sourceMappingURL=session-shared2.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3VwZXJ0b2tlbnMtYXV0aC1yZWFjdC9saWIvYnVpbGQvc2Vzc2lvbi1zaGFyZWQyLmpzLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLFlBQVksbUJBQU8sQ0FBQyw0RUFBWTtBQUNoQyx5QkFBeUIsbUJBQU8sQ0FBQyxvR0FBbUM7QUFDcEUsY0FBYyxtQkFBTyxDQUFDLHdHQUEwQjs7QUFFaEQ7QUFDQSxxQ0FBcUM7QUFDckM7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5RUFBeUUsMEJBQTBCO0FBQ25HO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDO0FBQ3JDO0FBQ0E7QUFDQSx1RUFBdUUsMEJBQTBCO0FBQ2pHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpRUFBaUUsZ0NBQWdDO0FBQ2pHLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMERBQTBEO0FBQzFEO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0RBQW9EO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsZ0RBQWdEO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyRUFBMkU7QUFDM0UsaUZBQWlGO0FBQ2pGLGlGQUFpRjtBQUNqRjtBQUNBLHlDQUF5QztBQUN6QyxxQ0FBcUM7QUFDckMsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQSxrQ0FBa0M7QUFDbEM7QUFDQTtBQUNBLDZCQUE2QjtBQUM3Qix5QkFBeUI7QUFDekIscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRCxlQUFlO0FBQ2YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3N1cGVydG9rZW5zLWF1dGgtcmVhY3QvbGliL2J1aWxkL3Nlc3Npb24tc2hhcmVkMi5qcz82MmU0Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKFwiLi91dGlscy5qc1wiKTtcbnZhciBXZWJKU1Nlc3Npb25SZWNpcGUgPSByZXF1aXJlKFwic3VwZXJ0b2tlbnMtd2ViLWpzL3JlY2lwZS9zZXNzaW9uXCIpO1xudmFyIHV0aWxzJDEgPSByZXF1aXJlKFwiLi9yZWNpcGVNb2R1bGUtc2hhcmVkLmpzXCIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcERlZmF1bHQoZSkge1xuICAgIHJldHVybiBlICYmIGUuX19lc01vZHVsZSA/IGUgOiB7IGRlZmF1bHQ6IGUgfTtcbn1cblxudmFyIFdlYkpTU2Vzc2lvblJlY2lwZV9fZGVmYXVsdCA9IC8qI19fUFVSRV9fKi8gX2ludGVyb3BEZWZhdWx0KFdlYkpTU2Vzc2lvblJlY2lwZSk7XG5cbi8qIENvcHlyaWdodCAoYykgMjAyMSwgVlJBSSBMYWJzIGFuZC9vciBpdHMgYWZmaWxpYXRlcy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvZnR3YXJlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZVxuICogXCJMaWNlbnNlXCIpIGFzIHB1Ymxpc2hlZCBieSB0aGUgQXBhY2hlIFNvZnR3YXJlIEZvdW5kYXRpb24uXG4gKlxuICogWW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5XG4gKiBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVFxuICogV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiBTZWUgdGhlXG4gKiBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9uc1xuICogdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbnZhciBTZXNzaW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHV0aWxzLl9fZXh0ZW5kcyhTZXNzaW9uLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFNlc3Npb24oY29uZmlnLCB3ZWJKU1JlY2lwZSkge1xuICAgICAgICBpZiAod2ViSlNSZWNpcGUgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgd2ViSlNSZWNpcGUgPSBXZWJKU1Nlc3Npb25SZWNpcGVfX2RlZmF1bHQuZGVmYXVsdDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBjb25maWcpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLndlYkpTUmVjaXBlID0gd2ViSlNSZWNpcGU7XG4gICAgICAgIF90aGlzLmV2ZW50TGlzdGVuZXJzID0gbmV3IFNldCgpO1xuICAgICAgICBfdGhpcy5yZWRpcmVjdGlvbkhhbmRsZXJzRnJvbUF1dGhSZWNpcGVzID0gbmV3IE1hcCgpO1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzXG4gICAgICAgIF90aGlzLmdldEZlYXR1cmVDb21wb25lbnQgPSBmdW5jdGlvbiAoXykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwic2hvdWxkIG5ldmVyIGNvbWUgaGVyZVwiKTtcbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMuZ2V0RmVhdHVyZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4ge307XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLmdldFVzZXJJZCA9IGZ1bmN0aW9uIChpbnB1dCkge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzLndlYkpTUmVjaXBlLmdldFVzZXJJZChpbnB1dCk7XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLmdldEFjY2Vzc1Rva2VuID0gZnVuY3Rpb24gKGlucHV0KSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMud2ViSlNSZWNpcGUuZ2V0QWNjZXNzVG9rZW4oaW5wdXQpO1xuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5nZXRDbGFpbVZhbHVlID0gZnVuY3Rpb24gKGlucHV0KSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMud2ViSlNSZWNpcGUuZ2V0Q2xhaW1WYWx1ZShpbnB1dCk7XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLmdldEFjY2Vzc1Rva2VuUGF5bG9hZFNlY3VyZWx5ID0gZnVuY3Rpb24gKGlucHV0KSB7XG4gICAgICAgICAgICByZXR1cm4gdXRpbHMuX19hd2FpdGVyKF90aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB1dGlscy5fX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHRoaXMud2ViSlNSZWNpcGUuZ2V0QWNjZXNzVG9rZW5QYXlsb2FkU2VjdXJlbHkoaW5wdXQpXTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5kb2VzU2Vzc2lvbkV4aXN0ID0gZnVuY3Rpb24gKGlucHV0KSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMud2ViSlNSZWNpcGUuZG9lc1Nlc3Npb25FeGlzdChpbnB1dCk7XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLnNpZ25PdXQgPSBmdW5jdGlvbiAoaW5wdXQpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy53ZWJKU1JlY2lwZS5zaWduT3V0KGlucHV0KTtcbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMuYXR0ZW1wdFJlZnJlc2hpbmdTZXNzaW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHV0aWxzLl9fYXdhaXRlcihfdGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdXRpbHMuX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCB0aGlzLndlYkpTUmVjaXBlLmF0dGVtcHRSZWZyZXNoaW5nU2Vzc2lvbigpXTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICBfdGhpcy52YWxpZGF0ZUNsYWltcyA9IGZ1bmN0aW9uIChpbnB1dCkge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzLndlYkpTUmVjaXBlLnZhbGlkYXRlQ2xhaW1zKGlucHV0KTtcbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMuZ2V0SW52YWxpZENsYWltc0Zyb21SZXNwb25zZSA9IGZ1bmN0aW9uIChpbnB1dCkge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzLndlYkpTUmVjaXBlLmdldEludmFsaWRDbGFpbXNGcm9tUmVzcG9uc2UoaW5wdXQpO1xuICAgICAgICB9O1xuICAgICAgICAvKipcbiAgICAgICAgICogQHJldHVybnMgRnVuY3Rpb24gdG8gcmVtb3ZlIGV2ZW50IGxpc3RlbmVyXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5hZGRFdmVudExpc3RlbmVyID0gZnVuY3Rpb24gKGxpc3RlbmVyKSB7XG4gICAgICAgICAgICBfdGhpcy5ldmVudExpc3RlbmVycy5hZGQobGlzdGVuZXIpO1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuZXZlbnRMaXN0ZW5lcnMuZGVsZXRlKGxpc3RlbmVyKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLmFkZEF1dGhSZWNpcGVSZWRpcmVjdGlvbkhhbmRsZXIgPSBmdW5jdGlvbiAocmlkLCByZWRpcmVjdCkge1xuICAgICAgICAgICAgX3RoaXMucmVkaXJlY3Rpb25IYW5kbGVyc0Zyb21BdXRoUmVjaXBlcy5zZXQocmlkLCByZWRpcmVjdCk7XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLnZhbGlkYXRlR2xvYmFsQ2xhaW1zQW5kSGFuZGxlU3VjY2Vzc1JlZGlyZWN0aW9uID0gZnVuY3Rpb24gKHJlZGlyZWN0SW5mbywgdXNlckNvbnRleHQsIGhpc3RvcnkpIHtcbiAgICAgICAgICAgIHJldHVybiB1dGlscy5fX2F3YWl0ZXIoX3RoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGludmFsaWRDbGFpbXMsIGludmFsaWRDbGFpbVJlZGlyZWN0UGF0aCwganNvbkNvbnRleHQsIHN1Y2Nlc3NDb250ZXh0U3RyLCBhdXRoUmVjaXBlUmVkaXJlY3RIYW5kbGVyO1xuICAgICAgICAgICAgICAgIHJldHVybiB1dGlscy5fX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuZG9lc1Nlc3Npb25FeGlzdCh7IHVzZXJDb250ZXh0OiB1c2VyQ29udGV4dCB9KV07XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRmlyc3Qgd2UgY2hlY2sgaWYgdGhlcmUgaXMgYW4gYWN0aXZlIHNlc3Npb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV9hLnNlbnQoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGVyZSBpcyBub25lLCB3ZSBoYXZlIG5vIHdheSBvZiBjaGVja2luZyBjbGFpbXMsIHNvIHdlIHJlZGlyZWN0IHRvIHRoZSBhdXRoIHBhZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyBjYW4gaGFwcGVuIGUuZy46IGlmIHRoZSB1c2VyIGNsaWNrZWQgb24gdGhlIGVtYWlsIHZlcmlmaWNhdGlvbiBsaW5rIGluIGEgYnJvd3NlciB3aXRob3V0IGFuIGFjdGl2ZSBzZXNzaW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAyIC8qcmV0dXJuKi8sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1dGlscyQxLlN1cGVyVG9rZW5zLmdldEluc3RhbmNlT3JUaHJvdygpLnJlZGlyZWN0VG9BdXRoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaXN0b3J5OiBoaXN0b3J5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZGlyZWN0QmFjazogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy52YWxpZGF0ZUNsYWltcyh7IHVzZXJDb250ZXh0OiB1c2VyQ29udGV4dCB9KV07XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW52YWxpZENsYWltcyA9IF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnZhbGlkQ2xhaW1SZWRpcmVjdFBhdGggPSB1dGlscy5wb3BJbnZhbGlkQ2xhaW1SZWRpcmVjdFBhdGhGcm9tQ29udGV4dCh1c2VyQ29udGV4dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoaW52YWxpZENsYWltcy5sZW5ndGggPiAwICYmIGludmFsaWRDbGFpbVJlZGlyZWN0UGF0aCAhPT0gdW5kZWZpbmVkKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgNV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEocmVkaXJlY3RJbmZvICE9PSB1bmRlZmluZWQpKSByZXR1cm4gWzMgLypicmVhayovLCA0XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc29uQ29udGV4dCA9IEpTT04uc3RyaW5naWZ5KHJlZGlyZWN0SW5mbyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgNCAvKnlpZWxkKi8sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHV0aWxzLnNldExvY2FsU3RvcmFnZShcInN1cGVydG9rZW5zLXN1Y2Nlc3MtcmVkaXJlY3Rpb24tY29udGV4dFwiLCBqc29uQ29udGV4dCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2EubGFiZWwgPSA0O1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoZW4gd2UgZG8gdGhlIHJlZGlyZWN0aW9uLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDIgLypyZXR1cm4qLyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXRpbHMkMS5TdXBlclRva2Vucy5nZXRJbnN0YW5jZU9yVGhyb3coKS5yZWRpcmVjdFRvVXJsKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW52YWxpZENsYWltUmVkaXJlY3RQYXRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGlzdG9yeVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEocmVkaXJlY3RJbmZvID09PSB1bmRlZmluZWQpKSByZXR1cm4gWzMgLypicmVhayovLCAxMl07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdXRpbHMuZ2V0TG9jYWxTdG9yYWdlKFwic3VwZXJ0b2tlbnMtc3VjY2Vzcy1yZWRpcmVjdGlvbi1jb250ZXh0XCIpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzQ29udGV4dFN0ciA9IF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShzdWNjZXNzQ29udGV4dFN0ciAhPT0gbnVsbCkpIHJldHVybiBbMyAvKmJyZWFrKi8sIDExXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYS5sYWJlbCA9IDc7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2EudHJ5cy5wdXNoKFs3LCAsIDgsIDEwXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVkaXJlY3RJbmZvID0gSlNPTi5wYXJzZShzdWNjZXNzQ29udGV4dFN0cik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgMTBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA4OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDQgLyp5aWVsZCovLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1dGlscy5yZW1vdmVGcm9tTG9jYWxTdG9yYWdlKFwic3VwZXJ0b2tlbnMtc3VjY2Vzcy1yZWRpcmVjdGlvbi1jb250ZXh0XCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNyAvKmVuZGZpbmFsbHkqL107XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDEwOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDEyXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTE6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlcmUgd2FzIG5vdGhpbmcgaW4gbG9jYWxzdG9yYWdlIHdlIHNldCBhIGRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzIGNhbiBoYXBwZW4gaWYgdGhlIHVzZXIgdmlzaXRlZCBlbWFpbCB2ZXJpZmljYXRpb24gc2NyZWVuIHdpdGhvdXQgYW4gYXV0aCByZWNpcGUgcmVkaXJlY3RpbmcgdGhlbSB0aGVyZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGJ1dCBhbHJlYWR5IGhhZCB0aGUgZW1haWwgdmVyaWZpZWQgYW5kIGFuIGFjdGl2ZSBzZXNzaW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVkaXJlY3RJbmZvID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByaWQ6IFNlc3Npb24uUkVDSVBFX0lELFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzUmVkaXJlY3RDb250ZXh0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb246IFwiU1VDQ0VTU1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNOZXdVc2VyOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9hLmxhYmVsID0gMTI7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDEyOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF1dGhSZWNpcGVSZWRpcmVjdEhhbmRsZXIgPSB0aGlzLnJlZGlyZWN0aW9uSGFuZGxlcnNGcm9tQXV0aFJlY2lwZXMuZ2V0KHJlZGlyZWN0SW5mby5yaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhdXRoUmVjaXBlUmVkaXJlY3RIYW5kbGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYW5kIGNhbGwgaXQgd2l0aCB0aGUgc2F2ZWQgaW5mb1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMiAvKnJldHVybiovLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXV0aFJlY2lwZVJlZGlyZWN0SGFuZGxlcihyZWRpcmVjdEluZm8uc3VjY2Vzc1JlZGlyZWN0Q29udGV4dCwgaGlzdG9yeSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgc2hvdWxkIG9ubHkgaGFwcGVuIGlmIHRoZSBjb25maWd1cmF0aW9uIGNoYW5nZWQgYmV0d2VlbiBzYXZpbmcgdGhlIGNvbnRleHQgYW5kIGZpbmlzaGluZyB0aGUgc2lnbiBpbiBwcm9jZXNzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gb3IgaWYgdGhlIHVzZXIgbmF2aWdhdGVkIHRvIGEgcGFnZSB3aGVyZSB0aGV5IHdlcmUgZXhwZWN0ZWQgdG8gaGF2ZSBhIHN0b3JlZCByZWRpcmVjdEluZm8gYnV0IGRpZG4ndFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIChlLmcuOiBwcmVzc2VkIGJhY2sgYWZ0ZXIgZW1haWwgdmVyaWZpY2F0aW9uKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCB0aGlzLnJlZGlyZWN0KHJlZGlyZWN0SW5mby5zdWNjZXNzUmVkaXJlY3RDb250ZXh0LCBoaXN0b3J5KV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhpcyBzaG91bGQgb25seSBnZXQgY2FsbGVkIGlmIHZhbGlkYXRlR2xvYmFsQ2xhaW1zQW5kSGFuZGxlU3VjY2Vzc1JlZGlyZWN0aW9uIGNvdWxkbid0IGdldCBhIHJlZGlyZWN0SW5mb1xuICAgICAgICAgKiBAcmV0dXJucyBcIi9cIlxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuZ2V0RGVmYXVsdFJlZGlyZWN0aW9uVVJMID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHV0aWxzLl9fYXdhaXRlcihfdGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdXRpbHMuX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBcIi9cIl07XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMubm90aWZ5TGlzdGVuZXJzID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gdXRpbHMuX19hd2FpdGVyKF90aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBzZXNzaW9uQ29udGV4dDtcbiAgICAgICAgICAgICAgICByZXR1cm4gdXRpbHMuX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLmdldFNlc3Npb25Db250ZXh0KGV2ZW50KV07XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vzc2lvbkNvbnRleHQgPSBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2UgY29weSB0aGlzLmV2ZW50TGlzdGVuZXJzIGludG8gYSBuZXcgYXJyYXkgdG8gXCJmcmVlemVcIiBpdCBmb3IgdGhlIGxvb3BcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBXZSBkbyB0aGlzIHRvIGF2b2lkIGFuIGluZmluaXRlIGxvb3AgaW4gY2FzZSBvbmUgb2YgdGhlIGxpc3RlbmVycyBjYXVzZXMgYSBuZXcgbGlzdGVuZXIgdG8gYmUgYWRkZWQgKGUuZy46IHRocm91Z2ggcmUtcmVuZGVyaW5nKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFycmF5LmZyb20odGhpcy5ldmVudExpc3RlbmVycykuZm9yRWFjaChmdW5jdGlvbiAobGlzdGVuZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGxpc3RlbmVyKHV0aWxzLl9fYXNzaWduKHsgc2Vzc2lvbkNvbnRleHQ6IHNlc3Npb25Db250ZXh0IH0sIGV2ZW50KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBTZXNzaW9uLnByb3RvdHlwZS5nZXRTZXNzaW9uQ29udGV4dCA9IGZ1bmN0aW9uIChfYSkge1xuICAgICAgICB2YXIgYWN0aW9uID0gX2EuYWN0aW9uLFxuICAgICAgICAgICAgdXNlckNvbnRleHQgPSBfYS51c2VyQ29udGV4dDtcbiAgICAgICAgcmV0dXJuIHV0aWxzLl9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIF9iLCB1c2VySWQsIGFjY2Vzc1Rva2VuUGF5bG9hZDtcbiAgICAgICAgICAgIHJldHVybiB1dGlscy5fX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2MpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAhKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb24gPT09IFwiU0VTU0lPTl9DUkVBVEVEXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uID09PSBcIlJFRlJFU0hfU0VTU0lPTlwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbiA9PT0gXCJBUElfSU5WQUxJRF9DTEFJTVwiIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbiA9PT0gXCJBQ0NFU1NfVE9LRU5fUEFZTE9BRF9VUERBVEVEXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgMl07XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDQgLyp5aWVsZCovLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFByb21pc2UuYWxsKFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRVc2VySWQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlckNvbnRleHQ6IHVzZXJDb250ZXh0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRBY2Nlc3NUb2tlblBheWxvYWRTZWN1cmVseSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyQ29udGV4dDogdXNlckNvbnRleHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgKF9iID0gX2Muc2VudCgpKSwgKHVzZXJJZCA9IF9iWzBdKSwgKGFjY2Vzc1Rva2VuUGF5bG9hZCA9IF9iWzFdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMiAvKnJldHVybiovLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9lc1Nlc3Npb25FeGlzdDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWNjZXNzVG9rZW5QYXlsb2FkOiBhY2Nlc3NUb2tlblBheWxvYWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJJZDogdXNlcklkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWN0aW9uID09PSBcIlNJR05fT1VUXCIgfHwgYWN0aW9uID09PSBcIlVOQVVUSE9SSVNFRFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMiAvKnJldHVybiovLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2VzU2Vzc2lvbkV4aXN0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjY2Vzc1Rva2VuUGF5bG9hZDoge30sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VySWQ6IFwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVuaGFuZGxlZCByZWNpcGUgZXZlbnQ6IFwiLmNvbmNhdChhY3Rpb24pKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2V4cGxpY2l0LW1vZHVsZS1ib3VuZGFyeS10eXBlc1xuICAgIFNlc3Npb24uYWRkQXhpb3NJbnRlcmNlcHRvcnMgPSBmdW5jdGlvbiAoYXhpb3NJbnN0YW5jZSwgdXNlckNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIFdlYkpTU2Vzc2lvblJlY2lwZV9fZGVmYXVsdC5kZWZhdWx0LmFkZEF4aW9zSW50ZXJjZXB0b3JzKGF4aW9zSW5zdGFuY2UsIHVzZXJDb250ZXh0KTtcbiAgICB9O1xuICAgIFNlc3Npb24uaW5pdCA9IGZ1bmN0aW9uIChjb25maWcpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIG5vcm1hbGlzZWRDb25maWcgPSB1dGlscyQxLm5vcm1hbGlzZVJlY2lwZU1vZHVsZUNvbmZpZyhjb25maWcpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYXV0aFJlYWN0OiBmdW5jdGlvbiAoYXBwSW5mbywgZW5hYmxlRGVidWdMb2dzKSB7XG4gICAgICAgICAgICAgICAgU2Vzc2lvbi5pbnN0YW5jZSA9IG5ldyBTZXNzaW9uKFxuICAgICAgICAgICAgICAgICAgICB1dGlscy5fX2Fzc2lnbih1dGlscy5fX2Fzc2lnbih7fSwgbm9ybWFsaXNlZENvbmZpZyksIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwcEluZm86IGFwcEluZm8sXG4gICAgICAgICAgICAgICAgICAgICAgICByZWNpcGVJZDogU2Vzc2lvbi5SRUNJUEVfSUQsXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmFibGVEZWJ1Z0xvZ3M6IGVuYWJsZURlYnVnTG9ncyxcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIHJldHVybiBTZXNzaW9uLmluc3RhbmNlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHdlYkpTOiBXZWJKU1Nlc3Npb25SZWNpcGVfX2RlZmF1bHQuZGVmYXVsdC5pbml0KFxuICAgICAgICAgICAgICAgIHV0aWxzLl9fYXNzaWduKHV0aWxzLl9fYXNzaWduKHt9LCBub3JtYWxpc2VkQ29uZmlnKSwge1xuICAgICAgICAgICAgICAgICAgICBvbkhhbmRsZUV2ZW50OiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChub3JtYWxpc2VkQ29uZmlnLm9uSGFuZGxlRXZlbnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vcm1hbGlzZWRDb25maWcub25IYW5kbGVFdmVudChldmVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB2b2lkIFNlc3Npb24uZ2V0SW5zdGFuY2VPclRocm93KCkubm90aWZ5TGlzdGVuZXJzKGV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgcHJlQVBJSG9vazogZnVuY3Rpb24gKGNvbnRleHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB1dGlscy5fX2F3YWl0ZXIoX3RoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3BvbnNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB1dGlscy5fX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UgPSB1dGlscy5fX2Fzc2lnbih1dGlscy5fX2Fzc2lnbih7fSwgY29udGV4dCksIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVlc3RJbml0OiB1dGlscy5fX2Fzc2lnbih1dGlscy5fX2Fzc2lnbih7fSwgY29udGV4dC5yZXF1ZXN0SW5pdCksIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB1dGlscy5fX2Fzc2lnbih1dGlscy5fX2Fzc2lnbih7fSwgY29udGV4dC5yZXF1ZXN0SW5pdC5oZWFkZXJzKSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByaWQ6IFNlc3Npb24uUkVDSVBFX0lELFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobm9ybWFsaXNlZENvbmZpZy5wcmVBUElIb29rID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCByZXNwb25zZV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgbm9ybWFsaXNlZENvbmZpZy5wcmVBUElIb29rKGNvbnRleHQpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICksXG4gICAgICAgIH07XG4gICAgfTtcbiAgICBTZXNzaW9uLmdldEluc3RhbmNlT3JUaHJvdyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKFNlc3Npb24uaW5zdGFuY2UgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICAgICAgICAgXCJObyBpbnN0YW5jZSBvZiBTZXNzaW9uIGZvdW5kLiBNYWtlIHN1cmUgdG8gY2FsbCB0aGUgU2Vzc2lvbi5pbml0IG1ldGhvZC4gU2VlIGh0dHBzOi8vc3VwZXJ0b2tlbnMuaW8vZG9jcy9lbWFpbHBhc3N3b3JkL3F1aWNrLXNldHVwL2Zyb250ZW5kXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFNlc3Npb24uaW5zdGFuY2U7XG4gICAgfTtcbiAgICBTZXNzaW9uLmdldEluc3RhbmNlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gU2Vzc2lvbi5pbnN0YW5jZTtcbiAgICB9O1xuICAgIFNlc3Npb24ucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdXRpbHMuaXNUZXN0KCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBTZXNzaW9uLmluc3RhbmNlID0gdW5kZWZpbmVkO1xuICAgICAgICByZXR1cm47XG4gICAgfTtcbiAgICBTZXNzaW9uLlJFQ0lQRV9JRCA9IFwic2Vzc2lvblwiO1xuICAgIHJldHVybiBTZXNzaW9uO1xufSkodXRpbHMkMS5SZWNpcGVNb2R1bGUpO1xuXG5leHBvcnRzLlNlc3Npb24gPSBTZXNzaW9uO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2Vzc2lvbi1zaGFyZWQyLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/supertokens-auth-react/lib/build/session-shared2.js\n"));

/***/ }),

/***/ "./node_modules/supertokens-auth-react/lib/build/session-shared3.js":
/*!**************************************************************************!*\
  !*** ./node_modules/supertokens-auth-react/lib/build/session-shared3.js ***!
  \**************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\n\nvar utils = __webpack_require__(/*! ./utils.js */ \"./node_modules/supertokens-auth-react/lib/build/utils.js\");\n__webpack_require__(/*! supertokens-web-js/recipe/session */ \"./node_modules/supertokens-web-js/recipe/session/index.js\");\nvar recipe = __webpack_require__(/*! ./session-shared2.js */ \"./node_modules/supertokens-auth-react/lib/build/session-shared2.js\");\nvar sessionAuth = __webpack_require__(/*! ./session-shared.js */ \"./node_modules/supertokens-auth-react/lib/build/session-shared.js\");\nvar React = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n\nfunction _interopDefault(e) {\n    return e && e.__esModule ? e : { default: e };\n}\n\nvar React__default = /*#__PURE__*/ _interopDefault(React);\n\nvar useSessionContext$1 = function () {\n    var ctx = React__default.default.useContext(sessionAuth.SessionContext);\n    if (ctx.isDefault === true) {\n        throw new Error(\"Cannot use useSessionContext outside auth wrapper components.\");\n    }\n    return ctx;\n};\n\nvar useClaimValue$1 = function (claim) {\n    var ctx = useSessionContext$1();\n    if (ctx.loading) {\n        return {\n            loading: true,\n        };\n    }\n    if (ctx.doesSessionExist === false) {\n        return {\n            loading: false,\n            doesSessionExist: false,\n            value: undefined,\n        };\n    }\n    return {\n        loading: false,\n        doesSessionExist: true,\n        value: claim.getValueFromPayload(ctx.accessTokenPayload),\n    };\n};\n\n/* Copyright (c) 2021, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nvar SessionAPIWrapper = /** @class */ (function () {\n    function SessionAPIWrapper() {}\n    SessionAPIWrapper.init = function (config) {\n        return recipe.Session.init(config);\n    };\n    SessionAPIWrapper.getUserId = function (input) {\n        return utils.__awaiter(this, void 0, void 0, function () {\n            return utils.__generator(this, function (_a) {\n                return [\n                    2 /*return*/,\n                    recipe.Session.getInstanceOrThrow().getUserId({\n                        userContext: utils.getNormalisedUserContext(\n                            input === null || input === void 0 ? void 0 : input.userContext\n                        ),\n                    }),\n                ];\n            });\n        });\n    };\n    SessionAPIWrapper.getAccessToken = function (input) {\n        return utils.__awaiter(this, void 0, void 0, function () {\n            return utils.__generator(this, function (_a) {\n                return [\n                    2 /*return*/,\n                    recipe.Session.getInstanceOrThrow().getAccessToken({\n                        userContext: utils.getNormalisedUserContext(\n                            input === null || input === void 0 ? void 0 : input.userContext\n                        ),\n                    }),\n                ];\n            });\n        });\n    };\n    SessionAPIWrapper.getAccessTokenPayloadSecurely = function (input) {\n        return utils.__awaiter(this, void 0, void 0, function () {\n            return utils.__generator(this, function (_a) {\n                return [\n                    2 /*return*/,\n                    recipe.Session.getInstanceOrThrow().getAccessTokenPayloadSecurely({\n                        userContext: utils.getNormalisedUserContext(\n                            input === null || input === void 0 ? void 0 : input.userContext\n                        ),\n                    }),\n                ];\n            });\n        });\n    };\n    SessionAPIWrapper.attemptRefreshingSession = function () {\n        return utils.__awaiter(this, void 0, void 0, function () {\n            return utils.__generator(this, function (_a) {\n                return [2 /*return*/, recipe.Session.getInstanceOrThrow().attemptRefreshingSession()];\n            });\n        });\n    };\n    SessionAPIWrapper.doesSessionExist = function (input) {\n        return utils.__awaiter(this, void 0, void 0, function () {\n            return utils.__generator(this, function (_a) {\n                return [\n                    2 /*return*/,\n                    recipe.Session.getInstanceOrThrow().doesSessionExist({\n                        userContext: utils.getNormalisedUserContext(\n                            input === null || input === void 0 ? void 0 : input.userContext\n                        ),\n                    }),\n                ];\n            });\n        });\n    };\n    /**\n     * @deprecated\n     */\n    SessionAPIWrapper.addAxiosInterceptors = function (axiosInstance, userContext) {\n        return recipe.Session.addAxiosInterceptors(axiosInstance, utils.getNormalisedUserContext(userContext));\n    };\n    SessionAPIWrapper.signOut = function (input) {\n        return utils.__awaiter(this, void 0, void 0, function () {\n            return utils.__generator(this, function (_a) {\n                return [\n                    2 /*return*/,\n                    recipe.Session.getInstanceOrThrow().signOut({\n                        userContext: utils.getNormalisedUserContext(\n                            input === null || input === void 0 ? void 0 : input.userContext\n                        ),\n                    }),\n                ];\n            });\n        });\n    };\n    SessionAPIWrapper.validateClaims = function (input) {\n        return recipe.Session.getInstanceOrThrow().validateClaims({\n            overrideGlobalClaimValidators:\n                input === null || input === void 0 ? void 0 : input.overrideGlobalClaimValidators,\n            userContext: utils.getNormalisedUserContext(\n                input === null || input === void 0 ? void 0 : input.userContext\n            ),\n        });\n    };\n    SessionAPIWrapper.getInvalidClaimsFromResponse = function (input) {\n        return recipe.Session.getInstanceOrThrow().getInvalidClaimsFromResponse(input);\n    };\n    SessionAPIWrapper.getClaimValue = function (input) {\n        return recipe.Session.getInstanceOrThrow().getClaimValue({\n            claim: input.claim,\n            userContext: utils.getNormalisedUserContext(\n                input === null || input === void 0 ? void 0 : input.userContext\n            ),\n        });\n    };\n    SessionAPIWrapper.useSessionContext = useSessionContext$1;\n    SessionAPIWrapper.useClaimValue = useClaimValue$1;\n    SessionAPIWrapper.SessionAuth = sessionAuth.SessionAuthWrapper;\n    return SessionAPIWrapper;\n})();\nvar useSessionContext = SessionAPIWrapper.useSessionContext;\nvar useClaimValue = SessionAPIWrapper.useClaimValue;\nvar SessionAuth = SessionAPIWrapper.SessionAuth;\nvar init = SessionAPIWrapper.init;\nvar getUserId = SessionAPIWrapper.getUserId;\nvar getAccessToken = SessionAPIWrapper.getAccessToken;\nvar getAccessTokenPayloadSecurely = SessionAPIWrapper.getAccessTokenPayloadSecurely;\nvar attemptRefreshingSession = SessionAPIWrapper.attemptRefreshingSession;\nvar doesSessionExist = SessionAPIWrapper.doesSessionExist;\n/**\n * @deprecated\n */\nvar addAxiosInterceptors = SessionAPIWrapper.addAxiosInterceptors;\nvar signOut = SessionAPIWrapper.signOut;\nvar validateClaims = SessionAPIWrapper.validateClaims;\nvar getInvalidClaimsFromResponse = SessionAPIWrapper.getInvalidClaimsFromResponse;\nvar getClaimValue = SessionAPIWrapper.getClaimValue;\n\nexports.SessionAPIWrapper = SessionAPIWrapper;\nexports.SessionAuth = SessionAuth;\nexports.addAxiosInterceptors = addAxiosInterceptors;\nexports.attemptRefreshingSession = attemptRefreshingSession;\nexports.doesSessionExist = doesSessionExist;\nexports.getAccessToken = getAccessToken;\nexports.getAccessTokenPayloadSecurely = getAccessTokenPayloadSecurely;\nexports.getClaimValue = getClaimValue;\nexports.getInvalidClaimsFromResponse = getInvalidClaimsFromResponse;\nexports.getUserId = getUserId;\nexports.init = init;\nexports.signOut = signOut;\nexports.useClaimValue = useClaimValue;\nexports.useSessionContext = useSessionContext$1;\nexports.useSessionContext$1 = useSessionContext;\nexports.validateClaims = validateClaims;\n//# sourceMappingURL=session-shared3.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3VwZXJ0b2tlbnMtYXV0aC1yZWFjdC9saWIvYnVpbGQvc2Vzc2lvbi1zaGFyZWQzLmpzLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLFlBQVksbUJBQU8sQ0FBQyw0RUFBWTtBQUNoQyxtQkFBTyxDQUFDLG9HQUFtQztBQUMzQyxhQUFhLG1CQUFPLENBQUMsZ0dBQXNCO0FBQzNDLGtCQUFrQixtQkFBTyxDQUFDLDhGQUFxQjtBQUMvQyxZQUFZLG1CQUFPLENBQUMsNENBQU87O0FBRTNCO0FBQ0EscUNBQXFDO0FBQ3JDOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSx5QkFBeUI7QUFDekIsbUJBQW1CO0FBQ25CLDRCQUE0QjtBQUM1QixnQ0FBZ0M7QUFDaEMsd0JBQXdCO0FBQ3hCLHNCQUFzQjtBQUN0QixxQ0FBcUM7QUFDckMscUJBQXFCO0FBQ3JCLG9DQUFvQztBQUNwQyxpQkFBaUI7QUFDakIsWUFBWTtBQUNaLGVBQWU7QUFDZixxQkFBcUI7QUFDckIseUJBQXlCO0FBQ3pCLDJCQUEyQjtBQUMzQixzQkFBc0I7QUFDdEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3N1cGVydG9rZW5zLWF1dGgtcmVhY3QvbGliL2J1aWxkL3Nlc3Npb24tc2hhcmVkMy5qcz8wMDMwIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKFwiLi91dGlscy5qc1wiKTtcbnJlcXVpcmUoXCJzdXBlcnRva2Vucy13ZWItanMvcmVjaXBlL3Nlc3Npb25cIik7XG52YXIgcmVjaXBlID0gcmVxdWlyZShcIi4vc2Vzc2lvbi1zaGFyZWQyLmpzXCIpO1xudmFyIHNlc3Npb25BdXRoID0gcmVxdWlyZShcIi4vc2Vzc2lvbi1zaGFyZWQuanNcIik7XG52YXIgUmVhY3QgPSByZXF1aXJlKFwicmVhY3RcIik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wRGVmYXVsdChlKSB7XG4gICAgcmV0dXJuIGUgJiYgZS5fX2VzTW9kdWxlID8gZSA6IHsgZGVmYXVsdDogZSB9O1xufVxuXG52YXIgUmVhY3RfX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovIF9pbnRlcm9wRGVmYXVsdChSZWFjdCk7XG5cbnZhciB1c2VTZXNzaW9uQ29udGV4dCQxID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBjdHggPSBSZWFjdF9fZGVmYXVsdC5kZWZhdWx0LnVzZUNvbnRleHQoc2Vzc2lvbkF1dGguU2Vzc2lvbkNvbnRleHQpO1xuICAgIGlmIChjdHguaXNEZWZhdWx0ID09PSB0cnVlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCB1c2UgdXNlU2Vzc2lvbkNvbnRleHQgb3V0c2lkZSBhdXRoIHdyYXBwZXIgY29tcG9uZW50cy5cIik7XG4gICAgfVxuICAgIHJldHVybiBjdHg7XG59O1xuXG52YXIgdXNlQ2xhaW1WYWx1ZSQxID0gZnVuY3Rpb24gKGNsYWltKSB7XG4gICAgdmFyIGN0eCA9IHVzZVNlc3Npb25Db250ZXh0JDEoKTtcbiAgICBpZiAoY3R4LmxvYWRpbmcpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGxvYWRpbmc6IHRydWUsXG4gICAgICAgIH07XG4gICAgfVxuICAgIGlmIChjdHguZG9lc1Nlc3Npb25FeGlzdCA9PT0gZmFsc2UpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGxvYWRpbmc6IGZhbHNlLFxuICAgICAgICAgICAgZG9lc1Nlc3Npb25FeGlzdDogZmFsc2UsXG4gICAgICAgICAgICB2YWx1ZTogdW5kZWZpbmVkLFxuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBsb2FkaW5nOiBmYWxzZSxcbiAgICAgICAgZG9lc1Nlc3Npb25FeGlzdDogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IGNsYWltLmdldFZhbHVlRnJvbVBheWxvYWQoY3R4LmFjY2Vzc1Rva2VuUGF5bG9hZCksXG4gICAgfTtcbn07XG5cbi8qIENvcHlyaWdodCAoYykgMjAyMSwgVlJBSSBMYWJzIGFuZC9vciBpdHMgYWZmaWxpYXRlcy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvZnR3YXJlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZVxuICogXCJMaWNlbnNlXCIpIGFzIHB1Ymxpc2hlZCBieSB0aGUgQXBhY2hlIFNvZnR3YXJlIEZvdW5kYXRpb24uXG4gKlxuICogWW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5XG4gKiBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVFxuICogV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiBTZWUgdGhlXG4gKiBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9uc1xuICogdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbnZhciBTZXNzaW9uQVBJV3JhcHBlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTZXNzaW9uQVBJV3JhcHBlcigpIHt9XG4gICAgU2Vzc2lvbkFQSVdyYXBwZXIuaW5pdCA9IGZ1bmN0aW9uIChjb25maWcpIHtcbiAgICAgICAgcmV0dXJuIHJlY2lwZS5TZXNzaW9uLmluaXQoY29uZmlnKTtcbiAgICB9O1xuICAgIFNlc3Npb25BUElXcmFwcGVyLmdldFVzZXJJZCA9IGZ1bmN0aW9uIChpbnB1dCkge1xuICAgICAgICByZXR1cm4gdXRpbHMuX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdXRpbHMuX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgMiAvKnJldHVybiovLFxuICAgICAgICAgICAgICAgICAgICByZWNpcGUuU2Vzc2lvbi5nZXRJbnN0YW5jZU9yVGhyb3coKS5nZXRVc2VySWQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgdXNlckNvbnRleHQ6IHV0aWxzLmdldE5vcm1hbGlzZWRVc2VyQ29udGV4dChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnB1dCA9PT0gbnVsbCB8fCBpbnB1dCA9PT0gdm9pZCAwID8gdm9pZCAwIDogaW5wdXQudXNlckNvbnRleHRcbiAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBTZXNzaW9uQVBJV3JhcHBlci5nZXRBY2Nlc3NUb2tlbiA9IGZ1bmN0aW9uIChpbnB1dCkge1xuICAgICAgICByZXR1cm4gdXRpbHMuX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdXRpbHMuX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgMiAvKnJldHVybiovLFxuICAgICAgICAgICAgICAgICAgICByZWNpcGUuU2Vzc2lvbi5nZXRJbnN0YW5jZU9yVGhyb3coKS5nZXRBY2Nlc3NUb2tlbih7XG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VyQ29udGV4dDogdXRpbHMuZ2V0Tm9ybWFsaXNlZFVzZXJDb250ZXh0KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0ID09PSBudWxsIHx8IGlucHV0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpbnB1dC51c2VyQ29udGV4dFxuICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFNlc3Npb25BUElXcmFwcGVyLmdldEFjY2Vzc1Rva2VuUGF5bG9hZFNlY3VyZWx5ID0gZnVuY3Rpb24gKGlucHV0KSB7XG4gICAgICAgIHJldHVybiB1dGlscy5fX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB1dGlscy5fX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAyIC8qcmV0dXJuKi8sXG4gICAgICAgICAgICAgICAgICAgIHJlY2lwZS5TZXNzaW9uLmdldEluc3RhbmNlT3JUaHJvdygpLmdldEFjY2Vzc1Rva2VuUGF5bG9hZFNlY3VyZWx5KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJDb250ZXh0OiB1dGlscy5nZXROb3JtYWxpc2VkVXNlckNvbnRleHQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXQgPT09IG51bGwgfHwgaW5wdXQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGlucHV0LnVzZXJDb250ZXh0XG4gICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgU2Vzc2lvbkFQSVdyYXBwZXIuYXR0ZW1wdFJlZnJlc2hpbmdTZXNzaW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdXRpbHMuX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdXRpbHMuX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHJlY2lwZS5TZXNzaW9uLmdldEluc3RhbmNlT3JUaHJvdygpLmF0dGVtcHRSZWZyZXNoaW5nU2Vzc2lvbigpXTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFNlc3Npb25BUElXcmFwcGVyLmRvZXNTZXNzaW9uRXhpc3QgPSBmdW5jdGlvbiAoaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIHV0aWxzLl9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHV0aWxzLl9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgIDIgLypyZXR1cm4qLyxcbiAgICAgICAgICAgICAgICAgICAgcmVjaXBlLlNlc3Npb24uZ2V0SW5zdGFuY2VPclRocm93KCkuZG9lc1Nlc3Npb25FeGlzdCh7XG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VyQ29udGV4dDogdXRpbHMuZ2V0Tm9ybWFsaXNlZFVzZXJDb250ZXh0KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0ID09PSBudWxsIHx8IGlucHV0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpbnB1dC51c2VyQ29udGV4dFxuICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkXG4gICAgICovXG4gICAgU2Vzc2lvbkFQSVdyYXBwZXIuYWRkQXhpb3NJbnRlcmNlcHRvcnMgPSBmdW5jdGlvbiAoYXhpb3NJbnN0YW5jZSwgdXNlckNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIHJlY2lwZS5TZXNzaW9uLmFkZEF4aW9zSW50ZXJjZXB0b3JzKGF4aW9zSW5zdGFuY2UsIHV0aWxzLmdldE5vcm1hbGlzZWRVc2VyQ29udGV4dCh1c2VyQ29udGV4dCkpO1xuICAgIH07XG4gICAgU2Vzc2lvbkFQSVdyYXBwZXIuc2lnbk91dCA9IGZ1bmN0aW9uIChpbnB1dCkge1xuICAgICAgICByZXR1cm4gdXRpbHMuX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdXRpbHMuX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgMiAvKnJldHVybiovLFxuICAgICAgICAgICAgICAgICAgICByZWNpcGUuU2Vzc2lvbi5nZXRJbnN0YW5jZU9yVGhyb3coKS5zaWduT3V0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJDb250ZXh0OiB1dGlscy5nZXROb3JtYWxpc2VkVXNlckNvbnRleHQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXQgPT09IG51bGwgfHwgaW5wdXQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGlucHV0LnVzZXJDb250ZXh0XG4gICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgU2Vzc2lvbkFQSVdyYXBwZXIudmFsaWRhdGVDbGFpbXMgPSBmdW5jdGlvbiAoaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIHJlY2lwZS5TZXNzaW9uLmdldEluc3RhbmNlT3JUaHJvdygpLnZhbGlkYXRlQ2xhaW1zKHtcbiAgICAgICAgICAgIG92ZXJyaWRlR2xvYmFsQ2xhaW1WYWxpZGF0b3JzOlxuICAgICAgICAgICAgICAgIGlucHV0ID09PSBudWxsIHx8IGlucHV0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpbnB1dC5vdmVycmlkZUdsb2JhbENsYWltVmFsaWRhdG9ycyxcbiAgICAgICAgICAgIHVzZXJDb250ZXh0OiB1dGlscy5nZXROb3JtYWxpc2VkVXNlckNvbnRleHQoXG4gICAgICAgICAgICAgICAgaW5wdXQgPT09IG51bGwgfHwgaW5wdXQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGlucHV0LnVzZXJDb250ZXh0XG4gICAgICAgICAgICApLFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFNlc3Npb25BUElXcmFwcGVyLmdldEludmFsaWRDbGFpbXNGcm9tUmVzcG9uc2UgPSBmdW5jdGlvbiAoaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIHJlY2lwZS5TZXNzaW9uLmdldEluc3RhbmNlT3JUaHJvdygpLmdldEludmFsaWRDbGFpbXNGcm9tUmVzcG9uc2UoaW5wdXQpO1xuICAgIH07XG4gICAgU2Vzc2lvbkFQSVdyYXBwZXIuZ2V0Q2xhaW1WYWx1ZSA9IGZ1bmN0aW9uIChpbnB1dCkge1xuICAgICAgICByZXR1cm4gcmVjaXBlLlNlc3Npb24uZ2V0SW5zdGFuY2VPclRocm93KCkuZ2V0Q2xhaW1WYWx1ZSh7XG4gICAgICAgICAgICBjbGFpbTogaW5wdXQuY2xhaW0sXG4gICAgICAgICAgICB1c2VyQ29udGV4dDogdXRpbHMuZ2V0Tm9ybWFsaXNlZFVzZXJDb250ZXh0KFxuICAgICAgICAgICAgICAgIGlucHV0ID09PSBudWxsIHx8IGlucHV0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpbnB1dC51c2VyQ29udGV4dFxuICAgICAgICAgICAgKSxcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBTZXNzaW9uQVBJV3JhcHBlci51c2VTZXNzaW9uQ29udGV4dCA9IHVzZVNlc3Npb25Db250ZXh0JDE7XG4gICAgU2Vzc2lvbkFQSVdyYXBwZXIudXNlQ2xhaW1WYWx1ZSA9IHVzZUNsYWltVmFsdWUkMTtcbiAgICBTZXNzaW9uQVBJV3JhcHBlci5TZXNzaW9uQXV0aCA9IHNlc3Npb25BdXRoLlNlc3Npb25BdXRoV3JhcHBlcjtcbiAgICByZXR1cm4gU2Vzc2lvbkFQSVdyYXBwZXI7XG59KSgpO1xudmFyIHVzZVNlc3Npb25Db250ZXh0ID0gU2Vzc2lvbkFQSVdyYXBwZXIudXNlU2Vzc2lvbkNvbnRleHQ7XG52YXIgdXNlQ2xhaW1WYWx1ZSA9IFNlc3Npb25BUElXcmFwcGVyLnVzZUNsYWltVmFsdWU7XG52YXIgU2Vzc2lvbkF1dGggPSBTZXNzaW9uQVBJV3JhcHBlci5TZXNzaW9uQXV0aDtcbnZhciBpbml0ID0gU2Vzc2lvbkFQSVdyYXBwZXIuaW5pdDtcbnZhciBnZXRVc2VySWQgPSBTZXNzaW9uQVBJV3JhcHBlci5nZXRVc2VySWQ7XG52YXIgZ2V0QWNjZXNzVG9rZW4gPSBTZXNzaW9uQVBJV3JhcHBlci5nZXRBY2Nlc3NUb2tlbjtcbnZhciBnZXRBY2Nlc3NUb2tlblBheWxvYWRTZWN1cmVseSA9IFNlc3Npb25BUElXcmFwcGVyLmdldEFjY2Vzc1Rva2VuUGF5bG9hZFNlY3VyZWx5O1xudmFyIGF0dGVtcHRSZWZyZXNoaW5nU2Vzc2lvbiA9IFNlc3Npb25BUElXcmFwcGVyLmF0dGVtcHRSZWZyZXNoaW5nU2Vzc2lvbjtcbnZhciBkb2VzU2Vzc2lvbkV4aXN0ID0gU2Vzc2lvbkFQSVdyYXBwZXIuZG9lc1Nlc3Npb25FeGlzdDtcbi8qKlxuICogQGRlcHJlY2F0ZWRcbiAqL1xudmFyIGFkZEF4aW9zSW50ZXJjZXB0b3JzID0gU2Vzc2lvbkFQSVdyYXBwZXIuYWRkQXhpb3NJbnRlcmNlcHRvcnM7XG52YXIgc2lnbk91dCA9IFNlc3Npb25BUElXcmFwcGVyLnNpZ25PdXQ7XG52YXIgdmFsaWRhdGVDbGFpbXMgPSBTZXNzaW9uQVBJV3JhcHBlci52YWxpZGF0ZUNsYWltcztcbnZhciBnZXRJbnZhbGlkQ2xhaW1zRnJvbVJlc3BvbnNlID0gU2Vzc2lvbkFQSVdyYXBwZXIuZ2V0SW52YWxpZENsYWltc0Zyb21SZXNwb25zZTtcbnZhciBnZXRDbGFpbVZhbHVlID0gU2Vzc2lvbkFQSVdyYXBwZXIuZ2V0Q2xhaW1WYWx1ZTtcblxuZXhwb3J0cy5TZXNzaW9uQVBJV3JhcHBlciA9IFNlc3Npb25BUElXcmFwcGVyO1xuZXhwb3J0cy5TZXNzaW9uQXV0aCA9IFNlc3Npb25BdXRoO1xuZXhwb3J0cy5hZGRBeGlvc0ludGVyY2VwdG9ycyA9IGFkZEF4aW9zSW50ZXJjZXB0b3JzO1xuZXhwb3J0cy5hdHRlbXB0UmVmcmVzaGluZ1Nlc3Npb24gPSBhdHRlbXB0UmVmcmVzaGluZ1Nlc3Npb247XG5leHBvcnRzLmRvZXNTZXNzaW9uRXhpc3QgPSBkb2VzU2Vzc2lvbkV4aXN0O1xuZXhwb3J0cy5nZXRBY2Nlc3NUb2tlbiA9IGdldEFjY2Vzc1Rva2VuO1xuZXhwb3J0cy5nZXRBY2Nlc3NUb2tlblBheWxvYWRTZWN1cmVseSA9IGdldEFjY2Vzc1Rva2VuUGF5bG9hZFNlY3VyZWx5O1xuZXhwb3J0cy5nZXRDbGFpbVZhbHVlID0gZ2V0Q2xhaW1WYWx1ZTtcbmV4cG9ydHMuZ2V0SW52YWxpZENsYWltc0Zyb21SZXNwb25zZSA9IGdldEludmFsaWRDbGFpbXNGcm9tUmVzcG9uc2U7XG5leHBvcnRzLmdldFVzZXJJZCA9IGdldFVzZXJJZDtcbmV4cG9ydHMuaW5pdCA9IGluaXQ7XG5leHBvcnRzLnNpZ25PdXQgPSBzaWduT3V0O1xuZXhwb3J0cy51c2VDbGFpbVZhbHVlID0gdXNlQ2xhaW1WYWx1ZTtcbmV4cG9ydHMudXNlU2Vzc2lvbkNvbnRleHQgPSB1c2VTZXNzaW9uQ29udGV4dCQxO1xuZXhwb3J0cy51c2VTZXNzaW9uQ29udGV4dCQxID0gdXNlU2Vzc2lvbkNvbnRleHQ7XG5leHBvcnRzLnZhbGlkYXRlQ2xhaW1zID0gdmFsaWRhdGVDbGFpbXM7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zZXNzaW9uLXNoYXJlZDMuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/supertokens-auth-react/lib/build/session-shared3.js\n"));

/***/ }),

/***/ "./node_modules/supertokens-auth-react/lib/build/session.js":
/*!******************************************************************!*\
  !*** ./node_modules/supertokens-auth-react/lib/build/session.js ***!
  \******************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\n\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n\n__webpack_require__(/*! ./utils.js */ \"./node_modules/supertokens-auth-react/lib/build/utils.js\");\nvar WebJSSessionRecipe = __webpack_require__(/*! supertokens-web-js/recipe/session */ \"./node_modules/supertokens-web-js/recipe/session/index.js\");\n__webpack_require__(/*! ./session-shared2.js */ \"./node_modules/supertokens-auth-react/lib/build/session-shared2.js\");\nvar sessionAuth = __webpack_require__(/*! ./session-shared.js */ \"./node_modules/supertokens-auth-react/lib/build/session-shared.js\");\nvar session = __webpack_require__(/*! ./session-shared3.js */ \"./node_modules/supertokens-auth-react/lib/build/session-shared3.js\");\n__webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n__webpack_require__(/*! supertokens-web-js/utils/cookieHandler */ \"./node_modules/supertokens-web-js/utils/cookieHandler/index.js\");\n__webpack_require__(/*! supertokens-web-js/utils/normalisedURLDomain */ \"./node_modules/supertokens-web-js/utils/normalisedURLDomain.js\");\n__webpack_require__(/*! supertokens-web-js/utils/normalisedURLPath */ \"./node_modules/supertokens-web-js/utils/normalisedURLPath.js\");\n__webpack_require__(/*! supertokens-web-js/utils/windowHandler */ \"./node_modules/supertokens-web-js/utils/windowHandler/index.js\");\n__webpack_require__(/*! ./recipeModule-shared.js */ \"./node_modules/supertokens-auth-react/lib/build/recipeModule-shared.js\");\n__webpack_require__(/*! supertokens-web-js */ \"./node_modules/supertokens-web-js/index.js\");\n__webpack_require__(/*! supertokens-web-js/utils/postSuperTokensInitCallbacks */ \"./node_modules/supertokens-web-js/utils/postSuperTokensInitCallbacks.js\");\n__webpack_require__(/*! react/jsx-runtime */ \"./node_modules/react/jsx-runtime.js\");\n__webpack_require__(/*! ./index2.js */ \"./node_modules/supertokens-auth-react/lib/build/index2.js\");\n\nObject.defineProperty(exports, \"BooleanClaim\", ({\n    enumerable: true,\n    get: function () {\n        return WebJSSessionRecipe.BooleanClaim;\n    },\n}));\nObject.defineProperty(exports, \"PrimitiveArrayClaim\", ({\n    enumerable: true,\n    get: function () {\n        return WebJSSessionRecipe.PrimitiveArrayClaim;\n    },\n}));\nObject.defineProperty(exports, \"PrimitiveClaim\", ({\n    enumerable: true,\n    get: function () {\n        return WebJSSessionRecipe.PrimitiveClaim;\n    },\n}));\nObject.defineProperty(exports, \"SessionClaimValidator\", ({\n    enumerable: true,\n    get: function () {\n        return WebJSSessionRecipe.SessionClaimValidator;\n    },\n}));\nexports.SessionContext = sessionAuth.SessionContext;\nexports.SessionAuth = session.SessionAuth;\nexports.addAxiosInterceptors = session.addAxiosInterceptors;\nexports.attemptRefreshingSession = session.attemptRefreshingSession;\nexports[\"default\"] = session.SessionAPIWrapper;\nexports.doesSessionExist = session.doesSessionExist;\nexports.getAccessToken = session.getAccessToken;\nexports.getAccessTokenPayloadSecurely = session.getAccessTokenPayloadSecurely;\nexports.getClaimValue = session.getClaimValue;\nexports.getInvalidClaimsFromResponse = session.getInvalidClaimsFromResponse;\nexports.getUserId = session.getUserId;\nexports.init = session.init;\nexports.signOut = session.signOut;\nexports.useClaimValue = session.useClaimValue;\nexports.useSessionContext = session.useSessionContext$1;\nexports.validateClaims = session.validateClaims;\n//# sourceMappingURL=session.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3VwZXJ0b2tlbnMtYXV0aC1yZWFjdC9saWIvYnVpbGQvc2Vzc2lvbi5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7O0FBRTdELG1CQUFPLENBQUMsNEVBQVk7QUFDcEIseUJBQXlCLG1CQUFPLENBQUMsb0dBQW1DO0FBQ3BFLG1CQUFPLENBQUMsZ0dBQXNCO0FBQzlCLGtCQUFrQixtQkFBTyxDQUFDLDhGQUFxQjtBQUMvQyxjQUFjLG1CQUFPLENBQUMsZ0dBQXNCO0FBQzVDLG1CQUFPLENBQUMsNENBQU87QUFDZixtQkFBTyxDQUFDLDhHQUF3QztBQUNoRCxtQkFBTyxDQUFDLG9IQUE4QztBQUN0RCxtQkFBTyxDQUFDLGdIQUE0QztBQUNwRCxtQkFBTyxDQUFDLDhHQUF3QztBQUNoRCxtQkFBTyxDQUFDLHdHQUEwQjtBQUNsQyxtQkFBTyxDQUFDLHNFQUFvQjtBQUM1QixtQkFBTyxDQUFDLHNJQUF1RDtBQUMvRCxtQkFBTyxDQUFDLDhEQUFtQjtBQUMzQixtQkFBTyxDQUFDLDhFQUFhOztBQUVyQixnREFBK0M7QUFDL0M7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLENBQUMsRUFBQztBQUNGLHVEQUFzRDtBQUN0RDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsQ0FBQyxFQUFDO0FBQ0Ysa0RBQWlEO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxDQUFDLEVBQUM7QUFDRix5REFBd0Q7QUFDeEQ7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLENBQUMsRUFBQztBQUNGLHNCQUFzQjtBQUN0QixtQkFBbUI7QUFDbkIsNEJBQTRCO0FBQzVCLGdDQUFnQztBQUNoQyxrQkFBZTtBQUNmLHdCQUF3QjtBQUN4QixzQkFBc0I7QUFDdEIscUNBQXFDO0FBQ3JDLHFCQUFxQjtBQUNyQixvQ0FBb0M7QUFDcEMsaUJBQWlCO0FBQ2pCLFlBQVk7QUFDWixlQUFlO0FBQ2YscUJBQXFCO0FBQ3JCLHlCQUF5QjtBQUN6QixzQkFBc0I7QUFDdEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3N1cGVydG9rZW5zLWF1dGgtcmVhY3QvbGliL2J1aWxkL3Nlc3Npb24uanM/NDZiZiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuXG5yZXF1aXJlKFwiLi91dGlscy5qc1wiKTtcbnZhciBXZWJKU1Nlc3Npb25SZWNpcGUgPSByZXF1aXJlKFwic3VwZXJ0b2tlbnMtd2ViLWpzL3JlY2lwZS9zZXNzaW9uXCIpO1xucmVxdWlyZShcIi4vc2Vzc2lvbi1zaGFyZWQyLmpzXCIpO1xudmFyIHNlc3Npb25BdXRoID0gcmVxdWlyZShcIi4vc2Vzc2lvbi1zaGFyZWQuanNcIik7XG52YXIgc2Vzc2lvbiA9IHJlcXVpcmUoXCIuL3Nlc3Npb24tc2hhcmVkMy5qc1wiKTtcbnJlcXVpcmUoXCJyZWFjdFwiKTtcbnJlcXVpcmUoXCJzdXBlcnRva2Vucy13ZWItanMvdXRpbHMvY29va2llSGFuZGxlclwiKTtcbnJlcXVpcmUoXCJzdXBlcnRva2Vucy13ZWItanMvdXRpbHMvbm9ybWFsaXNlZFVSTERvbWFpblwiKTtcbnJlcXVpcmUoXCJzdXBlcnRva2Vucy13ZWItanMvdXRpbHMvbm9ybWFsaXNlZFVSTFBhdGhcIik7XG5yZXF1aXJlKFwic3VwZXJ0b2tlbnMtd2ViLWpzL3V0aWxzL3dpbmRvd0hhbmRsZXJcIik7XG5yZXF1aXJlKFwiLi9yZWNpcGVNb2R1bGUtc2hhcmVkLmpzXCIpO1xucmVxdWlyZShcInN1cGVydG9rZW5zLXdlYi1qc1wiKTtcbnJlcXVpcmUoXCJzdXBlcnRva2Vucy13ZWItanMvdXRpbHMvcG9zdFN1cGVyVG9rZW5zSW5pdENhbGxiYWNrc1wiKTtcbnJlcXVpcmUoXCJyZWFjdC9qc3gtcnVudGltZVwiKTtcbnJlcXVpcmUoXCIuL2luZGV4Mi5qc1wiKTtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiQm9vbGVhbkNsYWltXCIsIHtcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gV2ViSlNTZXNzaW9uUmVjaXBlLkJvb2xlYW5DbGFpbTtcbiAgICB9LFxufSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJQcmltaXRpdmVBcnJheUNsYWltXCIsIHtcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gV2ViSlNTZXNzaW9uUmVjaXBlLlByaW1pdGl2ZUFycmF5Q2xhaW07XG4gICAgfSxcbn0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiUHJpbWl0aXZlQ2xhaW1cIiwge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBXZWJKU1Nlc3Npb25SZWNpcGUuUHJpbWl0aXZlQ2xhaW07XG4gICAgfSxcbn0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiU2Vzc2lvbkNsYWltVmFsaWRhdG9yXCIsIHtcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gV2ViSlNTZXNzaW9uUmVjaXBlLlNlc3Npb25DbGFpbVZhbGlkYXRvcjtcbiAgICB9LFxufSk7XG5leHBvcnRzLlNlc3Npb25Db250ZXh0ID0gc2Vzc2lvbkF1dGguU2Vzc2lvbkNvbnRleHQ7XG5leHBvcnRzLlNlc3Npb25BdXRoID0gc2Vzc2lvbi5TZXNzaW9uQXV0aDtcbmV4cG9ydHMuYWRkQXhpb3NJbnRlcmNlcHRvcnMgPSBzZXNzaW9uLmFkZEF4aW9zSW50ZXJjZXB0b3JzO1xuZXhwb3J0cy5hdHRlbXB0UmVmcmVzaGluZ1Nlc3Npb24gPSBzZXNzaW9uLmF0dGVtcHRSZWZyZXNoaW5nU2Vzc2lvbjtcbmV4cG9ydHMuZGVmYXVsdCA9IHNlc3Npb24uU2Vzc2lvbkFQSVdyYXBwZXI7XG5leHBvcnRzLmRvZXNTZXNzaW9uRXhpc3QgPSBzZXNzaW9uLmRvZXNTZXNzaW9uRXhpc3Q7XG5leHBvcnRzLmdldEFjY2Vzc1Rva2VuID0gc2Vzc2lvbi5nZXRBY2Nlc3NUb2tlbjtcbmV4cG9ydHMuZ2V0QWNjZXNzVG9rZW5QYXlsb2FkU2VjdXJlbHkgPSBzZXNzaW9uLmdldEFjY2Vzc1Rva2VuUGF5bG9hZFNlY3VyZWx5O1xuZXhwb3J0cy5nZXRDbGFpbVZhbHVlID0gc2Vzc2lvbi5nZXRDbGFpbVZhbHVlO1xuZXhwb3J0cy5nZXRJbnZhbGlkQ2xhaW1zRnJvbVJlc3BvbnNlID0gc2Vzc2lvbi5nZXRJbnZhbGlkQ2xhaW1zRnJvbVJlc3BvbnNlO1xuZXhwb3J0cy5nZXRVc2VySWQgPSBzZXNzaW9uLmdldFVzZXJJZDtcbmV4cG9ydHMuaW5pdCA9IHNlc3Npb24uaW5pdDtcbmV4cG9ydHMuc2lnbk91dCA9IHNlc3Npb24uc2lnbk91dDtcbmV4cG9ydHMudXNlQ2xhaW1WYWx1ZSA9IHNlc3Npb24udXNlQ2xhaW1WYWx1ZTtcbmV4cG9ydHMudXNlU2Vzc2lvbkNvbnRleHQgPSBzZXNzaW9uLnVzZVNlc3Npb25Db250ZXh0JDE7XG5leHBvcnRzLnZhbGlkYXRlQ2xhaW1zID0gc2Vzc2lvbi52YWxpZGF0ZUNsYWltcztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNlc3Npb24uanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/supertokens-auth-react/lib/build/session.js\n"));

/***/ }),

/***/ "./node_modules/supertokens-auth-react/lib/build/translationContext.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/supertokens-auth-react/lib/build/translationContext.js ***!
  \*****************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\n\nvar utils = __webpack_require__(/*! ./utils.js */ \"./node_modules/supertokens-auth-react/lib/build/utils.js\");\nvar jsxRuntime = __webpack_require__(/*! react/jsx-runtime */ \"./node_modules/react/jsx-runtime.js\");\nvar React = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\nvar utils$1 = __webpack_require__(/*! ./recipeModule-shared.js */ \"./node_modules/supertokens-auth-react/lib/build/recipeModule-shared.js\");\n\nfunction _interopDefault(e) {\n    return e && e.__esModule ? e : { default: e };\n}\n\nvar React__default = /*#__PURE__*/ _interopDefault(React);\n\nvar errCB = function () {\n    throw new Error(\"Cannot use translation func outside TranslationContext provider.\");\n};\nvar TranslationContext = React__default.default.createContext({\n    translate: errCB,\n});\nvar useTranslation = function () {\n    return React.useContext(TranslationContext).translate;\n};\nvar TranslationContextProvider = function (_a) {\n    var children = _a.children,\n        defaultLanguage = _a.defaultLanguage,\n        userTranslationFunc = _a.userTranslationFunc,\n        defaultStore = _a.defaultStore,\n        translationControlEventSource = _a.translationControlEventSource;\n    var _b = React.useState(defaultStore),\n        translationStore = _b[0],\n        setTranslationStore = _b[1];\n    var _c = React.useState(undefined),\n        currentLanguage = _c[0],\n        setCurrentLanguage = _c[1];\n    React.useEffect(\n        function () {\n            function loadLanguageFromCookies() {\n                return utils.__awaiter(this, void 0, void 0, function () {\n                    var cookieLang, cookieLangTemp;\n                    return utils.__generator(this, function (_a) {\n                        switch (_a.label) {\n                            case 0:\n                                return [4 /*yield*/, utils$1.getCurrentLanguageFromCookie()];\n                            case 1:\n                                cookieLang = _a.sent();\n                                cookieLangTemp = cookieLang === null ? defaultLanguage : cookieLang;\n                                /**\n                                 * If current is not undefined, it means that something else has set the language.\n                                 * For example if the user calls SuperTokens.changeLanguage before this\n                                 *\n                                 * We want to use the language preference from cookies only if something else has\n                                 * not set language before this\n                                 */\n                                setCurrentLanguage(function (current) {\n                                    return current !== undefined ? current : cookieLangTemp;\n                                });\n                                return [2 /*return*/];\n                        }\n                    });\n                });\n            }\n            void loadLanguageFromCookies();\n        },\n        [defaultLanguage, setCurrentLanguage]\n    );\n    React.useEffect(function () {\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        var changeHandler = function (_eventName, detail) {\n            setCurrentLanguage(detail);\n        };\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        var loadHandler = function (_eventName, detail) {\n            setTranslationStore(function (os) {\n                return utils.mergeObjects(os, detail);\n            });\n        };\n        translationControlEventSource.on(\"LanguageChange\", changeHandler);\n        translationControlEventSource.on(\"TranslationLoaded\", loadHandler);\n        return function () {\n            translationControlEventSource.off(\"LanguageChange\", changeHandler);\n            translationControlEventSource.off(\"TranslationLoaded\", loadHandler);\n        };\n    });\n    var translateFunc = React.useCallback(\n        function (key) {\n            if (userTranslationFunc !== undefined) {\n                return userTranslationFunc(key);\n            }\n            if (currentLanguage !== undefined) {\n                var res = translationStore[currentLanguage] && translationStore[currentLanguage][key];\n                var fallback = translationStore[defaultLanguage] && translationStore[defaultLanguage][key];\n                if (res === undefined) {\n                    if (fallback !== undefined) {\n                        return fallback;\n                    }\n                    return key;\n                }\n                return res;\n            }\n            throw new Error(\"Should never come here\");\n        },\n        [translationStore, currentLanguage, defaultLanguage, userTranslationFunc]\n    );\n    if (currentLanguage === undefined) {\n        return null;\n    }\n    return jsxRuntime.jsx(\n        TranslationContext.Provider,\n        utils.__assign({ value: { translate: translateFunc } }, { children: children })\n    );\n};\n\nexports.TranslationContextProvider = TranslationContextProvider;\nexports.useTranslation = useTranslation;\n//# sourceMappingURL=translationContext.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3VwZXJ0b2tlbnMtYXV0aC1yZWFjdC9saWIvYnVpbGQvdHJhbnNsYXRpb25Db250ZXh0LmpzLmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLFlBQVksbUJBQU8sQ0FBQyw0RUFBWTtBQUNoQyxpQkFBaUIsbUJBQU8sQ0FBQyw4REFBbUI7QUFDNUMsWUFBWSxtQkFBTyxDQUFDLDRDQUFPO0FBQzNCLGNBQWMsbUJBQU8sQ0FBQyx3R0FBMEI7O0FBRWhEO0FBQ0EscUNBQXFDO0FBQ3JDOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckIsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLFNBQVMsNEJBQTRCLElBQUksb0JBQW9CO0FBQ3RGO0FBQ0E7O0FBRUEsa0NBQWtDO0FBQ2xDLHNCQUFzQjtBQUN0QiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvc3VwZXJ0b2tlbnMtYXV0aC1yZWFjdC9saWIvYnVpbGQvdHJhbnNsYXRpb25Db250ZXh0LmpzPzA2NDQiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoXCIuL3V0aWxzLmpzXCIpO1xudmFyIGpzeFJ1bnRpbWUgPSByZXF1aXJlKFwicmVhY3QvanN4LXJ1bnRpbWVcIik7XG52YXIgUmVhY3QgPSByZXF1aXJlKFwicmVhY3RcIik7XG52YXIgdXRpbHMkMSA9IHJlcXVpcmUoXCIuL3JlY2lwZU1vZHVsZS1zaGFyZWQuanNcIik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wRGVmYXVsdChlKSB7XG4gICAgcmV0dXJuIGUgJiYgZS5fX2VzTW9kdWxlID8gZSA6IHsgZGVmYXVsdDogZSB9O1xufVxuXG52YXIgUmVhY3RfX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovIF9pbnRlcm9wRGVmYXVsdChSZWFjdCk7XG5cbnZhciBlcnJDQiA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgdXNlIHRyYW5zbGF0aW9uIGZ1bmMgb3V0c2lkZSBUcmFuc2xhdGlvbkNvbnRleHQgcHJvdmlkZXIuXCIpO1xufTtcbnZhciBUcmFuc2xhdGlvbkNvbnRleHQgPSBSZWFjdF9fZGVmYXVsdC5kZWZhdWx0LmNyZWF0ZUNvbnRleHQoe1xuICAgIHRyYW5zbGF0ZTogZXJyQ0IsXG59KTtcbnZhciB1c2VUcmFuc2xhdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gUmVhY3QudXNlQ29udGV4dChUcmFuc2xhdGlvbkNvbnRleHQpLnRyYW5zbGF0ZTtcbn07XG52YXIgVHJhbnNsYXRpb25Db250ZXh0UHJvdmlkZXIgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICB2YXIgY2hpbGRyZW4gPSBfYS5jaGlsZHJlbixcbiAgICAgICAgZGVmYXVsdExhbmd1YWdlID0gX2EuZGVmYXVsdExhbmd1YWdlLFxuICAgICAgICB1c2VyVHJhbnNsYXRpb25GdW5jID0gX2EudXNlclRyYW5zbGF0aW9uRnVuYyxcbiAgICAgICAgZGVmYXVsdFN0b3JlID0gX2EuZGVmYXVsdFN0b3JlLFxuICAgICAgICB0cmFuc2xhdGlvbkNvbnRyb2xFdmVudFNvdXJjZSA9IF9hLnRyYW5zbGF0aW9uQ29udHJvbEV2ZW50U291cmNlO1xuICAgIHZhciBfYiA9IFJlYWN0LnVzZVN0YXRlKGRlZmF1bHRTdG9yZSksXG4gICAgICAgIHRyYW5zbGF0aW9uU3RvcmUgPSBfYlswXSxcbiAgICAgICAgc2V0VHJhbnNsYXRpb25TdG9yZSA9IF9iWzFdO1xuICAgIHZhciBfYyA9IFJlYWN0LnVzZVN0YXRlKHVuZGVmaW5lZCksXG4gICAgICAgIGN1cnJlbnRMYW5ndWFnZSA9IF9jWzBdLFxuICAgICAgICBzZXRDdXJyZW50TGFuZ3VhZ2UgPSBfY1sxXTtcbiAgICBSZWFjdC51c2VFZmZlY3QoXG4gICAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGZ1bmN0aW9uIGxvYWRMYW5ndWFnZUZyb21Db29raWVzKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB1dGlscy5fX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvb2tpZUxhbmcsIGNvb2tpZUxhbmdUZW1wO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdXRpbHMuX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB1dGlscyQxLmdldEN1cnJlbnRMYW5ndWFnZUZyb21Db29raWUoKV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb29raWVMYW5nID0gX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb29raWVMYW5nVGVtcCA9IGNvb2tpZUxhbmcgPT09IG51bGwgPyBkZWZhdWx0TGFuZ3VhZ2UgOiBjb29raWVMYW5nO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogSWYgY3VycmVudCBpcyBub3QgdW5kZWZpbmVkLCBpdCBtZWFucyB0aGF0IHNvbWV0aGluZyBlbHNlIGhhcyBzZXQgdGhlIGxhbmd1YWdlLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBGb3IgZXhhbXBsZSBpZiB0aGUgdXNlciBjYWxscyBTdXBlclRva2Vucy5jaGFuZ2VMYW5ndWFnZSBiZWZvcmUgdGhpc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKiBXZSB3YW50IHRvIHVzZSB0aGUgbGFuZ3VhZ2UgcHJlZmVyZW5jZSBmcm9tIGNvb2tpZXMgb25seSBpZiBzb21ldGhpbmcgZWxzZSBoYXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICogbm90IHNldCBsYW5ndWFnZSBiZWZvcmUgdGhpc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Q3VycmVudExhbmd1YWdlKGZ1bmN0aW9uIChjdXJyZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3VycmVudCAhPT0gdW5kZWZpbmVkID8gY3VycmVudCA6IGNvb2tpZUxhbmdUZW1wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZvaWQgbG9hZExhbmd1YWdlRnJvbUNvb2tpZXMoKTtcbiAgICAgICAgfSxcbiAgICAgICAgW2RlZmF1bHRMYW5ndWFnZSwgc2V0Q3VycmVudExhbmd1YWdlXVxuICAgICk7XG4gICAgUmVhY3QudXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnVzZWQtdmFyc1xuICAgICAgICB2YXIgY2hhbmdlSGFuZGxlciA9IGZ1bmN0aW9uIChfZXZlbnROYW1lLCBkZXRhaWwpIHtcbiAgICAgICAgICAgIHNldEN1cnJlbnRMYW5ndWFnZShkZXRhaWwpO1xuICAgICAgICB9O1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzXG4gICAgICAgIHZhciBsb2FkSGFuZGxlciA9IGZ1bmN0aW9uIChfZXZlbnROYW1lLCBkZXRhaWwpIHtcbiAgICAgICAgICAgIHNldFRyYW5zbGF0aW9uU3RvcmUoZnVuY3Rpb24gKG9zKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHV0aWxzLm1lcmdlT2JqZWN0cyhvcywgZGV0YWlsKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICB0cmFuc2xhdGlvbkNvbnRyb2xFdmVudFNvdXJjZS5vbihcIkxhbmd1YWdlQ2hhbmdlXCIsIGNoYW5nZUhhbmRsZXIpO1xuICAgICAgICB0cmFuc2xhdGlvbkNvbnRyb2xFdmVudFNvdXJjZS5vbihcIlRyYW5zbGF0aW9uTG9hZGVkXCIsIGxvYWRIYW5kbGVyKTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRyYW5zbGF0aW9uQ29udHJvbEV2ZW50U291cmNlLm9mZihcIkxhbmd1YWdlQ2hhbmdlXCIsIGNoYW5nZUhhbmRsZXIpO1xuICAgICAgICAgICAgdHJhbnNsYXRpb25Db250cm9sRXZlbnRTb3VyY2Uub2ZmKFwiVHJhbnNsYXRpb25Mb2FkZWRcIiwgbG9hZEhhbmRsZXIpO1xuICAgICAgICB9O1xuICAgIH0pO1xuICAgIHZhciB0cmFuc2xhdGVGdW5jID0gUmVhY3QudXNlQ2FsbGJhY2soXG4gICAgICAgIGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgIGlmICh1c2VyVHJhbnNsYXRpb25GdW5jICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdXNlclRyYW5zbGF0aW9uRnVuYyhrZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGN1cnJlbnRMYW5ndWFnZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlcyA9IHRyYW5zbGF0aW9uU3RvcmVbY3VycmVudExhbmd1YWdlXSAmJiB0cmFuc2xhdGlvblN0b3JlW2N1cnJlbnRMYW5ndWFnZV1ba2V5XTtcbiAgICAgICAgICAgICAgICB2YXIgZmFsbGJhY2sgPSB0cmFuc2xhdGlvblN0b3JlW2RlZmF1bHRMYW5ndWFnZV0gJiYgdHJhbnNsYXRpb25TdG9yZVtkZWZhdWx0TGFuZ3VhZ2VdW2tleV07XG4gICAgICAgICAgICAgICAgaWYgKHJlcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmYWxsYmFjayAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsbGJhY2s7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGtleTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlNob3VsZCBuZXZlciBjb21lIGhlcmVcIik7XG4gICAgICAgIH0sXG4gICAgICAgIFt0cmFuc2xhdGlvblN0b3JlLCBjdXJyZW50TGFuZ3VhZ2UsIGRlZmF1bHRMYW5ndWFnZSwgdXNlclRyYW5zbGF0aW9uRnVuY11cbiAgICApO1xuICAgIGlmIChjdXJyZW50TGFuZ3VhZ2UgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIGpzeFJ1bnRpbWUuanN4KFxuICAgICAgICBUcmFuc2xhdGlvbkNvbnRleHQuUHJvdmlkZXIsXG4gICAgICAgIHV0aWxzLl9fYXNzaWduKHsgdmFsdWU6IHsgdHJhbnNsYXRlOiB0cmFuc2xhdGVGdW5jIH0gfSwgeyBjaGlsZHJlbjogY2hpbGRyZW4gfSlcbiAgICApO1xufTtcblxuZXhwb3J0cy5UcmFuc2xhdGlvbkNvbnRleHRQcm92aWRlciA9IFRyYW5zbGF0aW9uQ29udGV4dFByb3ZpZGVyO1xuZXhwb3J0cy51c2VUcmFuc2xhdGlvbiA9IHVzZVRyYW5zbGF0aW9uO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dHJhbnNsYXRpb25Db250ZXh0LmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/supertokens-auth-react/lib/build/translationContext.js\n"));

/***/ }),

/***/ "./node_modules/supertokens-auth-react/lib/build/utils.js":
/*!****************************************************************!*\
  !*** ./node_modules/supertokens-auth-react/lib/build/utils.js ***!
  \****************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("/* provided dependency */ var process = __webpack_require__(/*! process */ \"./node_modules/next/dist/build/polyfills/process.js\");\n\n\nvar React = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\nvar cookieHandler = __webpack_require__(/*! supertokens-web-js/utils/cookieHandler */ \"./node_modules/supertokens-web-js/utils/cookieHandler/index.js\");\nvar NormalisedURLDomain = __webpack_require__(/*! supertokens-web-js/utils/normalisedURLDomain */ \"./node_modules/supertokens-web-js/utils/normalisedURLDomain.js\");\nvar NormalisedURLPath = __webpack_require__(/*! supertokens-web-js/utils/normalisedURLPath */ \"./node_modules/supertokens-web-js/utils/normalisedURLPath.js\");\nvar windowHandler = __webpack_require__(/*! supertokens-web-js/utils/windowHandler */ \"./node_modules/supertokens-web-js/utils/windowHandler/index.js\");\n\nfunction _interopDefault(e) {\n    return e && e.__esModule ? e : { default: e };\n}\n\nvar NormalisedURLDomain__default = /*#__PURE__*/ _interopDefault(NormalisedURLDomain);\nvar NormalisedURLPath__default = /*#__PURE__*/ _interopDefault(NormalisedURLPath);\n\n/******************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */\n/* global Reflect, Promise */\n\nvar extendStatics = function (d, b) {\n    extendStatics =\n        Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array &&\n            function (d, b) {\n                d.__proto__ = b;\n            }) ||\n        function (d, b) {\n            for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n        };\n    return extendStatics(d, b);\n};\n\nfunction __extends(d, b) {\n    if (typeof b !== \"function\" && b !== null)\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n    function __() {\n        this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : ((__.prototype = b.prototype), new __());\n}\n\nexports.__assign = function () {\n    exports.__assign =\n        Object.assign ||\n        function __assign(t) {\n            for (var s, i = 1, n = arguments.length; i < n; i++) {\n                s = arguments[i];\n                for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n            }\n            return t;\n        };\n    return exports.__assign.apply(this, arguments);\n};\n\nfunction __rest(s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n        }\n    return t;\n}\n\nfunction __awaiter(thisArg, _arguments, P, generator) {\n    function adopt(value) {\n        return value instanceof P\n            ? value\n            : new P(function (resolve) {\n                  resolve(value);\n              });\n    }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) {\n            try {\n                step(generator.next(value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function rejected(value) {\n            try {\n                step(generator[\"throw\"](value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function step(result) {\n            result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n        }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n}\n\nfunction __generator(thisArg, body) {\n    var _ = {\n            label: 0,\n            sent: function () {\n                if (t[0] & 1) throw t[1];\n                return t[1];\n            },\n            trys: [],\n            ops: [],\n        },\n        f,\n        y,\n        t,\n        g;\n    return (\n        (g = { next: verb(0), throw: verb(1), return: verb(2) }),\n        typeof Symbol === \"function\" &&\n            (g[Symbol.iterator] = function () {\n                return this;\n            }),\n        g\n    );\n    function verb(n) {\n        return function (v) {\n            return step([n, v]);\n        };\n    }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while ((g && ((g = 0), op[0] && (_ = 0)), _))\n            try {\n                if (\n                    ((f = 1),\n                    y &&\n                        (t =\n                            op[0] & 2\n                                ? y[\"return\"]\n                                : op[0]\n                                ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0)\n                                : y.next) &&\n                        !(t = t.call(y, op[1])).done)\n                )\n                    return t;\n                if (((y = 0), t)) op = [op[0] & 2, t.value];\n                switch (op[0]) {\n                    case 0:\n                    case 1:\n                        t = op;\n                        break;\n                    case 4:\n                        _.label++;\n                        return { value: op[1], done: false };\n                    case 5:\n                        _.label++;\n                        y = op[1];\n                        op = [0];\n                        continue;\n                    case 7:\n                        op = _.ops.pop();\n                        _.trys.pop();\n                        continue;\n                    default:\n                        if (!((t = _.trys), (t = t.length > 0 && t[t.length - 1])) && (op[0] === 6 || op[0] === 2)) {\n                            _ = 0;\n                            continue;\n                        }\n                        if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) {\n                            _.label = op[1];\n                            break;\n                        }\n                        if (op[0] === 6 && _.label < t[1]) {\n                            _.label = t[1];\n                            t = op;\n                            break;\n                        }\n                        if (t && _.label < t[2]) {\n                            _.label = t[2];\n                            _.ops.push(op);\n                            break;\n                        }\n                        if (t[2]) _.ops.pop();\n                        _.trys.pop();\n                        continue;\n                }\n                op = body.call(thisArg, _);\n            } catch (e) {\n                op = [6, e];\n                y = 0;\n            } finally {\n                f = t = 0;\n            }\n        if (op[0] & 5) throw op[1];\n        return { value: op[0] ? op[1] : void 0, done: true };\n    }\n}\n\nfunction __spreadArray(to, from, pack) {\n    if (pack || arguments.length === 2)\n        for (var i = 0, l = from.length, ar; i < l; i++) {\n            if (ar || !(i in from)) {\n                if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n                ar[i] = from[i];\n            }\n        }\n    return to.concat(ar || Array.prototype.slice.call(from));\n}\n\n/* Copyright (c) 2021, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\n/*\n * Consts.\n */\nvar RECIPE_ID_QUERY_PARAM = \"rid\";\nvar DEFAULT_API_BASE_PATH = \"/auth\";\nvar DEFAULT_WEBSITE_BASE_PATH = \"/auth\";\nvar ST_ROOT_ID = \"supertokens-root\";\nvar SSR_ERROR =\n    \"\\nIf you are trying to use this method doing server-side-rendering, please make sure you move this method inside a componentDidMount method or useEffect hook.\";\n\n/* Copyright (c) 2021, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\n/*\n * getRecipeIdFromPath\n * Input:\n * Output: The \"rid\" query param if present, null otherwise.\n */\nfunction getRecipeIdFromSearch(search) {\n    var urlParams = new URLSearchParams(search);\n    return urlParams.get(RECIPE_ID_QUERY_PARAM);\n}\nfunction clearQueryParams(paramNames) {\n    var newURL = new URL(windowHandler.WindowHandlerReference.getReferenceOrThrow().windowHandler.location.getHref());\n    for (var _i = 0, paramNames_1 = paramNames; _i < paramNames_1.length; _i++) {\n        var param = paramNames_1[_i];\n        newURL.searchParams.delete(param);\n    }\n    windowHandler.WindowHandlerReference.getReferenceOrThrow().windowHandler.history.replaceState(\n        windowHandler.WindowHandlerReference.getReferenceOrThrow().windowHandler.history.getState(),\n        \"\",\n        windowHandler.WindowHandlerReference.getReferenceOrThrow().windowHandler.location.getHref()\n    );\n}\nfunction clearErrorQueryParam() {\n    clearQueryParams([\"error\", \"message\"]);\n}\nfunction getQueryParams(param) {\n    var urlParams = new URLSearchParams(\n        windowHandler.WindowHandlerReference.getReferenceOrThrow().windowHandler.location.getSearch()\n    );\n    return urlParams.get(param);\n}\nfunction getURLHash() {\n    // By default it is returined with the \"#\" at the beginning, we cut that off here.\n    return windowHandler.WindowHandlerReference.getReferenceOrThrow().windowHandler.location.getHash().substr(1);\n}\nfunction getRedirectToPathFromURL() {\n    var param = getQueryParams(\"redirectToPath\");\n    if (param === null) {\n        return undefined;\n    } else {\n        // Prevent Open redirects by normalising path.\n        try {\n            var normalisedURLPath = new NormalisedURLPath__default.default(param).getAsStringDangerous();\n            var pathQueryParams = param.split(\"?\")[1] !== undefined ? \"?\".concat(param.split(\"?\")[1]) : \"\";\n            return normalisedURLPath + pathQueryParams;\n        } catch (_a) {\n            return undefined;\n        }\n    }\n}\n/*\n * isTest\n */\nfunction isTest() {\n    try {\n        return process.env.TEST_MODE === \"testing\";\n    } catch (err) {\n        // can get Uncaught ReferenceError: process is not defined error\n        return false;\n    }\n}\nfunction normaliseInputAppInfoOrThrowError(appInfo) {\n    if (appInfo === undefined) {\n        throw new Error(\"Please provide the appInfo object when calling supertokens.init\");\n    }\n    if (appInfo.apiDomain === undefined) {\n        throw new Error(\"Please provide your apiDomain inside the appInfo object when calling supertokens.init\");\n    }\n    if (appInfo.appName === undefined) {\n        throw new Error(\"Please provide your appName inside the appInfo object when calling supertokens.init\");\n    }\n    if (appInfo.websiteDomain === undefined) {\n        throw new Error(\"Please provide your websiteDomain inside the appInfo object when calling supertokens.init\");\n    }\n    var apiGatewayPath = new NormalisedURLPath__default.default(\"\");\n    if (appInfo.apiGatewayPath !== undefined) {\n        apiGatewayPath = new NormalisedURLPath__default.default(appInfo.apiGatewayPath);\n    }\n    return {\n        appName: appInfo.appName,\n        apiDomain: new NormalisedURLDomain__default.default(appInfo.apiDomain),\n        websiteDomain: new NormalisedURLDomain__default.default(appInfo.websiteDomain),\n        apiBasePath: apiGatewayPath.appendPath(\n            getNormalisedURLPathOrDefault(DEFAULT_API_BASE_PATH, appInfo.apiBasePath)\n        ),\n        websiteBasePath: getNormalisedURLPathOrDefault(DEFAULT_WEBSITE_BASE_PATH, appInfo.websiteBasePath),\n    };\n}\nfunction getNormalisedURLPathOrDefault(defaultPath, path) {\n    if (path !== undefined) {\n        return new NormalisedURLPath__default.default(path);\n    } else {\n        return new NormalisedURLPath__default.default(defaultPath);\n    }\n}\n/*\n * validateForm\n */\n// We check that the number of fields in input and config form field is the same.\n// We check that each item in the config form field is also present in the input form field\nfunction validateForm(inputs, configFormFields) {\n    return __awaiter(this, void 0, void 0, function () {\n        var validationErrors, _loop_1, i;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    validationErrors = [];\n                    if (configFormFields.length !== inputs.length) {\n                        throw Error(\"Are you sending too many / too few formFields?\");\n                    }\n                    _loop_1 = function (i) {\n                        var field, input, value, error;\n                        return __generator(this, function (_b) {\n                            switch (_b.label) {\n                                case 0:\n                                    field = configFormFields[i];\n                                    input = inputs.find(function (i) {\n                                        return i.id === field.id;\n                                    });\n                                    value = input.value;\n                                    if (input.id === \"email\") {\n                                        value = value.trim();\n                                    }\n                                    return [4 /*yield*/, field.validate(value)];\n                                case 1:\n                                    error = _b.sent();\n                                    // If error, add it.\n                                    if (error !== undefined) {\n                                        validationErrors.push({\n                                            error: error,\n                                            id: field.id,\n                                        });\n                                    }\n                                    return [2 /*return*/];\n                            }\n                        });\n                    };\n                    i = 0;\n                    _a.label = 1;\n                case 1:\n                    if (!(i < configFormFields.length)) return [3 /*break*/, 4];\n                    return [5 /*yield**/, _loop_1(i)];\n                case 2:\n                    _a.sent();\n                    _a.label = 3;\n                case 3:\n                    i++;\n                    return [3 /*break*/, 1];\n                case 4:\n                    return [2 /*return*/, validationErrors];\n            }\n        });\n    });\n}\n/*\n * getCurrentNormalisedUrlPath\n */\nfunction getCurrentNormalisedUrlPath() {\n    return new NormalisedURLPath__default.default(\n        windowHandler.WindowHandlerReference.getReferenceOrThrow().windowHandler.location.getPathName()\n    );\n}\nfunction appendQueryParamsToURL(stringUrl, queryParams) {\n    if (queryParams === undefined) {\n        return stringUrl;\n    }\n    try {\n        var url_1 = new URL(stringUrl);\n        Object.entries(queryParams).forEach(function (_a) {\n            var key = _a[0],\n                value = _a[1];\n            url_1.searchParams.set(key, value);\n        });\n        return url_1.href;\n    } catch (e) {\n        var fakeDomain = stringUrl.startsWith(\"/\") ? \"http:localhost\" : \"http://localhost/\";\n        var url_2 = new URL(\"\".concat(fakeDomain).concat(stringUrl));\n        Object.entries(queryParams).forEach(function (_a) {\n            var key = _a[0],\n                value = _a[1];\n            url_2.searchParams.set(key, value);\n        });\n        return \"\".concat(url_2.pathname).concat(url_2.search);\n    }\n}\nfunction appendTrailingSlashToURL(stringUrl) {\n    return stringUrl.endsWith(\"/\") ? stringUrl : stringUrl + \"/\";\n}\n/*\n * Default method for matching recipe route based on query params.\n */\nfunction matchRecipeIdUsingQueryParams(recipeId) {\n    return function () {\n        var recipeIdFromSearch = getRecipeIdFromSearch(\n            windowHandler.WindowHandlerReference.getReferenceOrThrow().windowHandler.location.getSearch()\n        );\n        return recipeIdFromSearch === recipeId;\n    };\n}\nfunction redirectWithFullPageReload(to) {\n    if (to.trim() === \"\") {\n        to = \"/\";\n    }\n    windowHandler.WindowHandlerReference.getReferenceOrThrow().windowHandler.location.setHref(to);\n}\nfunction redirectWithHistory(to, history) {\n    if (to.trim() === \"\") {\n        to = \"/\";\n    }\n    if (history.push !== undefined) {\n        // we are using react-router-dom that is before v6\n        history.push(to);\n    } else {\n        // in react-router-dom v6, it is just navigate(to), and we are renaming\n        // naviagte to history, so it becomes history(to).\n        history(to);\n    }\n}\nfunction getOriginOfPage() {\n    return new NormalisedURLDomain__default.default(\n        windowHandler.WindowHandlerReference.getReferenceOrThrow().windowHandler.location.getOrigin()\n    );\n}\nfunction getLocalStorage(key) {\n    return __awaiter(this, void 0, void 0, function () {\n        var res;\n        return __generator(this, function (_a) {\n            res = windowHandler.WindowHandlerReference.getReferenceOrThrow().windowHandler.localStorage.getItem(key);\n            if (res === null || res === undefined) {\n                return [2 /*return*/, null];\n            }\n            return [2 /*return*/, res];\n        });\n    });\n}\nfunction setLocalStorage(key, value) {\n    return __awaiter(this, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    return [\n                        4 /*yield*/,\n                        windowHandler.WindowHandlerReference.getReferenceOrThrow().windowHandler.localStorage.setItem(\n                            key,\n                            value\n                        ),\n                    ];\n                case 1:\n                    _a.sent();\n                    return [2 /*return*/];\n            }\n        });\n    });\n}\nfunction removeFromLocalStorage(key) {\n    return __awaiter(this, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    return [\n                        4 /*yield*/,\n                        windowHandler.WindowHandlerReference.getReferenceOrThrow().windowHandler.localStorage.removeItem(\n                            key\n                        ),\n                    ];\n                case 1:\n                    _a.sent();\n                    return [2 /*return*/];\n            }\n        });\n    });\n}\nfunction mergeObjects(obj1, obj2) {\n    var res = exports.__assign({}, obj1);\n    for (var key in obj2) {\n        if (typeof res[key] === \"object\" && typeof obj2[key] === \"object\") {\n            res[key] = mergeObjects(res[key], obj2[key]);\n        } else {\n            res[key] = obj2[key];\n        }\n    }\n    return res;\n}\nfunction normaliseCookieScopeOrThrowError(cookieScope) {\n    function helper(cookieScope) {\n        cookieScope = cookieScope.trim().toLowerCase();\n        // first we convert it to a URL so that we can use the URL class\n        if (cookieScope.startsWith(\".\")) {\n            cookieScope = cookieScope.substr(1);\n        }\n        if (!cookieScope.startsWith(\"http://\") && !cookieScope.startsWith(\"https://\")) {\n            cookieScope = \"http://\" + cookieScope;\n        }\n        try {\n            var urlObj = new URL(cookieScope);\n            cookieScope = urlObj.hostname;\n            // remove leading dot\n            if (cookieScope.startsWith(\".\")) {\n                cookieScope = cookieScope.substr(1);\n            }\n            return cookieScope;\n        } catch (err) {\n            throw new Error(\"Please provide a valid cookie scope\");\n        }\n    }\n    function isAnIpAddress(ipaddress) {\n        return /^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(\n            ipaddress\n        );\n    }\n    var noDotNormalised = helper(cookieScope);\n    if (noDotNormalised === \"localhost\" || isAnIpAddress(noDotNormalised)) {\n        return noDotNormalised;\n    }\n    if (cookieScope.startsWith(\".\")) {\n        return \".\" + noDotNormalised;\n    }\n    return noDotNormalised;\n}\nfunction getDefaultCookieScope() {\n    try {\n        return normaliseCookieScopeOrThrowError(\n            windowHandler.WindowHandlerReference.getReferenceOrThrow().windowHandler.location.getHostName()\n        );\n    } catch (_a) {\n        return undefined;\n    }\n}\nfunction getCookieValue(name) {\n    return __awaiter(this, void 0, void 0, function () {\n        var value, _a, parts, last, temp;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    _a = \"; \";\n                    return [\n                        4 /*yield*/,\n                        cookieHandler.CookieHandlerReference.getReferenceOrThrow().cookieHandler.getCookie(),\n                    ];\n                case 1:\n                    value = _a + _b.sent();\n                    parts = value.split(\"; \" + name + \"=\");\n                    if (parts.length >= 2) {\n                        last = parts.pop();\n                        if (last !== undefined) {\n                            temp = last.split(\";\").shift();\n                            if (temp === undefined) {\n                                return [2 /*return*/, null];\n                            }\n                            return [2 /*return*/, temp];\n                        }\n                    }\n                    return [2 /*return*/, null];\n            }\n        });\n    });\n}\n// undefined value will remove the cookie\nfunction setFrontendCookie(name, value, scope) {\n    return __awaiter(this, void 0, void 0, function () {\n        var expires, cookieVal;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    expires = \"Thu, 01 Jan 1970 00:00:01 GMT\";\n                    cookieVal = \"\";\n                    if (value !== undefined) {\n                        cookieVal = value;\n                        expires = undefined; // set cookie without expiry\n                    }\n                    if (\n                        !(\n                            scope === \"localhost\" ||\n                            scope ===\n                                windowHandler.WindowHandlerReference.getReferenceOrThrow().windowHandler.location.getHostName() ||\n                            scope === undefined\n                        )\n                    )\n                        return [3 /*break*/, 5];\n                    if (!(expires !== undefined)) return [3 /*break*/, 2];\n                    return [\n                        4 /*yield*/,\n                        cookieHandler.CookieHandlerReference.getReferenceOrThrow().cookieHandler.setCookie(\n                            \"\".concat(name, \"=\").concat(cookieVal, \";expires=\").concat(expires, \";path=/;samesite=lax\")\n                        ),\n                    ];\n                case 1:\n                    _a.sent();\n                    return [3 /*break*/, 4];\n                case 2:\n                    return [\n                        4 /*yield*/,\n                        cookieHandler.CookieHandlerReference.getReferenceOrThrow().cookieHandler.setCookie(\n                            \"\"\n                                .concat(name, \"=\")\n                                .concat(cookieVal, \";expires=Fri, 31 Dec 9999 23:59:59 GMT;path=/;samesite=lax\")\n                        ),\n                    ];\n                case 3:\n                    _a.sent();\n                    _a.label = 4;\n                case 4:\n                    return [3 /*break*/, 9];\n                case 5:\n                    if (!(expires !== undefined)) return [3 /*break*/, 7];\n                    return [\n                        4 /*yield*/,\n                        cookieHandler.CookieHandlerReference.getReferenceOrThrow().cookieHandler.setCookie(\n                            \"\"\n                                .concat(name, \"=\")\n                                .concat(cookieVal, \";expires=\")\n                                .concat(expires, \";domain=\")\n                                .concat(scope, \";path=/;samesite=lax\")\n                        ),\n                    ];\n                case 6:\n                    _a.sent();\n                    return [3 /*break*/, 9];\n                case 7:\n                    return [\n                        4 /*yield*/,\n                        cookieHandler.CookieHandlerReference.getReferenceOrThrow().cookieHandler.setCookie(\n                            \"\"\n                                .concat(name, \"=\")\n                                .concat(cookieVal, \";domain=\")\n                                .concat(scope, \";expires=Fri, 31 Dec 9999 23:59:59 GMT;path=/;samesite=lax\")\n                        ),\n                    ];\n                case 8:\n                    _a.sent();\n                    _a.label = 9;\n                case 9:\n                    return [2 /*return*/];\n            }\n        });\n    });\n}\nfunction getNormalisedUserContext(userContext) {\n    return userContext === undefined ? {} : userContext;\n}\n/**\n * This function handles calling APIs that should only be called once during mount (mostly on mount of a route/feature component).\n * It's split into multiple callbacks (fetch + handleResponse/handleError) because we expect fetch to take longer and\n * and the component may be unmounted during the first fetch, in which case we want to avoid updating state/redirecting.\n * This is especially relevant for development in strict mode with React 18 (and in the future for concurrent rendering).\n *\n * @param fetch This is a callback that is only called once on mount. Mostly it's for consuming tokens/doing one time only API calls\n * @param handleResponse This is called with the result of the first (fetch) call if it succeeds.\n * @param handleError This is called with the error of the first (fetch) call if it rejects.\n * @param startLoading Will start the whole process if this is set to true (or omitted). Mostly used to wait for session loading.\n */\nvar useOnMountAPICall = function (fetch, handleResponse, handleError, startLoading) {\n    if (startLoading === void 0) {\n        startLoading = true;\n    }\n    var consumeReq = React.useRef();\n    var _a = React.useState(undefined),\n        error = _a[0],\n        setError = _a[1];\n    React.useEffect(\n        function () {\n            var effect = function (signal) {\n                return __awaiter(void 0, void 0, void 0, function () {\n                    var resp, err_1;\n                    return __generator(this, function (_a) {\n                        switch (_a.label) {\n                            case 0:\n                                _a.trys.push([0, 2, , 3]);\n                                if (consumeReq.current === undefined) {\n                                    consumeReq.current = fetch();\n                                }\n                                return [4 /*yield*/, consumeReq.current];\n                            case 1:\n                                resp = _a.sent();\n                                if (!signal.aborted) {\n                                    void handleResponse(resp);\n                                }\n                                return [3 /*break*/, 3];\n                            case 2:\n                                err_1 = _a.sent();\n                                if (!signal.aborted) {\n                                    if (handleError !== undefined) {\n                                        handleError(err_1, resp);\n                                    } else {\n                                        setError(err_1);\n                                    }\n                                }\n                                return [3 /*break*/, 3];\n                            case 3:\n                                return [2 /*return*/];\n                        }\n                    });\n                });\n            };\n            if (startLoading) {\n                var ctrl_1 = new AbortController();\n                void effect(ctrl_1.signal);\n                return function () {\n                    ctrl_1.abort();\n                };\n            }\n            return;\n        },\n        [setError, consumeReq, fetch, handleResponse, handleError, startLoading]\n    );\n    if (error) {\n        throw error;\n    }\n};\nfunction saveInvalidClaimRedirectPathInContext(userContext, invalidClaimRedirectPath) {\n    if (userContext[\"_default\"] === undefined) {\n        userContext[\"_default\"] = {};\n    }\n    if (userContext[\"_default\"].redirectPath === undefined) {\n        userContext[\"_default\"] = exports.__assign(exports.__assign({}, userContext[\"_default\"]), {\n            invalidClaimRedirectPath: invalidClaimRedirectPath,\n        });\n    }\n}\nfunction popInvalidClaimRedirectPathFromContext(userContext) {\n    var _a;\n    var res = (_a = userContext[\"_default\"]) === null || _a === void 0 ? void 0 : _a.invalidClaimRedirectPath;\n    if (res !== undefined) {\n        delete userContext[\"_default\"].invalidClaimRedirectPath;\n    }\n    return res;\n}\n\nexports.SSR_ERROR = SSR_ERROR;\nexports.ST_ROOT_ID = ST_ROOT_ID;\nexports.__awaiter = __awaiter;\nexports.__extends = __extends;\nexports.__generator = __generator;\nexports.__rest = __rest;\nexports.__spreadArray = __spreadArray;\nexports.appendQueryParamsToURL = appendQueryParamsToURL;\nexports.appendTrailingSlashToURL = appendTrailingSlashToURL;\nexports.clearErrorQueryParam = clearErrorQueryParam;\nexports.clearQueryParams = clearQueryParams;\nexports.getCookieValue = getCookieValue;\nexports.getCurrentNormalisedUrlPath = getCurrentNormalisedUrlPath;\nexports.getDefaultCookieScope = getDefaultCookieScope;\nexports.getLocalStorage = getLocalStorage;\nexports.getNormalisedUserContext = getNormalisedUserContext;\nexports.getOriginOfPage = getOriginOfPage;\nexports.getQueryParams = getQueryParams;\nexports.getRedirectToPathFromURL = getRedirectToPathFromURL;\nexports.getURLHash = getURLHash;\nexports.isTest = isTest;\nexports.matchRecipeIdUsingQueryParams = matchRecipeIdUsingQueryParams;\nexports.mergeObjects = mergeObjects;\nexports.normaliseCookieScopeOrThrowError = normaliseCookieScopeOrThrowError;\nexports.normaliseInputAppInfoOrThrowError = normaliseInputAppInfoOrThrowError;\nexports.popInvalidClaimRedirectPathFromContext = popInvalidClaimRedirectPathFromContext;\nexports.redirectWithFullPageReload = redirectWithFullPageReload;\nexports.redirectWithHistory = redirectWithHistory;\nexports.removeFromLocalStorage = removeFromLocalStorage;\nexports.saveInvalidClaimRedirectPathInContext = saveInvalidClaimRedirectPathInContext;\nexports.setFrontendCookie = setFrontendCookie;\nexports.setLocalStorage = setLocalStorage;\nexports.useOnMountAPICall = useOnMountAPICall;\nexports.validateForm = validateForm;\n//# sourceMappingURL=utils.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3VwZXJ0b2tlbnMtYXV0aC1yZWFjdC9saWIvYnVpbGQvdXRpbHMuanMuanMiLCJtYXBwaW5ncyI6IjtBQUFhOztBQUViLFlBQVksbUJBQU8sQ0FBQyw0Q0FBTztBQUMzQixvQkFBb0IsbUJBQU8sQ0FBQyw4R0FBd0M7QUFDcEUsMEJBQTBCLG1CQUFPLENBQUMsb0hBQThDO0FBQ2hGLHdCQUF3QixtQkFBTyxDQUFDLGdIQUE0QztBQUM1RSxvQkFBb0IsbUJBQU8sQ0FBQyw4R0FBd0M7O0FBRXBFO0FBQ0EscUNBQXFDO0FBQ3JDOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGdCQUFnQjtBQUMzQjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGdCQUFnQjtBQUNoQixJQUFJLGdCQUFnQjtBQUNwQjtBQUNBO0FBQ0EscURBQXFELE9BQU87QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2REFBNkQsY0FBYztBQUMzRTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsZ0RBQWdEO0FBQy9EO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsNkNBQTZDLE9BQU87QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRCwwQkFBMEI7QUFDMUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsT0FBTztBQUN0QixNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUM7QUFDekM7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQztBQUMzQztBQUNBO0FBQ0E7QUFDQSxnREFBZ0Q7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxRUFBcUUsNkJBQTZCLE9BQU87QUFDekc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRCxzQ0FBc0MsT0FBTztBQUNsRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscURBQXFEO0FBQ3JELG1EQUFtRDtBQUNuRCxpREFBaUQsT0FBTztBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscURBQXFEO0FBQ3JELGlEQUFpRCxzQ0FBc0MsT0FBTztBQUM5RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBO0FBQ0EsMENBQTBDO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0M7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckIsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0VBQXNFO0FBQ3RFO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGlCQUFpQjtBQUNqQixrQkFBa0I7QUFDbEIsaUJBQWlCO0FBQ2pCLGlCQUFpQjtBQUNqQixtQkFBbUI7QUFDbkIsY0FBYztBQUNkLHFCQUFxQjtBQUNyQiw4QkFBOEI7QUFDOUIsZ0NBQWdDO0FBQ2hDLDRCQUE0QjtBQUM1Qix3QkFBd0I7QUFDeEIsc0JBQXNCO0FBQ3RCLG1DQUFtQztBQUNuQyw2QkFBNkI7QUFDN0IsdUJBQXVCO0FBQ3ZCLGdDQUFnQztBQUNoQyx1QkFBdUI7QUFDdkIsc0JBQXNCO0FBQ3RCLGdDQUFnQztBQUNoQyxrQkFBa0I7QUFDbEIsY0FBYztBQUNkLHFDQUFxQztBQUNyQyxvQkFBb0I7QUFDcEIsd0NBQXdDO0FBQ3hDLHlDQUF5QztBQUN6Qyw4Q0FBOEM7QUFDOUMsa0NBQWtDO0FBQ2xDLDJCQUEyQjtBQUMzQiw4QkFBOEI7QUFDOUIsNkNBQTZDO0FBQzdDLHlCQUF5QjtBQUN6Qix1QkFBdUI7QUFDdkIseUJBQXlCO0FBQ3pCLG9CQUFvQjtBQUNwQiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvc3VwZXJ0b2tlbnMtYXV0aC1yZWFjdC9saWIvYnVpbGQvdXRpbHMuanM/ZWEyMyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxudmFyIFJlYWN0ID0gcmVxdWlyZShcInJlYWN0XCIpO1xudmFyIGNvb2tpZUhhbmRsZXIgPSByZXF1aXJlKFwic3VwZXJ0b2tlbnMtd2ViLWpzL3V0aWxzL2Nvb2tpZUhhbmRsZXJcIik7XG52YXIgTm9ybWFsaXNlZFVSTERvbWFpbiA9IHJlcXVpcmUoXCJzdXBlcnRva2Vucy13ZWItanMvdXRpbHMvbm9ybWFsaXNlZFVSTERvbWFpblwiKTtcbnZhciBOb3JtYWxpc2VkVVJMUGF0aCA9IHJlcXVpcmUoXCJzdXBlcnRva2Vucy13ZWItanMvdXRpbHMvbm9ybWFsaXNlZFVSTFBhdGhcIik7XG52YXIgd2luZG93SGFuZGxlciA9IHJlcXVpcmUoXCJzdXBlcnRva2Vucy13ZWItanMvdXRpbHMvd2luZG93SGFuZGxlclwiKTtcblxuZnVuY3Rpb24gX2ludGVyb3BEZWZhdWx0KGUpIHtcbiAgICByZXR1cm4gZSAmJiBlLl9fZXNNb2R1bGUgPyBlIDogeyBkZWZhdWx0OiBlIH07XG59XG5cbnZhciBOb3JtYWxpc2VkVVJMRG9tYWluX19kZWZhdWx0ID0gLyojX19QVVJFX18qLyBfaW50ZXJvcERlZmF1bHQoTm9ybWFsaXNlZFVSTERvbWFpbik7XG52YXIgTm9ybWFsaXNlZFVSTFBhdGhfX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovIF9pbnRlcm9wRGVmYXVsdChOb3JtYWxpc2VkVVJMUGF0aCk7XG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxuXG5QZXJtaXNzaW9uIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBhbmQvb3IgZGlzdHJpYnV0ZSB0aGlzIHNvZnR3YXJlIGZvciBhbnlcbnB1cnBvc2Ugd2l0aCBvciB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZC5cblxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiBBTkQgVEhFIEFVVEhPUiBESVNDTEFJTVMgQUxMIFdBUlJBTlRJRVMgV0lUSFxuUkVHQVJEIFRPIFRISVMgU09GVFdBUkUgSU5DTFVESU5HIEFMTCBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZXG5BTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsXG5JTkRJUkVDVCwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIE9SIEFOWSBEQU1BR0VTIFdIQVRTT0VWRVIgUkVTVUxUSU5HIEZST01cbkxPU1MgT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SXG5PVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SXG5QRVJGT1JNQU5DRSBPRiBUSElTIFNPRlRXQVJFLlxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXG5cbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICBleHRlbmRTdGF0aWNzID1cbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmXG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICAgICAgICAgIGQuX19wcm90b19fID0gYjtcbiAgICAgICAgICAgIH0pIHx8XG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdO1xuICAgICAgICB9O1xuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xufTtcblxuZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcbiAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICBmdW5jdGlvbiBfXygpIHtcbiAgICAgICAgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7XG4gICAgfVxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlKSwgbmV3IF9fKCkpO1xufVxuXG5leHBvcnRzLl9fYXNzaWduID0gZnVuY3Rpb24gKCkge1xuICAgIGV4cG9ydHMuX19hc3NpZ24gPVxuICAgICAgICBPYmplY3QuYXNzaWduIHx8XG4gICAgICAgIGZ1bmN0aW9uIF9fYXNzaWduKHQpIHtcbiAgICAgICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0O1xuICAgICAgICB9O1xuICAgIHJldHVybiBleHBvcnRzLl9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xuXG5mdW5jdGlvbiBfX3Jlc3QocywgZSkge1xuICAgIHZhciB0ID0ge307XG4gICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApIHRbcF0gPSBzW3BdO1xuICAgIGlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIilcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDAgJiYgT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHMsIHBbaV0pKSB0W3BbaV1dID0gc1twW2ldXTtcbiAgICAgICAgfVxuICAgIHJldHVybiB0O1xufVxuXG5mdW5jdGlvbiBfX2F3YWl0ZXIodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUFxuICAgICAgICAgICAgPyB2YWx1ZVxuICAgICAgICAgICAgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkge1xuICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh2YWx1ZSk7XG4gICAgICAgICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkge1xuICAgICAgICAgICAgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7XG4gICAgICAgIH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBfX2dlbmVyYXRvcih0aGlzQXJnLCBib2R5KSB7XG4gICAgdmFyIF8gPSB7XG4gICAgICAgICAgICBsYWJlbDogMCxcbiAgICAgICAgICAgIHNlbnQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpZiAodFswXSAmIDEpIHRocm93IHRbMV07XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRbMV07XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdHJ5czogW10sXG4gICAgICAgICAgICBvcHM6IFtdLFxuICAgICAgICB9LFxuICAgICAgICBmLFxuICAgICAgICB5LFxuICAgICAgICB0LFxuICAgICAgICBnO1xuICAgIHJldHVybiAoXG4gICAgICAgIChnID0geyBuZXh0OiB2ZXJiKDApLCB0aHJvdzogdmVyYigxKSwgcmV0dXJuOiB2ZXJiKDIpIH0pLFxuICAgICAgICB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiZcbiAgICAgICAgICAgIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgZ1xuICAgICk7XG4gICAgZnVuY3Rpb24gdmVyYihuKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAodikge1xuICAgICAgICAgICAgcmV0dXJuIHN0ZXAoW24sIHZdKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xuICAgICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XG4gICAgICAgIHdoaWxlICgoZyAmJiAoKGcgPSAwKSwgb3BbMF0gJiYgKF8gPSAwKSksIF8pKVxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICgoZiA9IDEpLFxuICAgICAgICAgICAgICAgICAgICB5ICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAodCA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BbMF0gJiAyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8geVtcInJldHVyblwiXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG9wWzBdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiB5Lm5leHQpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHQ7XG4gICAgICAgICAgICAgICAgaWYgKCgoeSA9IDApLCB0KSkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgdCA9IG9wO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgICAgIF8ubGFiZWwrKztcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgICAgICAgICAgXy5sYWJlbCsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgeSA9IG9wWzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgb3AgPSBbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgICAgICAgICAgICAgb3AgPSBfLm9wcy5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoKHQgPSBfLnRyeXMpLCAodCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXyA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfLmxhYmVsID0gb3BbMV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfLmxhYmVsID0gdFsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ID0gb3A7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF8ubGFiZWwgPSB0WzJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF8ub3BzLnB1c2gob3ApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIG9wID0gWzYsIGVdO1xuICAgICAgICAgICAgICAgIHkgPSAwO1xuICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICBmID0gdCA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdO1xuICAgICAgICByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xuICAgIH1cbn1cblxuZnVuY3Rpb24gX19zcHJlYWRBcnJheSh0bywgZnJvbSwgcGFjaykge1xuICAgIGlmIChwYWNrIHx8IGFyZ3VtZW50cy5sZW5ndGggPT09IDIpXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gZnJvbS5sZW5ndGgsIGFyOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoYXIgfHwgIShpIGluIGZyb20pKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFhcikgYXIgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChmcm9tLCAwLCBpKTtcbiAgICAgICAgICAgICAgICBhcltpXSA9IGZyb21baV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICByZXR1cm4gdG8uY29uY2F0KGFyIHx8IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGZyb20pKTtcbn1cblxuLyogQ29weXJpZ2h0IChjKSAyMDIxLCBWUkFJIExhYnMgYW5kL29yIGl0cyBhZmZpbGlhdGVzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc29mdHdhcmUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlXG4gKiBcIkxpY2Vuc2VcIikgYXMgcHVibGlzaGVkIGJ5IHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRhdGlvbi5cbiAqXG4gKiBZb3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXlcbiAqIG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLCBXSVRIT1VUXG4gKiBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuIFNlZSB0aGVcbiAqIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zXG4gKiB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLypcbiAqIENvbnN0cy5cbiAqL1xudmFyIFJFQ0lQRV9JRF9RVUVSWV9QQVJBTSA9IFwicmlkXCI7XG52YXIgREVGQVVMVF9BUElfQkFTRV9QQVRIID0gXCIvYXV0aFwiO1xudmFyIERFRkFVTFRfV0VCU0lURV9CQVNFX1BBVEggPSBcIi9hdXRoXCI7XG52YXIgU1RfUk9PVF9JRCA9IFwic3VwZXJ0b2tlbnMtcm9vdFwiO1xudmFyIFNTUl9FUlJPUiA9XG4gICAgXCJcXG5JZiB5b3UgYXJlIHRyeWluZyB0byB1c2UgdGhpcyBtZXRob2QgZG9pbmcgc2VydmVyLXNpZGUtcmVuZGVyaW5nLCBwbGVhc2UgbWFrZSBzdXJlIHlvdSBtb3ZlIHRoaXMgbWV0aG9kIGluc2lkZSBhIGNvbXBvbmVudERpZE1vdW50IG1ldGhvZCBvciB1c2VFZmZlY3QgaG9vay5cIjtcblxuLyogQ29weXJpZ2h0IChjKSAyMDIxLCBWUkFJIExhYnMgYW5kL29yIGl0cyBhZmZpbGlhdGVzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc29mdHdhcmUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlXG4gKiBcIkxpY2Vuc2VcIikgYXMgcHVibGlzaGVkIGJ5IHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRhdGlvbi5cbiAqXG4gKiBZb3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXlcbiAqIG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLCBXSVRIT1VUXG4gKiBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuIFNlZSB0aGVcbiAqIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zXG4gKiB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLypcbiAqIGdldFJlY2lwZUlkRnJvbVBhdGhcbiAqIElucHV0OlxuICogT3V0cHV0OiBUaGUgXCJyaWRcIiBxdWVyeSBwYXJhbSBpZiBwcmVzZW50LCBudWxsIG90aGVyd2lzZS5cbiAqL1xuZnVuY3Rpb24gZ2V0UmVjaXBlSWRGcm9tU2VhcmNoKHNlYXJjaCkge1xuICAgIHZhciB1cmxQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHNlYXJjaCk7XG4gICAgcmV0dXJuIHVybFBhcmFtcy5nZXQoUkVDSVBFX0lEX1FVRVJZX1BBUkFNKTtcbn1cbmZ1bmN0aW9uIGNsZWFyUXVlcnlQYXJhbXMocGFyYW1OYW1lcykge1xuICAgIHZhciBuZXdVUkwgPSBuZXcgVVJMKHdpbmRvd0hhbmRsZXIuV2luZG93SGFuZGxlclJlZmVyZW5jZS5nZXRSZWZlcmVuY2VPclRocm93KCkud2luZG93SGFuZGxlci5sb2NhdGlvbi5nZXRIcmVmKCkpO1xuICAgIGZvciAodmFyIF9pID0gMCwgcGFyYW1OYW1lc18xID0gcGFyYW1OYW1lczsgX2kgPCBwYXJhbU5hbWVzXzEubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIHZhciBwYXJhbSA9IHBhcmFtTmFtZXNfMVtfaV07XG4gICAgICAgIG5ld1VSTC5zZWFyY2hQYXJhbXMuZGVsZXRlKHBhcmFtKTtcbiAgICB9XG4gICAgd2luZG93SGFuZGxlci5XaW5kb3dIYW5kbGVyUmVmZXJlbmNlLmdldFJlZmVyZW5jZU9yVGhyb3coKS53aW5kb3dIYW5kbGVyLmhpc3RvcnkucmVwbGFjZVN0YXRlKFxuICAgICAgICB3aW5kb3dIYW5kbGVyLldpbmRvd0hhbmRsZXJSZWZlcmVuY2UuZ2V0UmVmZXJlbmNlT3JUaHJvdygpLndpbmRvd0hhbmRsZXIuaGlzdG9yeS5nZXRTdGF0ZSgpLFxuICAgICAgICBcIlwiLFxuICAgICAgICB3aW5kb3dIYW5kbGVyLldpbmRvd0hhbmRsZXJSZWZlcmVuY2UuZ2V0UmVmZXJlbmNlT3JUaHJvdygpLndpbmRvd0hhbmRsZXIubG9jYXRpb24uZ2V0SHJlZigpXG4gICAgKTtcbn1cbmZ1bmN0aW9uIGNsZWFyRXJyb3JRdWVyeVBhcmFtKCkge1xuICAgIGNsZWFyUXVlcnlQYXJhbXMoW1wiZXJyb3JcIiwgXCJtZXNzYWdlXCJdKTtcbn1cbmZ1bmN0aW9uIGdldFF1ZXJ5UGFyYW1zKHBhcmFtKSB7XG4gICAgdmFyIHVybFBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoXG4gICAgICAgIHdpbmRvd0hhbmRsZXIuV2luZG93SGFuZGxlclJlZmVyZW5jZS5nZXRSZWZlcmVuY2VPclRocm93KCkud2luZG93SGFuZGxlci5sb2NhdGlvbi5nZXRTZWFyY2goKVxuICAgICk7XG4gICAgcmV0dXJuIHVybFBhcmFtcy5nZXQocGFyYW0pO1xufVxuZnVuY3Rpb24gZ2V0VVJMSGFzaCgpIHtcbiAgICAvLyBCeSBkZWZhdWx0IGl0IGlzIHJldHVyaW5lZCB3aXRoIHRoZSBcIiNcIiBhdCB0aGUgYmVnaW5uaW5nLCB3ZSBjdXQgdGhhdCBvZmYgaGVyZS5cbiAgICByZXR1cm4gd2luZG93SGFuZGxlci5XaW5kb3dIYW5kbGVyUmVmZXJlbmNlLmdldFJlZmVyZW5jZU9yVGhyb3coKS53aW5kb3dIYW5kbGVyLmxvY2F0aW9uLmdldEhhc2goKS5zdWJzdHIoMSk7XG59XG5mdW5jdGlvbiBnZXRSZWRpcmVjdFRvUGF0aEZyb21VUkwoKSB7XG4gICAgdmFyIHBhcmFtID0gZ2V0UXVlcnlQYXJhbXMoXCJyZWRpcmVjdFRvUGF0aFwiKTtcbiAgICBpZiAocGFyYW0gPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9IGVsc2Uge1xuICAgICAgICAvLyBQcmV2ZW50IE9wZW4gcmVkaXJlY3RzIGJ5IG5vcm1hbGlzaW5nIHBhdGguXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB2YXIgbm9ybWFsaXNlZFVSTFBhdGggPSBuZXcgTm9ybWFsaXNlZFVSTFBhdGhfX2RlZmF1bHQuZGVmYXVsdChwYXJhbSkuZ2V0QXNTdHJpbmdEYW5nZXJvdXMoKTtcbiAgICAgICAgICAgIHZhciBwYXRoUXVlcnlQYXJhbXMgPSBwYXJhbS5zcGxpdChcIj9cIilbMV0gIT09IHVuZGVmaW5lZCA/IFwiP1wiLmNvbmNhdChwYXJhbS5zcGxpdChcIj9cIilbMV0pIDogXCJcIjtcbiAgICAgICAgICAgIHJldHVybiBub3JtYWxpc2VkVVJMUGF0aCArIHBhdGhRdWVyeVBhcmFtcztcbiAgICAgICAgfSBjYXRjaCAoX2EpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKlxuICogaXNUZXN0XG4gKi9cbmZ1bmN0aW9uIGlzVGVzdCgpIHtcbiAgICB0cnkge1xuICAgICAgICByZXR1cm4gcHJvY2Vzcy5lbnYuVEVTVF9NT0RFID09PSBcInRlc3RpbmdcIjtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgLy8gY2FuIGdldCBVbmNhdWdodCBSZWZlcmVuY2VFcnJvcjogcHJvY2VzcyBpcyBub3QgZGVmaW5lZCBlcnJvclxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuZnVuY3Rpb24gbm9ybWFsaXNlSW5wdXRBcHBJbmZvT3JUaHJvd0Vycm9yKGFwcEluZm8pIHtcbiAgICBpZiAoYXBwSW5mbyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlBsZWFzZSBwcm92aWRlIHRoZSBhcHBJbmZvIG9iamVjdCB3aGVuIGNhbGxpbmcgc3VwZXJ0b2tlbnMuaW5pdFwiKTtcbiAgICB9XG4gICAgaWYgKGFwcEluZm8uYXBpRG9tYWluID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUGxlYXNlIHByb3ZpZGUgeW91ciBhcGlEb21haW4gaW5zaWRlIHRoZSBhcHBJbmZvIG9iamVjdCB3aGVuIGNhbGxpbmcgc3VwZXJ0b2tlbnMuaW5pdFwiKTtcbiAgICB9XG4gICAgaWYgKGFwcEluZm8uYXBwTmFtZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlBsZWFzZSBwcm92aWRlIHlvdXIgYXBwTmFtZSBpbnNpZGUgdGhlIGFwcEluZm8gb2JqZWN0IHdoZW4gY2FsbGluZyBzdXBlcnRva2Vucy5pbml0XCIpO1xuICAgIH1cbiAgICBpZiAoYXBwSW5mby53ZWJzaXRlRG9tYWluID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUGxlYXNlIHByb3ZpZGUgeW91ciB3ZWJzaXRlRG9tYWluIGluc2lkZSB0aGUgYXBwSW5mbyBvYmplY3Qgd2hlbiBjYWxsaW5nIHN1cGVydG9rZW5zLmluaXRcIik7XG4gICAgfVxuICAgIHZhciBhcGlHYXRld2F5UGF0aCA9IG5ldyBOb3JtYWxpc2VkVVJMUGF0aF9fZGVmYXVsdC5kZWZhdWx0KFwiXCIpO1xuICAgIGlmIChhcHBJbmZvLmFwaUdhdGV3YXlQYXRoICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgYXBpR2F0ZXdheVBhdGggPSBuZXcgTm9ybWFsaXNlZFVSTFBhdGhfX2RlZmF1bHQuZGVmYXVsdChhcHBJbmZvLmFwaUdhdGV3YXlQYXRoKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgYXBwTmFtZTogYXBwSW5mby5hcHBOYW1lLFxuICAgICAgICBhcGlEb21haW46IG5ldyBOb3JtYWxpc2VkVVJMRG9tYWluX19kZWZhdWx0LmRlZmF1bHQoYXBwSW5mby5hcGlEb21haW4pLFxuICAgICAgICB3ZWJzaXRlRG9tYWluOiBuZXcgTm9ybWFsaXNlZFVSTERvbWFpbl9fZGVmYXVsdC5kZWZhdWx0KGFwcEluZm8ud2Vic2l0ZURvbWFpbiksXG4gICAgICAgIGFwaUJhc2VQYXRoOiBhcGlHYXRld2F5UGF0aC5hcHBlbmRQYXRoKFxuICAgICAgICAgICAgZ2V0Tm9ybWFsaXNlZFVSTFBhdGhPckRlZmF1bHQoREVGQVVMVF9BUElfQkFTRV9QQVRILCBhcHBJbmZvLmFwaUJhc2VQYXRoKVxuICAgICAgICApLFxuICAgICAgICB3ZWJzaXRlQmFzZVBhdGg6IGdldE5vcm1hbGlzZWRVUkxQYXRoT3JEZWZhdWx0KERFRkFVTFRfV0VCU0lURV9CQVNFX1BBVEgsIGFwcEluZm8ud2Vic2l0ZUJhc2VQYXRoKSxcbiAgICB9O1xufVxuZnVuY3Rpb24gZ2V0Tm9ybWFsaXNlZFVSTFBhdGhPckRlZmF1bHQoZGVmYXVsdFBhdGgsIHBhdGgpIHtcbiAgICBpZiAocGF0aCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBuZXcgTm9ybWFsaXNlZFVSTFBhdGhfX2RlZmF1bHQuZGVmYXVsdChwYXRoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gbmV3IE5vcm1hbGlzZWRVUkxQYXRoX19kZWZhdWx0LmRlZmF1bHQoZGVmYXVsdFBhdGgpO1xuICAgIH1cbn1cbi8qXG4gKiB2YWxpZGF0ZUZvcm1cbiAqL1xuLy8gV2UgY2hlY2sgdGhhdCB0aGUgbnVtYmVyIG9mIGZpZWxkcyBpbiBpbnB1dCBhbmQgY29uZmlnIGZvcm0gZmllbGQgaXMgdGhlIHNhbWUuXG4vLyBXZSBjaGVjayB0aGF0IGVhY2ggaXRlbSBpbiB0aGUgY29uZmlnIGZvcm0gZmllbGQgaXMgYWxzbyBwcmVzZW50IGluIHRoZSBpbnB1dCBmb3JtIGZpZWxkXG5mdW5jdGlvbiB2YWxpZGF0ZUZvcm0oaW5wdXRzLCBjb25maWdGb3JtRmllbGRzKSB7XG4gICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdmFsaWRhdGlvbkVycm9ycywgX2xvb3BfMSwgaTtcbiAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xuICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbkVycm9ycyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29uZmlnRm9ybUZpZWxkcy5sZW5ndGggIT09IGlucHV0cy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IEVycm9yKFwiQXJlIHlvdSBzZW5kaW5nIHRvbyBtYW55IC8gdG9vIGZldyBmb3JtRmllbGRzP1wiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBfbG9vcF8xID0gZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmaWVsZCwgaW5wdXQsIHZhbHVlLCBlcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9iLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkID0gY29uZmlnRm9ybUZpZWxkc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0ID0gaW5wdXRzLmZpbmQoZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaS5pZCA9PT0gZmllbGQuaWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gaW5wdXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5wdXQuaWQgPT09IFwiZW1haWxcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gdmFsdWUudHJpbSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgZmllbGQudmFsaWRhdGUodmFsdWUpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3IgPSBfYi5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiBlcnJvciwgYWRkIGl0LlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uRXJyb3JzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjogZXJyb3IsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBmaWVsZC5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgaSA9IDA7XG4gICAgICAgICAgICAgICAgICAgIF9hLmxhYmVsID0gMTtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGlmICghKGkgPCBjb25maWdGb3JtRmllbGRzLmxlbmd0aCkpIHJldHVybiBbMyAvKmJyZWFrKi8sIDRdO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzUgLyp5aWVsZCoqLywgX2xvb3BfMShpKV07XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgIF9hLmxhYmVsID0gMztcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgMV07XG4gICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgdmFsaWRhdGlvbkVycm9yc107XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuLypcbiAqIGdldEN1cnJlbnROb3JtYWxpc2VkVXJsUGF0aFxuICovXG5mdW5jdGlvbiBnZXRDdXJyZW50Tm9ybWFsaXNlZFVybFBhdGgoKSB7XG4gICAgcmV0dXJuIG5ldyBOb3JtYWxpc2VkVVJMUGF0aF9fZGVmYXVsdC5kZWZhdWx0KFxuICAgICAgICB3aW5kb3dIYW5kbGVyLldpbmRvd0hhbmRsZXJSZWZlcmVuY2UuZ2V0UmVmZXJlbmNlT3JUaHJvdygpLndpbmRvd0hhbmRsZXIubG9jYXRpb24uZ2V0UGF0aE5hbWUoKVxuICAgICk7XG59XG5mdW5jdGlvbiBhcHBlbmRRdWVyeVBhcmFtc1RvVVJMKHN0cmluZ1VybCwgcXVlcnlQYXJhbXMpIHtcbiAgICBpZiAocXVlcnlQYXJhbXMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gc3RyaW5nVXJsO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICB2YXIgdXJsXzEgPSBuZXcgVVJMKHN0cmluZ1VybCk7XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKHF1ZXJ5UGFyYW1zKS5mb3JFYWNoKGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgdmFyIGtleSA9IF9hWzBdLFxuICAgICAgICAgICAgICAgIHZhbHVlID0gX2FbMV07XG4gICAgICAgICAgICB1cmxfMS5zZWFyY2hQYXJhbXMuc2V0KGtleSwgdmFsdWUpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHVybF8xLmhyZWY7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICB2YXIgZmFrZURvbWFpbiA9IHN0cmluZ1VybC5zdGFydHNXaXRoKFwiL1wiKSA/IFwiaHR0cDpsb2NhbGhvc3RcIiA6IFwiaHR0cDovL2xvY2FsaG9zdC9cIjtcbiAgICAgICAgdmFyIHVybF8yID0gbmV3IFVSTChcIlwiLmNvbmNhdChmYWtlRG9tYWluKS5jb25jYXQoc3RyaW5nVXJsKSk7XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKHF1ZXJ5UGFyYW1zKS5mb3JFYWNoKGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgdmFyIGtleSA9IF9hWzBdLFxuICAgICAgICAgICAgICAgIHZhbHVlID0gX2FbMV07XG4gICAgICAgICAgICB1cmxfMi5zZWFyY2hQYXJhbXMuc2V0KGtleSwgdmFsdWUpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIFwiXCIuY29uY2F0KHVybF8yLnBhdGhuYW1lKS5jb25jYXQodXJsXzIuc2VhcmNoKTtcbiAgICB9XG59XG5mdW5jdGlvbiBhcHBlbmRUcmFpbGluZ1NsYXNoVG9VUkwoc3RyaW5nVXJsKSB7XG4gICAgcmV0dXJuIHN0cmluZ1VybC5lbmRzV2l0aChcIi9cIikgPyBzdHJpbmdVcmwgOiBzdHJpbmdVcmwgKyBcIi9cIjtcbn1cbi8qXG4gKiBEZWZhdWx0IG1ldGhvZCBmb3IgbWF0Y2hpbmcgcmVjaXBlIHJvdXRlIGJhc2VkIG9uIHF1ZXJ5IHBhcmFtcy5cbiAqL1xuZnVuY3Rpb24gbWF0Y2hSZWNpcGVJZFVzaW5nUXVlcnlQYXJhbXMocmVjaXBlSWQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcmVjaXBlSWRGcm9tU2VhcmNoID0gZ2V0UmVjaXBlSWRGcm9tU2VhcmNoKFxuICAgICAgICAgICAgd2luZG93SGFuZGxlci5XaW5kb3dIYW5kbGVyUmVmZXJlbmNlLmdldFJlZmVyZW5jZU9yVGhyb3coKS53aW5kb3dIYW5kbGVyLmxvY2F0aW9uLmdldFNlYXJjaCgpXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiByZWNpcGVJZEZyb21TZWFyY2ggPT09IHJlY2lwZUlkO1xuICAgIH07XG59XG5mdW5jdGlvbiByZWRpcmVjdFdpdGhGdWxsUGFnZVJlbG9hZCh0bykge1xuICAgIGlmICh0by50cmltKCkgPT09IFwiXCIpIHtcbiAgICAgICAgdG8gPSBcIi9cIjtcbiAgICB9XG4gICAgd2luZG93SGFuZGxlci5XaW5kb3dIYW5kbGVyUmVmZXJlbmNlLmdldFJlZmVyZW5jZU9yVGhyb3coKS53aW5kb3dIYW5kbGVyLmxvY2F0aW9uLnNldEhyZWYodG8pO1xufVxuZnVuY3Rpb24gcmVkaXJlY3RXaXRoSGlzdG9yeSh0bywgaGlzdG9yeSkge1xuICAgIGlmICh0by50cmltKCkgPT09IFwiXCIpIHtcbiAgICAgICAgdG8gPSBcIi9cIjtcbiAgICB9XG4gICAgaWYgKGhpc3RvcnkucHVzaCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIC8vIHdlIGFyZSB1c2luZyByZWFjdC1yb3V0ZXItZG9tIHRoYXQgaXMgYmVmb3JlIHY2XG4gICAgICAgIGhpc3RvcnkucHVzaCh0byk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gaW4gcmVhY3Qtcm91dGVyLWRvbSB2NiwgaXQgaXMganVzdCBuYXZpZ2F0ZSh0byksIGFuZCB3ZSBhcmUgcmVuYW1pbmdcbiAgICAgICAgLy8gbmF2aWFndGUgdG8gaGlzdG9yeSwgc28gaXQgYmVjb21lcyBoaXN0b3J5KHRvKS5cbiAgICAgICAgaGlzdG9yeSh0byk7XG4gICAgfVxufVxuZnVuY3Rpb24gZ2V0T3JpZ2luT2ZQYWdlKCkge1xuICAgIHJldHVybiBuZXcgTm9ybWFsaXNlZFVSTERvbWFpbl9fZGVmYXVsdC5kZWZhdWx0KFxuICAgICAgICB3aW5kb3dIYW5kbGVyLldpbmRvd0hhbmRsZXJSZWZlcmVuY2UuZ2V0UmVmZXJlbmNlT3JUaHJvdygpLndpbmRvd0hhbmRsZXIubG9jYXRpb24uZ2V0T3JpZ2luKClcbiAgICApO1xufVxuZnVuY3Rpb24gZ2V0TG9jYWxTdG9yYWdlKGtleSkge1xuICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHJlcztcbiAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgcmVzID0gd2luZG93SGFuZGxlci5XaW5kb3dIYW5kbGVyUmVmZXJlbmNlLmdldFJlZmVyZW5jZU9yVGhyb3coKS53aW5kb3dIYW5kbGVyLmxvY2FsU3RvcmFnZS5nZXRJdGVtKGtleSk7XG4gICAgICAgICAgICBpZiAocmVzID09PSBudWxsIHx8IHJlcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIG51bGxdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHJlc107XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuZnVuY3Rpb24gc2V0TG9jYWxTdG9yYWdlKGtleSwgdmFsdWUpIHtcbiAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICA0IC8qeWllbGQqLyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvd0hhbmRsZXIuV2luZG93SGFuZGxlclJlZmVyZW5jZS5nZXRSZWZlcmVuY2VPclRocm93KCkud2luZG93SGFuZGxlci5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG5mdW5jdGlvbiByZW1vdmVGcm9tTG9jYWxTdG9yYWdlKGtleSkge1xuICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xuICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgICAgIDQgLyp5aWVsZCovLFxuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93SGFuZGxlci5XaW5kb3dIYW5kbGVyUmVmZXJlbmNlLmdldFJlZmVyZW5jZU9yVGhyb3coKS53aW5kb3dIYW5kbGVyLmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleVxuICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIG1lcmdlT2JqZWN0cyhvYmoxLCBvYmoyKSB7XG4gICAgdmFyIHJlcyA9IGV4cG9ydHMuX19hc3NpZ24oe30sIG9iajEpO1xuICAgIGZvciAodmFyIGtleSBpbiBvYmoyKSB7XG4gICAgICAgIGlmICh0eXBlb2YgcmVzW2tleV0gPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIG9iajJba2V5XSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgcmVzW2tleV0gPSBtZXJnZU9iamVjdHMocmVzW2tleV0sIG9iajJba2V5XSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXNba2V5XSA9IG9iajJba2V5XTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzO1xufVxuZnVuY3Rpb24gbm9ybWFsaXNlQ29va2llU2NvcGVPclRocm93RXJyb3IoY29va2llU2NvcGUpIHtcbiAgICBmdW5jdGlvbiBoZWxwZXIoY29va2llU2NvcGUpIHtcbiAgICAgICAgY29va2llU2NvcGUgPSBjb29raWVTY29wZS50cmltKCkudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgLy8gZmlyc3Qgd2UgY29udmVydCBpdCB0byBhIFVSTCBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlIFVSTCBjbGFzc1xuICAgICAgICBpZiAoY29va2llU2NvcGUuc3RhcnRzV2l0aChcIi5cIikpIHtcbiAgICAgICAgICAgIGNvb2tpZVNjb3BlID0gY29va2llU2NvcGUuc3Vic3RyKDEpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghY29va2llU2NvcGUuc3RhcnRzV2l0aChcImh0dHA6Ly9cIikgJiYgIWNvb2tpZVNjb3BlLnN0YXJ0c1dpdGgoXCJodHRwczovL1wiKSkge1xuICAgICAgICAgICAgY29va2llU2NvcGUgPSBcImh0dHA6Ly9cIiArIGNvb2tpZVNjb3BlO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB2YXIgdXJsT2JqID0gbmV3IFVSTChjb29raWVTY29wZSk7XG4gICAgICAgICAgICBjb29raWVTY29wZSA9IHVybE9iai5ob3N0bmFtZTtcbiAgICAgICAgICAgIC8vIHJlbW92ZSBsZWFkaW5nIGRvdFxuICAgICAgICAgICAgaWYgKGNvb2tpZVNjb3BlLnN0YXJ0c1dpdGgoXCIuXCIpKSB7XG4gICAgICAgICAgICAgICAgY29va2llU2NvcGUgPSBjb29raWVTY29wZS5zdWJzdHIoMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY29va2llU2NvcGU7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUGxlYXNlIHByb3ZpZGUgYSB2YWxpZCBjb29raWUgc2NvcGVcIik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gaXNBbklwQWRkcmVzcyhpcGFkZHJlc3MpIHtcbiAgICAgICAgcmV0dXJuIC9eKDI1WzAtNV18MlswLTRdWzAtOV18WzAxXT9bMC05XVswLTldPylcXC4oMjVbMC01XXwyWzAtNF1bMC05XXxbMDFdP1swLTldWzAtOV0/KVxcLigyNVswLTVdfDJbMC00XVswLTldfFswMV0/WzAtOV1bMC05XT8pXFwuKDI1WzAtNV18MlswLTRdWzAtOV18WzAxXT9bMC05XVswLTldPykkLy50ZXN0KFxuICAgICAgICAgICAgaXBhZGRyZXNzXG4gICAgICAgICk7XG4gICAgfVxuICAgIHZhciBub0RvdE5vcm1hbGlzZWQgPSBoZWxwZXIoY29va2llU2NvcGUpO1xuICAgIGlmIChub0RvdE5vcm1hbGlzZWQgPT09IFwibG9jYWxob3N0XCIgfHwgaXNBbklwQWRkcmVzcyhub0RvdE5vcm1hbGlzZWQpKSB7XG4gICAgICAgIHJldHVybiBub0RvdE5vcm1hbGlzZWQ7XG4gICAgfVxuICAgIGlmIChjb29raWVTY29wZS5zdGFydHNXaXRoKFwiLlwiKSkge1xuICAgICAgICByZXR1cm4gXCIuXCIgKyBub0RvdE5vcm1hbGlzZWQ7XG4gICAgfVxuICAgIHJldHVybiBub0RvdE5vcm1hbGlzZWQ7XG59XG5mdW5jdGlvbiBnZXREZWZhdWx0Q29va2llU2NvcGUoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIG5vcm1hbGlzZUNvb2tpZVNjb3BlT3JUaHJvd0Vycm9yKFxuICAgICAgICAgICAgd2luZG93SGFuZGxlci5XaW5kb3dIYW5kbGVyUmVmZXJlbmNlLmdldFJlZmVyZW5jZU9yVGhyb3coKS53aW5kb3dIYW5kbGVyLmxvY2F0aW9uLmdldEhvc3ROYW1lKClcbiAgICAgICAgKTtcbiAgICB9IGNhdGNoIChfYSkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGdldENvb2tpZVZhbHVlKG5hbWUpIHtcbiAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB2YWx1ZSwgX2EsIHBhcnRzLCBsYXN0LCB0ZW1wO1xuICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9iKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9iLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICBfYSA9IFwiOyBcIjtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgICAgIDQgLyp5aWVsZCovLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29va2llSGFuZGxlci5Db29raWVIYW5kbGVyUmVmZXJlbmNlLmdldFJlZmVyZW5jZU9yVGhyb3coKS5jb29raWVIYW5kbGVyLmdldENvb2tpZSgpLFxuICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBfYSArIF9iLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgcGFydHMgPSB2YWx1ZS5zcGxpdChcIjsgXCIgKyBuYW1lICsgXCI9XCIpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID49IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhc3QgPSBwYXJ0cy5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsYXN0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wID0gbGFzdC5zcGxpdChcIjtcIikuc2hpZnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGVtcCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBudWxsXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHRlbXBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBudWxsXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG4vLyB1bmRlZmluZWQgdmFsdWUgd2lsbCByZW1vdmUgdGhlIGNvb2tpZVxuZnVuY3Rpb24gc2V0RnJvbnRlbmRDb29raWUobmFtZSwgdmFsdWUsIHNjb3BlKSB7XG4gICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZXhwaXJlcywgY29va2llVmFsO1xuICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICBleHBpcmVzID0gXCJUaHUsIDAxIEphbiAxOTcwIDAwOjAwOjAxIEdNVFwiO1xuICAgICAgICAgICAgICAgICAgICBjb29raWVWYWwgPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29va2llVmFsID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBleHBpcmVzID0gdW5kZWZpbmVkOyAvLyBzZXQgY29va2llIHdpdGhvdXQgZXhwaXJ5XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgIShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZSA9PT0gXCJsb2NhbGhvc3RcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlID09PVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3dIYW5kbGVyLldpbmRvd0hhbmRsZXJSZWZlcmVuY2UuZ2V0UmVmZXJlbmNlT3JUaHJvdygpLndpbmRvd0hhbmRsZXIubG9jYXRpb24uZ2V0SG9zdE5hbWUoKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlID09PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgNV07XG4gICAgICAgICAgICAgICAgICAgIGlmICghKGV4cGlyZXMgIT09IHVuZGVmaW5lZCkpIHJldHVybiBbMyAvKmJyZWFrKi8sIDJdO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAgICAgNCAvKnlpZWxkKi8sXG4gICAgICAgICAgICAgICAgICAgICAgICBjb29raWVIYW5kbGVyLkNvb2tpZUhhbmRsZXJSZWZlcmVuY2UuZ2V0UmVmZXJlbmNlT3JUaHJvdygpLmNvb2tpZUhhbmRsZXIuc2V0Q29va2llKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiXCIuY29uY2F0KG5hbWUsIFwiPVwiKS5jb25jYXQoY29va2llVmFsLCBcIjtleHBpcmVzPVwiKS5jb25jYXQoZXhwaXJlcywgXCI7cGF0aD0vO3NhbWVzaXRlPWxheFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgNF07XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAgICAgNCAvKnlpZWxkKi8sXG4gICAgICAgICAgICAgICAgICAgICAgICBjb29raWVIYW5kbGVyLkNvb2tpZUhhbmRsZXJSZWZlcmVuY2UuZ2V0UmVmZXJlbmNlT3JUaHJvdygpLmNvb2tpZUhhbmRsZXIuc2V0Q29va2llKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNvbmNhdChuYW1lLCBcIj1cIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNvbmNhdChjb29raWVWYWwsIFwiO2V4cGlyZXM9RnJpLCAzMSBEZWMgOTk5OSAyMzo1OTo1OSBHTVQ7cGF0aD0vO3NhbWVzaXRlPWxheFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgX2EubGFiZWwgPSA0O1xuICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgOV07XG4gICAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgICAgICBpZiAoIShleHBpcmVzICE9PSB1bmRlZmluZWQpKSByZXR1cm4gWzMgLypicmVhayovLCA3XTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgICAgIDQgLyp5aWVsZCovLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29va2llSGFuZGxlci5Db29raWVIYW5kbGVyUmVmZXJlbmNlLmdldFJlZmVyZW5jZU9yVGhyb3coKS5jb29raWVIYW5kbGVyLnNldENvb2tpZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5jb25jYXQobmFtZSwgXCI9XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5jb25jYXQoY29va2llVmFsLCBcIjtleHBpcmVzPVwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuY29uY2F0KGV4cGlyZXMsIFwiO2RvbWFpbj1cIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNvbmNhdChzY29wZSwgXCI7cGF0aD0vO3NhbWVzaXRlPWxheFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgOV07XG4gICAgICAgICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAgICAgNCAvKnlpZWxkKi8sXG4gICAgICAgICAgICAgICAgICAgICAgICBjb29raWVIYW5kbGVyLkNvb2tpZUhhbmRsZXJSZWZlcmVuY2UuZ2V0UmVmZXJlbmNlT3JUaHJvdygpLmNvb2tpZUhhbmRsZXIuc2V0Q29va2llKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNvbmNhdChuYW1lLCBcIj1cIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNvbmNhdChjb29raWVWYWwsIFwiO2RvbWFpbj1cIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmNvbmNhdChzY29wZSwgXCI7ZXhwaXJlcz1GcmksIDMxIERlYyA5OTk5IDIzOjU5OjU5IEdNVDtwYXRoPS87c2FtZXNpdGU9bGF4XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgIGNhc2UgODpcbiAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICBfYS5sYWJlbCA9IDk7XG4gICAgICAgICAgICAgICAgY2FzZSA5OlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuZnVuY3Rpb24gZ2V0Tm9ybWFsaXNlZFVzZXJDb250ZXh0KHVzZXJDb250ZXh0KSB7XG4gICAgcmV0dXJuIHVzZXJDb250ZXh0ID09PSB1bmRlZmluZWQgPyB7fSA6IHVzZXJDb250ZXh0O1xufVxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIGhhbmRsZXMgY2FsbGluZyBBUElzIHRoYXQgc2hvdWxkIG9ubHkgYmUgY2FsbGVkIG9uY2UgZHVyaW5nIG1vdW50IChtb3N0bHkgb24gbW91bnQgb2YgYSByb3V0ZS9mZWF0dXJlIGNvbXBvbmVudCkuXG4gKiBJdCdzIHNwbGl0IGludG8gbXVsdGlwbGUgY2FsbGJhY2tzIChmZXRjaCArIGhhbmRsZVJlc3BvbnNlL2hhbmRsZUVycm9yKSBiZWNhdXNlIHdlIGV4cGVjdCBmZXRjaCB0byB0YWtlIGxvbmdlciBhbmRcbiAqIGFuZCB0aGUgY29tcG9uZW50IG1heSBiZSB1bm1vdW50ZWQgZHVyaW5nIHRoZSBmaXJzdCBmZXRjaCwgaW4gd2hpY2ggY2FzZSB3ZSB3YW50IHRvIGF2b2lkIHVwZGF0aW5nIHN0YXRlL3JlZGlyZWN0aW5nLlxuICogVGhpcyBpcyBlc3BlY2lhbGx5IHJlbGV2YW50IGZvciBkZXZlbG9wbWVudCBpbiBzdHJpY3QgbW9kZSB3aXRoIFJlYWN0IDE4IChhbmQgaW4gdGhlIGZ1dHVyZSBmb3IgY29uY3VycmVudCByZW5kZXJpbmcpLlxuICpcbiAqIEBwYXJhbSBmZXRjaCBUaGlzIGlzIGEgY2FsbGJhY2sgdGhhdCBpcyBvbmx5IGNhbGxlZCBvbmNlIG9uIG1vdW50LiBNb3N0bHkgaXQncyBmb3IgY29uc3VtaW5nIHRva2Vucy9kb2luZyBvbmUgdGltZSBvbmx5IEFQSSBjYWxsc1xuICogQHBhcmFtIGhhbmRsZVJlc3BvbnNlIFRoaXMgaXMgY2FsbGVkIHdpdGggdGhlIHJlc3VsdCBvZiB0aGUgZmlyc3QgKGZldGNoKSBjYWxsIGlmIGl0IHN1Y2NlZWRzLlxuICogQHBhcmFtIGhhbmRsZUVycm9yIFRoaXMgaXMgY2FsbGVkIHdpdGggdGhlIGVycm9yIG9mIHRoZSBmaXJzdCAoZmV0Y2gpIGNhbGwgaWYgaXQgcmVqZWN0cy5cbiAqIEBwYXJhbSBzdGFydExvYWRpbmcgV2lsbCBzdGFydCB0aGUgd2hvbGUgcHJvY2VzcyBpZiB0aGlzIGlzIHNldCB0byB0cnVlIChvciBvbWl0dGVkKS4gTW9zdGx5IHVzZWQgdG8gd2FpdCBmb3Igc2Vzc2lvbiBsb2FkaW5nLlxuICovXG52YXIgdXNlT25Nb3VudEFQSUNhbGwgPSBmdW5jdGlvbiAoZmV0Y2gsIGhhbmRsZVJlc3BvbnNlLCBoYW5kbGVFcnJvciwgc3RhcnRMb2FkaW5nKSB7XG4gICAgaWYgKHN0YXJ0TG9hZGluZyA9PT0gdm9pZCAwKSB7XG4gICAgICAgIHN0YXJ0TG9hZGluZyA9IHRydWU7XG4gICAgfVxuICAgIHZhciBjb25zdW1lUmVxID0gUmVhY3QudXNlUmVmKCk7XG4gICAgdmFyIF9hID0gUmVhY3QudXNlU3RhdGUodW5kZWZpbmVkKSxcbiAgICAgICAgZXJyb3IgPSBfYVswXSxcbiAgICAgICAgc2V0RXJyb3IgPSBfYVsxXTtcbiAgICBSZWFjdC51c2VFZmZlY3QoXG4gICAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBlZmZlY3QgPSBmdW5jdGlvbiAoc2lnbmFsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXNwLCBlcnJfMTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2EudHJ5cy5wdXNoKFswLCAyLCAsIDNdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnN1bWVSZXEuY3VycmVudCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdW1lUmVxLmN1cnJlbnQgPSBmZXRjaCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIGNvbnN1bWVSZXEuY3VycmVudF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwID0gX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXNpZ25hbC5hYm9ydGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2b2lkIGhhbmRsZVJlc3BvbnNlKHJlc3ApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDNdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyXzEgPSBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc2lnbmFsLmFib3J0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChoYW5kbGVFcnJvciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlRXJyb3IoZXJyXzEsIHJlc3ApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRFcnJvcihlcnJfMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgM107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmIChzdGFydExvYWRpbmcpIHtcbiAgICAgICAgICAgICAgICB2YXIgY3RybF8xID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICAgICAgICAgICAgICAgIHZvaWQgZWZmZWN0KGN0cmxfMS5zaWduYWwpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0cmxfMS5hYm9ydCgpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0sXG4gICAgICAgIFtzZXRFcnJvciwgY29uc3VtZVJlcSwgZmV0Y2gsIGhhbmRsZVJlc3BvbnNlLCBoYW5kbGVFcnJvciwgc3RhcnRMb2FkaW5nXVxuICAgICk7XG4gICAgaWYgKGVycm9yKSB7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbn07XG5mdW5jdGlvbiBzYXZlSW52YWxpZENsYWltUmVkaXJlY3RQYXRoSW5Db250ZXh0KHVzZXJDb250ZXh0LCBpbnZhbGlkQ2xhaW1SZWRpcmVjdFBhdGgpIHtcbiAgICBpZiAodXNlckNvbnRleHRbXCJfZGVmYXVsdFwiXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHVzZXJDb250ZXh0W1wiX2RlZmF1bHRcIl0gPSB7fTtcbiAgICB9XG4gICAgaWYgKHVzZXJDb250ZXh0W1wiX2RlZmF1bHRcIl0ucmVkaXJlY3RQYXRoID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdXNlckNvbnRleHRbXCJfZGVmYXVsdFwiXSA9IGV4cG9ydHMuX19hc3NpZ24oZXhwb3J0cy5fX2Fzc2lnbih7fSwgdXNlckNvbnRleHRbXCJfZGVmYXVsdFwiXSksIHtcbiAgICAgICAgICAgIGludmFsaWRDbGFpbVJlZGlyZWN0UGF0aDogaW52YWxpZENsYWltUmVkaXJlY3RQYXRoLFxuICAgICAgICB9KTtcbiAgICB9XG59XG5mdW5jdGlvbiBwb3BJbnZhbGlkQ2xhaW1SZWRpcmVjdFBhdGhGcm9tQ29udGV4dCh1c2VyQ29udGV4dCkge1xuICAgIHZhciBfYTtcbiAgICB2YXIgcmVzID0gKF9hID0gdXNlckNvbnRleHRbXCJfZGVmYXVsdFwiXSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmludmFsaWRDbGFpbVJlZGlyZWN0UGF0aDtcbiAgICBpZiAocmVzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgZGVsZXRlIHVzZXJDb250ZXh0W1wiX2RlZmF1bHRcIl0uaW52YWxpZENsYWltUmVkaXJlY3RQYXRoO1xuICAgIH1cbiAgICByZXR1cm4gcmVzO1xufVxuXG5leHBvcnRzLlNTUl9FUlJPUiA9IFNTUl9FUlJPUjtcbmV4cG9ydHMuU1RfUk9PVF9JRCA9IFNUX1JPT1RfSUQ7XG5leHBvcnRzLl9fYXdhaXRlciA9IF9fYXdhaXRlcjtcbmV4cG9ydHMuX19leHRlbmRzID0gX19leHRlbmRzO1xuZXhwb3J0cy5fX2dlbmVyYXRvciA9IF9fZ2VuZXJhdG9yO1xuZXhwb3J0cy5fX3Jlc3QgPSBfX3Jlc3Q7XG5leHBvcnRzLl9fc3ByZWFkQXJyYXkgPSBfX3NwcmVhZEFycmF5O1xuZXhwb3J0cy5hcHBlbmRRdWVyeVBhcmFtc1RvVVJMID0gYXBwZW5kUXVlcnlQYXJhbXNUb1VSTDtcbmV4cG9ydHMuYXBwZW5kVHJhaWxpbmdTbGFzaFRvVVJMID0gYXBwZW5kVHJhaWxpbmdTbGFzaFRvVVJMO1xuZXhwb3J0cy5jbGVhckVycm9yUXVlcnlQYXJhbSA9IGNsZWFyRXJyb3JRdWVyeVBhcmFtO1xuZXhwb3J0cy5jbGVhclF1ZXJ5UGFyYW1zID0gY2xlYXJRdWVyeVBhcmFtcztcbmV4cG9ydHMuZ2V0Q29va2llVmFsdWUgPSBnZXRDb29raWVWYWx1ZTtcbmV4cG9ydHMuZ2V0Q3VycmVudE5vcm1hbGlzZWRVcmxQYXRoID0gZ2V0Q3VycmVudE5vcm1hbGlzZWRVcmxQYXRoO1xuZXhwb3J0cy5nZXREZWZhdWx0Q29va2llU2NvcGUgPSBnZXREZWZhdWx0Q29va2llU2NvcGU7XG5leHBvcnRzLmdldExvY2FsU3RvcmFnZSA9IGdldExvY2FsU3RvcmFnZTtcbmV4cG9ydHMuZ2V0Tm9ybWFsaXNlZFVzZXJDb250ZXh0ID0gZ2V0Tm9ybWFsaXNlZFVzZXJDb250ZXh0O1xuZXhwb3J0cy5nZXRPcmlnaW5PZlBhZ2UgPSBnZXRPcmlnaW5PZlBhZ2U7XG5leHBvcnRzLmdldFF1ZXJ5UGFyYW1zID0gZ2V0UXVlcnlQYXJhbXM7XG5leHBvcnRzLmdldFJlZGlyZWN0VG9QYXRoRnJvbVVSTCA9IGdldFJlZGlyZWN0VG9QYXRoRnJvbVVSTDtcbmV4cG9ydHMuZ2V0VVJMSGFzaCA9IGdldFVSTEhhc2g7XG5leHBvcnRzLmlzVGVzdCA9IGlzVGVzdDtcbmV4cG9ydHMubWF0Y2hSZWNpcGVJZFVzaW5nUXVlcnlQYXJhbXMgPSBtYXRjaFJlY2lwZUlkVXNpbmdRdWVyeVBhcmFtcztcbmV4cG9ydHMubWVyZ2VPYmplY3RzID0gbWVyZ2VPYmplY3RzO1xuZXhwb3J0cy5ub3JtYWxpc2VDb29raWVTY29wZU9yVGhyb3dFcnJvciA9IG5vcm1hbGlzZUNvb2tpZVNjb3BlT3JUaHJvd0Vycm9yO1xuZXhwb3J0cy5ub3JtYWxpc2VJbnB1dEFwcEluZm9PclRocm93RXJyb3IgPSBub3JtYWxpc2VJbnB1dEFwcEluZm9PclRocm93RXJyb3I7XG5leHBvcnRzLnBvcEludmFsaWRDbGFpbVJlZGlyZWN0UGF0aEZyb21Db250ZXh0ID0gcG9wSW52YWxpZENsYWltUmVkaXJlY3RQYXRoRnJvbUNvbnRleHQ7XG5leHBvcnRzLnJlZGlyZWN0V2l0aEZ1bGxQYWdlUmVsb2FkID0gcmVkaXJlY3RXaXRoRnVsbFBhZ2VSZWxvYWQ7XG5leHBvcnRzLnJlZGlyZWN0V2l0aEhpc3RvcnkgPSByZWRpcmVjdFdpdGhIaXN0b3J5O1xuZXhwb3J0cy5yZW1vdmVGcm9tTG9jYWxTdG9yYWdlID0gcmVtb3ZlRnJvbUxvY2FsU3RvcmFnZTtcbmV4cG9ydHMuc2F2ZUludmFsaWRDbGFpbVJlZGlyZWN0UGF0aEluQ29udGV4dCA9IHNhdmVJbnZhbGlkQ2xhaW1SZWRpcmVjdFBhdGhJbkNvbnRleHQ7XG5leHBvcnRzLnNldEZyb250ZW5kQ29va2llID0gc2V0RnJvbnRlbmRDb29raWU7XG5leHBvcnRzLnNldExvY2FsU3RvcmFnZSA9IHNldExvY2FsU3RvcmFnZTtcbmV4cG9ydHMudXNlT25Nb3VudEFQSUNhbGwgPSB1c2VPbk1vdW50QVBJQ2FsbDtcbmV4cG9ydHMudmFsaWRhdGVGb3JtID0gdmFsaWRhdGVGb3JtO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXRpbHMuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/supertokens-auth-react/lib/build/utils.js\n"));

/***/ }),

/***/ "./node_modules/supertokens-auth-react/recipe/emailpassword/index.js":
/*!***************************************************************************!*\
  !*** ./node_modules/supertokens-auth-react/recipe/emailpassword/index.js ***!
  \***************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("/* Copyright (c) 2021, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\n\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nexports.__esModule = true;\n__export(__webpack_require__(/*! ../../lib/build/emailpassword */ \"./node_modules/supertokens-auth-react/lib/build/emailpassword.js\"));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3VwZXJ0b2tlbnMtYXV0aC1yZWFjdC9yZWNpcGUvZW1haWxwYXNzd29yZC9pbmRleC5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ2E7QUFDYjtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEIsU0FBUyxtQkFBTyxDQUFDLHVHQUErQiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvc3VwZXJ0b2tlbnMtYXV0aC1yZWFjdC9yZWNpcGUvZW1haWxwYXNzd29yZC9pbmRleC5qcz8xZTRiIl0sInNvdXJjZXNDb250ZW50IjpbIi8qIENvcHlyaWdodCAoYykgMjAyMSwgVlJBSSBMYWJzIGFuZC9vciBpdHMgYWZmaWxpYXRlcy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvZnR3YXJlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZVxuICogXCJMaWNlbnNlXCIpIGFzIHB1Ymxpc2hlZCBieSB0aGUgQXBhY2hlIFNvZnR3YXJlIEZvdW5kYXRpb24uXG4gKlxuICogWW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5XG4gKiBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVFxuICogV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiBTZWUgdGhlXG4gKiBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9uc1xuICogdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gX19leHBvcnQobSkge1xuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcbn1cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi4vLi4vbGliL2J1aWxkL2VtYWlscGFzc3dvcmRcIikpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/supertokens-auth-react/recipe/emailpassword/index.js\n"));

/***/ }),

/***/ "./node_modules/supertokens-auth-react/recipe/session/index.js":
/*!*********************************************************************!*\
  !*** ./node_modules/supertokens-auth-react/recipe/session/index.js ***!
  \*********************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("/* Copyright (c) 2021, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\n\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nexports.__esModule = true;\n__export(__webpack_require__(/*! ../../lib/build/session */ \"./node_modules/supertokens-auth-react/lib/build/session.js\"));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3VwZXJ0b2tlbnMtYXV0aC1yZWFjdC9yZWNpcGUvc2Vzc2lvbi9pbmRleC5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ2E7QUFDYjtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEIsU0FBUyxtQkFBTyxDQUFDLDJGQUF5QiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvc3VwZXJ0b2tlbnMtYXV0aC1yZWFjdC9yZWNpcGUvc2Vzc2lvbi9pbmRleC5qcz9mZjM4Il0sInNvdXJjZXNDb250ZW50IjpbIi8qIENvcHlyaWdodCAoYykgMjAyMSwgVlJBSSBMYWJzIGFuZC9vciBpdHMgYWZmaWxpYXRlcy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvZnR3YXJlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZVxuICogXCJMaWNlbnNlXCIpIGFzIHB1Ymxpc2hlZCBieSB0aGUgQXBhY2hlIFNvZnR3YXJlIEZvdW5kYXRpb24uXG4gKlxuICogWW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5XG4gKiBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVFxuICogV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiBTZWUgdGhlXG4gKiBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9uc1xuICogdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gX19leHBvcnQobSkge1xuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcbn1cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi4vLi4vbGliL2J1aWxkL3Nlc3Npb25cIikpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/supertokens-auth-react/recipe/session/index.js\n"));

/***/ }),

/***/ "./node_modules/supertokens-js-override/lib/build/getProxyObject.js":
/*!**************************************************************************!*\
  !*** ./node_modules/supertokens-js-override/lib/build/getProxyObject.js ***!
  \**************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.getProxyObject = void 0;\nfunction getProxyObject(orig) {\n    var ret = __assign(__assign({}, orig), { _call: function (_, __) {\n            throw new Error(\"This function should only be called through the recipe object\");\n        } });\n    var keys = Object.keys(ret);\n    var _loop_1 = function (k) {\n        if (k !== \"_call\") {\n            ret[k] = function () {\n                var args = [];\n                for (var _i = 0; _i < arguments.length; _i++) {\n                    args[_i] = arguments[_i];\n                }\n                return this._call(k, args);\n            };\n        }\n    };\n    for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n        var k = keys_1[_i];\n        _loop_1(k);\n    }\n    return ret;\n}\nexports.getProxyObject = getProxyObject;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3VwZXJ0b2tlbnMtanMtb3ZlcnJpZGUvbGliL2J1aWxkL2dldFByb3h5T2JqZWN0LmpzLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBLGlEQUFpRCxPQUFPO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsc0JBQXNCO0FBQ3RCO0FBQ0Esa0NBQWtDLFdBQVc7QUFDN0M7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyx1QkFBdUI7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLG9CQUFvQjtBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9zdXBlcnRva2Vucy1qcy1vdmVycmlkZS9saWIvYnVpbGQvZ2V0UHJveHlPYmplY3QuanM/YTYxMSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2Fzc2lnbiA9ICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8IGZ1bmN0aW9uICgpIHtcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24odCkge1xuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpXG4gICAgICAgICAgICAgICAgdFtwXSA9IHNbcF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfTtcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmdldFByb3h5T2JqZWN0ID0gdm9pZCAwO1xuZnVuY3Rpb24gZ2V0UHJveHlPYmplY3Qob3JpZykge1xuICAgIHZhciByZXQgPSBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgb3JpZyksIHsgX2NhbGw6IGZ1bmN0aW9uIChfLCBfXykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGhpcyBmdW5jdGlvbiBzaG91bGQgb25seSBiZSBjYWxsZWQgdGhyb3VnaCB0aGUgcmVjaXBlIG9iamVjdFwiKTtcbiAgICAgICAgfSB9KTtcbiAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHJldCk7XG4gICAgdmFyIF9sb29wXzEgPSBmdW5jdGlvbiAoaykge1xuICAgICAgICBpZiAoayAhPT0gXCJfY2FsbFwiKSB7XG4gICAgICAgICAgICByZXRba10gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9jYWxsKGssIGFyZ3MpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgZm9yICh2YXIgX2kgPSAwLCBrZXlzXzEgPSBrZXlzOyBfaSA8IGtleXNfMS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgdmFyIGsgPSBrZXlzXzFbX2ldO1xuICAgICAgICBfbG9vcF8xKGspO1xuICAgIH1cbiAgICByZXR1cm4gcmV0O1xufVxuZXhwb3J0cy5nZXRQcm94eU9iamVjdCA9IGdldFByb3h5T2JqZWN0O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/supertokens-js-override/lib/build/getProxyObject.js\n"));

/***/ }),

/***/ "./node_modules/supertokens-js-override/lib/build/index.js":
/*!*****************************************************************!*\
  !*** ./node_modules/supertokens-js-override/lib/build/index.js ***!
  \*****************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.OverrideableBuilder = void 0;\nvar getProxyObject_1 = __webpack_require__(/*! ./getProxyObject */ \"./node_modules/supertokens-js-override/lib/build/getProxyObject.js\");\nvar OverrideableBuilder = /** @class */ (function () {\n    function OverrideableBuilder(originalImplementation) {\n        this.layers = [originalImplementation];\n        this.proxies = [];\n    }\n    OverrideableBuilder.prototype.override = function (overrideFunc) {\n        var proxy = (0, getProxyObject_1.getProxyObject)(this.layers[0]);\n        var layer = overrideFunc(proxy, this);\n        for (var _i = 0, _a = Object.keys(this.layers[0]); _i < _a.length; _i++) {\n            var key = _a[_i];\n            if (layer[key] === proxy[key] || key === \"_call\") {\n                delete layer[key];\n            }\n            else if (layer[key] === undefined) {\n                layer[key] = null;\n            }\n        }\n        this.layers.push(layer);\n        this.proxies.push(proxy);\n        return this;\n    };\n    OverrideableBuilder.prototype.build = function () {\n        var _this = this;\n        if (this.result) {\n            return this.result;\n        }\n        this.result = {};\n        for (var _i = 0, _a = this.layers; _i < _a.length; _i++) {\n            var layer = _a[_i];\n            for (var _b = 0, _c = Object.keys(layer); _b < _c.length; _b++) {\n                var key = _c[_b];\n                var override = layer[key];\n                if (override !== undefined) {\n                    if (override === null) {\n                        this.result[key] = undefined;\n                    }\n                    else if (typeof override === \"function\") {\n                        this.result[key] = override.bind(this.result);\n                    }\n                    else {\n                        this.result[key] = override;\n                    }\n                }\n            }\n        }\n        var _loop_1 = function (proxyInd) {\n            var proxy = this_1.proxies[proxyInd];\n            proxy._call = function (fname, args) {\n                for (var i = proxyInd; i >= 0; --i) {\n                    var func = _this.layers[i][fname];\n                    if (func !== undefined && func !== null) {\n                        return func.bind(_this.result).apply(void 0, args);\n                    }\n                }\n            };\n        };\n        var this_1 = this;\n        for (var proxyInd = 0; proxyInd < this.proxies.length; ++proxyInd) {\n            _loop_1(proxyInd);\n        }\n        return this.result;\n    };\n    return OverrideableBuilder;\n}());\nexports.OverrideableBuilder = OverrideableBuilder;\nexports[\"default\"] = OverrideableBuilder;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3VwZXJ0b2tlbnMtanMtb3ZlcnJpZGUvbGliL2J1aWxkL2luZGV4LmpzLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELDJCQUEyQjtBQUMzQix1QkFBdUIsbUJBQU8sQ0FBQyw0RkFBa0I7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJEQUEyRCxnQkFBZ0I7QUFDM0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLGdCQUFnQjtBQUMzRDtBQUNBLHNEQUFzRCxnQkFBZ0I7QUFDdEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLFFBQVE7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQixnQ0FBZ0M7QUFDL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCwyQkFBMkI7QUFDM0Isa0JBQWUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3N1cGVydG9rZW5zLWpzLW92ZXJyaWRlL2xpYi9idWlsZC9pbmRleC5qcz82MTI5Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5PdmVycmlkZWFibGVCdWlsZGVyID0gdm9pZCAwO1xudmFyIGdldFByb3h5T2JqZWN0XzEgPSByZXF1aXJlKFwiLi9nZXRQcm94eU9iamVjdFwiKTtcbnZhciBPdmVycmlkZWFibGVCdWlsZGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE92ZXJyaWRlYWJsZUJ1aWxkZXIob3JpZ2luYWxJbXBsZW1lbnRhdGlvbikge1xuICAgICAgICB0aGlzLmxheWVycyA9IFtvcmlnaW5hbEltcGxlbWVudGF0aW9uXTtcbiAgICAgICAgdGhpcy5wcm94aWVzID0gW107XG4gICAgfVxuICAgIE92ZXJyaWRlYWJsZUJ1aWxkZXIucHJvdG90eXBlLm92ZXJyaWRlID0gZnVuY3Rpb24gKG92ZXJyaWRlRnVuYykge1xuICAgICAgICB2YXIgcHJveHkgPSAoMCwgZ2V0UHJveHlPYmplY3RfMS5nZXRQcm94eU9iamVjdCkodGhpcy5sYXllcnNbMF0pO1xuICAgICAgICB2YXIgbGF5ZXIgPSBvdmVycmlkZUZ1bmMocHJveHksIHRoaXMpO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gT2JqZWN0LmtleXModGhpcy5sYXllcnNbMF0pOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgdmFyIGtleSA9IF9hW19pXTtcbiAgICAgICAgICAgIGlmIChsYXllcltrZXldID09PSBwcm94eVtrZXldIHx8IGtleSA9PT0gXCJfY2FsbFwiKSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIGxheWVyW2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChsYXllcltrZXldID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBsYXllcltrZXldID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxheWVycy5wdXNoKGxheWVyKTtcbiAgICAgICAgdGhpcy5wcm94aWVzLnB1c2gocHJveHkpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIE92ZXJyaWRlYWJsZUJ1aWxkZXIucHJvdG90eXBlLmJ1aWxkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAodGhpcy5yZXN1bHQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlc3VsdCA9IHt9O1xuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gdGhpcy5sYXllcnM7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICB2YXIgbGF5ZXIgPSBfYVtfaV07XG4gICAgICAgICAgICBmb3IgKHZhciBfYiA9IDAsIF9jID0gT2JqZWN0LmtleXMobGF5ZXIpOyBfYiA8IF9jLmxlbmd0aDsgX2IrKykge1xuICAgICAgICAgICAgICAgIHZhciBrZXkgPSBfY1tfYl07XG4gICAgICAgICAgICAgICAgdmFyIG92ZXJyaWRlID0gbGF5ZXJba2V5XTtcbiAgICAgICAgICAgICAgICBpZiAob3ZlcnJpZGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAob3ZlcnJpZGUgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVzdWx0W2tleV0gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIG92ZXJyaWRlID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVzdWx0W2tleV0gPSBvdmVycmlkZS5iaW5kKHRoaXMucmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVzdWx0W2tleV0gPSBvdmVycmlkZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgX2xvb3BfMSA9IGZ1bmN0aW9uIChwcm94eUluZCkge1xuICAgICAgICAgICAgdmFyIHByb3h5ID0gdGhpc18xLnByb3hpZXNbcHJveHlJbmRdO1xuICAgICAgICAgICAgcHJveHkuX2NhbGwgPSBmdW5jdGlvbiAoZm5hbWUsIGFyZ3MpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gcHJveHlJbmQ7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBmdW5jID0gX3RoaXMubGF5ZXJzW2ldW2ZuYW1lXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZ1bmMgIT09IHVuZGVmaW5lZCAmJiBmdW5jICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnVuYy5iaW5kKF90aGlzLnJlc3VsdCkuYXBwbHkodm9pZCAwLCBhcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH07XG4gICAgICAgIHZhciB0aGlzXzEgPSB0aGlzO1xuICAgICAgICBmb3IgKHZhciBwcm94eUluZCA9IDA7IHByb3h5SW5kIDwgdGhpcy5wcm94aWVzLmxlbmd0aDsgKytwcm94eUluZCkge1xuICAgICAgICAgICAgX2xvb3BfMShwcm94eUluZCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMucmVzdWx0O1xuICAgIH07XG4gICAgcmV0dXJuIE92ZXJyaWRlYWJsZUJ1aWxkZXI7XG59KCkpO1xuZXhwb3J0cy5PdmVycmlkZWFibGVCdWlsZGVyID0gT3ZlcnJpZGVhYmxlQnVpbGRlcjtcbmV4cG9ydHMuZGVmYXVsdCA9IE92ZXJyaWRlYWJsZUJ1aWxkZXI7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/supertokens-js-override/lib/build/index.js\n"));

/***/ }),

/***/ "./node_modules/supertokens-web-js/index.js":
/*!**************************************************!*\
  !*** ./node_modules/supertokens-web-js/index.js ***!
  \**************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\n\n\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nexports.__esModule = true;\n__export(__webpack_require__(/*! ./lib/build/ */ \"./node_modules/supertokens-web-js/lib/build/index.js\"));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3VwZXJ0b2tlbnMtd2ViLWpzL2luZGV4LmpzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEIsU0FBUyxtQkFBTyxDQUFDLDBFQUFjIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9zdXBlcnRva2Vucy13ZWItanMvaW5kZXguanM/YTE3YSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBDb3B5cmlnaHQgKGMpIDIwMjIsIFZSQUkgTGFicyBhbmQvb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb2Z0d2FyZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGVcbiAqIFwiTGljZW5zZVwiKSBhcyBwdWJsaXNoZWQgYnkgdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLlxuICpcbiAqIFlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heVxuICogb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVRcbiAqIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gU2VlIHRoZVxuICogTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnNcbiAqIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cblwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gX19leHBvcnQobSkge1xuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcbn1cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9saWIvYnVpbGQvXCIpKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/supertokens-web-js/index.js\n"));

/***/ }),

/***/ "./node_modules/supertokens-web-js/lib/build/constants.js":
/*!****************************************************************!*\
  !*** ./node_modules/supertokens-web-js/lib/build/constants.js ***!
  \****************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.SSR_ERROR = exports.DEFAULT_API_BASE_PATH = void 0;\n/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nexports.DEFAULT_API_BASE_PATH = \"/auth\";\nexports.SSR_ERROR =\n    \"\\nIf you are trying to use this method doing server-side-rendering, please make sure you move this method inside a componentDidMount method or useEffect hook.\";\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3VwZXJ0b2tlbnMtd2ViLWpzL2xpYi9idWlsZC9jb25zdGFudHMuanMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsaUJBQWlCLEdBQUcsNkJBQTZCO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0IsaUJBQWlCO0FBQ2pCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9zdXBlcnRva2Vucy13ZWItanMvbGliL2J1aWxkL2NvbnN0YW50cy5qcz84Yzc0Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5TU1JfRVJST1IgPSBleHBvcnRzLkRFRkFVTFRfQVBJX0JBU0VfUEFUSCA9IHZvaWQgMDtcbi8qIENvcHlyaWdodCAoYykgMjAyMiwgVlJBSSBMYWJzIGFuZC9vciBpdHMgYWZmaWxpYXRlcy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvZnR3YXJlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZVxuICogXCJMaWNlbnNlXCIpIGFzIHB1Ymxpc2hlZCBieSB0aGUgQXBhY2hlIFNvZnR3YXJlIEZvdW5kYXRpb24uXG4gKlxuICogWW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5XG4gKiBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVFxuICogV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiBTZWUgdGhlXG4gKiBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9uc1xuICogdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmV4cG9ydHMuREVGQVVMVF9BUElfQkFTRV9QQVRIID0gXCIvYXV0aFwiO1xuZXhwb3J0cy5TU1JfRVJST1IgPVxuICAgIFwiXFxuSWYgeW91IGFyZSB0cnlpbmcgdG8gdXNlIHRoaXMgbWV0aG9kIGRvaW5nIHNlcnZlci1zaWRlLXJlbmRlcmluZywgcGxlYXNlIG1ha2Ugc3VyZSB5b3UgbW92ZSB0aGlzIG1ldGhvZCBpbnNpZGUgYSBjb21wb25lbnREaWRNb3VudCBtZXRob2Qgb3IgdXNlRWZmZWN0IGhvb2suXCI7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/supertokens-web-js/lib/build/constants.js\n"));

/***/ }),

/***/ "./node_modules/supertokens-web-js/lib/build/cookieHandler/index.js":
/*!**************************************************************************!*\
  !*** ./node_modules/supertokens-web-js/lib/build/cookieHandler/index.js ***!
  \**************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\n/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.CookieHandlerReference = void 0;\nvar cookieHandler_1 = __webpack_require__(/*! supertokens-website/utils/cookieHandler */ \"./node_modules/supertokens-website/utils/cookieHandler/index.js\");\nObject.defineProperty(exports, \"CookieHandlerReference\", ({\n    enumerable: true,\n    get: function () {\n        return cookieHandler_1.CookieHandlerReference;\n    },\n}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3VwZXJ0b2tlbnMtd2ViLWpzL2xpYi9idWlsZC9jb29raWVIYW5kbGVyL2luZGV4LmpzLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCw4QkFBOEI7QUFDOUIsc0JBQXNCLG1CQUFPLENBQUMsZ0hBQXlDO0FBQ3ZFLDBEQUF5RDtBQUN6RDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsQ0FBQyxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9zdXBlcnRva2Vucy13ZWItanMvbGliL2J1aWxkL2Nvb2tpZUhhbmRsZXIvaW5kZXguanM/M2Q4YiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qIENvcHlyaWdodCAoYykgMjAyMiwgVlJBSSBMYWJzIGFuZC9vciBpdHMgYWZmaWxpYXRlcy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvZnR3YXJlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZVxuICogXCJMaWNlbnNlXCIpIGFzIHB1Ymxpc2hlZCBieSB0aGUgQXBhY2hlIFNvZnR3YXJlIEZvdW5kYXRpb24uXG4gKlxuICogWW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5XG4gKiBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVFxuICogV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiBTZWUgdGhlXG4gKiBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9uc1xuICogdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuQ29va2llSGFuZGxlclJlZmVyZW5jZSA9IHZvaWQgMDtcbnZhciBjb29raWVIYW5kbGVyXzEgPSByZXF1aXJlKFwic3VwZXJ0b2tlbnMtd2Vic2l0ZS91dGlscy9jb29raWVIYW5kbGVyXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiQ29va2llSGFuZGxlclJlZmVyZW5jZVwiLCB7XG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGNvb2tpZUhhbmRsZXJfMS5Db29raWVIYW5kbGVyUmVmZXJlbmNlO1xuICAgIH0sXG59KTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/supertokens-web-js/lib/build/cookieHandler/index.js\n"));

/***/ }),

/***/ "./node_modules/supertokens-web-js/lib/build/error.js":
/*!************************************************************!*\
  !*** ./node_modules/supertokens-web-js/lib/build/error.js ***!
  \************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\n/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n/**\n * This error usually indicates that the API exposed by the backend SDKs responded\n * with `{status: \"GENERAL_ERROR\"}`. This should be used to show errors to the user\n * in your frontend application.\n */\nvar error_1 = __webpack_require__(/*! supertokens-website/utils/error */ \"./node_modules/supertokens-website/utils/error/index.js\");\nexports[\"default\"] = error_1.STGeneralError;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3VwZXJ0b2tlbnMtd2ViLWpzL2xpYi9idWlsZC9lcnJvci5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Q7QUFDQTtBQUNBLFVBQVUsd0JBQXdCO0FBQ2xDO0FBQ0E7QUFDQSxjQUFjLG1CQUFPLENBQUMsZ0dBQWlDO0FBQ3ZELGtCQUFlIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9zdXBlcnRva2Vucy13ZWItanMvbGliL2J1aWxkL2Vycm9yLmpzPzY3NTIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKiBDb3B5cmlnaHQgKGMpIDIwMjIsIFZSQUkgTGFicyBhbmQvb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb2Z0d2FyZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGVcbiAqIFwiTGljZW5zZVwiKSBhcyBwdWJsaXNoZWQgYnkgdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLlxuICpcbiAqIFlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heVxuICogb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVRcbiAqIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gU2VlIHRoZVxuICogTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnNcbiAqIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKipcbiAqIFRoaXMgZXJyb3IgdXN1YWxseSBpbmRpY2F0ZXMgdGhhdCB0aGUgQVBJIGV4cG9zZWQgYnkgdGhlIGJhY2tlbmQgU0RLcyByZXNwb25kZWRcbiAqIHdpdGggYHtzdGF0dXM6IFwiR0VORVJBTF9FUlJPUlwifWAuIFRoaXMgc2hvdWxkIGJlIHVzZWQgdG8gc2hvdyBlcnJvcnMgdG8gdGhlIHVzZXJcbiAqIGluIHlvdXIgZnJvbnRlbmQgYXBwbGljYXRpb24uXG4gKi9cbnZhciBlcnJvcl8xID0gcmVxdWlyZShcInN1cGVydG9rZW5zLXdlYnNpdGUvdXRpbHMvZXJyb3JcIik7XG5leHBvcnRzLmRlZmF1bHQgPSBlcnJvcl8xLlNUR2VuZXJhbEVycm9yO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/supertokens-web-js/lib/build/error.js\n"));

/***/ }),

/***/ "./node_modules/supertokens-web-js/lib/build/index.js":
/*!************************************************************!*\
  !*** ./node_modules/supertokens-web-js/lib/build/index.js ***!
  \************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.init = void 0;\n/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nvar supertokens_1 = __webpack_require__(/*! ./supertokens */ \"./node_modules/supertokens-web-js/lib/build/supertokens.js\");\nvar SuperTokensAPIWrapper = /** @class */ (function () {\n    function SuperTokensAPIWrapper() {}\n    SuperTokensAPIWrapper.init = function (config) {\n        supertokens_1.default.init(config);\n    };\n    return SuperTokensAPIWrapper;\n})();\nexports[\"default\"] = SuperTokensAPIWrapper;\nexports.init = SuperTokensAPIWrapper.init;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3VwZXJ0b2tlbnMtd2ViLWpzL2xpYi9idWlsZC9pbmRleC5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixtQkFBTyxDQUFDLGlGQUFlO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCxrQkFBZTtBQUNmLFlBQVkiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3N1cGVydG9rZW5zLXdlYi1qcy9saWIvYnVpbGQvaW5kZXguanM/YmE4NyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuaW5pdCA9IHZvaWQgMDtcbi8qIENvcHlyaWdodCAoYykgMjAyMiwgVlJBSSBMYWJzIGFuZC9vciBpdHMgYWZmaWxpYXRlcy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvZnR3YXJlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZVxuICogXCJMaWNlbnNlXCIpIGFzIHB1Ymxpc2hlZCBieSB0aGUgQXBhY2hlIFNvZnR3YXJlIEZvdW5kYXRpb24uXG4gKlxuICogWW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5XG4gKiBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVFxuICogV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiBTZWUgdGhlXG4gKiBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9uc1xuICogdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbnZhciBzdXBlcnRva2Vuc18xID0gcmVxdWlyZShcIi4vc3VwZXJ0b2tlbnNcIik7XG52YXIgU3VwZXJUb2tlbnNBUElXcmFwcGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFN1cGVyVG9rZW5zQVBJV3JhcHBlcigpIHt9XG4gICAgU3VwZXJUb2tlbnNBUElXcmFwcGVyLmluaXQgPSBmdW5jdGlvbiAoY29uZmlnKSB7XG4gICAgICAgIHN1cGVydG9rZW5zXzEuZGVmYXVsdC5pbml0KGNvbmZpZyk7XG4gICAgfTtcbiAgICByZXR1cm4gU3VwZXJUb2tlbnNBUElXcmFwcGVyO1xufSkoKTtcbmV4cG9ydHMuZGVmYXVsdCA9IFN1cGVyVG9rZW5zQVBJV3JhcHBlcjtcbmV4cG9ydHMuaW5pdCA9IFN1cGVyVG9rZW5zQVBJV3JhcHBlci5pbml0O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/supertokens-web-js/lib/build/index.js\n"));

/***/ }),

/***/ "./node_modules/supertokens-web-js/lib/build/normalisedURLDomain.js":
/*!**************************************************************************!*\
  !*** ./node_modules/supertokens-web-js/lib/build/normalisedURLDomain.js ***!
  \**************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\n/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nvar NormalisedURLDomain = /** @class */ (function () {\n    function NormalisedURLDomain(url) {\n        var _this = this;\n        this.getAsStringDangerous = function () {\n            return _this.value;\n        };\n        this.value = normaliseURLDomainOrThrowError(url);\n    }\n    return NormalisedURLDomain;\n})();\nexports[\"default\"] = NormalisedURLDomain;\nfunction normaliseURLDomainOrThrowError(input, ignoreProtocol) {\n    if (ignoreProtocol === void 0) {\n        ignoreProtocol = false;\n    }\n    function isAnIpAddress(ipaddress) {\n        return /^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(\n            ipaddress\n        );\n    }\n    input = input.trim();\n    try {\n        if (!input.startsWith(\"http://\") && !input.startsWith(\"https://\")) {\n            throw new Error(\"Error converting to proper URL\");\n        }\n        var urlObj = new URL(input);\n        if (ignoreProtocol) {\n            if (urlObj.hostname.startsWith(\"localhost\") || isAnIpAddress(urlObj.hostname)) {\n                input = \"http://\" + urlObj.host;\n            } else {\n                input = \"https://\" + urlObj.host;\n            }\n        } else {\n            input = urlObj.protocol + \"//\" + urlObj.host;\n        }\n        return input;\n        // eslint-disable-next-line no-empty\n    } catch (err) {}\n    if (input.startsWith(\"/\")) {\n        throw new Error(\"Please provide a valid domain name\");\n    }\n    // not a valid URL\n    if (input.indexOf(\".\") === 0) {\n        input = input.substr(1);\n    }\n    // If the input contains a . it means they have given a domain name.\n    // So we try assuming that they have given a domain name\n    if (\n        (input.indexOf(\".\") !== -1 || input.startsWith(\"localhost\")) &&\n        !input.startsWith(\"http://\") &&\n        !input.startsWith(\"https://\")\n    ) {\n        input = \"https://\" + input;\n        // at this point, it should be a valid URL. So we test that before doing a recursive call\n        try {\n            new URL(input);\n            return normaliseURLDomainOrThrowError(input, true);\n            // eslint-disable-next-line no-empty\n        } catch (err) {}\n    }\n    throw new Error(\"Please provide a valid domain name\");\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3VwZXJ0b2tlbnMtd2ViLWpzL2xpYi9idWlsZC9ub3JtYWxpc2VkVVJMRG9tYWluLmpzLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Qsa0JBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvc3VwZXJ0b2tlbnMtd2ViLWpzL2xpYi9idWlsZC9ub3JtYWxpc2VkVVJMRG9tYWluLmpzP2I1ZGYiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKiBDb3B5cmlnaHQgKGMpIDIwMjIsIFZSQUkgTGFicyBhbmQvb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb2Z0d2FyZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGVcbiAqIFwiTGljZW5zZVwiKSBhcyBwdWJsaXNoZWQgYnkgdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLlxuICpcbiAqIFlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heVxuICogb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVRcbiAqIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gU2VlIHRoZVxuICogTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnNcbiAqIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgTm9ybWFsaXNlZFVSTERvbWFpbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBOb3JtYWxpc2VkVVJMRG9tYWluKHVybCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLmdldEFzU3RyaW5nRGFuZ2Vyb3VzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzLnZhbHVlO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnZhbHVlID0gbm9ybWFsaXNlVVJMRG9tYWluT3JUaHJvd0Vycm9yKHVybCk7XG4gICAgfVxuICAgIHJldHVybiBOb3JtYWxpc2VkVVJMRG9tYWluO1xufSkoKTtcbmV4cG9ydHMuZGVmYXVsdCA9IE5vcm1hbGlzZWRVUkxEb21haW47XG5mdW5jdGlvbiBub3JtYWxpc2VVUkxEb21haW5PclRocm93RXJyb3IoaW5wdXQsIGlnbm9yZVByb3RvY29sKSB7XG4gICAgaWYgKGlnbm9yZVByb3RvY29sID09PSB2b2lkIDApIHtcbiAgICAgICAgaWdub3JlUHJvdG9jb2wgPSBmYWxzZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaXNBbklwQWRkcmVzcyhpcGFkZHJlc3MpIHtcbiAgICAgICAgcmV0dXJuIC9eKDI1WzAtNV18MlswLTRdWzAtOV18WzAxXT9bMC05XVswLTldPylcXC4oMjVbMC01XXwyWzAtNF1bMC05XXxbMDFdP1swLTldWzAtOV0/KVxcLigyNVswLTVdfDJbMC00XVswLTldfFswMV0/WzAtOV1bMC05XT8pXFwuKDI1WzAtNV18MlswLTRdWzAtOV18WzAxXT9bMC05XVswLTldPykkLy50ZXN0KFxuICAgICAgICAgICAgaXBhZGRyZXNzXG4gICAgICAgICk7XG4gICAgfVxuICAgIGlucHV0ID0gaW5wdXQudHJpbSgpO1xuICAgIHRyeSB7XG4gICAgICAgIGlmICghaW5wdXQuc3RhcnRzV2l0aChcImh0dHA6Ly9cIikgJiYgIWlucHV0LnN0YXJ0c1dpdGgoXCJodHRwczovL1wiKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRXJyb3IgY29udmVydGluZyB0byBwcm9wZXIgVVJMXCIpO1xuICAgICAgICB9XG4gICAgICAgIHZhciB1cmxPYmogPSBuZXcgVVJMKGlucHV0KTtcbiAgICAgICAgaWYgKGlnbm9yZVByb3RvY29sKSB7XG4gICAgICAgICAgICBpZiAodXJsT2JqLmhvc3RuYW1lLnN0YXJ0c1dpdGgoXCJsb2NhbGhvc3RcIikgfHwgaXNBbklwQWRkcmVzcyh1cmxPYmouaG9zdG5hbWUpKSB7XG4gICAgICAgICAgICAgICAgaW5wdXQgPSBcImh0dHA6Ly9cIiArIHVybE9iai5ob3N0O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpbnB1dCA9IFwiaHR0cHM6Ly9cIiArIHVybE9iai5ob3N0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaW5wdXQgPSB1cmxPYmoucHJvdG9jb2wgKyBcIi8vXCIgKyB1cmxPYmouaG9zdDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaW5wdXQ7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1lbXB0eVxuICAgIH0gY2F0Y2ggKGVycikge31cbiAgICBpZiAoaW5wdXQuc3RhcnRzV2l0aChcIi9cIikpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUGxlYXNlIHByb3ZpZGUgYSB2YWxpZCBkb21haW4gbmFtZVwiKTtcbiAgICB9XG4gICAgLy8gbm90IGEgdmFsaWQgVVJMXG4gICAgaWYgKGlucHV0LmluZGV4T2YoXCIuXCIpID09PSAwKSB7XG4gICAgICAgIGlucHV0ID0gaW5wdXQuc3Vic3RyKDEpO1xuICAgIH1cbiAgICAvLyBJZiB0aGUgaW5wdXQgY29udGFpbnMgYSAuIGl0IG1lYW5zIHRoZXkgaGF2ZSBnaXZlbiBhIGRvbWFpbiBuYW1lLlxuICAgIC8vIFNvIHdlIHRyeSBhc3N1bWluZyB0aGF0IHRoZXkgaGF2ZSBnaXZlbiBhIGRvbWFpbiBuYW1lXG4gICAgaWYgKFxuICAgICAgICAoaW5wdXQuaW5kZXhPZihcIi5cIikgIT09IC0xIHx8IGlucHV0LnN0YXJ0c1dpdGgoXCJsb2NhbGhvc3RcIikpICYmXG4gICAgICAgICFpbnB1dC5zdGFydHNXaXRoKFwiaHR0cDovL1wiKSAmJlxuICAgICAgICAhaW5wdXQuc3RhcnRzV2l0aChcImh0dHBzOi8vXCIpXG4gICAgKSB7XG4gICAgICAgIGlucHV0ID0gXCJodHRwczovL1wiICsgaW5wdXQ7XG4gICAgICAgIC8vIGF0IHRoaXMgcG9pbnQsIGl0IHNob3VsZCBiZSBhIHZhbGlkIFVSTC4gU28gd2UgdGVzdCB0aGF0IGJlZm9yZSBkb2luZyBhIHJlY3Vyc2l2ZSBjYWxsXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBuZXcgVVJMKGlucHV0KTtcbiAgICAgICAgICAgIHJldHVybiBub3JtYWxpc2VVUkxEb21haW5PclRocm93RXJyb3IoaW5wdXQsIHRydWUpO1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWVtcHR5XG4gICAgICAgIH0gY2F0Y2ggKGVycikge31cbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiUGxlYXNlIHByb3ZpZGUgYSB2YWxpZCBkb21haW4gbmFtZVwiKTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/supertokens-web-js/lib/build/normalisedURLDomain.js\n"));

/***/ }),

/***/ "./node_modules/supertokens-web-js/lib/build/normalisedURLPath.js":
/*!************************************************************************!*\
  !*** ./node_modules/supertokens-web-js/lib/build/normalisedURLPath.js ***!
  \************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\n/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nvar NormalisedURLPath = /** @class */ (function () {\n    function NormalisedURLPath(url) {\n        var _this = this;\n        this.startsWith = function (other) {\n            return _this.value.startsWith(other.value);\n        };\n        this.appendPath = function (other) {\n            return new NormalisedURLPath(_this.value + other.value);\n        };\n        this.getAsStringDangerous = function () {\n            // Otherwise, return value.\n            return _this.value;\n        };\n        this.value = normaliseURLPathOrThrowError(url);\n    }\n    return NormalisedURLPath;\n})();\nexports[\"default\"] = NormalisedURLPath;\nfunction normaliseURLPathOrThrowError(input) {\n    input = input.trim();\n    try {\n        if (!input.startsWith(\"http://\") && !input.startsWith(\"https://\")) {\n            throw new Error(\"Error converting to proper URL\");\n        }\n        var urlObj = new URL(input);\n        input = urlObj.pathname;\n        if (input.charAt(input.length - 1) === \"/\") {\n            return input.substr(0, input.length - 1);\n        }\n        return input;\n        // eslint-disable-next-line no-empty\n    } catch (err) {}\n    // not a valid URL\n    // If the input contains a . it means they have given a domain name.\n    // So we try assuming that they have given a domain name + path\n    if (\n        (domainGiven(input) || input.startsWith(\"localhost\")) &&\n        !input.startsWith(\"http://\") &&\n        !input.startsWith(\"https://\")\n    ) {\n        input = \"http://\" + input;\n        return normaliseURLPathOrThrowError(input);\n    }\n    if (input.charAt(0) !== \"/\") {\n        input = \"/\" + input;\n    }\n    // at this point, we should be able to convert it into a fake URL and recursively call this function.\n    try {\n        // test that we can convert this to prevent an infinite loop\n        new URL(\"http://example.com\" + input);\n        return normaliseURLPathOrThrowError(\"http://example.com\" + input);\n    } catch (err) {\n        throw new Error(\"Please provide a valid URL path\");\n    }\n}\nfunction domainGiven(input) {\n    // If no dot, return false.\n    if (input.indexOf(\".\") === -1 || input.startsWith(\"/\")) {\n        return false;\n    }\n    try {\n        var url = new URL(input);\n        return url.hostname.indexOf(\".\") !== -1;\n    } catch (e) {}\n    try {\n        var url = new URL(\"http://\" + input);\n        return url.hostname.indexOf(\".\") !== -1;\n    } catch (e) {}\n    return false;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3VwZXJ0b2tlbnMtd2ViLWpzL2xpYi9idWlsZC9ub3JtYWxpc2VkVVJMUGF0aC5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Qsa0JBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9zdXBlcnRva2Vucy13ZWItanMvbGliL2J1aWxkL25vcm1hbGlzZWRVUkxQYXRoLmpzPzNiY2IiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKiBDb3B5cmlnaHQgKGMpIDIwMjIsIFZSQUkgTGFicyBhbmQvb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb2Z0d2FyZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGVcbiAqIFwiTGljZW5zZVwiKSBhcyBwdWJsaXNoZWQgYnkgdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLlxuICpcbiAqIFlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heVxuICogb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVRcbiAqIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gU2VlIHRoZVxuICogTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnNcbiAqIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgTm9ybWFsaXNlZFVSTFBhdGggPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTm9ybWFsaXNlZFVSTFBhdGgodXJsKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuc3RhcnRzV2l0aCA9IGZ1bmN0aW9uIChvdGhlcikge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzLnZhbHVlLnN0YXJ0c1dpdGgob3RoZXIudmFsdWUpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmFwcGVuZFBhdGggPSBmdW5jdGlvbiAob3RoZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgTm9ybWFsaXNlZFVSTFBhdGgoX3RoaXMudmFsdWUgKyBvdGhlci52YWx1ZSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZ2V0QXNTdHJpbmdEYW5nZXJvdXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAvLyBPdGhlcndpc2UsIHJldHVybiB2YWx1ZS5cbiAgICAgICAgICAgIHJldHVybiBfdGhpcy52YWx1ZTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy52YWx1ZSA9IG5vcm1hbGlzZVVSTFBhdGhPclRocm93RXJyb3IodXJsKTtcbiAgICB9XG4gICAgcmV0dXJuIE5vcm1hbGlzZWRVUkxQYXRoO1xufSkoKTtcbmV4cG9ydHMuZGVmYXVsdCA9IE5vcm1hbGlzZWRVUkxQYXRoO1xuZnVuY3Rpb24gbm9ybWFsaXNlVVJMUGF0aE9yVGhyb3dFcnJvcihpbnB1dCkge1xuICAgIGlucHV0ID0gaW5wdXQudHJpbSgpO1xuICAgIHRyeSB7XG4gICAgICAgIGlmICghaW5wdXQuc3RhcnRzV2l0aChcImh0dHA6Ly9cIikgJiYgIWlucHV0LnN0YXJ0c1dpdGgoXCJodHRwczovL1wiKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRXJyb3IgY29udmVydGluZyB0byBwcm9wZXIgVVJMXCIpO1xuICAgICAgICB9XG4gICAgICAgIHZhciB1cmxPYmogPSBuZXcgVVJMKGlucHV0KTtcbiAgICAgICAgaW5wdXQgPSB1cmxPYmoucGF0aG5hbWU7XG4gICAgICAgIGlmIChpbnB1dC5jaGFyQXQoaW5wdXQubGVuZ3RoIC0gMSkgPT09IFwiL1wiKSB7XG4gICAgICAgICAgICByZXR1cm4gaW5wdXQuc3Vic3RyKDAsIGlucHV0Lmxlbmd0aCAtIDEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpbnB1dDtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWVtcHR5XG4gICAgfSBjYXRjaCAoZXJyKSB7fVxuICAgIC8vIG5vdCBhIHZhbGlkIFVSTFxuICAgIC8vIElmIHRoZSBpbnB1dCBjb250YWlucyBhIC4gaXQgbWVhbnMgdGhleSBoYXZlIGdpdmVuIGEgZG9tYWluIG5hbWUuXG4gICAgLy8gU28gd2UgdHJ5IGFzc3VtaW5nIHRoYXQgdGhleSBoYXZlIGdpdmVuIGEgZG9tYWluIG5hbWUgKyBwYXRoXG4gICAgaWYgKFxuICAgICAgICAoZG9tYWluR2l2ZW4oaW5wdXQpIHx8IGlucHV0LnN0YXJ0c1dpdGgoXCJsb2NhbGhvc3RcIikpICYmXG4gICAgICAgICFpbnB1dC5zdGFydHNXaXRoKFwiaHR0cDovL1wiKSAmJlxuICAgICAgICAhaW5wdXQuc3RhcnRzV2l0aChcImh0dHBzOi8vXCIpXG4gICAgKSB7XG4gICAgICAgIGlucHV0ID0gXCJodHRwOi8vXCIgKyBpbnB1dDtcbiAgICAgICAgcmV0dXJuIG5vcm1hbGlzZVVSTFBhdGhPclRocm93RXJyb3IoaW5wdXQpO1xuICAgIH1cbiAgICBpZiAoaW5wdXQuY2hhckF0KDApICE9PSBcIi9cIikge1xuICAgICAgICBpbnB1dCA9IFwiL1wiICsgaW5wdXQ7XG4gICAgfVxuICAgIC8vIGF0IHRoaXMgcG9pbnQsIHdlIHNob3VsZCBiZSBhYmxlIHRvIGNvbnZlcnQgaXQgaW50byBhIGZha2UgVVJMIGFuZCByZWN1cnNpdmVseSBjYWxsIHRoaXMgZnVuY3Rpb24uXG4gICAgdHJ5IHtcbiAgICAgICAgLy8gdGVzdCB0aGF0IHdlIGNhbiBjb252ZXJ0IHRoaXMgdG8gcHJldmVudCBhbiBpbmZpbml0ZSBsb29wXG4gICAgICAgIG5ldyBVUkwoXCJodHRwOi8vZXhhbXBsZS5jb21cIiArIGlucHV0KTtcbiAgICAgICAgcmV0dXJuIG5vcm1hbGlzZVVSTFBhdGhPclRocm93RXJyb3IoXCJodHRwOi8vZXhhbXBsZS5jb21cIiArIGlucHV0KTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUGxlYXNlIHByb3ZpZGUgYSB2YWxpZCBVUkwgcGF0aFwiKTtcbiAgICB9XG59XG5mdW5jdGlvbiBkb21haW5HaXZlbihpbnB1dCkge1xuICAgIC8vIElmIG5vIGRvdCwgcmV0dXJuIGZhbHNlLlxuICAgIGlmIChpbnB1dC5pbmRleE9mKFwiLlwiKSA9PT0gLTEgfHwgaW5wdXQuc3RhcnRzV2l0aChcIi9cIikpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICB2YXIgdXJsID0gbmV3IFVSTChpbnB1dCk7XG4gICAgICAgIHJldHVybiB1cmwuaG9zdG5hbWUuaW5kZXhPZihcIi5cIikgIT09IC0xO1xuICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgdHJ5IHtcbiAgICAgICAgdmFyIHVybCA9IG5ldyBVUkwoXCJodHRwOi8vXCIgKyBpbnB1dCk7XG4gICAgICAgIHJldHVybiB1cmwuaG9zdG5hbWUuaW5kZXhPZihcIi5cIikgIT09IC0xO1xuICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/supertokens-web-js/lib/build/normalisedURLPath.js\n"));

/***/ }),

/***/ "./node_modules/supertokens-web-js/lib/build/postSuperTokensInitCallbacks.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/supertokens-web-js/lib/build/postSuperTokensInitCallbacks.js ***!
  \***********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\n/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.PostSuperTokensInitCallbacks = void 0;\nvar PostSuperTokensInitCallbacks = /** @class */ (function () {\n    function PostSuperTokensInitCallbacks() {}\n    PostSuperTokensInitCallbacks.addPostInitCallback = function (cb) {\n        PostSuperTokensInitCallbacks.postInitCallbacks.push(cb);\n    };\n    PostSuperTokensInitCallbacks.runPostInitCallbacks = function () {\n        for (var _i = 0, _a = PostSuperTokensInitCallbacks.postInitCallbacks; _i < _a.length; _i++) {\n            var cb = _a[_i];\n            cb();\n        }\n    };\n    PostSuperTokensInitCallbacks.postInitCallbacks = [];\n    return PostSuperTokensInitCallbacks;\n})();\nexports.PostSuperTokensInitCallbacks = PostSuperTokensInitCallbacks;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3VwZXJ0b2tlbnMtd2ViLWpzL2xpYi9idWlsZC9wb3N0U3VwZXJUb2tlbnNJbml0Q2FsbGJhY2tzLmpzLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxvQ0FBb0M7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEVBQThFLGdCQUFnQjtBQUM5RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Qsb0NBQW9DIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9zdXBlcnRva2Vucy13ZWItanMvbGliL2J1aWxkL3Bvc3RTdXBlclRva2Vuc0luaXRDYWxsYmFja3MuanM/Njk2NCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qIENvcHlyaWdodCAoYykgMjAyMiwgVlJBSSBMYWJzIGFuZC9vciBpdHMgYWZmaWxpYXRlcy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvZnR3YXJlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZVxuICogXCJMaWNlbnNlXCIpIGFzIHB1Ymxpc2hlZCBieSB0aGUgQXBhY2hlIFNvZnR3YXJlIEZvdW5kYXRpb24uXG4gKlxuICogWW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5XG4gKiBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVFxuICogV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiBTZWUgdGhlXG4gKiBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9uc1xuICogdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuUG9zdFN1cGVyVG9rZW5zSW5pdENhbGxiYWNrcyA9IHZvaWQgMDtcbnZhciBQb3N0U3VwZXJUb2tlbnNJbml0Q2FsbGJhY2tzID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFBvc3RTdXBlclRva2Vuc0luaXRDYWxsYmFja3MoKSB7fVxuICAgIFBvc3RTdXBlclRva2Vuc0luaXRDYWxsYmFja3MuYWRkUG9zdEluaXRDYWxsYmFjayA9IGZ1bmN0aW9uIChjYikge1xuICAgICAgICBQb3N0U3VwZXJUb2tlbnNJbml0Q2FsbGJhY2tzLnBvc3RJbml0Q2FsbGJhY2tzLnB1c2goY2IpO1xuICAgIH07XG4gICAgUG9zdFN1cGVyVG9rZW5zSW5pdENhbGxiYWNrcy5ydW5Qb3N0SW5pdENhbGxiYWNrcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IFBvc3RTdXBlclRva2Vuc0luaXRDYWxsYmFja3MucG9zdEluaXRDYWxsYmFja3M7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICB2YXIgY2IgPSBfYVtfaV07XG4gICAgICAgICAgICBjYigpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBQb3N0U3VwZXJUb2tlbnNJbml0Q2FsbGJhY2tzLnBvc3RJbml0Q2FsbGJhY2tzID0gW107XG4gICAgcmV0dXJuIFBvc3RTdXBlclRva2Vuc0luaXRDYWxsYmFja3M7XG59KSgpO1xuZXhwb3J0cy5Qb3N0U3VwZXJUb2tlbnNJbml0Q2FsbGJhY2tzID0gUG9zdFN1cGVyVG9rZW5zSW5pdENhbGxiYWNrcztcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/supertokens-web-js/lib/build/postSuperTokensInitCallbacks.js\n"));

/***/ }),

/***/ "./node_modules/supertokens-web-js/lib/build/querier.js":
/*!**************************************************************!*\
  !*** ./node_modules/supertokens-web-js/lib/build/querier.js ***!
  \**************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nvar __assign =\n    (this && this.__assign) ||\n    function () {\n        __assign =\n            Object.assign ||\n            function (t) {\n                for (var s, i = 1, n = arguments.length; i < n; i++) {\n                    s = arguments[i];\n                    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n                }\n                return t;\n            };\n        return __assign.apply(this, arguments);\n    };\nvar __awaiter =\n    (this && this.__awaiter) ||\n    function (thisArg, _arguments, P, generator) {\n        function adopt(value) {\n            return value instanceof P\n                ? value\n                : new P(function (resolve) {\n                      resolve(value);\n                  });\n        }\n        return new (P || (P = Promise))(function (resolve, reject) {\n            function fulfilled(value) {\n                try {\n                    step(generator.next(value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function rejected(value) {\n                try {\n                    step(generator[\"throw\"](value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function step(result) {\n                result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n            }\n            step((generator = generator.apply(thisArg, _arguments || [])).next());\n        });\n    };\nvar __generator =\n    (this && this.__generator) ||\n    function (thisArg, body) {\n        var _ = {\n                label: 0,\n                sent: function () {\n                    if (t[0] & 1) throw t[1];\n                    return t[1];\n                },\n                trys: [],\n                ops: [],\n            },\n            f,\n            y,\n            t,\n            g;\n        return (\n            (g = { next: verb(0), throw: verb(1), return: verb(2) }),\n            typeof Symbol === \"function\" &&\n                (g[Symbol.iterator] = function () {\n                    return this;\n                }),\n            g\n        );\n        function verb(n) {\n            return function (v) {\n                return step([n, v]);\n            };\n        }\n        function step(op) {\n            if (f) throw new TypeError(\"Generator is already executing.\");\n            while (_)\n                try {\n                    if (\n                        ((f = 1),\n                        y &&\n                            (t =\n                                op[0] & 2\n                                    ? y[\"return\"]\n                                    : op[0]\n                                    ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0)\n                                    : y.next) &&\n                            !(t = t.call(y, op[1])).done)\n                    )\n                        return t;\n                    if (((y = 0), t)) op = [op[0] & 2, t.value];\n                    switch (op[0]) {\n                        case 0:\n                        case 1:\n                            t = op;\n                            break;\n                        case 4:\n                            _.label++;\n                            return { value: op[1], done: false };\n                        case 5:\n                            _.label++;\n                            y = op[1];\n                            op = [0];\n                            continue;\n                        case 7:\n                            op = _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                        default:\n                            if (\n                                !((t = _.trys), (t = t.length > 0 && t[t.length - 1])) &&\n                                (op[0] === 6 || op[0] === 2)\n                            ) {\n                                _ = 0;\n                                continue;\n                            }\n                            if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) {\n                                _.label = op[1];\n                                break;\n                            }\n                            if (op[0] === 6 && _.label < t[1]) {\n                                _.label = t[1];\n                                t = op;\n                                break;\n                            }\n                            if (t && _.label < t[2]) {\n                                _.label = t[2];\n                                _.ops.push(op);\n                                break;\n                            }\n                            if (t[2]) _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                    }\n                    op = body.call(thisArg, _);\n                } catch (e) {\n                    op = [6, e];\n                    y = 0;\n                } finally {\n                    f = t = 0;\n                }\n            if (op[0] & 5) throw op[1];\n            return { value: op[0] ? op[1] : void 0, done: true };\n        }\n    };\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\n/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nvar normalisedURLPath_1 = __webpack_require__(/*! ./normalisedURLPath */ \"./node_modules/supertokens-web-js/lib/build/normalisedURLPath.js\");\nvar version_1 = __webpack_require__(/*! ./version */ \"./node_modules/supertokens-web-js/lib/build/version.js\");\nvar error_1 = __webpack_require__(/*! ./error */ \"./node_modules/supertokens-web-js/lib/build/error.js\");\n/**\n * When network calls are made the Querier calls .clone() on the response before:\n * 1. Calling the post API hook\n * 2. Calling .json() when trying to read the body\n *\n * This is because the SDK needs to read the json body but we also want to allow users to read\n * the json body themselves (either in the post api hook or from the result of recipe functions)\n * for custom response handling. Since the body can only be read once we use .clone() to allow\n * for multiple reads.\n */\nvar Querier = /** @class */ (function () {\n    function Querier(recipeId, appInfo) {\n        var _this = this;\n        this.get = function (path, config, queryParams, preAPIHook, postAPIHook) {\n            return __awaiter(_this, void 0, void 0, function () {\n                var result, jsonBody;\n                return __generator(this, function (_b) {\n                    switch (_b.label) {\n                        case 0:\n                            return [\n                                4 /*yield*/,\n                                this.fetch(\n                                    this.getFullUrl(path, queryParams),\n                                    __assign({ method: \"GET\" }, config),\n                                    preAPIHook,\n                                    postAPIHook\n                                ),\n                            ];\n                        case 1:\n                            result = _b.sent();\n                            return [4 /*yield*/, this.getResponseJsonOrThrowGeneralError(result)];\n                        case 2:\n                            jsonBody = _b.sent();\n                            return [\n                                2 /*return*/,\n                                {\n                                    jsonBody: jsonBody,\n                                    fetchResponse: result,\n                                },\n                            ];\n                    }\n                });\n            });\n        };\n        this.post = function (path, config, preAPIHook, postAPIHook) {\n            return __awaiter(_this, void 0, void 0, function () {\n                var result, jsonBody;\n                return __generator(this, function (_b) {\n                    switch (_b.label) {\n                        case 0:\n                            if (config.body === undefined) {\n                                throw new Error(\"Post request must have a body\");\n                            }\n                            return [\n                                4 /*yield*/,\n                                this.fetch(\n                                    this.getFullUrl(path),\n                                    __assign({ method: \"POST\" }, config),\n                                    preAPIHook,\n                                    postAPIHook\n                                ),\n                            ];\n                        case 1:\n                            result = _b.sent();\n                            return [4 /*yield*/, this.getResponseJsonOrThrowGeneralError(result)];\n                        case 2:\n                            jsonBody = _b.sent();\n                            return [\n                                2 /*return*/,\n                                {\n                                    jsonBody: jsonBody,\n                                    fetchResponse: result,\n                                },\n                            ];\n                    }\n                });\n            });\n        };\n        this.delete = function (path, config, preAPIHook, postAPIHook) {\n            return __awaiter(_this, void 0, void 0, function () {\n                var result, jsonBody;\n                return __generator(this, function (_b) {\n                    switch (_b.label) {\n                        case 0:\n                            return [\n                                4 /*yield*/,\n                                this.fetch(\n                                    this.getFullUrl(path),\n                                    __assign({ method: \"DELETE\" }, config),\n                                    preAPIHook,\n                                    postAPIHook\n                                ),\n                            ];\n                        case 1:\n                            result = _b.sent();\n                            return [4 /*yield*/, this.getResponseJsonOrThrowGeneralError(result)];\n                        case 2:\n                            jsonBody = _b.sent();\n                            return [\n                                2 /*return*/,\n                                {\n                                    jsonBody: jsonBody,\n                                    fetchResponse: result,\n                                },\n                            ];\n                    }\n                });\n            });\n        };\n        this.put = function (path, config, preAPIHook, postAPIHook) {\n            return __awaiter(_this, void 0, void 0, function () {\n                var result, jsonBody;\n                return __generator(this, function (_b) {\n                    switch (_b.label) {\n                        case 0:\n                            return [\n                                4 /*yield*/,\n                                this.fetch(\n                                    this.getFullUrl(path),\n                                    __assign({ method: \"PUT\" }, config),\n                                    preAPIHook,\n                                    postAPIHook\n                                ),\n                            ];\n                        case 1:\n                            result = _b.sent();\n                            return [4 /*yield*/, this.getResponseJsonOrThrowGeneralError(result)];\n                        case 2:\n                            jsonBody = _b.sent();\n                            return [\n                                2 /*return*/,\n                                {\n                                    jsonBody: jsonBody,\n                                    fetchResponse: result,\n                                },\n                            ];\n                    }\n                });\n            });\n        };\n        this.fetch = function (url, config, preAPIHook, postAPIHook) {\n            return __awaiter(_this, void 0, void 0, function () {\n                var headers, _b, requestInit, modifiedUrl, result, reponseForPostAPI;\n                return __generator(this, function (_c) {\n                    switch (_c.label) {\n                        case 0:\n                            if (config === undefined) {\n                                headers = {};\n                            } else {\n                                headers = config.headers;\n                            }\n                            return [\n                                4 /*yield*/,\n                                this.callPreAPIHook({\n                                    preAPIHook: preAPIHook,\n                                    url: url,\n                                    requestInit: __assign(__assign({}, config), {\n                                        headers: __assign(__assign({}, headers), {\n                                            \"fdi-version\": version_1.supported_fdi.join(\",\"),\n                                            \"Content-Type\": \"application/json\",\n                                            rid: this.recipeId,\n                                        }),\n                                    }),\n                                }),\n                            ];\n                        case 1:\n                            (_b = _c.sent()), (requestInit = _b.requestInit), (modifiedUrl = _b.url);\n                            return [4 /*yield*/, fetch(modifiedUrl, requestInit)];\n                        case 2:\n                            result = _c.sent();\n                            if (result.status >= 300) {\n                                throw result;\n                            }\n                            if (!(postAPIHook !== undefined)) return [3 /*break*/, 4];\n                            reponseForPostAPI = result.clone();\n                            return [\n                                4 /*yield*/,\n                                postAPIHook({\n                                    requestInit: requestInit,\n                                    url: url,\n                                    fetchResponse: reponseForPostAPI,\n                                }),\n                            ];\n                        case 3:\n                            _c.sent();\n                            _c.label = 4;\n                        case 4:\n                            return [2 /*return*/, result];\n                    }\n                });\n            });\n        };\n        /*\n         * For backward compatibility\n         */\n        this.callPreAPIHook = function (context) {\n            return __awaiter(_this, void 0, void 0, function () {\n                var result;\n                return __generator(this, function (_b) {\n                    switch (_b.label) {\n                        case 0:\n                            if (context.preAPIHook === undefined) {\n                                return [\n                                    2 /*return*/,\n                                    {\n                                        url: context.url,\n                                        requestInit: context.requestInit,\n                                    },\n                                ];\n                            }\n                            return [\n                                4 /*yield*/,\n                                context.preAPIHook({\n                                    url: context.url,\n                                    requestInit: context.requestInit,\n                                }),\n                            ];\n                        case 1:\n                            result = _b.sent();\n                            return [2 /*return*/, result];\n                    }\n                });\n            });\n        };\n        this.getFullUrl = function (pathStr, queryParams) {\n            var path = new normalisedURLPath_1.default(pathStr);\n            var fullUrl = \"\"\n                .concat(_this.appInfo.apiDomain.getAsStringDangerous())\n                .concat(_this.appInfo.apiBasePath.getAsStringDangerous())\n                .concat(path.getAsStringDangerous());\n            if (queryParams === undefined) {\n                return fullUrl;\n            }\n            // If query params, add.\n            return fullUrl + \"?\" + new URLSearchParams(queryParams);\n        };\n        this.getResponseJsonOrThrowGeneralError = function (response) {\n            return __awaiter(_this, void 0, void 0, function () {\n                var json, message;\n                return __generator(this, function (_b) {\n                    switch (_b.label) {\n                        case 0:\n                            return [4 /*yield*/, response.clone().json()];\n                        case 1:\n                            json = _b.sent();\n                            if (json.status === \"GENERAL_ERROR\") {\n                                message = json.message === undefined ? \"No Error Message Provided\" : json.message;\n                                throw new error_1.default(message);\n                            }\n                            return [2 /*return*/, json];\n                    }\n                });\n            });\n        };\n        this.recipeId = recipeId;\n        this.appInfo = appInfo;\n    }\n    var _a;\n    _a = Querier;\n    Querier.preparePreAPIHook = function (_b) {\n        var recipePreAPIHook = _b.recipePreAPIHook,\n            action = _b.action,\n            options = _b.options,\n            userContext = _b.userContext;\n        return function (context) {\n            return __awaiter(void 0, void 0, void 0, function () {\n                var postRecipeHookContext;\n                return __generator(_a, function (_b) {\n                    switch (_b.label) {\n                        case 0:\n                            return [\n                                4 /*yield*/,\n                                recipePreAPIHook(\n                                    __assign(__assign({}, context), { action: action, userContext: userContext })\n                                ),\n                            ];\n                        case 1:\n                            postRecipeHookContext = _b.sent();\n                            if (options === undefined || options.preAPIHook === undefined) {\n                                return [2 /*return*/, postRecipeHookContext];\n                            }\n                            return [\n                                2 /*return*/,\n                                options.preAPIHook({\n                                    url: postRecipeHookContext.url,\n                                    requestInit: postRecipeHookContext.requestInit,\n                                    userContext: userContext,\n                                }),\n                            ];\n                    }\n                });\n            });\n        };\n    };\n    Querier.preparePostAPIHook = function (_b) {\n        var recipePostAPIHook = _b.recipePostAPIHook,\n            action = _b.action,\n            userContext = _b.userContext;\n        return function (context) {\n            return __awaiter(void 0, void 0, void 0, function () {\n                return __generator(_a, function (_b) {\n                    switch (_b.label) {\n                        case 0:\n                            return [\n                                4 /*yield*/,\n                                recipePostAPIHook(\n                                    __assign(__assign({}, context), { userContext: userContext, action: action })\n                                ),\n                            ];\n                        case 1:\n                            _b.sent();\n                            return [2 /*return*/];\n                    }\n                });\n            });\n        };\n    };\n    return Querier;\n})();\nexports[\"default\"] = Querier;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3VwZXJ0b2tlbnMtd2ViLWpzL2xpYi9idWlsZC9xdWVyaWVyLmpzLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseURBQXlELE9BQU87QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsZ0RBQWdEO0FBQ25FO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLG1CQUFPLENBQUMsNkZBQXFCO0FBQ3ZELGdCQUFnQixtQkFBTyxDQUFDLHlFQUFXO0FBQ25DLGNBQWMsbUJBQU8sQ0FBQyxxRUFBUztBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0NBQStDLGVBQWU7QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0NBQStDLGdCQUFnQjtBQUMvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQ0FBK0Msa0JBQWtCO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtDQUErQyxlQUFlO0FBQzlEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUVBQXFFO0FBQ3JFLHFFQUFxRTtBQUNyRTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUM7QUFDekMscUNBQXFDO0FBQ3JDLGlDQUFpQztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdEQUF3RCxjQUFjLDBDQUEwQztBQUNoSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0RBQXdELGNBQWMsMENBQTBDO0FBQ2hIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELGtCQUFlIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9zdXBlcnRva2Vucy13ZWItanMvbGliL2J1aWxkL3F1ZXJpZXIuanM/MWNmYSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2Fzc2lnbiA9XG4gICAgKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHxcbiAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF9fYXNzaWduID1cbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24gfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uICh0KSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0O1xuICAgICAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfTtcbnZhciBfX2F3YWl0ZXIgPVxuICAgICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fFxuICAgIGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICAgICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFBcbiAgICAgICAgICAgICAgICA/IHZhbHVlXG4gICAgICAgICAgICAgICAgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkge1xuICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbnZhciBfX2dlbmVyYXRvciA9XG4gICAgKHRoaXMgJiYgdGhpcy5fX2dlbmVyYXRvcikgfHxcbiAgICBmdW5jdGlvbiAodGhpc0FyZywgYm9keSkge1xuICAgICAgICB2YXIgXyA9IHtcbiAgICAgICAgICAgICAgICBsYWJlbDogMCxcbiAgICAgICAgICAgICAgICBzZW50OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRbMV07XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB0cnlzOiBbXSxcbiAgICAgICAgICAgICAgICBvcHM6IFtdLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGYsXG4gICAgICAgICAgICB5LFxuICAgICAgICAgICAgdCxcbiAgICAgICAgICAgIGc7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAoZyA9IHsgbmV4dDogdmVyYigwKSwgdGhyb3c6IHZlcmIoMSksIHJldHVybjogdmVyYigyKSB9KSxcbiAgICAgICAgICAgIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJlxuICAgICAgICAgICAgICAgIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgZ1xuICAgICAgICApO1xuICAgICAgICBmdW5jdGlvbiB2ZXJiKG4pIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAodikge1xuICAgICAgICAgICAgICAgIHJldHVybiBzdGVwKFtuLCB2XSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAob3ApIHtcbiAgICAgICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcbiAgICAgICAgICAgIHdoaWxlIChfKVxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICgoZiA9IDEpLFxuICAgICAgICAgICAgICAgICAgICAgICAgeSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICh0ID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BbMF0gJiAyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHlbXCJyZXR1cm5cIl1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogb3BbMF1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogeS5uZXh0KSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0O1xuICAgICAgICAgICAgICAgICAgICBpZiAoKCh5ID0gMCksIHQpKSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdCA9IG9wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF8ubGFiZWwrKztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXy5sYWJlbCsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHkgPSBvcFsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcCA9IFswXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcCA9IF8ub3BzLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAhKCh0ID0gXy50cnlzKSwgKHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfLmxhYmVsID0gb3BbMV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXy5sYWJlbCA9IHRbMV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHQgPSBvcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF8ubGFiZWwgPSB0WzJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfLm9wcy5wdXNoKG9wKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICBvcCA9IFs2LCBlXTtcbiAgICAgICAgICAgICAgICAgICAgeSA9IDA7XG4gICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgZiA9IHQgPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdO1xuICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcbiAgICAgICAgfVxuICAgIH07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4vKiBDb3B5cmlnaHQgKGMpIDIwMjIsIFZSQUkgTGFicyBhbmQvb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb2Z0d2FyZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGVcbiAqIFwiTGljZW5zZVwiKSBhcyBwdWJsaXNoZWQgYnkgdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLlxuICpcbiAqIFlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heVxuICogb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVRcbiAqIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gU2VlIHRoZVxuICogTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnNcbiAqIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG52YXIgbm9ybWFsaXNlZFVSTFBhdGhfMSA9IHJlcXVpcmUoXCIuL25vcm1hbGlzZWRVUkxQYXRoXCIpO1xudmFyIHZlcnNpb25fMSA9IHJlcXVpcmUoXCIuL3ZlcnNpb25cIik7XG52YXIgZXJyb3JfMSA9IHJlcXVpcmUoXCIuL2Vycm9yXCIpO1xuLyoqXG4gKiBXaGVuIG5ldHdvcmsgY2FsbHMgYXJlIG1hZGUgdGhlIFF1ZXJpZXIgY2FsbHMgLmNsb25lKCkgb24gdGhlIHJlc3BvbnNlIGJlZm9yZTpcbiAqIDEuIENhbGxpbmcgdGhlIHBvc3QgQVBJIGhvb2tcbiAqIDIuIENhbGxpbmcgLmpzb24oKSB3aGVuIHRyeWluZyB0byByZWFkIHRoZSBib2R5XG4gKlxuICogVGhpcyBpcyBiZWNhdXNlIHRoZSBTREsgbmVlZHMgdG8gcmVhZCB0aGUganNvbiBib2R5IGJ1dCB3ZSBhbHNvIHdhbnQgdG8gYWxsb3cgdXNlcnMgdG8gcmVhZFxuICogdGhlIGpzb24gYm9keSB0aGVtc2VsdmVzIChlaXRoZXIgaW4gdGhlIHBvc3QgYXBpIGhvb2sgb3IgZnJvbSB0aGUgcmVzdWx0IG9mIHJlY2lwZSBmdW5jdGlvbnMpXG4gKiBmb3IgY3VzdG9tIHJlc3BvbnNlIGhhbmRsaW5nLiBTaW5jZSB0aGUgYm9keSBjYW4gb25seSBiZSByZWFkIG9uY2Ugd2UgdXNlIC5jbG9uZSgpIHRvIGFsbG93XG4gKiBmb3IgbXVsdGlwbGUgcmVhZHMuXG4gKi9cbnZhciBRdWVyaWVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFF1ZXJpZXIocmVjaXBlSWQsIGFwcEluZm8pIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5nZXQgPSBmdW5jdGlvbiAocGF0aCwgY29uZmlnLCBxdWVyeVBhcmFtcywgcHJlQVBJSG9vaywgcG9zdEFQSUhvb2spIHtcbiAgICAgICAgICAgIHJldHVybiBfX2F3YWl0ZXIoX3RoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdCwganNvbkJvZHk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYikge1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9iLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgNCAvKnlpZWxkKi8sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZmV0Y2goXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdldEZ1bGxVcmwocGF0aCwgcXVlcnlQYXJhbXMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX19hc3NpZ24oeyBtZXRob2Q6IFwiR0VUXCIgfSwgY29uZmlnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZUFQSUhvb2ssXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3N0QVBJSG9va1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gX2Iuc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuZ2V0UmVzcG9uc2VKc29uT3JUaHJvd0dlbmVyYWxFcnJvcihyZXN1bHQpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc29uQm9keSA9IF9iLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAyIC8qcmV0dXJuKi8sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb25Cb2R5OiBqc29uQm9keSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZldGNoUmVzcG9uc2U6IHJlc3VsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5wb3N0ID0gZnVuY3Rpb24gKHBhdGgsIGNvbmZpZywgcHJlQVBJSG9vaywgcG9zdEFQSUhvb2spIHtcbiAgICAgICAgICAgIHJldHVybiBfX2F3YWl0ZXIoX3RoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdCwganNvbkJvZHk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYikge1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9iLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbmZpZy5ib2R5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUG9zdCByZXF1ZXN0IG11c3QgaGF2ZSBhIGJvZHlcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDQgLyp5aWVsZCovLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZldGNoKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRGdWxsVXJsKHBhdGgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX19hc3NpZ24oeyBtZXRob2Q6IFwiUE9TVFwiIH0sIGNvbmZpZyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmVBUElIb29rLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zdEFQSUhvb2tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9iLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLmdldFJlc3BvbnNlSnNvbk9yVGhyb3dHZW5lcmFsRXJyb3IocmVzdWx0KV07XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbkJvZHkgPSBfYi5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMiAvKnJldHVybiovLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc29uQm9keToganNvbkJvZHksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmZXRjaFJlc3BvbnNlOiByZXN1bHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZGVsZXRlID0gZnVuY3Rpb24gKHBhdGgsIGNvbmZpZywgcHJlQVBJSG9vaywgcG9zdEFQSUhvb2spIHtcbiAgICAgICAgICAgIHJldHVybiBfX2F3YWl0ZXIoX3RoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdCwganNvbkJvZHk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYikge1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9iLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgNCAvKnlpZWxkKi8sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZmV0Y2goXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdldEZ1bGxVcmwocGF0aCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfX2Fzc2lnbih7IG1ldGhvZDogXCJERUxFVEVcIiB9LCBjb25maWcpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJlQVBJSG9vayxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc3RBUElIb29rXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBfYi5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5nZXRSZXNwb25zZUpzb25PclRocm93R2VuZXJhbEVycm9yKHJlc3VsdCldO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb25Cb2R5ID0gX2Iuc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDIgLypyZXR1cm4qLyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbkJvZHk6IGpzb25Cb2R5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmV0Y2hSZXNwb25zZTogcmVzdWx0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnB1dCA9IGZ1bmN0aW9uIChwYXRoLCBjb25maWcsIHByZUFQSUhvb2ssIHBvc3RBUElIb29rKSB7XG4gICAgICAgICAgICByZXR1cm4gX19hd2FpdGVyKF90aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciByZXN1bHQsIGpzb25Cb2R5O1xuICAgICAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2IpIHtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfYi5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDQgLyp5aWVsZCovLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZldGNoKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRGdWxsVXJsKHBhdGgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX19hc3NpZ24oeyBtZXRob2Q6IFwiUFVUXCIgfSwgY29uZmlnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZUFQSUhvb2ssXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3N0QVBJSG9va1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gX2Iuc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuZ2V0UmVzcG9uc2VKc29uT3JUaHJvd0dlbmVyYWxFcnJvcihyZXN1bHQpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc29uQm9keSA9IF9iLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAyIC8qcmV0dXJuKi8sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb25Cb2R5OiBqc29uQm9keSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZldGNoUmVzcG9uc2U6IHJlc3VsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5mZXRjaCA9IGZ1bmN0aW9uICh1cmwsIGNvbmZpZywgcHJlQVBJSG9vaywgcG9zdEFQSUhvb2spIHtcbiAgICAgICAgICAgIHJldHVybiBfX2F3YWl0ZXIoX3RoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGhlYWRlcnMsIF9iLCByZXF1ZXN0SW5pdCwgbW9kaWZpZWRVcmwsIHJlc3VsdCwgcmVwb25zZUZvclBvc3RBUEk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYykge1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbmZpZyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnMgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzID0gY29uZmlnLmhlYWRlcnM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDQgLyp5aWVsZCovLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbGxQcmVBUElIb29rKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZUFQSUhvb2s6IHByZUFQSUhvb2ssXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IHVybCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVlc3RJbml0OiBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgY29uZmlnKSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IF9fYXNzaWduKF9fYXNzaWduKHt9LCBoZWFkZXJzKSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImZkaS12ZXJzaW9uXCI6IHZlcnNpb25fMS5zdXBwb3J0ZWRfZmRpLmpvaW4oXCIsXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmlkOiB0aGlzLnJlY2lwZUlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKF9iID0gX2Muc2VudCgpKSwgKHJlcXVlc3RJbml0ID0gX2IucmVxdWVzdEluaXQpLCAobW9kaWZpZWRVcmwgPSBfYi51cmwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIGZldGNoKG1vZGlmaWVkVXJsLCByZXF1ZXN0SW5pdCldO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9jLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnN0YXR1cyA+PSAzMDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgcmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShwb3N0QVBJSG9vayAhPT0gdW5kZWZpbmVkKSkgcmV0dXJuIFszIC8qYnJlYWsqLywgNF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVwb25zZUZvclBvc3RBUEkgPSByZXN1bHQuY2xvbmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA0IC8qeWllbGQqLyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zdEFQSUhvb2soe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdEluaXQ6IHJlcXVlc3RJbml0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiB1cmwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmZXRjaFJlc3BvbnNlOiByZXBvbnNlRm9yUG9zdEFQSSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYy5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2MubGFiZWwgPSA0O1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCByZXN1bHRdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgLypcbiAgICAgICAgICogRm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY2FsbFByZUFQSUhvb2sgPSBmdW5jdGlvbiAoY29udGV4dCkge1xuICAgICAgICAgICAgcmV0dXJuIF9fYXdhaXRlcihfdGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0O1xuICAgICAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2IpIHtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfYi5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb250ZXh0LnByZUFQSUhvb2sgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMiAvKnJldHVybiovLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogY29udGV4dC51cmwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdEluaXQ6IGNvbnRleHQucmVxdWVzdEluaXQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA0IC8qeWllbGQqLyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5wcmVBUElIb29rKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogY29udGV4dC51cmwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1ZXN0SW5pdDogY29udGV4dC5yZXF1ZXN0SW5pdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBfYi5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHJlc3VsdF07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmdldEZ1bGxVcmwgPSBmdW5jdGlvbiAocGF0aFN0ciwgcXVlcnlQYXJhbXMpIHtcbiAgICAgICAgICAgIHZhciBwYXRoID0gbmV3IG5vcm1hbGlzZWRVUkxQYXRoXzEuZGVmYXVsdChwYXRoU3RyKTtcbiAgICAgICAgICAgIHZhciBmdWxsVXJsID0gXCJcIlxuICAgICAgICAgICAgICAgIC5jb25jYXQoX3RoaXMuYXBwSW5mby5hcGlEb21haW4uZ2V0QXNTdHJpbmdEYW5nZXJvdXMoKSlcbiAgICAgICAgICAgICAgICAuY29uY2F0KF90aGlzLmFwcEluZm8uYXBpQmFzZVBhdGguZ2V0QXNTdHJpbmdEYW5nZXJvdXMoKSlcbiAgICAgICAgICAgICAgICAuY29uY2F0KHBhdGguZ2V0QXNTdHJpbmdEYW5nZXJvdXMoKSk7XG4gICAgICAgICAgICBpZiAocXVlcnlQYXJhbXMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmdWxsVXJsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gSWYgcXVlcnkgcGFyYW1zLCBhZGQuXG4gICAgICAgICAgICByZXR1cm4gZnVsbFVybCArIFwiP1wiICsgbmV3IFVSTFNlYXJjaFBhcmFtcyhxdWVyeVBhcmFtcyk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZ2V0UmVzcG9uc2VKc29uT3JUaHJvd0dlbmVyYWxFcnJvciA9IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgcmV0dXJuIF9fYXdhaXRlcihfdGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIganNvbiwgbWVzc2FnZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9iKSB7XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2IubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCByZXNwb25zZS5jbG9uZSgpLmpzb24oKV07XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbiA9IF9iLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoanNvbi5zdGF0dXMgPT09IFwiR0VORVJBTF9FUlJPUlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBqc29uLm1lc3NhZ2UgPT09IHVuZGVmaW5lZCA/IFwiTm8gRXJyb3IgTWVzc2FnZSBQcm92aWRlZFwiIDoganNvbi5tZXNzYWdlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgZXJyb3JfMS5kZWZhdWx0KG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywganNvbl07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnJlY2lwZUlkID0gcmVjaXBlSWQ7XG4gICAgICAgIHRoaXMuYXBwSW5mbyA9IGFwcEluZm87XG4gICAgfVxuICAgIHZhciBfYTtcbiAgICBfYSA9IFF1ZXJpZXI7XG4gICAgUXVlcmllci5wcmVwYXJlUHJlQVBJSG9vayA9IGZ1bmN0aW9uIChfYikge1xuICAgICAgICB2YXIgcmVjaXBlUHJlQVBJSG9vayA9IF9iLnJlY2lwZVByZUFQSUhvb2ssXG4gICAgICAgICAgICBhY3Rpb24gPSBfYi5hY3Rpb24sXG4gICAgICAgICAgICBvcHRpb25zID0gX2Iub3B0aW9ucyxcbiAgICAgICAgICAgIHVzZXJDb250ZXh0ID0gX2IudXNlckNvbnRleHQ7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoY29udGV4dCkge1xuICAgICAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIHBvc3RSZWNpcGVIb29rQ29udGV4dDtcbiAgICAgICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IoX2EsIGZ1bmN0aW9uIChfYikge1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9iLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgNCAvKnlpZWxkKi8sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlY2lwZVByZUFQSUhvb2soXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgY29udGV4dCksIHsgYWN0aW9uOiBhY3Rpb24sIHVzZXJDb250ZXh0OiB1c2VyQ29udGV4dCB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zdFJlY2lwZUhvb2tDb250ZXh0ID0gX2Iuc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zID09PSB1bmRlZmluZWQgfHwgb3B0aW9ucy5wcmVBUElIb29rID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHBvc3RSZWNpcGVIb29rQ29udGV4dF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDIgLypyZXR1cm4qLyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5wcmVBUElIb29rKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogcG9zdFJlY2lwZUhvb2tDb250ZXh0LnVybCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVlc3RJbml0OiBwb3N0UmVjaXBlSG9va0NvbnRleHQucmVxdWVzdEluaXQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyQ29udGV4dDogdXNlckNvbnRleHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgUXVlcmllci5wcmVwYXJlUG9zdEFQSUhvb2sgPSBmdW5jdGlvbiAoX2IpIHtcbiAgICAgICAgdmFyIHJlY2lwZVBvc3RBUElIb29rID0gX2IucmVjaXBlUG9zdEFQSUhvb2ssXG4gICAgICAgICAgICBhY3Rpb24gPSBfYi5hY3Rpb24sXG4gICAgICAgICAgICB1c2VyQ29udGV4dCA9IF9iLnVzZXJDb250ZXh0O1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGNvbnRleHQpIHtcbiAgICAgICAgICAgIHJldHVybiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcihfYSwgZnVuY3Rpb24gKF9iKSB7XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2IubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA0IC8qeWllbGQqLyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVjaXBlUG9zdEFQSUhvb2soXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgY29udGV4dCksIHsgdXNlckNvbnRleHQ6IHVzZXJDb250ZXh0LCBhY3Rpb246IGFjdGlvbiB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2Iuc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICByZXR1cm4gUXVlcmllcjtcbn0pKCk7XG5leHBvcnRzLmRlZmF1bHQgPSBRdWVyaWVyO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/supertokens-web-js/lib/build/querier.js\n"));

/***/ }),

/***/ "./node_modules/supertokens-web-js/lib/build/recipe/authRecipe/index.js":
/*!******************************************************************************!*\
  !*** ./node_modules/supertokens-web-js/lib/build/recipe/authRecipe/index.js ***!
  \******************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\n/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nvar __extends =\n    (this && this.__extends) ||\n    (function () {\n        var extendStatics = function (d, b) {\n            extendStatics =\n                Object.setPrototypeOf ||\n                ({ __proto__: [] } instanceof Array &&\n                    function (d, b) {\n                        d.__proto__ = b;\n                    }) ||\n                function (d, b) {\n                    for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n                };\n            return extendStatics(d, b);\n        };\n        return function (d, b) {\n            if (typeof b !== \"function\" && b !== null)\n                throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n            extendStatics(d, b);\n            function __() {\n                this.constructor = d;\n            }\n            d.prototype = b === null ? Object.create(b) : ((__.prototype = b.prototype), new __());\n        };\n    })();\nvar __awaiter =\n    (this && this.__awaiter) ||\n    function (thisArg, _arguments, P, generator) {\n        function adopt(value) {\n            return value instanceof P\n                ? value\n                : new P(function (resolve) {\n                      resolve(value);\n                  });\n        }\n        return new (P || (P = Promise))(function (resolve, reject) {\n            function fulfilled(value) {\n                try {\n                    step(generator.next(value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function rejected(value) {\n                try {\n                    step(generator[\"throw\"](value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function step(result) {\n                result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n            }\n            step((generator = generator.apply(thisArg, _arguments || [])).next());\n        });\n    };\nvar __generator =\n    (this && this.__generator) ||\n    function (thisArg, body) {\n        var _ = {\n                label: 0,\n                sent: function () {\n                    if (t[0] & 1) throw t[1];\n                    return t[1];\n                },\n                trys: [],\n                ops: [],\n            },\n            f,\n            y,\n            t,\n            g;\n        return (\n            (g = { next: verb(0), throw: verb(1), return: verb(2) }),\n            typeof Symbol === \"function\" &&\n                (g[Symbol.iterator] = function () {\n                    return this;\n                }),\n            g\n        );\n        function verb(n) {\n            return function (v) {\n                return step([n, v]);\n            };\n        }\n        function step(op) {\n            if (f) throw new TypeError(\"Generator is already executing.\");\n            while (_)\n                try {\n                    if (\n                        ((f = 1),\n                        y &&\n                            (t =\n                                op[0] & 2\n                                    ? y[\"return\"]\n                                    : op[0]\n                                    ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0)\n                                    : y.next) &&\n                            !(t = t.call(y, op[1])).done)\n                    )\n                        return t;\n                    if (((y = 0), t)) op = [op[0] & 2, t.value];\n                    switch (op[0]) {\n                        case 0:\n                        case 1:\n                            t = op;\n                            break;\n                        case 4:\n                            _.label++;\n                            return { value: op[1], done: false };\n                        case 5:\n                            _.label++;\n                            y = op[1];\n                            op = [0];\n                            continue;\n                        case 7:\n                            op = _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                        default:\n                            if (\n                                !((t = _.trys), (t = t.length > 0 && t[t.length - 1])) &&\n                                (op[0] === 6 || op[0] === 2)\n                            ) {\n                                _ = 0;\n                                continue;\n                            }\n                            if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) {\n                                _.label = op[1];\n                                break;\n                            }\n                            if (op[0] === 6 && _.label < t[1]) {\n                                _.label = t[1];\n                                t = op;\n                                break;\n                            }\n                            if (t && _.label < t[2]) {\n                                _.label = t[2];\n                                _.ops.push(op);\n                                break;\n                            }\n                            if (t[2]) _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                    }\n                    op = body.call(thisArg, _);\n                } catch (e) {\n                    op = [6, e];\n                    y = 0;\n                } finally {\n                    f = t = 0;\n                }\n            if (op[0] & 5) throw op[1];\n            return { value: op[0] ? op[1] : void 0, done: true };\n        }\n    };\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nvar recipeModule_1 = __webpack_require__(/*! ../recipeModule */ \"./node_modules/supertokens-web-js/lib/build/recipe/recipeModule/index.js\");\nvar recipe_1 = __webpack_require__(/*! ../session/recipe */ \"./node_modules/supertokens-web-js/lib/build/recipe/session/recipe.js\");\nvar AuthRecipe = /** @class */ (function (_super) {\n    __extends(AuthRecipe, _super);\n    function AuthRecipe(config) {\n        var _this = _super.call(this, config) || this;\n        _this.signOut = function (input) {\n            return __awaiter(_this, void 0, void 0, function () {\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            return [\n                                4 /*yield*/,\n                                recipe_1.default.getInstanceOrThrow().signOut({\n                                    userContext: input.userContext,\n                                }),\n                            ];\n                        case 1:\n                            return [2 /*return*/, _a.sent()];\n                    }\n                });\n            });\n        };\n        return _this;\n    }\n    return AuthRecipe;\n})(recipeModule_1.default);\nexports[\"default\"] = AuthRecipe;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3VwZXJ0b2tlbnMtd2ViLWpzL2xpYi9idWlsZC9yZWNpcGUvYXV0aFJlY2lwZS9pbmRleC5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsZ0JBQWdCO0FBQ25DO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsZ0RBQWdEO0FBQ25FO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxxQkFBcUIsbUJBQU8sQ0FBQyxpR0FBaUI7QUFDOUMsZUFBZSxtQkFBTyxDQUFDLCtGQUFtQjtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Qsa0JBQWUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3N1cGVydG9rZW5zLXdlYi1qcy9saWIvYnVpbGQvcmVjaXBlL2F1dGhSZWNpcGUvaW5kZXguanM/MDZlYSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qIENvcHlyaWdodCAoYykgMjAyMiwgVlJBSSBMYWJzIGFuZC9vciBpdHMgYWZmaWxpYXRlcy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvZnR3YXJlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZVxuICogXCJMaWNlbnNlXCIpIGFzIHB1Ymxpc2hlZCBieSB0aGUgQXBhY2hlIFNvZnR3YXJlIEZvdW5kYXRpb24uXG4gKlxuICogWW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5XG4gKiBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVFxuICogV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiBTZWUgdGhlXG4gKiBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9uc1xuICogdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbnZhciBfX2V4dGVuZHMgPVxuICAgICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fFxuICAgIChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgICAgIGV4dGVuZFN0YXRpY3MgPVxuICAgICAgICAgICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkLl9fcHJvdG9fXyA9IGI7XG4gICAgICAgICAgICAgICAgICAgIH0pIHx8XG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XG4gICAgICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICAgICAgZnVuY3Rpb24gX18oKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSksIG5ldyBfXygpKTtcbiAgICAgICAgfTtcbiAgICB9KSgpO1xudmFyIF9fYXdhaXRlciA9XG4gICAgKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8XG4gICAgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgICAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUFxuICAgICAgICAgICAgICAgID8gdmFsdWVcbiAgICAgICAgICAgICAgICA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgICAgICB9KTtcbiAgICB9O1xudmFyIF9fZ2VuZXJhdG9yID1cbiAgICAodGhpcyAmJiB0aGlzLl9fZ2VuZXJhdG9yKSB8fFxuICAgIGZ1bmN0aW9uICh0aGlzQXJnLCBib2R5KSB7XG4gICAgICAgIHZhciBfID0ge1xuICAgICAgICAgICAgICAgIGxhYmVsOiAwLFxuICAgICAgICAgICAgICAgIHNlbnQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdFsxXTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHRyeXM6IFtdLFxuICAgICAgICAgICAgICAgIG9wczogW10sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZixcbiAgICAgICAgICAgIHksXG4gICAgICAgICAgICB0LFxuICAgICAgICAgICAgZztcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIChnID0geyBuZXh0OiB2ZXJiKDApLCB0aHJvdzogdmVyYigxKSwgcmV0dXJuOiB2ZXJiKDIpIH0pLFxuICAgICAgICAgICAgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmXG4gICAgICAgICAgICAgICAgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBnXG4gICAgICAgICk7XG4gICAgICAgIGZ1bmN0aW9uIHZlcmIobikge1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICh2KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0ZXAoW24sIHZdKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChvcCkge1xuICAgICAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xuICAgICAgICAgICAgd2hpbGUgKF8pXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgKChmID0gMSksXG4gICAgICAgICAgICAgICAgICAgICAgICB5ICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKHQgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcFswXSAmIDJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8geVtcInJldHVyblwiXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBvcFswXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiB5Lm5leHQpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSlcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHQ7XG4gICAgICAgICAgICAgICAgICAgIGlmICgoKHkgPSAwKSwgdCkpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ID0gb3A7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXy5sYWJlbCsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfLmxhYmVsKys7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeSA9IG9wWzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wID0gWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wID0gXy5vcHMucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICEoKHQgPSBfLnRyeXMpLCAodCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF8gPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF8ubGFiZWwgPSBvcFsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfLmxhYmVsID0gdFsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdCA9IG9wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXy5sYWJlbCA9IHRbMl07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF8ub3BzLnB1c2gob3ApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIG9wID0gWzYsIGVdO1xuICAgICAgICAgICAgICAgICAgICB5ID0gMDtcbiAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICBmID0gdCA9IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07XG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xuICAgICAgICB9XG4gICAgfTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciByZWNpcGVNb2R1bGVfMSA9IHJlcXVpcmUoXCIuLi9yZWNpcGVNb2R1bGVcIik7XG52YXIgcmVjaXBlXzEgPSByZXF1aXJlKFwiLi4vc2Vzc2lvbi9yZWNpcGVcIik7XG52YXIgQXV0aFJlY2lwZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQXV0aFJlY2lwZSwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBBdXRoUmVjaXBlKGNvbmZpZykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBjb25maWcpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnNpZ25PdXQgPSBmdW5jdGlvbiAoaW5wdXQpIHtcbiAgICAgICAgICAgIHJldHVybiBfX2F3YWl0ZXIoX3RoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgNCAvKnlpZWxkKi8sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlY2lwZV8xLmRlZmF1bHQuZ2V0SW5zdGFuY2VPclRocm93KCkuc2lnbk91dCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyQ29udGV4dDogaW5wdXQudXNlckNvbnRleHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIF9hLnNlbnQoKV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIHJldHVybiBBdXRoUmVjaXBlO1xufSkocmVjaXBlTW9kdWxlXzEuZGVmYXVsdCk7XG5leHBvcnRzLmRlZmF1bHQgPSBBdXRoUmVjaXBlO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/supertokens-web-js/lib/build/recipe/authRecipe/index.js\n"));

/***/ }),

/***/ "./node_modules/supertokens-web-js/lib/build/recipe/authRecipe/utils.js":
/*!******************************************************************************!*\
  !*** ./node_modules/supertokens-web-js/lib/build/recipe/authRecipe/utils.js ***!
  \******************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.normaliseAuthRecipe = void 0;\n/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nvar utils_1 = __webpack_require__(/*! ../recipeModule/utils */ \"./node_modules/supertokens-web-js/lib/build/recipe/recipeModule/utils.js\");\nfunction normaliseAuthRecipe(config) {\n    return (0, utils_1.normaliseRecipeModuleConfig)(config);\n}\nexports.normaliseAuthRecipe = normaliseAuthRecipe;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3VwZXJ0b2tlbnMtd2ViLWpzL2xpYi9idWlsZC9yZWNpcGUvYXV0aFJlY2lwZS91dGlscy5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCwyQkFBMkI7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsbUJBQU8sQ0FBQyx1R0FBdUI7QUFDN0M7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9zdXBlcnRva2Vucy13ZWItanMvbGliL2J1aWxkL3JlY2lwZS9hdXRoUmVjaXBlL3V0aWxzLmpzPzUxMjEiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLm5vcm1hbGlzZUF1dGhSZWNpcGUgPSB2b2lkIDA7XG4vKiBDb3B5cmlnaHQgKGMpIDIwMjIsIFZSQUkgTGFicyBhbmQvb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb2Z0d2FyZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGVcbiAqIFwiTGljZW5zZVwiKSBhcyBwdWJsaXNoZWQgYnkgdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLlxuICpcbiAqIFlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heVxuICogb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVRcbiAqIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gU2VlIHRoZVxuICogTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnNcbiAqIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG52YXIgdXRpbHNfMSA9IHJlcXVpcmUoXCIuLi9yZWNpcGVNb2R1bGUvdXRpbHNcIik7XG5mdW5jdGlvbiBub3JtYWxpc2VBdXRoUmVjaXBlKGNvbmZpZykge1xuICAgIHJldHVybiAoMCwgdXRpbHNfMS5ub3JtYWxpc2VSZWNpcGVNb2R1bGVDb25maWcpKGNvbmZpZyk7XG59XG5leHBvcnRzLm5vcm1hbGlzZUF1dGhSZWNpcGUgPSBub3JtYWxpc2VBdXRoUmVjaXBlO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/supertokens-web-js/lib/build/recipe/authRecipe/utils.js\n"));

/***/ }),

/***/ "./node_modules/supertokens-web-js/lib/build/recipe/emailpassword/index.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/supertokens-web-js/lib/build/recipe/emailpassword/index.js ***!
  \*********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nvar __assign =\n    (this && this.__assign) ||\n    function () {\n        __assign =\n            Object.assign ||\n            function (t) {\n                for (var s, i = 1, n = arguments.length; i < n; i++) {\n                    s = arguments[i];\n                    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n                }\n                return t;\n            };\n        return __assign.apply(this, arguments);\n    };\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.signOut =\n    exports.getResetPasswordTokenFromURL =\n    exports.doesEmailExist =\n    exports.signIn =\n    exports.signUp =\n    exports.sendPasswordResetEmail =\n    exports.submitNewPassword =\n    exports.init =\n        void 0;\nvar recipe_1 = __webpack_require__(/*! ./recipe */ \"./node_modules/supertokens-web-js/lib/build/recipe/emailpassword/recipe.js\");\nvar utils_1 = __webpack_require__(/*! ../../utils */ \"./node_modules/supertokens-web-js/lib/build/utils.js\");\nvar RecipeWrapper = /** @class */ (function () {\n    function RecipeWrapper() {}\n    RecipeWrapper.init = function (config) {\n        return recipe_1.default.init(config);\n    };\n    RecipeWrapper.signOut = function (input) {\n        return recipe_1.default.getInstanceOrThrow().signOut({\n            userContext: (0, utils_1.getNormalisedUserContext)(\n                input === null || input === void 0 ? void 0 : input.userContext\n            ),\n        });\n    };\n    /**\n     * Submit a new password for the user\n     *\n     * @param formFields List of fields to send to the API exposed by the backend SDK (Refer to the {@link https://supertokens.com/docs/fdi API spec} to know more)\n     *\n     * @param userContext (OPTIONAL) Refer to {@link https://supertokens.com/docs/emailpassword/advanced-customizations/user-context the documentation}\n     *\n     * @param options (OPTIONAL) Use this to configure additional properties (for example pre api hooks)\n     *\n     * @returns `{status: \"OK\"}` if successfull\n     *\n     * @returns `{status: \"RESET_PASSWORD_INVALID_TOKEN_ERROR\"}` if the token in the URL is invalid\n     *\n     * @returns `{status: \"FIELD_ERROR\", formFields}` if the form field values are incorrect\n     *\n     * @throws STGeneralError if the API exposed by the backend SDKs returns `status: \"GENERAL_ERROR\"`\n     */\n    RecipeWrapper.submitNewPassword = function (input) {\n        return recipe_1.default\n            .getInstanceOrThrow()\n            .recipeImplementation.submitNewPassword(\n                __assign(__assign({}, input), { userContext: (0, utils_1.getNormalisedUserContext)(input.userContext) })\n            );\n    };\n    /**\n     * Send an email to the user for password reset\n     *\n     * @param formFields List of fields to send to the API exposed by the backend SDK (Refer to the {@link https://supertokens.com/docs/fdi API spec} to know more)\n     *\n     * @param userContext (OPTIONAL) Refer to {@link https://supertokens.com/docs/emailpassword/advanced-customizations/user-context the documentation}\n     *\n     * @param options (OPTIONAL) Use this to configure additional properties (for example pre api hooks)\n     *\n     * @returns `{status: \"OK\"}` if successfull\n     *\n     * @returns `{status: \"FIELD_ERROR\", formFields}` if the formFields dont match the ones in the configured in the backend SDKs\n     *\n     * @throws STGeneralError if the API exposed by the backend SDKs returns `status: \"GENERAL_ERROR\"`\n     */\n    RecipeWrapper.sendPasswordResetEmail = function (input) {\n        return recipe_1.default\n            .getInstanceOrThrow()\n            .recipeImplementation.sendPasswordResetEmail(\n                __assign(__assign({}, input), { userContext: (0, utils_1.getNormalisedUserContext)(input.userContext) })\n            );\n    };\n    /**\n     * Sign up a user with email and password\n     *\n     * @param formFields List of fields to send to the API exposed by the backend SDK (Refer to the {@link https://supertokens.com/docs/fdi API spec} to know more). Note that the form fields must match the ones configured in the backend SDKs\n     *\n     * @param userContext (OPTIONAL) Refer to {@link https://supertokens.com/docs/emailpassword/advanced-customizations/user-context the documentation}\n     *\n     * @param options (OPTIONAL) Use this to configure additional properties (for example pre api hooks)\n     *\n     * @returns `{status: \"OK\"}` if successfull\n     *\n     * @returns `{status: \"FIELD_ERROR\", formFields}` if the formFields dont match the ones in the configured in the backend SDKs\n     *\n     * @throws STGeneralError if the API exposed by the backend SDKs returns `status: \"GENERAL_ERROR\"`\n     */\n    RecipeWrapper.signUp = function (input) {\n        return recipe_1.default\n            .getInstanceOrThrow()\n            .recipeImplementation.signUp(\n                __assign(__assign({}, input), { userContext: (0, utils_1.getNormalisedUserContext)(input.userContext) })\n            );\n    };\n    /**\n     * Sign in a user with email and password\n     *\n     * @param formFields List of fields to send to the API exposed by the backend SDK (Refer to the {@link https://supertokens.com/docs/fdi API spec} to know more). Note that the form fields must match the ones configured in the backend SDKs\n     *\n     * @param userContext (OPTIONAL) Refer to {@link https://supertokens.com/docs/emailpassword/advanced-customizations/user-context the documentation}\n     *\n     * @param options (OPTIONAL) Use this to configure additional properties (for example pre api hooks)\n     *\n     * @returns `{status: \"OK\"}` if successfull\n     *\n     * @returns `{status: \"FIELD_ERROR\", formFields}` if the formFields dont match the ones in the configured in the backend SDKs\n     *\n     * @returns `{status: \"WRONG_CREDENTIALS_ERROR\"}` if the credentials are invalid\n     *\n     * @throws STGeneralError if the API exposed by the backend SDKs returns `status: \"GENERAL_ERROR\"`\n     */\n    RecipeWrapper.signIn = function (input) {\n        return recipe_1.default\n            .getInstanceOrThrow()\n            .recipeImplementation.signIn(\n                __assign(__assign({}, input), { userContext: (0, utils_1.getNormalisedUserContext)(input.userContext) })\n            );\n    };\n    /**\n     * Check if an email exists\n     *\n     * @param email The email to check\n     *\n     * @param userContext (OPTIONAL) Refer to {@link https://supertokens.com/docs/emailpassword/advanced-customizations/user-context the documentation}\n     *\n     * @param options (OPTIONAL) Use this to configure additional properties (for example pre api hooks)\n     *\n     * @returns `{status: \"OK\", doesExist: boolean}`\n     *\n     * @throws STGeneralError if the API exposed by the backend SDKs returns `status: \"GENERAL_ERROR\"`\n     */\n    RecipeWrapper.doesEmailExist = function (input) {\n        return recipe_1.default\n            .getInstanceOrThrow()\n            .recipeImplementation.doesEmailExist(\n                __assign(__assign({}, input), { userContext: (0, utils_1.getNormalisedUserContext)(input.userContext) })\n            );\n    };\n    /**\n     * Reads and returns the reset password token from the current URL\n     *\n     * @param userContext Refer to {@link https://supertokens.com/docs/emailpassword/advanced-customizations/user-context the documentation}\n     *\n     * @returns The \"token\" query parameter from the current location\n     */\n    RecipeWrapper.getResetPasswordTokenFromURL = function (input) {\n        return recipe_1.default.getInstanceOrThrow().recipeImplementation.getResetPasswordTokenFromURL(\n            __assign(__assign({}, input), {\n                userContext: (0, utils_1.getNormalisedUserContext)(\n                    input === null || input === void 0 ? void 0 : input.userContext\n                ),\n            })\n        );\n    };\n    return RecipeWrapper;\n})();\nexports[\"default\"] = RecipeWrapper;\nvar init = RecipeWrapper.init;\nexports.init = init;\nvar submitNewPassword = RecipeWrapper.submitNewPassword;\nexports.submitNewPassword = submitNewPassword;\nvar sendPasswordResetEmail = RecipeWrapper.sendPasswordResetEmail;\nexports.sendPasswordResetEmail = sendPasswordResetEmail;\nvar signUp = RecipeWrapper.signUp;\nexports.signUp = signUp;\nvar signIn = RecipeWrapper.signIn;\nexports.signIn = signIn;\nvar doesEmailExist = RecipeWrapper.doesEmailExist;\nexports.doesEmailExist = doesEmailExist;\nvar signOut = RecipeWrapper.signOut;\nexports.signOut = signOut;\nvar getResetPasswordTokenFromURL = RecipeWrapper.getResetPasswordTokenFromURL;\nexports.getResetPasswordTokenFromURL = getResetPasswordTokenFromURL;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3VwZXJ0b2tlbnMtd2ViLWpzL2xpYi9idWlsZC9yZWNpcGUvZW1haWxwYXNzd29yZC9pbmRleC5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlEQUF5RCxPQUFPO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGVBQWU7QUFDZixJQUFJLG9DQUFvQztBQUN4QyxJQUFJLHNCQUFzQjtBQUMxQixJQUFJLGNBQWM7QUFDbEIsSUFBSSxjQUFjO0FBQ2xCLElBQUksOEJBQThCO0FBQ2xDLElBQUkseUJBQXlCO0FBQzdCLElBQUksWUFBWTtBQUNoQjtBQUNBLGVBQWUsbUJBQU8sQ0FBQyw0RkFBVTtBQUNqQyxjQUFjLG1CQUFPLENBQUMseUVBQWE7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxR0FBcUcsaURBQWlEO0FBQ3RKO0FBQ0EsK0NBQStDO0FBQy9DO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixhQUFhO0FBQy9CO0FBQ0Esa0JBQWtCLDZDQUE2QztBQUMvRDtBQUNBLGtCQUFrQixrQ0FBa0M7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsWUFBWSx1RUFBdUU7QUFDdkg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFHQUFxRyxpREFBaUQ7QUFDdEo7QUFDQSwrQ0FBK0M7QUFDL0M7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLGFBQWE7QUFDL0I7QUFDQSxrQkFBa0Isa0NBQWtDO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLFlBQVksdUVBQXVFO0FBQ3ZIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxR0FBcUcsaURBQWlEO0FBQ3RKO0FBQ0EsK0NBQStDO0FBQy9DO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixhQUFhO0FBQy9CO0FBQ0Esa0JBQWtCLGtDQUFrQztBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyxZQUFZLHVFQUF1RTtBQUN2SDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUdBQXFHLGlEQUFpRDtBQUN0SjtBQUNBLCtDQUErQztBQUMvQztBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsYUFBYTtBQUMvQjtBQUNBLGtCQUFrQixrQ0FBa0M7QUFDcEQ7QUFDQSxrQkFBa0Isa0NBQWtDO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLFlBQVksdUVBQXVFO0FBQ3ZIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0NBQStDO0FBQy9DO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixpQ0FBaUM7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsWUFBWSx1RUFBdUU7QUFDdkg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQztBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Qsa0JBQWU7QUFDZjtBQUNBLFlBQVk7QUFDWjtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBLDhCQUE4QjtBQUM5QjtBQUNBLGNBQWM7QUFDZDtBQUNBLGNBQWM7QUFDZDtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBLGVBQWU7QUFDZjtBQUNBLG9DQUFvQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvc3VwZXJ0b2tlbnMtd2ViLWpzL2xpYi9idWlsZC9yZWNpcGUvZW1haWxwYXNzd29yZC9pbmRleC5qcz84ZmI1Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fYXNzaWduID1cbiAgICAodGhpcyAmJiB0aGlzLl9fYXNzaWduKSB8fFxuICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX19hc3NpZ24gPVxuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbiB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKHQpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHQ7XG4gICAgICAgICAgICB9O1xuICAgICAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5zaWduT3V0ID1cbiAgICBleHBvcnRzLmdldFJlc2V0UGFzc3dvcmRUb2tlbkZyb21VUkwgPVxuICAgIGV4cG9ydHMuZG9lc0VtYWlsRXhpc3QgPVxuICAgIGV4cG9ydHMuc2lnbkluID1cbiAgICBleHBvcnRzLnNpZ25VcCA9XG4gICAgZXhwb3J0cy5zZW5kUGFzc3dvcmRSZXNldEVtYWlsID1cbiAgICBleHBvcnRzLnN1Ym1pdE5ld1Bhc3N3b3JkID1cbiAgICBleHBvcnRzLmluaXQgPVxuICAgICAgICB2b2lkIDA7XG52YXIgcmVjaXBlXzEgPSByZXF1aXJlKFwiLi9yZWNpcGVcIik7XG52YXIgdXRpbHNfMSA9IHJlcXVpcmUoXCIuLi8uLi91dGlsc1wiKTtcbnZhciBSZWNpcGVXcmFwcGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJlY2lwZVdyYXBwZXIoKSB7fVxuICAgIFJlY2lwZVdyYXBwZXIuaW5pdCA9IGZ1bmN0aW9uIChjb25maWcpIHtcbiAgICAgICAgcmV0dXJuIHJlY2lwZV8xLmRlZmF1bHQuaW5pdChjb25maWcpO1xuICAgIH07XG4gICAgUmVjaXBlV3JhcHBlci5zaWduT3V0ID0gZnVuY3Rpb24gKGlucHV0KSB7XG4gICAgICAgIHJldHVybiByZWNpcGVfMS5kZWZhdWx0LmdldEluc3RhbmNlT3JUaHJvdygpLnNpZ25PdXQoe1xuICAgICAgICAgICAgdXNlckNvbnRleHQ6ICgwLCB1dGlsc18xLmdldE5vcm1hbGlzZWRVc2VyQ29udGV4dCkoXG4gICAgICAgICAgICAgICAgaW5wdXQgPT09IG51bGwgfHwgaW5wdXQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGlucHV0LnVzZXJDb250ZXh0XG4gICAgICAgICAgICApLFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFN1Ym1pdCBhIG5ldyBwYXNzd29yZCBmb3IgdGhlIHVzZXJcbiAgICAgKlxuICAgICAqIEBwYXJhbSBmb3JtRmllbGRzIExpc3Qgb2YgZmllbGRzIHRvIHNlbmQgdG8gdGhlIEFQSSBleHBvc2VkIGJ5IHRoZSBiYWNrZW5kIFNESyAoUmVmZXIgdG8gdGhlIHtAbGluayBodHRwczovL3N1cGVydG9rZW5zLmNvbS9kb2NzL2ZkaSBBUEkgc3BlY30gdG8ga25vdyBtb3JlKVxuICAgICAqXG4gICAgICogQHBhcmFtIHVzZXJDb250ZXh0IChPUFRJT05BTCkgUmVmZXIgdG8ge0BsaW5rIGh0dHBzOi8vc3VwZXJ0b2tlbnMuY29tL2RvY3MvZW1haWxwYXNzd29yZC9hZHZhbmNlZC1jdXN0b21pemF0aW9ucy91c2VyLWNvbnRleHQgdGhlIGRvY3VtZW50YXRpb259XG4gICAgICpcbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAoT1BUSU9OQUwpIFVzZSB0aGlzIHRvIGNvbmZpZ3VyZSBhZGRpdGlvbmFsIHByb3BlcnRpZXMgKGZvciBleGFtcGxlIHByZSBhcGkgaG9va3MpXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBge3N0YXR1czogXCJPS1wifWAgaWYgc3VjY2Vzc2Z1bGxcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIGB7c3RhdHVzOiBcIlJFU0VUX1BBU1NXT1JEX0lOVkFMSURfVE9LRU5fRVJST1JcIn1gIGlmIHRoZSB0b2tlbiBpbiB0aGUgVVJMIGlzIGludmFsaWRcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIGB7c3RhdHVzOiBcIkZJRUxEX0VSUk9SXCIsIGZvcm1GaWVsZHN9YCBpZiB0aGUgZm9ybSBmaWVsZCB2YWx1ZXMgYXJlIGluY29ycmVjdFxuICAgICAqXG4gICAgICogQHRocm93cyBTVEdlbmVyYWxFcnJvciBpZiB0aGUgQVBJIGV4cG9zZWQgYnkgdGhlIGJhY2tlbmQgU0RLcyByZXR1cm5zIGBzdGF0dXM6IFwiR0VORVJBTF9FUlJPUlwiYFxuICAgICAqL1xuICAgIFJlY2lwZVdyYXBwZXIuc3VibWl0TmV3UGFzc3dvcmQgPSBmdW5jdGlvbiAoaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIHJlY2lwZV8xLmRlZmF1bHRcbiAgICAgICAgICAgIC5nZXRJbnN0YW5jZU9yVGhyb3coKVxuICAgICAgICAgICAgLnJlY2lwZUltcGxlbWVudGF0aW9uLnN1Ym1pdE5ld1Bhc3N3b3JkKFxuICAgICAgICAgICAgICAgIF9fYXNzaWduKF9fYXNzaWduKHt9LCBpbnB1dCksIHsgdXNlckNvbnRleHQ6ICgwLCB1dGlsc18xLmdldE5vcm1hbGlzZWRVc2VyQ29udGV4dCkoaW5wdXQudXNlckNvbnRleHQpIH0pXG4gICAgICAgICAgICApO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2VuZCBhbiBlbWFpbCB0byB0aGUgdXNlciBmb3IgcGFzc3dvcmQgcmVzZXRcbiAgICAgKlxuICAgICAqIEBwYXJhbSBmb3JtRmllbGRzIExpc3Qgb2YgZmllbGRzIHRvIHNlbmQgdG8gdGhlIEFQSSBleHBvc2VkIGJ5IHRoZSBiYWNrZW5kIFNESyAoUmVmZXIgdG8gdGhlIHtAbGluayBodHRwczovL3N1cGVydG9rZW5zLmNvbS9kb2NzL2ZkaSBBUEkgc3BlY30gdG8ga25vdyBtb3JlKVxuICAgICAqXG4gICAgICogQHBhcmFtIHVzZXJDb250ZXh0IChPUFRJT05BTCkgUmVmZXIgdG8ge0BsaW5rIGh0dHBzOi8vc3VwZXJ0b2tlbnMuY29tL2RvY3MvZW1haWxwYXNzd29yZC9hZHZhbmNlZC1jdXN0b21pemF0aW9ucy91c2VyLWNvbnRleHQgdGhlIGRvY3VtZW50YXRpb259XG4gICAgICpcbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAoT1BUSU9OQUwpIFVzZSB0aGlzIHRvIGNvbmZpZ3VyZSBhZGRpdGlvbmFsIHByb3BlcnRpZXMgKGZvciBleGFtcGxlIHByZSBhcGkgaG9va3MpXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBge3N0YXR1czogXCJPS1wifWAgaWYgc3VjY2Vzc2Z1bGxcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIGB7c3RhdHVzOiBcIkZJRUxEX0VSUk9SXCIsIGZvcm1GaWVsZHN9YCBpZiB0aGUgZm9ybUZpZWxkcyBkb250IG1hdGNoIHRoZSBvbmVzIGluIHRoZSBjb25maWd1cmVkIGluIHRoZSBiYWNrZW5kIFNES3NcbiAgICAgKlxuICAgICAqIEB0aHJvd3MgU1RHZW5lcmFsRXJyb3IgaWYgdGhlIEFQSSBleHBvc2VkIGJ5IHRoZSBiYWNrZW5kIFNES3MgcmV0dXJucyBgc3RhdHVzOiBcIkdFTkVSQUxfRVJST1JcImBcbiAgICAgKi9cbiAgICBSZWNpcGVXcmFwcGVyLnNlbmRQYXNzd29yZFJlc2V0RW1haWwgPSBmdW5jdGlvbiAoaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIHJlY2lwZV8xLmRlZmF1bHRcbiAgICAgICAgICAgIC5nZXRJbnN0YW5jZU9yVGhyb3coKVxuICAgICAgICAgICAgLnJlY2lwZUltcGxlbWVudGF0aW9uLnNlbmRQYXNzd29yZFJlc2V0RW1haWwoXG4gICAgICAgICAgICAgICAgX19hc3NpZ24oX19hc3NpZ24oe30sIGlucHV0KSwgeyB1c2VyQ29udGV4dDogKDAsIHV0aWxzXzEuZ2V0Tm9ybWFsaXNlZFVzZXJDb250ZXh0KShpbnB1dC51c2VyQ29udGV4dCkgfSlcbiAgICAgICAgICAgICk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTaWduIHVwIGEgdXNlciB3aXRoIGVtYWlsIGFuZCBwYXNzd29yZFxuICAgICAqXG4gICAgICogQHBhcmFtIGZvcm1GaWVsZHMgTGlzdCBvZiBmaWVsZHMgdG8gc2VuZCB0byB0aGUgQVBJIGV4cG9zZWQgYnkgdGhlIGJhY2tlbmQgU0RLIChSZWZlciB0byB0aGUge0BsaW5rIGh0dHBzOi8vc3VwZXJ0b2tlbnMuY29tL2RvY3MvZmRpIEFQSSBzcGVjfSB0byBrbm93IG1vcmUpLiBOb3RlIHRoYXQgdGhlIGZvcm0gZmllbGRzIG11c3QgbWF0Y2ggdGhlIG9uZXMgY29uZmlndXJlZCBpbiB0aGUgYmFja2VuZCBTREtzXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdXNlckNvbnRleHQgKE9QVElPTkFMKSBSZWZlciB0byB7QGxpbmsgaHR0cHM6Ly9zdXBlcnRva2Vucy5jb20vZG9jcy9lbWFpbHBhc3N3b3JkL2FkdmFuY2VkLWN1c3RvbWl6YXRpb25zL3VzZXItY29udGV4dCB0aGUgZG9jdW1lbnRhdGlvbn1cbiAgICAgKlxuICAgICAqIEBwYXJhbSBvcHRpb25zIChPUFRJT05BTCkgVXNlIHRoaXMgdG8gY29uZmlndXJlIGFkZGl0aW9uYWwgcHJvcGVydGllcyAoZm9yIGV4YW1wbGUgcHJlIGFwaSBob29rcylcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIGB7c3RhdHVzOiBcIk9LXCJ9YCBpZiBzdWNjZXNzZnVsbFxuICAgICAqXG4gICAgICogQHJldHVybnMgYHtzdGF0dXM6IFwiRklFTERfRVJST1JcIiwgZm9ybUZpZWxkc31gIGlmIHRoZSBmb3JtRmllbGRzIGRvbnQgbWF0Y2ggdGhlIG9uZXMgaW4gdGhlIGNvbmZpZ3VyZWQgaW4gdGhlIGJhY2tlbmQgU0RLc1xuICAgICAqXG4gICAgICogQHRocm93cyBTVEdlbmVyYWxFcnJvciBpZiB0aGUgQVBJIGV4cG9zZWQgYnkgdGhlIGJhY2tlbmQgU0RLcyByZXR1cm5zIGBzdGF0dXM6IFwiR0VORVJBTF9FUlJPUlwiYFxuICAgICAqL1xuICAgIFJlY2lwZVdyYXBwZXIuc2lnblVwID0gZnVuY3Rpb24gKGlucHV0KSB7XG4gICAgICAgIHJldHVybiByZWNpcGVfMS5kZWZhdWx0XG4gICAgICAgICAgICAuZ2V0SW5zdGFuY2VPclRocm93KClcbiAgICAgICAgICAgIC5yZWNpcGVJbXBsZW1lbnRhdGlvbi5zaWduVXAoXG4gICAgICAgICAgICAgICAgX19hc3NpZ24oX19hc3NpZ24oe30sIGlucHV0KSwgeyB1c2VyQ29udGV4dDogKDAsIHV0aWxzXzEuZ2V0Tm9ybWFsaXNlZFVzZXJDb250ZXh0KShpbnB1dC51c2VyQ29udGV4dCkgfSlcbiAgICAgICAgICAgICk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTaWduIGluIGEgdXNlciB3aXRoIGVtYWlsIGFuZCBwYXNzd29yZFxuICAgICAqXG4gICAgICogQHBhcmFtIGZvcm1GaWVsZHMgTGlzdCBvZiBmaWVsZHMgdG8gc2VuZCB0byB0aGUgQVBJIGV4cG9zZWQgYnkgdGhlIGJhY2tlbmQgU0RLIChSZWZlciB0byB0aGUge0BsaW5rIGh0dHBzOi8vc3VwZXJ0b2tlbnMuY29tL2RvY3MvZmRpIEFQSSBzcGVjfSB0byBrbm93IG1vcmUpLiBOb3RlIHRoYXQgdGhlIGZvcm0gZmllbGRzIG11c3QgbWF0Y2ggdGhlIG9uZXMgY29uZmlndXJlZCBpbiB0aGUgYmFja2VuZCBTREtzXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdXNlckNvbnRleHQgKE9QVElPTkFMKSBSZWZlciB0byB7QGxpbmsgaHR0cHM6Ly9zdXBlcnRva2Vucy5jb20vZG9jcy9lbWFpbHBhc3N3b3JkL2FkdmFuY2VkLWN1c3RvbWl6YXRpb25zL3VzZXItY29udGV4dCB0aGUgZG9jdW1lbnRhdGlvbn1cbiAgICAgKlxuICAgICAqIEBwYXJhbSBvcHRpb25zIChPUFRJT05BTCkgVXNlIHRoaXMgdG8gY29uZmlndXJlIGFkZGl0aW9uYWwgcHJvcGVydGllcyAoZm9yIGV4YW1wbGUgcHJlIGFwaSBob29rcylcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIGB7c3RhdHVzOiBcIk9LXCJ9YCBpZiBzdWNjZXNzZnVsbFxuICAgICAqXG4gICAgICogQHJldHVybnMgYHtzdGF0dXM6IFwiRklFTERfRVJST1JcIiwgZm9ybUZpZWxkc31gIGlmIHRoZSBmb3JtRmllbGRzIGRvbnQgbWF0Y2ggdGhlIG9uZXMgaW4gdGhlIGNvbmZpZ3VyZWQgaW4gdGhlIGJhY2tlbmQgU0RLc1xuICAgICAqXG4gICAgICogQHJldHVybnMgYHtzdGF0dXM6IFwiV1JPTkdfQ1JFREVOVElBTFNfRVJST1JcIn1gIGlmIHRoZSBjcmVkZW50aWFscyBhcmUgaW52YWxpZFxuICAgICAqXG4gICAgICogQHRocm93cyBTVEdlbmVyYWxFcnJvciBpZiB0aGUgQVBJIGV4cG9zZWQgYnkgdGhlIGJhY2tlbmQgU0RLcyByZXR1cm5zIGBzdGF0dXM6IFwiR0VORVJBTF9FUlJPUlwiYFxuICAgICAqL1xuICAgIFJlY2lwZVdyYXBwZXIuc2lnbkluID0gZnVuY3Rpb24gKGlucHV0KSB7XG4gICAgICAgIHJldHVybiByZWNpcGVfMS5kZWZhdWx0XG4gICAgICAgICAgICAuZ2V0SW5zdGFuY2VPclRocm93KClcbiAgICAgICAgICAgIC5yZWNpcGVJbXBsZW1lbnRhdGlvbi5zaWduSW4oXG4gICAgICAgICAgICAgICAgX19hc3NpZ24oX19hc3NpZ24oe30sIGlucHV0KSwgeyB1c2VyQ29udGV4dDogKDAsIHV0aWxzXzEuZ2V0Tm9ybWFsaXNlZFVzZXJDb250ZXh0KShpbnB1dC51c2VyQ29udGV4dCkgfSlcbiAgICAgICAgICAgICk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiBhbiBlbWFpbCBleGlzdHNcbiAgICAgKlxuICAgICAqIEBwYXJhbSBlbWFpbCBUaGUgZW1haWwgdG8gY2hlY2tcbiAgICAgKlxuICAgICAqIEBwYXJhbSB1c2VyQ29udGV4dCAoT1BUSU9OQUwpIFJlZmVyIHRvIHtAbGluayBodHRwczovL3N1cGVydG9rZW5zLmNvbS9kb2NzL2VtYWlscGFzc3dvcmQvYWR2YW5jZWQtY3VzdG9taXphdGlvbnMvdXNlci1jb250ZXh0IHRoZSBkb2N1bWVudGF0aW9ufVxuICAgICAqXG4gICAgICogQHBhcmFtIG9wdGlvbnMgKE9QVElPTkFMKSBVc2UgdGhpcyB0byBjb25maWd1cmUgYWRkaXRpb25hbCBwcm9wZXJ0aWVzIChmb3IgZXhhbXBsZSBwcmUgYXBpIGhvb2tzKVxuICAgICAqXG4gICAgICogQHJldHVybnMgYHtzdGF0dXM6IFwiT0tcIiwgZG9lc0V4aXN0OiBib29sZWFufWBcbiAgICAgKlxuICAgICAqIEB0aHJvd3MgU1RHZW5lcmFsRXJyb3IgaWYgdGhlIEFQSSBleHBvc2VkIGJ5IHRoZSBiYWNrZW5kIFNES3MgcmV0dXJucyBgc3RhdHVzOiBcIkdFTkVSQUxfRVJST1JcImBcbiAgICAgKi9cbiAgICBSZWNpcGVXcmFwcGVyLmRvZXNFbWFpbEV4aXN0ID0gZnVuY3Rpb24gKGlucHV0KSB7XG4gICAgICAgIHJldHVybiByZWNpcGVfMS5kZWZhdWx0XG4gICAgICAgICAgICAuZ2V0SW5zdGFuY2VPclRocm93KClcbiAgICAgICAgICAgIC5yZWNpcGVJbXBsZW1lbnRhdGlvbi5kb2VzRW1haWxFeGlzdChcbiAgICAgICAgICAgICAgICBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgaW5wdXQpLCB7IHVzZXJDb250ZXh0OiAoMCwgdXRpbHNfMS5nZXROb3JtYWxpc2VkVXNlckNvbnRleHQpKGlucHV0LnVzZXJDb250ZXh0KSB9KVxuICAgICAgICAgICAgKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlYWRzIGFuZCByZXR1cm5zIHRoZSByZXNldCBwYXNzd29yZCB0b2tlbiBmcm9tIHRoZSBjdXJyZW50IFVSTFxuICAgICAqXG4gICAgICogQHBhcmFtIHVzZXJDb250ZXh0IFJlZmVyIHRvIHtAbGluayBodHRwczovL3N1cGVydG9rZW5zLmNvbS9kb2NzL2VtYWlscGFzc3dvcmQvYWR2YW5jZWQtY3VzdG9taXphdGlvbnMvdXNlci1jb250ZXh0IHRoZSBkb2N1bWVudGF0aW9ufVxuICAgICAqXG4gICAgICogQHJldHVybnMgVGhlIFwidG9rZW5cIiBxdWVyeSBwYXJhbWV0ZXIgZnJvbSB0aGUgY3VycmVudCBsb2NhdGlvblxuICAgICAqL1xuICAgIFJlY2lwZVdyYXBwZXIuZ2V0UmVzZXRQYXNzd29yZFRva2VuRnJvbVVSTCA9IGZ1bmN0aW9uIChpbnB1dCkge1xuICAgICAgICByZXR1cm4gcmVjaXBlXzEuZGVmYXVsdC5nZXRJbnN0YW5jZU9yVGhyb3coKS5yZWNpcGVJbXBsZW1lbnRhdGlvbi5nZXRSZXNldFBhc3N3b3JkVG9rZW5Gcm9tVVJMKFxuICAgICAgICAgICAgX19hc3NpZ24oX19hc3NpZ24oe30sIGlucHV0KSwge1xuICAgICAgICAgICAgICAgIHVzZXJDb250ZXh0OiAoMCwgdXRpbHNfMS5nZXROb3JtYWxpc2VkVXNlckNvbnRleHQpKFxuICAgICAgICAgICAgICAgICAgICBpbnB1dCA9PT0gbnVsbCB8fCBpbnB1dCA9PT0gdm9pZCAwID8gdm9pZCAwIDogaW5wdXQudXNlckNvbnRleHRcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgKTtcbiAgICB9O1xuICAgIHJldHVybiBSZWNpcGVXcmFwcGVyO1xufSkoKTtcbmV4cG9ydHMuZGVmYXVsdCA9IFJlY2lwZVdyYXBwZXI7XG52YXIgaW5pdCA9IFJlY2lwZVdyYXBwZXIuaW5pdDtcbmV4cG9ydHMuaW5pdCA9IGluaXQ7XG52YXIgc3VibWl0TmV3UGFzc3dvcmQgPSBSZWNpcGVXcmFwcGVyLnN1Ym1pdE5ld1Bhc3N3b3JkO1xuZXhwb3J0cy5zdWJtaXROZXdQYXNzd29yZCA9IHN1Ym1pdE5ld1Bhc3N3b3JkO1xudmFyIHNlbmRQYXNzd29yZFJlc2V0RW1haWwgPSBSZWNpcGVXcmFwcGVyLnNlbmRQYXNzd29yZFJlc2V0RW1haWw7XG5leHBvcnRzLnNlbmRQYXNzd29yZFJlc2V0RW1haWwgPSBzZW5kUGFzc3dvcmRSZXNldEVtYWlsO1xudmFyIHNpZ25VcCA9IFJlY2lwZVdyYXBwZXIuc2lnblVwO1xuZXhwb3J0cy5zaWduVXAgPSBzaWduVXA7XG52YXIgc2lnbkluID0gUmVjaXBlV3JhcHBlci5zaWduSW47XG5leHBvcnRzLnNpZ25JbiA9IHNpZ25JbjtcbnZhciBkb2VzRW1haWxFeGlzdCA9IFJlY2lwZVdyYXBwZXIuZG9lc0VtYWlsRXhpc3Q7XG5leHBvcnRzLmRvZXNFbWFpbEV4aXN0ID0gZG9lc0VtYWlsRXhpc3Q7XG52YXIgc2lnbk91dCA9IFJlY2lwZVdyYXBwZXIuc2lnbk91dDtcbmV4cG9ydHMuc2lnbk91dCA9IHNpZ25PdXQ7XG52YXIgZ2V0UmVzZXRQYXNzd29yZFRva2VuRnJvbVVSTCA9IFJlY2lwZVdyYXBwZXIuZ2V0UmVzZXRQYXNzd29yZFRva2VuRnJvbVVSTDtcbmV4cG9ydHMuZ2V0UmVzZXRQYXNzd29yZFRva2VuRnJvbVVSTCA9IGdldFJlc2V0UGFzc3dvcmRUb2tlbkZyb21VUkw7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/supertokens-web-js/lib/build/recipe/emailpassword/index.js\n"));

/***/ }),

/***/ "./node_modules/supertokens-web-js/lib/build/recipe/emailpassword/recipe.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/supertokens-web-js/lib/build/recipe/emailpassword/recipe.js ***!
  \**********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\n/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nvar __extends =\n    (this && this.__extends) ||\n    (function () {\n        var extendStatics = function (d, b) {\n            extendStatics =\n                Object.setPrototypeOf ||\n                ({ __proto__: [] } instanceof Array &&\n                    function (d, b) {\n                        d.__proto__ = b;\n                    }) ||\n                function (d, b) {\n                    for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n                };\n            return extendStatics(d, b);\n        };\n        return function (d, b) {\n            if (typeof b !== \"function\" && b !== null)\n                throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n            extendStatics(d, b);\n            function __() {\n                this.constructor = d;\n            }\n            d.prototype = b === null ? Object.create(b) : ((__.prototype = b.prototype), new __());\n        };\n    })();\nvar __assign =\n    (this && this.__assign) ||\n    function () {\n        __assign =\n            Object.assign ||\n            function (t) {\n                for (var s, i = 1, n = arguments.length; i < n; i++) {\n                    s = arguments[i];\n                    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n                }\n                return t;\n            };\n        return __assign.apply(this, arguments);\n    };\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Recipe = void 0;\nvar utils_1 = __webpack_require__(/*! ./utils */ \"./node_modules/supertokens-web-js/lib/build/recipe/emailpassword/utils.js\");\nvar recipeImplementation_1 = __webpack_require__(/*! ./recipeImplementation */ \"./node_modules/supertokens-web-js/lib/build/recipe/emailpassword/recipeImplementation.js\");\nvar supertokens_js_override_1 = __webpack_require__(/*! supertokens-js-override */ \"./node_modules/supertokens-js-override/lib/build/index.js\");\nvar utils_2 = __webpack_require__(/*! ../../utils */ \"./node_modules/supertokens-web-js/lib/build/utils.js\");\nvar authRecipe_1 = __webpack_require__(/*! ../authRecipe */ \"./node_modules/supertokens-web-js/lib/build/recipe/authRecipe/index.js\");\nvar Recipe = /** @class */ (function (_super) {\n    __extends(Recipe, _super);\n    function Recipe(config) {\n        var _this = _super.call(this, (0, utils_1.normaliseUserInput)(config)) || this;\n        var builder = new supertokens_js_override_1.default(\n            (0, recipeImplementation_1.default)({\n                recipeId: _this.config.recipeId,\n                appInfo: _this.config.appInfo,\n                preAPIHook: _this.config.preAPIHook,\n                postAPIHook: _this.config.postAPIHook,\n            })\n        );\n        _this.recipeImplementation = builder.override(_this.config.override.functions).build();\n        return _this;\n    }\n    Recipe.init = function (config) {\n        return function (appInfo) {\n            Recipe.instance = new Recipe(\n                __assign(__assign({}, config), { recipeId: Recipe.RECIPE_ID, appInfo: appInfo })\n            );\n            return Recipe.instance;\n        };\n    };\n    Recipe.getInstanceOrThrow = function () {\n        if (Recipe.instance === undefined) {\n            var error = \"No instance of EmailPassword found. Make sure to call the EmailPassword.init method.\";\n            error = (0, utils_2.checkForSSRErrorAndAppendIfNeeded)(error);\n            throw Error(error);\n        }\n        return Recipe.instance;\n    };\n    Recipe.reset = function () {\n        if (!(0, utils_2.isTest)()) {\n            return;\n        }\n        Recipe.instance = undefined;\n        return;\n    };\n    Recipe.RECIPE_ID = \"emailpassword\";\n    return Recipe;\n})(authRecipe_1.default);\nexports.Recipe = Recipe;\nexports[\"default\"] = Recipe;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3VwZXJ0b2tlbnMtd2ViLWpzL2xpYi9idWlsZC9yZWNpcGUvZW1haWxwYXNzd29yZC9yZWNpcGUuanMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLGdCQUFnQjtBQUNuQztBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseURBQXlELE9BQU87QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsY0FBYztBQUNkLGNBQWMsbUJBQU8sQ0FBQywwRkFBUztBQUMvQiw2QkFBNkIsbUJBQU8sQ0FBQyx3SEFBd0I7QUFDN0QsZ0NBQWdDLG1CQUFPLENBQUMsMEZBQXlCO0FBQ2pFLGNBQWMsbUJBQU8sQ0FBQyx5RUFBYTtBQUNuQyxtQkFBbUIsbUJBQU8sQ0FBQyw2RkFBZTtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyxhQUFhLDhDQUE4QztBQUMvRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsY0FBYztBQUNkLGtCQUFlIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9zdXBlcnRva2Vucy13ZWItanMvbGliL2J1aWxkL3JlY2lwZS9lbWFpbHBhc3N3b3JkL3JlY2lwZS5qcz83NDQ3Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyogQ29weXJpZ2h0IChjKSAyMDIyLCBWUkFJIExhYnMgYW5kL29yIGl0cyBhZmZpbGlhdGVzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc29mdHdhcmUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlXG4gKiBcIkxpY2Vuc2VcIikgYXMgcHVibGlzaGVkIGJ5IHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRhdGlvbi5cbiAqXG4gKiBZb3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXlcbiAqIG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLCBXSVRIT1VUXG4gKiBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuIFNlZSB0aGVcbiAqIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zXG4gKiB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIF9fZXh0ZW5kcyA9XG4gICAgKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8XG4gICAgKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICAgICAgZXh0ZW5kU3RhdGljcyA9XG4gICAgICAgICAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiZcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGQuX19wcm90b19fID0gYjtcbiAgICAgICAgICAgICAgICAgICAgfSkgfHxcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgICAgICBmdW5jdGlvbiBfXygpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnN0cnVjdG9yID0gZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlKSwgbmV3IF9fKCkpO1xuICAgICAgICB9O1xuICAgIH0pKCk7XG52YXIgX19hc3NpZ24gPVxuICAgICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8XG4gICAgZnVuY3Rpb24gKCkge1xuICAgICAgICBfX2Fzc2lnbiA9XG4gICAgICAgICAgICBPYmplY3QuYXNzaWduIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAodCkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdDtcbiAgICAgICAgICAgIH07XG4gICAgICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlJlY2lwZSA9IHZvaWQgMDtcbnZhciB1dGlsc18xID0gcmVxdWlyZShcIi4vdXRpbHNcIik7XG52YXIgcmVjaXBlSW1wbGVtZW50YXRpb25fMSA9IHJlcXVpcmUoXCIuL3JlY2lwZUltcGxlbWVudGF0aW9uXCIpO1xudmFyIHN1cGVydG9rZW5zX2pzX292ZXJyaWRlXzEgPSByZXF1aXJlKFwic3VwZXJ0b2tlbnMtanMtb3ZlcnJpZGVcIik7XG52YXIgdXRpbHNfMiA9IHJlcXVpcmUoXCIuLi8uLi91dGlsc1wiKTtcbnZhciBhdXRoUmVjaXBlXzEgPSByZXF1aXJlKFwiLi4vYXV0aFJlY2lwZVwiKTtcbnZhciBSZWNpcGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFJlY2lwZSwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBSZWNpcGUoY29uZmlnKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsICgwLCB1dGlsc18xLm5vcm1hbGlzZVVzZXJJbnB1dCkoY29uZmlnKSkgfHwgdGhpcztcbiAgICAgICAgdmFyIGJ1aWxkZXIgPSBuZXcgc3VwZXJ0b2tlbnNfanNfb3ZlcnJpZGVfMS5kZWZhdWx0KFxuICAgICAgICAgICAgKDAsIHJlY2lwZUltcGxlbWVudGF0aW9uXzEuZGVmYXVsdCkoe1xuICAgICAgICAgICAgICAgIHJlY2lwZUlkOiBfdGhpcy5jb25maWcucmVjaXBlSWQsXG4gICAgICAgICAgICAgICAgYXBwSW5mbzogX3RoaXMuY29uZmlnLmFwcEluZm8sXG4gICAgICAgICAgICAgICAgcHJlQVBJSG9vazogX3RoaXMuY29uZmlnLnByZUFQSUhvb2ssXG4gICAgICAgICAgICAgICAgcG9zdEFQSUhvb2s6IF90aGlzLmNvbmZpZy5wb3N0QVBJSG9vayxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICAgIF90aGlzLnJlY2lwZUltcGxlbWVudGF0aW9uID0gYnVpbGRlci5vdmVycmlkZShfdGhpcy5jb25maWcub3ZlcnJpZGUuZnVuY3Rpb25zKS5idWlsZCgpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFJlY2lwZS5pbml0ID0gZnVuY3Rpb24gKGNvbmZpZykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGFwcEluZm8pIHtcbiAgICAgICAgICAgIFJlY2lwZS5pbnN0YW5jZSA9IG5ldyBSZWNpcGUoXG4gICAgICAgICAgICAgICAgX19hc3NpZ24oX19hc3NpZ24oe30sIGNvbmZpZyksIHsgcmVjaXBlSWQ6IFJlY2lwZS5SRUNJUEVfSUQsIGFwcEluZm86IGFwcEluZm8gfSlcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICByZXR1cm4gUmVjaXBlLmluc3RhbmNlO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgUmVjaXBlLmdldEluc3RhbmNlT3JUaHJvdyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKFJlY2lwZS5pbnN0YW5jZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB2YXIgZXJyb3IgPSBcIk5vIGluc3RhbmNlIG9mIEVtYWlsUGFzc3dvcmQgZm91bmQuIE1ha2Ugc3VyZSB0byBjYWxsIHRoZSBFbWFpbFBhc3N3b3JkLmluaXQgbWV0aG9kLlwiO1xuICAgICAgICAgICAgZXJyb3IgPSAoMCwgdXRpbHNfMi5jaGVja0ZvclNTUkVycm9yQW5kQXBwZW5kSWZOZWVkZWQpKGVycm9yKTtcbiAgICAgICAgICAgIHRocm93IEVycm9yKGVycm9yKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUmVjaXBlLmluc3RhbmNlO1xuICAgIH07XG4gICAgUmVjaXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoISgwLCB1dGlsc18yLmlzVGVzdCkoKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIFJlY2lwZS5pbnN0YW5jZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgcmV0dXJuO1xuICAgIH07XG4gICAgUmVjaXBlLlJFQ0lQRV9JRCA9IFwiZW1haWxwYXNzd29yZFwiO1xuICAgIHJldHVybiBSZWNpcGU7XG59KShhdXRoUmVjaXBlXzEuZGVmYXVsdCk7XG5leHBvcnRzLlJlY2lwZSA9IFJlY2lwZTtcbmV4cG9ydHMuZGVmYXVsdCA9IFJlY2lwZTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/supertokens-web-js/lib/build/recipe/emailpassword/recipe.js\n"));

/***/ }),

/***/ "./node_modules/supertokens-web-js/lib/build/recipe/emailpassword/recipeImplementation.js":
/*!************************************************************************************************!*\
  !*** ./node_modules/supertokens-web-js/lib/build/recipe/emailpassword/recipeImplementation.js ***!
  \************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nvar __awaiter =\n    (this && this.__awaiter) ||\n    function (thisArg, _arguments, P, generator) {\n        function adopt(value) {\n            return value instanceof P\n                ? value\n                : new P(function (resolve) {\n                      resolve(value);\n                  });\n        }\n        return new (P || (P = Promise))(function (resolve, reject) {\n            function fulfilled(value) {\n                try {\n                    step(generator.next(value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function rejected(value) {\n                try {\n                    step(generator[\"throw\"](value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function step(result) {\n                result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n            }\n            step((generator = generator.apply(thisArg, _arguments || [])).next());\n        });\n    };\nvar __generator =\n    (this && this.__generator) ||\n    function (thisArg, body) {\n        var _ = {\n                label: 0,\n                sent: function () {\n                    if (t[0] & 1) throw t[1];\n                    return t[1];\n                },\n                trys: [],\n                ops: [],\n            },\n            f,\n            y,\n            t,\n            g;\n        return (\n            (g = { next: verb(0), throw: verb(1), return: verb(2) }),\n            typeof Symbol === \"function\" &&\n                (g[Symbol.iterator] = function () {\n                    return this;\n                }),\n            g\n        );\n        function verb(n) {\n            return function (v) {\n                return step([n, v]);\n            };\n        }\n        function step(op) {\n            if (f) throw new TypeError(\"Generator is already executing.\");\n            while (_)\n                try {\n                    if (\n                        ((f = 1),\n                        y &&\n                            (t =\n                                op[0] & 2\n                                    ? y[\"return\"]\n                                    : op[0]\n                                    ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0)\n                                    : y.next) &&\n                            !(t = t.call(y, op[1])).done)\n                    )\n                        return t;\n                    if (((y = 0), t)) op = [op[0] & 2, t.value];\n                    switch (op[0]) {\n                        case 0:\n                        case 1:\n                            t = op;\n                            break;\n                        case 4:\n                            _.label++;\n                            return { value: op[1], done: false };\n                        case 5:\n                            _.label++;\n                            y = op[1];\n                            op = [0];\n                            continue;\n                        case 7:\n                            op = _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                        default:\n                            if (\n                                !((t = _.trys), (t = t.length > 0 && t[t.length - 1])) &&\n                                (op[0] === 6 || op[0] === 2)\n                            ) {\n                                _ = 0;\n                                continue;\n                            }\n                            if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) {\n                                _.label = op[1];\n                                break;\n                            }\n                            if (op[0] === 6 && _.label < t[1]) {\n                                _.label = t[1];\n                                t = op;\n                                break;\n                            }\n                            if (t && _.label < t[2]) {\n                                _.label = t[2];\n                                _.ops.push(op);\n                                break;\n                            }\n                            if (t[2]) _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                    }\n                    op = body.call(thisArg, _);\n                } catch (e) {\n                    op = [6, e];\n                    y = 0;\n                } finally {\n                    f = t = 0;\n                }\n            if (op[0] & 5) throw op[1];\n            return { value: op[0] ? op[1] : void 0, done: true };\n        }\n    };\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.getRecipeImplementation = void 0;\n/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nvar querier_1 = __webpack_require__(/*! ../../querier */ \"./node_modules/supertokens-web-js/lib/build/querier.js\");\nvar utils_1 = __webpack_require__(/*! ../../utils */ \"./node_modules/supertokens-web-js/lib/build/utils.js\");\nfunction getRecipeImplementation(recipeImplInput) {\n    var querier = new querier_1.default(recipeImplInput.recipeId, recipeImplInput.appInfo);\n    return {\n        submitNewPassword: function (_a) {\n            var formFields = _a.formFields,\n                options = _a.options,\n                userContext = _a.userContext;\n            return __awaiter(this, void 0, void 0, function () {\n                var token, _b, jsonBody, fetchResponse;\n                return __generator(this, function (_c) {\n                    switch (_c.label) {\n                        case 0:\n                            token = this.getResetPasswordTokenFromURL({\n                                userContext: userContext,\n                            });\n                            return [\n                                4 /*yield*/,\n                                querier.post(\n                                    \"/user/password/reset\",\n                                    { body: JSON.stringify({ formFields: formFields, token: token, method: \"token\" }) },\n                                    querier_1.default.preparePreAPIHook({\n                                        recipePreAPIHook: recipeImplInput.preAPIHook,\n                                        action: \"SUBMIT_NEW_PASSWORD\",\n                                        options: options,\n                                        userContext: userContext,\n                                    }),\n                                    querier_1.default.preparePostAPIHook({\n                                        recipePostAPIHook: recipeImplInput.postAPIHook,\n                                        action: \"SUBMIT_NEW_PASSWORD\",\n                                        userContext: userContext,\n                                    })\n                                ),\n                            ];\n                        case 1:\n                            (_b = _c.sent()), (jsonBody = _b.jsonBody), (fetchResponse = _b.fetchResponse);\n                            if (jsonBody.status === \"FIELD_ERROR\") {\n                                return [\n                                    2 /*return*/,\n                                    {\n                                        status: \"FIELD_ERROR\",\n                                        formFields: jsonBody.formFields,\n                                        fetchResponse: fetchResponse,\n                                    },\n                                ];\n                            }\n                            return [\n                                2 /*return*/,\n                                {\n                                    status: jsonBody.status,\n                                    fetchResponse: fetchResponse,\n                                },\n                            ];\n                    }\n                });\n            });\n        },\n        sendPasswordResetEmail: function (_a) {\n            var formFields = _a.formFields,\n                options = _a.options,\n                userContext = _a.userContext;\n            return __awaiter(this, void 0, void 0, function () {\n                var _b, jsonBody, fetchResponse;\n                return __generator(this, function (_c) {\n                    switch (_c.label) {\n                        case 0:\n                            return [\n                                4 /*yield*/,\n                                querier.post(\n                                    \"/user/password/reset/token\",\n                                    { body: JSON.stringify({ formFields: formFields }) },\n                                    querier_1.default.preparePreAPIHook({\n                                        recipePreAPIHook: recipeImplInput.preAPIHook,\n                                        action: \"SEND_RESET_PASSWORD_EMAIL\",\n                                        options: options,\n                                        userContext: userContext,\n                                    }),\n                                    querier_1.default.preparePostAPIHook({\n                                        recipePostAPIHook: recipeImplInput.postAPIHook,\n                                        action: \"SEND_RESET_PASSWORD_EMAIL\",\n                                        userContext: userContext,\n                                    })\n                                ),\n                            ];\n                        case 1:\n                            (_b = _c.sent()), (jsonBody = _b.jsonBody), (fetchResponse = _b.fetchResponse);\n                            if (jsonBody.status === \"FIELD_ERROR\") {\n                                return [\n                                    2 /*return*/,\n                                    {\n                                        status: \"FIELD_ERROR\",\n                                        formFields: jsonBody.formFields,\n                                        fetchResponse: fetchResponse,\n                                    },\n                                ];\n                            }\n                            return [\n                                2 /*return*/,\n                                {\n                                    status: jsonBody.status,\n                                    fetchResponse: fetchResponse,\n                                },\n                            ];\n                    }\n                });\n            });\n        },\n        signUp: function (_a) {\n            var formFields = _a.formFields,\n                options = _a.options,\n                userContext = _a.userContext;\n            return __awaiter(this, void 0, void 0, function () {\n                var _b, jsonBody, fetchResponse;\n                return __generator(this, function (_c) {\n                    switch (_c.label) {\n                        case 0:\n                            return [\n                                4 /*yield*/,\n                                querier.post(\n                                    \"/signup\",\n                                    { body: JSON.stringify({ formFields: formFields }) },\n                                    querier_1.default.preparePreAPIHook({\n                                        recipePreAPIHook: recipeImplInput.preAPIHook,\n                                        action: \"EMAIL_PASSWORD_SIGN_UP\",\n                                        options: options,\n                                        userContext: userContext,\n                                    }),\n                                    querier_1.default.preparePostAPIHook({\n                                        recipePostAPIHook: recipeImplInput.postAPIHook,\n                                        action: \"EMAIL_PASSWORD_SIGN_UP\",\n                                        userContext: userContext,\n                                    })\n                                ),\n                            ];\n                        case 1:\n                            (_b = _c.sent()), (jsonBody = _b.jsonBody), (fetchResponse = _b.fetchResponse);\n                            if (jsonBody.status === \"FIELD_ERROR\") {\n                                return [\n                                    2 /*return*/,\n                                    {\n                                        status: \"FIELD_ERROR\",\n                                        formFields: jsonBody.formFields,\n                                        fetchResponse: fetchResponse,\n                                    },\n                                ];\n                            }\n                            return [\n                                2 /*return*/,\n                                {\n                                    status: jsonBody.status,\n                                    user: jsonBody.user,\n                                    fetchResponse: fetchResponse,\n                                },\n                            ];\n                    }\n                });\n            });\n        },\n        signIn: function (_a) {\n            var formFields = _a.formFields,\n                options = _a.options,\n                userContext = _a.userContext;\n            return __awaiter(this, void 0, void 0, function () {\n                var _b, jsonBody, fetchResponse;\n                return __generator(this, function (_c) {\n                    switch (_c.label) {\n                        case 0:\n                            return [\n                                4 /*yield*/,\n                                querier.post(\n                                    \"/signin\",\n                                    { body: JSON.stringify({ formFields: formFields }) },\n                                    querier_1.default.preparePreAPIHook({\n                                        recipePreAPIHook: recipeImplInput.preAPIHook,\n                                        action: \"EMAIL_PASSWORD_SIGN_IN\",\n                                        options: options,\n                                        userContext: userContext,\n                                    }),\n                                    querier_1.default.preparePostAPIHook({\n                                        recipePostAPIHook: recipeImplInput.postAPIHook,\n                                        action: \"EMAIL_PASSWORD_SIGN_IN\",\n                                        userContext: userContext,\n                                    })\n                                ),\n                            ];\n                        case 1:\n                            (_b = _c.sent()), (jsonBody = _b.jsonBody), (fetchResponse = _b.fetchResponse);\n                            if (jsonBody.status === \"FIELD_ERROR\") {\n                                return [\n                                    2 /*return*/,\n                                    {\n                                        status: \"FIELD_ERROR\",\n                                        formFields: jsonBody.formFields,\n                                        fetchResponse: fetchResponse,\n                                    },\n                                ];\n                            }\n                            if (jsonBody.status === \"WRONG_CREDENTIALS_ERROR\") {\n                                return [\n                                    2 /*return*/,\n                                    {\n                                        status: \"WRONG_CREDENTIALS_ERROR\",\n                                        fetchResponse: fetchResponse,\n                                    },\n                                ];\n                            }\n                            return [\n                                2 /*return*/,\n                                {\n                                    status: \"OK\",\n                                    user: jsonBody.user,\n                                    fetchResponse: fetchResponse,\n                                },\n                            ];\n                    }\n                });\n            });\n        },\n        doesEmailExist: function (_a) {\n            var email = _a.email,\n                options = _a.options,\n                userContext = _a.userContext;\n            return __awaiter(this, void 0, void 0, function () {\n                var _b, jsonBody, fetchResponse;\n                return __generator(this, function (_c) {\n                    switch (_c.label) {\n                        case 0:\n                            return [\n                                4 /*yield*/,\n                                querier.get(\n                                    \"/signup/email/exists\",\n                                    {},\n                                    { email: email },\n                                    querier_1.default.preparePreAPIHook({\n                                        recipePreAPIHook: recipeImplInput.preAPIHook,\n                                        action: \"EMAIL_EXISTS\",\n                                        options: options,\n                                        userContext: userContext,\n                                    }),\n                                    querier_1.default.preparePostAPIHook({\n                                        recipePostAPIHook: recipeImplInput.postAPIHook,\n                                        action: \"EMAIL_EXISTS\",\n                                        userContext: userContext,\n                                    })\n                                ),\n                            ];\n                        case 1:\n                            (_b = _c.sent()), (jsonBody = _b.jsonBody), (fetchResponse = _b.fetchResponse);\n                            return [\n                                2 /*return*/,\n                                {\n                                    status: jsonBody.status,\n                                    doesExist: jsonBody.exists,\n                                    fetchResponse: fetchResponse,\n                                },\n                            ];\n                    }\n                });\n            });\n        },\n        getResetPasswordTokenFromURL: function () {\n            var token = (0, utils_1.getQueryParams)(\"token\");\n            if (token === undefined) {\n                return \"\";\n            }\n            return token;\n        },\n    };\n}\nexports[\"default\"] = getRecipeImplementation;\nexports.getRecipeImplementation = getRecipeImplementation;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3VwZXJ0b2tlbnMtd2ViLWpzL2xpYi9idWlsZC9yZWNpcGUvZW1haWxwYXNzd29yZC9yZWNpcGVJbXBsZW1lbnRhdGlvbi5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixnREFBZ0Q7QUFDbkU7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELCtCQUErQjtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLG1CQUFPLENBQUMsNkVBQWU7QUFDdkMsY0FBYyxtQkFBTyxDQUFDLHlFQUFhO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsdUJBQXVCLHVEQUF1RCxHQUFHO0FBQ3ZIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUM7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUM7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsdUJBQXVCLHdCQUF3QixHQUFHO0FBQ3hGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUM7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUM7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0MsdUJBQXVCLHdCQUF3QixHQUFHO0FBQ3hGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUM7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUM7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyx1QkFBdUIsd0JBQXdCLEdBQUc7QUFDeEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUM7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0M7QUFDdEMsc0NBQXNDLGNBQWM7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxrQkFBZTtBQUNmLCtCQUErQiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvc3VwZXJ0b2tlbnMtd2ViLWpzL2xpYi9idWlsZC9yZWNpcGUvZW1haWxwYXNzd29yZC9yZWNpcGVJbXBsZW1lbnRhdGlvbi5qcz9hNTg5Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fYXdhaXRlciA9XG4gICAgKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8XG4gICAgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgICAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUFxuICAgICAgICAgICAgICAgID8gdmFsdWVcbiAgICAgICAgICAgICAgICA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgICAgICB9KTtcbiAgICB9O1xudmFyIF9fZ2VuZXJhdG9yID1cbiAgICAodGhpcyAmJiB0aGlzLl9fZ2VuZXJhdG9yKSB8fFxuICAgIGZ1bmN0aW9uICh0aGlzQXJnLCBib2R5KSB7XG4gICAgICAgIHZhciBfID0ge1xuICAgICAgICAgICAgICAgIGxhYmVsOiAwLFxuICAgICAgICAgICAgICAgIHNlbnQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdFsxXTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHRyeXM6IFtdLFxuICAgICAgICAgICAgICAgIG9wczogW10sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZixcbiAgICAgICAgICAgIHksXG4gICAgICAgICAgICB0LFxuICAgICAgICAgICAgZztcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIChnID0geyBuZXh0OiB2ZXJiKDApLCB0aHJvdzogdmVyYigxKSwgcmV0dXJuOiB2ZXJiKDIpIH0pLFxuICAgICAgICAgICAgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmXG4gICAgICAgICAgICAgICAgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBnXG4gICAgICAgICk7XG4gICAgICAgIGZ1bmN0aW9uIHZlcmIobikge1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICh2KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0ZXAoW24sIHZdKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChvcCkge1xuICAgICAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xuICAgICAgICAgICAgd2hpbGUgKF8pXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgKChmID0gMSksXG4gICAgICAgICAgICAgICAgICAgICAgICB5ICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKHQgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcFswXSAmIDJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8geVtcInJldHVyblwiXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBvcFswXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiB5Lm5leHQpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSlcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHQ7XG4gICAgICAgICAgICAgICAgICAgIGlmICgoKHkgPSAwKSwgdCkpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ID0gb3A7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXy5sYWJlbCsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfLmxhYmVsKys7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeSA9IG9wWzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wID0gWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wID0gXy5vcHMucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICEoKHQgPSBfLnRyeXMpLCAodCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF8gPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF8ubGFiZWwgPSBvcFsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfLmxhYmVsID0gdFsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdCA9IG9wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXy5sYWJlbCA9IHRbMl07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF8ub3BzLnB1c2gob3ApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIG9wID0gWzYsIGVdO1xuICAgICAgICAgICAgICAgICAgICB5ID0gMDtcbiAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICBmID0gdCA9IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07XG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xuICAgICAgICB9XG4gICAgfTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuZ2V0UmVjaXBlSW1wbGVtZW50YXRpb24gPSB2b2lkIDA7XG4vKiBDb3B5cmlnaHQgKGMpIDIwMjIsIFZSQUkgTGFicyBhbmQvb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb2Z0d2FyZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGVcbiAqIFwiTGljZW5zZVwiKSBhcyBwdWJsaXNoZWQgYnkgdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLlxuICpcbiAqIFlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heVxuICogb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVRcbiAqIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gU2VlIHRoZVxuICogTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnNcbiAqIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG52YXIgcXVlcmllcl8xID0gcmVxdWlyZShcIi4uLy4uL3F1ZXJpZXJcIik7XG52YXIgdXRpbHNfMSA9IHJlcXVpcmUoXCIuLi8uLi91dGlsc1wiKTtcbmZ1bmN0aW9uIGdldFJlY2lwZUltcGxlbWVudGF0aW9uKHJlY2lwZUltcGxJbnB1dCkge1xuICAgIHZhciBxdWVyaWVyID0gbmV3IHF1ZXJpZXJfMS5kZWZhdWx0KHJlY2lwZUltcGxJbnB1dC5yZWNpcGVJZCwgcmVjaXBlSW1wbElucHV0LmFwcEluZm8pO1xuICAgIHJldHVybiB7XG4gICAgICAgIHN1Ym1pdE5ld1Bhc3N3b3JkOiBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgIHZhciBmb3JtRmllbGRzID0gX2EuZm9ybUZpZWxkcyxcbiAgICAgICAgICAgICAgICBvcHRpb25zID0gX2Eub3B0aW9ucyxcbiAgICAgICAgICAgICAgICB1c2VyQ29udGV4dCA9IF9hLnVzZXJDb250ZXh0O1xuICAgICAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciB0b2tlbiwgX2IsIGpzb25Cb2R5LCBmZXRjaFJlc3BvbnNlO1xuICAgICAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2MpIHtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfYy5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuID0gdGhpcy5nZXRSZXNldFBhc3N3b3JkVG9rZW5Gcm9tVVJMKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlckNvbnRleHQ6IHVzZXJDb250ZXh0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDQgLyp5aWVsZCovLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdWVyaWVyLnBvc3QoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIi91c2VyL3Bhc3N3b3JkL3Jlc2V0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgZm9ybUZpZWxkczogZm9ybUZpZWxkcywgdG9rZW46IHRva2VuLCBtZXRob2Q6IFwidG9rZW5cIiB9KSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVlcmllcl8xLmRlZmF1bHQucHJlcGFyZVByZUFQSUhvb2soe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlY2lwZVByZUFQSUhvb2s6IHJlY2lwZUltcGxJbnB1dC5wcmVBUElIb29rLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbjogXCJTVUJNSVRfTkVXX1BBU1NXT1JEXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uczogb3B0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyQ29udGV4dDogdXNlckNvbnRleHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXJpZXJfMS5kZWZhdWx0LnByZXBhcmVQb3N0QVBJSG9vayh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVjaXBlUG9zdEFQSUhvb2s6IHJlY2lwZUltcGxJbnB1dC5wb3N0QVBJSG9vayxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb246IFwiU1VCTUlUX05FV19QQVNTV09SRFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJDb250ZXh0OiB1c2VyQ29udGV4dCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoX2IgPSBfYy5zZW50KCkpLCAoanNvbkJvZHkgPSBfYi5qc29uQm9keSksIChmZXRjaFJlc3BvbnNlID0gX2IuZmV0Y2hSZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGpzb25Cb2R5LnN0YXR1cyA9PT0gXCJGSUVMRF9FUlJPUlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAyIC8qcmV0dXJuKi8sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBcIkZJRUxEX0VSUk9SXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybUZpZWxkczoganNvbkJvZHkuZm9ybUZpZWxkcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmZXRjaFJlc3BvbnNlOiBmZXRjaFJlc3BvbnNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMiAvKnJldHVybiovLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IGpzb25Cb2R5LnN0YXR1cyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZldGNoUmVzcG9uc2U6IGZldGNoUmVzcG9uc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIHNlbmRQYXNzd29yZFJlc2V0RW1haWw6IGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgdmFyIGZvcm1GaWVsZHMgPSBfYS5mb3JtRmllbGRzLFxuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSBfYS5vcHRpb25zLFxuICAgICAgICAgICAgICAgIHVzZXJDb250ZXh0ID0gX2EudXNlckNvbnRleHQ7XG4gICAgICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIF9iLCBqc29uQm9keSwgZmV0Y2hSZXNwb25zZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9jKSB7XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2MubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA0IC8qeWllbGQqLyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVlcmllci5wb3N0KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCIvdXNlci9wYXNzd29yZC9yZXNldC90b2tlblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBib2R5OiBKU09OLnN0cmluZ2lmeSh7IGZvcm1GaWVsZHM6IGZvcm1GaWVsZHMgfSkgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXJpZXJfMS5kZWZhdWx0LnByZXBhcmVQcmVBUElIb29rKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWNpcGVQcmVBUElIb29rOiByZWNpcGVJbXBsSW5wdXQucHJlQVBJSG9vayxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb246IFwiU0VORF9SRVNFVF9QQVNTV09SRF9FTUFJTFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IG9wdGlvbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlckNvbnRleHQ6IHVzZXJDb250ZXh0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdWVyaWVyXzEuZGVmYXVsdC5wcmVwYXJlUG9zdEFQSUhvb2soe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlY2lwZVBvc3RBUElIb29rOiByZWNpcGVJbXBsSW5wdXQucG9zdEFQSUhvb2ssXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiBcIlNFTkRfUkVTRVRfUEFTU1dPUkRfRU1BSUxcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyQ29udGV4dDogdXNlckNvbnRleHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKF9iID0gX2Muc2VudCgpKSwgKGpzb25Cb2R5ID0gX2IuanNvbkJvZHkpLCAoZmV0Y2hSZXNwb25zZSA9IF9iLmZldGNoUmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChqc29uQm9keS5zdGF0dXMgPT09IFwiRklFTERfRVJST1JcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMiAvKnJldHVybiovLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogXCJGSUVMRF9FUlJPUlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1GaWVsZHM6IGpzb25Cb2R5LmZvcm1GaWVsZHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmV0Y2hSZXNwb25zZTogZmV0Y2hSZXNwb25zZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDIgLypyZXR1cm4qLyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBqc29uQm9keS5zdGF0dXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmZXRjaFJlc3BvbnNlOiBmZXRjaFJlc3BvbnNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBzaWduVXA6IGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgdmFyIGZvcm1GaWVsZHMgPSBfYS5mb3JtRmllbGRzLFxuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSBfYS5vcHRpb25zLFxuICAgICAgICAgICAgICAgIHVzZXJDb250ZXh0ID0gX2EudXNlckNvbnRleHQ7XG4gICAgICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIF9iLCBqc29uQm9keSwgZmV0Y2hSZXNwb25zZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9jKSB7XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2MubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA0IC8qeWllbGQqLyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVlcmllci5wb3N0KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCIvc2lnbnVwXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgZm9ybUZpZWxkczogZm9ybUZpZWxkcyB9KSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVlcmllcl8xLmRlZmF1bHQucHJlcGFyZVByZUFQSUhvb2soe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlY2lwZVByZUFQSUhvb2s6IHJlY2lwZUltcGxJbnB1dC5wcmVBUElIb29rLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbjogXCJFTUFJTF9QQVNTV09SRF9TSUdOX1VQXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uczogb3B0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyQ29udGV4dDogdXNlckNvbnRleHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXJpZXJfMS5kZWZhdWx0LnByZXBhcmVQb3N0QVBJSG9vayh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVjaXBlUG9zdEFQSUhvb2s6IHJlY2lwZUltcGxJbnB1dC5wb3N0QVBJSG9vayxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb246IFwiRU1BSUxfUEFTU1dPUkRfU0lHTl9VUFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJDb250ZXh0OiB1c2VyQ29udGV4dCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoX2IgPSBfYy5zZW50KCkpLCAoanNvbkJvZHkgPSBfYi5qc29uQm9keSksIChmZXRjaFJlc3BvbnNlID0gX2IuZmV0Y2hSZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGpzb25Cb2R5LnN0YXR1cyA9PT0gXCJGSUVMRF9FUlJPUlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAyIC8qcmV0dXJuKi8sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBcIkZJRUxEX0VSUk9SXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybUZpZWxkczoganNvbkJvZHkuZm9ybUZpZWxkcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmZXRjaFJlc3BvbnNlOiBmZXRjaFJlc3BvbnNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMiAvKnJldHVybiovLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IGpzb25Cb2R5LnN0YXR1cyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXI6IGpzb25Cb2R5LnVzZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmZXRjaFJlc3BvbnNlOiBmZXRjaFJlc3BvbnNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBzaWduSW46IGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgdmFyIGZvcm1GaWVsZHMgPSBfYS5mb3JtRmllbGRzLFxuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSBfYS5vcHRpb25zLFxuICAgICAgICAgICAgICAgIHVzZXJDb250ZXh0ID0gX2EudXNlckNvbnRleHQ7XG4gICAgICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIF9iLCBqc29uQm9keSwgZmV0Y2hSZXNwb25zZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9jKSB7XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2MubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA0IC8qeWllbGQqLyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVlcmllci5wb3N0KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCIvc2lnbmluXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgZm9ybUZpZWxkczogZm9ybUZpZWxkcyB9KSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVlcmllcl8xLmRlZmF1bHQucHJlcGFyZVByZUFQSUhvb2soe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlY2lwZVByZUFQSUhvb2s6IHJlY2lwZUltcGxJbnB1dC5wcmVBUElIb29rLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbjogXCJFTUFJTF9QQVNTV09SRF9TSUdOX0lOXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uczogb3B0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyQ29udGV4dDogdXNlckNvbnRleHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXJpZXJfMS5kZWZhdWx0LnByZXBhcmVQb3N0QVBJSG9vayh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVjaXBlUG9zdEFQSUhvb2s6IHJlY2lwZUltcGxJbnB1dC5wb3N0QVBJSG9vayxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb246IFwiRU1BSUxfUEFTU1dPUkRfU0lHTl9JTlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJDb250ZXh0OiB1c2VyQ29udGV4dCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoX2IgPSBfYy5zZW50KCkpLCAoanNvbkJvZHkgPSBfYi5qc29uQm9keSksIChmZXRjaFJlc3BvbnNlID0gX2IuZmV0Y2hSZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGpzb25Cb2R5LnN0YXR1cyA9PT0gXCJGSUVMRF9FUlJPUlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAyIC8qcmV0dXJuKi8sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBcIkZJRUxEX0VSUk9SXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybUZpZWxkczoganNvbkJvZHkuZm9ybUZpZWxkcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmZXRjaFJlc3BvbnNlOiBmZXRjaFJlc3BvbnNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGpzb25Cb2R5LnN0YXR1cyA9PT0gXCJXUk9OR19DUkVERU5USUFMU19FUlJPUlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAyIC8qcmV0dXJuKi8sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBcIldST05HX0NSRURFTlRJQUxTX0VSUk9SXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmV0Y2hSZXNwb25zZTogZmV0Y2hSZXNwb25zZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDIgLypyZXR1cm4qLyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBcIk9LXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyOiBqc29uQm9keS51c2VyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmV0Y2hSZXNwb25zZTogZmV0Y2hSZXNwb25zZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgZG9lc0VtYWlsRXhpc3Q6IGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgdmFyIGVtYWlsID0gX2EuZW1haWwsXG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IF9hLm9wdGlvbnMsXG4gICAgICAgICAgICAgICAgdXNlckNvbnRleHQgPSBfYS51c2VyQ29udGV4dDtcbiAgICAgICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgX2IsIGpzb25Cb2R5LCBmZXRjaFJlc3BvbnNlO1xuICAgICAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2MpIHtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfYy5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDQgLyp5aWVsZCovLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdWVyaWVyLmdldChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiL3NpZ251cC9lbWFpbC9leGlzdHNcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBlbWFpbDogZW1haWwgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXJpZXJfMS5kZWZhdWx0LnByZXBhcmVQcmVBUElIb29rKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWNpcGVQcmVBUElIb29rOiByZWNpcGVJbXBsSW5wdXQucHJlQVBJSG9vayxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb246IFwiRU1BSUxfRVhJU1RTXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uczogb3B0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyQ29udGV4dDogdXNlckNvbnRleHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXJpZXJfMS5kZWZhdWx0LnByZXBhcmVQb3N0QVBJSG9vayh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVjaXBlUG9zdEFQSUhvb2s6IHJlY2lwZUltcGxJbnB1dC5wb3N0QVBJSG9vayxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb246IFwiRU1BSUxfRVhJU1RTXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlckNvbnRleHQ6IHVzZXJDb250ZXh0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChfYiA9IF9jLnNlbnQoKSksIChqc29uQm9keSA9IF9iLmpzb25Cb2R5KSwgKGZldGNoUmVzcG9uc2UgPSBfYi5mZXRjaFJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAyIC8qcmV0dXJuKi8sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czoganNvbkJvZHkuc3RhdHVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9lc0V4aXN0OiBqc29uQm9keS5leGlzdHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmZXRjaFJlc3BvbnNlOiBmZXRjaFJlc3BvbnNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBnZXRSZXNldFBhc3N3b3JkVG9rZW5Gcm9tVVJMOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgdG9rZW4gPSAoMCwgdXRpbHNfMS5nZXRRdWVyeVBhcmFtcykoXCJ0b2tlblwiKTtcbiAgICAgICAgICAgIGlmICh0b2tlbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdG9rZW47XG4gICAgICAgIH0sXG4gICAgfTtcbn1cbmV4cG9ydHMuZGVmYXVsdCA9IGdldFJlY2lwZUltcGxlbWVudGF0aW9uO1xuZXhwb3J0cy5nZXRSZWNpcGVJbXBsZW1lbnRhdGlvbiA9IGdldFJlY2lwZUltcGxlbWVudGF0aW9uO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/supertokens-web-js/lib/build/recipe/emailpassword/recipeImplementation.js\n"));

/***/ }),

/***/ "./node_modules/supertokens-web-js/lib/build/recipe/emailpassword/utils.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/supertokens-web-js/lib/build/recipe/emailpassword/utils.js ***!
  \*********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\n/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nvar __assign =\n    (this && this.__assign) ||\n    function () {\n        __assign =\n            Object.assign ||\n            function (t) {\n                for (var s, i = 1, n = arguments.length; i < n; i++) {\n                    s = arguments[i];\n                    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n                }\n                return t;\n            };\n        return __assign.apply(this, arguments);\n    };\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.normaliseUserInput = void 0;\nvar utils_1 = __webpack_require__(/*! ../authRecipe/utils */ \"./node_modules/supertokens-web-js/lib/build/recipe/authRecipe/utils.js\");\nfunction normaliseUserInput(config) {\n    var override = __assign(\n        {\n            functions: function (originalImplementation) {\n                return originalImplementation;\n            },\n        },\n        config.override\n    );\n    return __assign(__assign({}, (0, utils_1.normaliseAuthRecipe)(config)), { override: override });\n}\nexports.normaliseUserInput = normaliseUserInput;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3VwZXJ0b2tlbnMtd2ViLWpzL2xpYi9idWlsZC9yZWNpcGUvZW1haWxwYXNzd29yZC91dGlscy5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5REFBeUQsT0FBTztBQUNoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCwwQkFBMEI7QUFDMUIsY0FBYyxtQkFBTyxDQUFDLG1HQUFxQjtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0EsK0JBQStCLCtDQUErQyxvQkFBb0I7QUFDbEc7QUFDQSwwQkFBMEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3N1cGVydG9rZW5zLXdlYi1qcy9saWIvYnVpbGQvcmVjaXBlL2VtYWlscGFzc3dvcmQvdXRpbHMuanM/ZDk1ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qIENvcHlyaWdodCAoYykgMjAyMiwgVlJBSSBMYWJzIGFuZC9vciBpdHMgYWZmaWxpYXRlcy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvZnR3YXJlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZVxuICogXCJMaWNlbnNlXCIpIGFzIHB1Ymxpc2hlZCBieSB0aGUgQXBhY2hlIFNvZnR3YXJlIEZvdW5kYXRpb24uXG4gKlxuICogWW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5XG4gKiBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVFxuICogV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiBTZWUgdGhlXG4gKiBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9uc1xuICogdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbnZhciBfX2Fzc2lnbiA9XG4gICAgKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHxcbiAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF9fYXNzaWduID1cbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24gfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uICh0KSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0O1xuICAgICAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMubm9ybWFsaXNlVXNlcklucHV0ID0gdm9pZCAwO1xudmFyIHV0aWxzXzEgPSByZXF1aXJlKFwiLi4vYXV0aFJlY2lwZS91dGlsc1wiKTtcbmZ1bmN0aW9uIG5vcm1hbGlzZVVzZXJJbnB1dChjb25maWcpIHtcbiAgICB2YXIgb3ZlcnJpZGUgPSBfX2Fzc2lnbihcbiAgICAgICAge1xuICAgICAgICAgICAgZnVuY3Rpb25zOiBmdW5jdGlvbiAob3JpZ2luYWxJbXBsZW1lbnRhdGlvbikge1xuICAgICAgICAgICAgICAgIHJldHVybiBvcmlnaW5hbEltcGxlbWVudGF0aW9uO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgY29uZmlnLm92ZXJyaWRlXG4gICAgKTtcbiAgICByZXR1cm4gX19hc3NpZ24oX19hc3NpZ24oe30sICgwLCB1dGlsc18xLm5vcm1hbGlzZUF1dGhSZWNpcGUpKGNvbmZpZykpLCB7IG92ZXJyaWRlOiBvdmVycmlkZSB9KTtcbn1cbmV4cG9ydHMubm9ybWFsaXNlVXNlcklucHV0ID0gbm9ybWFsaXNlVXNlcklucHV0O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/supertokens-web-js/lib/build/recipe/emailpassword/utils.js\n"));

/***/ }),

/***/ "./node_modules/supertokens-web-js/lib/build/recipe/recipeModule/index.js":
/*!********************************************************************************!*\
  !*** ./node_modules/supertokens-web-js/lib/build/recipe/recipeModule/index.js ***!
  \********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nvar RecipeModule = /** @class */ (function () {\n    function RecipeModule(config) {\n        this.config = config;\n    }\n    return RecipeModule;\n})();\nexports[\"default\"] = RecipeModule;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3VwZXJ0b2tlbnMtd2ViLWpzL2xpYi9idWlsZC9yZWNpcGUvcmVjaXBlTW9kdWxlL2luZGV4LmpzLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Qsa0JBQWUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3N1cGVydG9rZW5zLXdlYi1qcy9saWIvYnVpbGQvcmVjaXBlL3JlY2lwZU1vZHVsZS9pbmRleC5qcz8yMmI0Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIFJlY2lwZU1vZHVsZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSZWNpcGVNb2R1bGUoY29uZmlnKSB7XG4gICAgICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xuICAgIH1cbiAgICByZXR1cm4gUmVjaXBlTW9kdWxlO1xufSkoKTtcbmV4cG9ydHMuZGVmYXVsdCA9IFJlY2lwZU1vZHVsZTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/supertokens-web-js/lib/build/recipe/recipeModule/index.js\n"));

/***/ }),

/***/ "./node_modules/supertokens-web-js/lib/build/recipe/recipeModule/utils.js":
/*!********************************************************************************!*\
  !*** ./node_modules/supertokens-web-js/lib/build/recipe/recipeModule/utils.js ***!
  \********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nvar __awaiter =\n    (this && this.__awaiter) ||\n    function (thisArg, _arguments, P, generator) {\n        function adopt(value) {\n            return value instanceof P\n                ? value\n                : new P(function (resolve) {\n                      resolve(value);\n                  });\n        }\n        return new (P || (P = Promise))(function (resolve, reject) {\n            function fulfilled(value) {\n                try {\n                    step(generator.next(value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function rejected(value) {\n                try {\n                    step(generator[\"throw\"](value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function step(result) {\n                result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n            }\n            step((generator = generator.apply(thisArg, _arguments || [])).next());\n        });\n    };\nvar __generator =\n    (this && this.__generator) ||\n    function (thisArg, body) {\n        var _ = {\n                label: 0,\n                sent: function () {\n                    if (t[0] & 1) throw t[1];\n                    return t[1];\n                },\n                trys: [],\n                ops: [],\n            },\n            f,\n            y,\n            t,\n            g;\n        return (\n            (g = { next: verb(0), throw: verb(1), return: verb(2) }),\n            typeof Symbol === \"function\" &&\n                (g[Symbol.iterator] = function () {\n                    return this;\n                }),\n            g\n        );\n        function verb(n) {\n            return function (v) {\n                return step([n, v]);\n            };\n        }\n        function step(op) {\n            if (f) throw new TypeError(\"Generator is already executing.\");\n            while (_)\n                try {\n                    if (\n                        ((f = 1),\n                        y &&\n                            (t =\n                                op[0] & 2\n                                    ? y[\"return\"]\n                                    : op[0]\n                                    ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0)\n                                    : y.next) &&\n                            !(t = t.call(y, op[1])).done)\n                    )\n                        return t;\n                    if (((y = 0), t)) op = [op[0] & 2, t.value];\n                    switch (op[0]) {\n                        case 0:\n                        case 1:\n                            t = op;\n                            break;\n                        case 4:\n                            _.label++;\n                            return { value: op[1], done: false };\n                        case 5:\n                            _.label++;\n                            y = op[1];\n                            op = [0];\n                            continue;\n                        case 7:\n                            op = _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                        default:\n                            if (\n                                !((t = _.trys), (t = t.length > 0 && t[t.length - 1])) &&\n                                (op[0] === 6 || op[0] === 2)\n                            ) {\n                                _ = 0;\n                                continue;\n                            }\n                            if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) {\n                                _.label = op[1];\n                                break;\n                            }\n                            if (op[0] === 6 && _.label < t[1]) {\n                                _.label = t[1];\n                                t = op;\n                                break;\n                            }\n                            if (t && _.label < t[2]) {\n                                _.label = t[2];\n                                _.ops.push(op);\n                                break;\n                            }\n                            if (t[2]) _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                    }\n                    op = body.call(thisArg, _);\n                } catch (e) {\n                    op = [6, e];\n                    y = 0;\n                } finally {\n                    f = t = 0;\n                }\n            if (op[0] & 5) throw op[1];\n            return { value: op[0] ? op[1] : void 0, done: true };\n        }\n    };\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.normaliseRecipeModuleConfig = void 0;\nfunction normaliseRecipeModuleConfig(config) {\n    var _this = this;\n    var preAPIHook = config.preAPIHook;\n    if (preAPIHook === undefined) {\n        preAPIHook = function (context) {\n            return __awaiter(_this, void 0, void 0, function () {\n                return __generator(this, function (_a) {\n                    return [2 /*return*/, context];\n                });\n            });\n        };\n    }\n    var postAPIHook = config.postAPIHook;\n    if (postAPIHook === undefined) {\n        postAPIHook = function () {\n            return __awaiter(_this, void 0, void 0, function () {\n                return __generator(this, function (_a) {\n                    return [2 /*return*/];\n                });\n            });\n        };\n    }\n    return {\n        recipeId: config.recipeId,\n        appInfo: config.appInfo,\n        preAPIHook: preAPIHook,\n        postAPIHook: postAPIHook,\n    };\n}\nexports.normaliseRecipeModuleConfig = normaliseRecipeModuleConfig;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3VwZXJ0b2tlbnMtd2ViLWpzL2xpYi9idWlsZC9yZWNpcGUvcmVjaXBlTW9kdWxlL3V0aWxzLmpzLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLGdEQUFnRDtBQUNuRTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUM7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsbUNBQW1DO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvc3VwZXJ0b2tlbnMtd2ViLWpzL2xpYi9idWlsZC9yZWNpcGUvcmVjaXBlTW9kdWxlL3V0aWxzLmpzPzJjYjQiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19hd2FpdGVyID1cbiAgICAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHxcbiAgICBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQXG4gICAgICAgICAgICAgICAgPyB2YWx1ZVxuICAgICAgICAgICAgICAgIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgICAgIH0pO1xuICAgIH07XG52YXIgX19nZW5lcmF0b3IgPVxuICAgICh0aGlzICYmIHRoaXMuX19nZW5lcmF0b3IpIHx8XG4gICAgZnVuY3Rpb24gKHRoaXNBcmcsIGJvZHkpIHtcbiAgICAgICAgdmFyIF8gPSB7XG4gICAgICAgICAgICAgICAgbGFiZWw6IDAsXG4gICAgICAgICAgICAgICAgc2VudDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodFswXSAmIDEpIHRocm93IHRbMV07XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0WzFdO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdHJ5czogW10sXG4gICAgICAgICAgICAgICAgb3BzOiBbXSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmLFxuICAgICAgICAgICAgeSxcbiAgICAgICAgICAgIHQsXG4gICAgICAgICAgICBnO1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgKGcgPSB7IG5leHQ6IHZlcmIoMCksIHRocm93OiB2ZXJiKDEpLCByZXR1cm46IHZlcmIoMikgfSksXG4gICAgICAgICAgICB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiZcbiAgICAgICAgICAgICAgICAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIGdcbiAgICAgICAgKTtcbiAgICAgICAgZnVuY3Rpb24gdmVyYihuKSB7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RlcChbbiwgdl0pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XG4gICAgICAgICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XG4gICAgICAgICAgICB3aGlsZSAoXylcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAoKGYgPSAxKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAodCA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wWzBdICYgMlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB5W1wicmV0dXJuXCJdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG9wWzBdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHkubmV4dCkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCgoeSA9IDApLCB0KSkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHQgPSBvcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfLmxhYmVsKys7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF8ubGFiZWwrKztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB5ID0gb3BbMV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3AgPSBbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3AgPSBfLm9wcy5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgISgodCA9IF8udHJ5cyksICh0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXyA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXy5sYWJlbCA9IG9wWzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF8ubGFiZWwgPSB0WzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ID0gb3A7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfLmxhYmVsID0gdFsyXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXy5vcHMucHVzaChvcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgb3AgPSBbNiwgZV07XG4gICAgICAgICAgICAgICAgICAgIHkgPSAwO1xuICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIGYgPSB0ID0gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTtcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XG4gICAgICAgIH1cbiAgICB9O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5ub3JtYWxpc2VSZWNpcGVNb2R1bGVDb25maWcgPSB2b2lkIDA7XG5mdW5jdGlvbiBub3JtYWxpc2VSZWNpcGVNb2R1bGVDb25maWcoY29uZmlnKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcbiAgICB2YXIgcHJlQVBJSG9vayA9IGNvbmZpZy5wcmVBUElIb29rO1xuICAgIGlmIChwcmVBUElIb29rID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcHJlQVBJSG9vayA9IGZ1bmN0aW9uIChjb250ZXh0KSB7XG4gICAgICAgICAgICByZXR1cm4gX19hd2FpdGVyKF90aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIGNvbnRleHRdO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIHZhciBwb3N0QVBJSG9vayA9IGNvbmZpZy5wb3N0QVBJSG9vaztcbiAgICBpZiAocG9zdEFQSUhvb2sgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBwb3N0QVBJSG9vayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBfX2F3YWl0ZXIoX3RoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmVjaXBlSWQ6IGNvbmZpZy5yZWNpcGVJZCxcbiAgICAgICAgYXBwSW5mbzogY29uZmlnLmFwcEluZm8sXG4gICAgICAgIHByZUFQSUhvb2s6IHByZUFQSUhvb2ssXG4gICAgICAgIHBvc3RBUElIb29rOiBwb3N0QVBJSG9vayxcbiAgICB9O1xufVxuZXhwb3J0cy5ub3JtYWxpc2VSZWNpcGVNb2R1bGVDb25maWcgPSBub3JtYWxpc2VSZWNpcGVNb2R1bGVDb25maWc7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/supertokens-web-js/lib/build/recipe/recipeModule/utils.js\n"));

/***/ }),

/***/ "./node_modules/supertokens-web-js/lib/build/recipe/session/index.js":
/*!***************************************************************************!*\
  !*** ./node_modules/supertokens-web-js/lib/build/recipe/session/index.js ***!
  \***************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nvar __awaiter =\n    (this && this.__awaiter) ||\n    function (thisArg, _arguments, P, generator) {\n        function adopt(value) {\n            return value instanceof P\n                ? value\n                : new P(function (resolve) {\n                      resolve(value);\n                  });\n        }\n        return new (P || (P = Promise))(function (resolve, reject) {\n            function fulfilled(value) {\n                try {\n                    step(generator.next(value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function rejected(value) {\n                try {\n                    step(generator[\"throw\"](value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function step(result) {\n                result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n            }\n            step((generator = generator.apply(thisArg, _arguments || [])).next());\n        });\n    };\nvar __generator =\n    (this && this.__generator) ||\n    function (thisArg, body) {\n        var _ = {\n                label: 0,\n                sent: function () {\n                    if (t[0] & 1) throw t[1];\n                    return t[1];\n                },\n                trys: [],\n                ops: [],\n            },\n            f,\n            y,\n            t,\n            g;\n        return (\n            (g = { next: verb(0), throw: verb(1), return: verb(2) }),\n            typeof Symbol === \"function\" &&\n                (g[Symbol.iterator] = function () {\n                    return this;\n                }),\n            g\n        );\n        function verb(n) {\n            return function (v) {\n                return step([n, v]);\n            };\n        }\n        function step(op) {\n            if (f) throw new TypeError(\"Generator is already executing.\");\n            while (_)\n                try {\n                    if (\n                        ((f = 1),\n                        y &&\n                            (t =\n                                op[0] & 2\n                                    ? y[\"return\"]\n                                    : op[0]\n                                    ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0)\n                                    : y.next) &&\n                            !(t = t.call(y, op[1])).done)\n                    )\n                        return t;\n                    if (((y = 0), t)) op = [op[0] & 2, t.value];\n                    switch (op[0]) {\n                        case 0:\n                        case 1:\n                            t = op;\n                            break;\n                        case 4:\n                            _.label++;\n                            return { value: op[1], done: false };\n                        case 5:\n                            _.label++;\n                            y = op[1];\n                            op = [0];\n                            continue;\n                        case 7:\n                            op = _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                        default:\n                            if (\n                                !((t = _.trys), (t = t.length > 0 && t[t.length - 1])) &&\n                                (op[0] === 6 || op[0] === 2)\n                            ) {\n                                _ = 0;\n                                continue;\n                            }\n                            if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) {\n                                _.label = op[1];\n                                break;\n                            }\n                            if (op[0] === 6 && _.label < t[1]) {\n                                _.label = t[1];\n                                t = op;\n                                break;\n                            }\n                            if (t && _.label < t[2]) {\n                                _.label = t[2];\n                                _.ops.push(op);\n                                break;\n                            }\n                            if (t[2]) _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                    }\n                    op = body.call(thisArg, _);\n                } catch (e) {\n                    op = [6, e];\n                    y = 0;\n                } finally {\n                    f = t = 0;\n                }\n            if (op[0] & 5) throw op[1];\n            return { value: op[0] ? op[1] : void 0, done: true };\n        }\n    };\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.getInvalidClaimsFromResponse =\n    exports.getClaimValue =\n    exports.validateClaims =\n    exports.signOut =\n    exports.addAxiosInterceptors =\n    exports.doesSessionExist =\n    exports.attemptRefreshingSession =\n    exports.getAccessToken =\n    exports.getAccessTokenPayloadSecurely =\n    exports.getUserId =\n    exports.init =\n    exports.BooleanClaim =\n    exports.PrimitiveArrayClaim =\n    exports.PrimitiveClaim =\n    exports.SessionClaimValidator =\n        void 0;\n/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nvar utils_1 = __webpack_require__(/*! ../../utils */ \"./node_modules/supertokens-web-js/lib/build/utils.js\");\nvar recipe_1 = __webpack_require__(/*! ./recipe */ \"./node_modules/supertokens-web-js/lib/build/recipe/session/recipe.js\");\nvar RecipeWrapper = /** @class */ (function () {\n    function RecipeWrapper() {}\n    RecipeWrapper.init = function (config) {\n        return recipe_1.default.init(config);\n    };\n    RecipeWrapper.getUserId = function (input) {\n        return recipe_1.default.getInstanceOrThrow().getUserId({\n            userContext: (0, utils_1.getNormalisedUserContext)(\n                input === null || input === void 0 ? void 0 : input.userContext\n            ),\n        });\n    };\n    RecipeWrapper.getAccessToken = function (input) {\n        return recipe_1.default.getInstanceOrThrow().getAccessToken({\n            userContext: (0, utils_1.getNormalisedUserContext)(\n                input === null || input === void 0 ? void 0 : input.userContext\n            ),\n        });\n    };\n    RecipeWrapper.getAccessTokenPayloadSecurely = function (input) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [\n                    2 /*return*/,\n                    recipe_1.default.getInstanceOrThrow().getAccessTokenPayloadSecurely({\n                        userContext: (0, utils_1.getNormalisedUserContext)(\n                            input === null || input === void 0 ? void 0 : input.userContext\n                        ),\n                    }),\n                ];\n            });\n        });\n    };\n    RecipeWrapper.attemptRefreshingSession = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, recipe_1.default.getInstanceOrThrow().attemptRefreshingSession()];\n            });\n        });\n    };\n    RecipeWrapper.doesSessionExist = function (input) {\n        return recipe_1.default.getInstanceOrThrow().doesSessionExist({\n            userContext: (0, utils_1.getNormalisedUserContext)(\n                input === null || input === void 0 ? void 0 : input.userContext\n            ),\n        });\n    };\n    /**\n     * @deprecated\n     */\n    // eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\n    RecipeWrapper.addAxiosInterceptors = function (axiosInstance, userContext) {\n        return recipe_1.default.addAxiosInterceptors(axiosInstance, (0, utils_1.getNormalisedUserContext)(userContext));\n    };\n    RecipeWrapper.signOut = function (input) {\n        return recipe_1.default.getInstanceOrThrow().signOut({\n            userContext: (0, utils_1.getNormalisedUserContext)(\n                input === null || input === void 0 ? void 0 : input.userContext\n            ),\n        });\n    };\n    RecipeWrapper.getClaimValue = function (input) {\n        return recipe_1.default.getInstanceOrThrow().getClaimValue({\n            claim: input.claim,\n            userContext: (0, utils_1.getNormalisedUserContext)(\n                input === null || input === void 0 ? void 0 : input.userContext\n            ),\n        });\n    };\n    RecipeWrapper.validateClaims = function (input) {\n        return recipe_1.default.getInstanceOrThrow().validateClaims({\n            overrideGlobalClaimValidators:\n                input === null || input === void 0 ? void 0 : input.overrideGlobalClaimValidators,\n            userContext: (0, utils_1.getNormalisedUserContext)(\n                input === null || input === void 0 ? void 0 : input.userContext\n            ),\n        });\n    };\n    // The strange typing is to avoid adding a dependency to axios\n    RecipeWrapper.getInvalidClaimsFromResponse = function (input) {\n        return recipe_1.default.getInstanceOrThrow().getInvalidClaimsFromResponse({\n            response: input.response,\n            userContext: (0, utils_1.getNormalisedUserContext)(\n                input === null || input === void 0 ? void 0 : input.userContext\n            ),\n        });\n    };\n    return RecipeWrapper;\n})();\nexports[\"default\"] = RecipeWrapper;\nvar init = RecipeWrapper.init;\nexports.init = init;\nvar getUserId = RecipeWrapper.getUserId;\nexports.getUserId = getUserId;\nvar getAccessTokenPayloadSecurely = RecipeWrapper.getAccessTokenPayloadSecurely;\nexports.getAccessTokenPayloadSecurely = getAccessTokenPayloadSecurely;\nvar getAccessToken = RecipeWrapper.getAccessToken;\nexports.getAccessToken = getAccessToken;\nvar attemptRefreshingSession = RecipeWrapper.attemptRefreshingSession;\nexports.attemptRefreshingSession = attemptRefreshingSession;\nvar doesSessionExist = RecipeWrapper.doesSessionExist;\nexports.doesSessionExist = doesSessionExist;\n/**\n * @deprecated\n */\nvar addAxiosInterceptors = RecipeWrapper.addAxiosInterceptors;\nexports.addAxiosInterceptors = addAxiosInterceptors;\nvar signOut = RecipeWrapper.signOut;\nexports.signOut = signOut;\nvar validateClaims = RecipeWrapper.validateClaims;\nexports.validateClaims = validateClaims;\nvar getClaimValue = RecipeWrapper.getClaimValue;\nexports.getClaimValue = getClaimValue;\nvar getInvalidClaimsFromResponse = RecipeWrapper.getInvalidClaimsFromResponse;\nexports.getInvalidClaimsFromResponse = getInvalidClaimsFromResponse;\nvar supertokens_website_1 = __webpack_require__(/*! supertokens-website */ \"./node_modules/supertokens-website/index.js\");\nObject.defineProperty(exports, \"SessionClaimValidator\", ({\n    enumerable: true,\n    get: function () {\n        return supertokens_website_1.SessionClaimValidator;\n    },\n}));\nObject.defineProperty(exports, \"PrimitiveClaim\", ({\n    enumerable: true,\n    get: function () {\n        return supertokens_website_1.PrimitiveClaim;\n    },\n}));\nObject.defineProperty(exports, \"PrimitiveArrayClaim\", ({\n    enumerable: true,\n    get: function () {\n        return supertokens_website_1.PrimitiveArrayClaim;\n    },\n}));\nObject.defineProperty(exports, \"BooleanClaim\", ({\n    enumerable: true,\n    get: function () {\n        return supertokens_website_1.BooleanClaim;\n    },\n}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3VwZXJ0b2tlbnMtd2ViLWpzL2xpYi9idWlsZC9yZWNpcGUvc2Vzc2lvbi9pbmRleC5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixnREFBZ0Q7QUFDbkU7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELG9DQUFvQztBQUNwQyxJQUFJLHFCQUFxQjtBQUN6QixJQUFJLHNCQUFzQjtBQUMxQixJQUFJLGVBQWU7QUFDbkIsSUFBSSw0QkFBNEI7QUFDaEMsSUFBSSx3QkFBd0I7QUFDNUIsSUFBSSxnQ0FBZ0M7QUFDcEMsSUFBSSxzQkFBc0I7QUFDMUIsSUFBSSxxQ0FBcUM7QUFDekMsSUFBSSxpQkFBaUI7QUFDckIsSUFBSSxZQUFZO0FBQ2hCLElBQUksb0JBQW9CO0FBQ3hCLElBQUksMkJBQTJCO0FBQy9CLElBQUksc0JBQXNCO0FBQzFCLElBQUksNkJBQTZCO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsbUJBQU8sQ0FBQyx5RUFBYTtBQUNuQyxlQUFlLG1CQUFPLENBQUMsc0ZBQVU7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxDQUFDO0FBQ0Qsa0JBQWU7QUFDZjtBQUNBLFlBQVk7QUFDWjtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLHFDQUFxQztBQUNyQztBQUNBLHNCQUFzQjtBQUN0QjtBQUNBLGdDQUFnQztBQUNoQztBQUNBLHdCQUF3QjtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QjtBQUM1QjtBQUNBLGVBQWU7QUFDZjtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBLG9DQUFvQztBQUNwQyw0QkFBNEIsbUJBQU8sQ0FBQyx3RUFBcUI7QUFDekQseURBQXdEO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxDQUFDLEVBQUM7QUFDRixrREFBaUQ7QUFDakQ7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLENBQUMsRUFBQztBQUNGLHVEQUFzRDtBQUN0RDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsQ0FBQyxFQUFDO0FBQ0YsZ0RBQStDO0FBQy9DO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxDQUFDLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3N1cGVydG9rZW5zLXdlYi1qcy9saWIvYnVpbGQvcmVjaXBlL3Nlc3Npb24vaW5kZXguanM/MzA3OSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2F3YWl0ZXIgPVxuICAgICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fFxuICAgIGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICAgICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFBcbiAgICAgICAgICAgICAgICA/IHZhbHVlXG4gICAgICAgICAgICAgICAgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkge1xuICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbnZhciBfX2dlbmVyYXRvciA9XG4gICAgKHRoaXMgJiYgdGhpcy5fX2dlbmVyYXRvcikgfHxcbiAgICBmdW5jdGlvbiAodGhpc0FyZywgYm9keSkge1xuICAgICAgICB2YXIgXyA9IHtcbiAgICAgICAgICAgICAgICBsYWJlbDogMCxcbiAgICAgICAgICAgICAgICBzZW50OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRbMV07XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB0cnlzOiBbXSxcbiAgICAgICAgICAgICAgICBvcHM6IFtdLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGYsXG4gICAgICAgICAgICB5LFxuICAgICAgICAgICAgdCxcbiAgICAgICAgICAgIGc7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAoZyA9IHsgbmV4dDogdmVyYigwKSwgdGhyb3c6IHZlcmIoMSksIHJldHVybjogdmVyYigyKSB9KSxcbiAgICAgICAgICAgIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJlxuICAgICAgICAgICAgICAgIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgZ1xuICAgICAgICApO1xuICAgICAgICBmdW5jdGlvbiB2ZXJiKG4pIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAodikge1xuICAgICAgICAgICAgICAgIHJldHVybiBzdGVwKFtuLCB2XSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAob3ApIHtcbiAgICAgICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcbiAgICAgICAgICAgIHdoaWxlIChfKVxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICgoZiA9IDEpLFxuICAgICAgICAgICAgICAgICAgICAgICAgeSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICh0ID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BbMF0gJiAyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHlbXCJyZXR1cm5cIl1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogb3BbMF1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogeS5uZXh0KSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0O1xuICAgICAgICAgICAgICAgICAgICBpZiAoKCh5ID0gMCksIHQpKSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdCA9IG9wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF8ubGFiZWwrKztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXy5sYWJlbCsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHkgPSBvcFsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcCA9IFswXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcCA9IF8ub3BzLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAhKCh0ID0gXy50cnlzKSwgKHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfLmxhYmVsID0gb3BbMV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXy5sYWJlbCA9IHRbMV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHQgPSBvcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF8ubGFiZWwgPSB0WzJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfLm9wcy5wdXNoKG9wKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICBvcCA9IFs2LCBlXTtcbiAgICAgICAgICAgICAgICAgICAgeSA9IDA7XG4gICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgZiA9IHQgPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdO1xuICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcbiAgICAgICAgfVxuICAgIH07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmdldEludmFsaWRDbGFpbXNGcm9tUmVzcG9uc2UgPVxuICAgIGV4cG9ydHMuZ2V0Q2xhaW1WYWx1ZSA9XG4gICAgZXhwb3J0cy52YWxpZGF0ZUNsYWltcyA9XG4gICAgZXhwb3J0cy5zaWduT3V0ID1cbiAgICBleHBvcnRzLmFkZEF4aW9zSW50ZXJjZXB0b3JzID1cbiAgICBleHBvcnRzLmRvZXNTZXNzaW9uRXhpc3QgPVxuICAgIGV4cG9ydHMuYXR0ZW1wdFJlZnJlc2hpbmdTZXNzaW9uID1cbiAgICBleHBvcnRzLmdldEFjY2Vzc1Rva2VuID1cbiAgICBleHBvcnRzLmdldEFjY2Vzc1Rva2VuUGF5bG9hZFNlY3VyZWx5ID1cbiAgICBleHBvcnRzLmdldFVzZXJJZCA9XG4gICAgZXhwb3J0cy5pbml0ID1cbiAgICBleHBvcnRzLkJvb2xlYW5DbGFpbSA9XG4gICAgZXhwb3J0cy5QcmltaXRpdmVBcnJheUNsYWltID1cbiAgICBleHBvcnRzLlByaW1pdGl2ZUNsYWltID1cbiAgICBleHBvcnRzLlNlc3Npb25DbGFpbVZhbGlkYXRvciA9XG4gICAgICAgIHZvaWQgMDtcbi8qIENvcHlyaWdodCAoYykgMjAyMiwgVlJBSSBMYWJzIGFuZC9vciBpdHMgYWZmaWxpYXRlcy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvZnR3YXJlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZVxuICogXCJMaWNlbnNlXCIpIGFzIHB1Ymxpc2hlZCBieSB0aGUgQXBhY2hlIFNvZnR3YXJlIEZvdW5kYXRpb24uXG4gKlxuICogWW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5XG4gKiBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVFxuICogV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiBTZWUgdGhlXG4gKiBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9uc1xuICogdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbnZhciB1dGlsc18xID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzXCIpO1xudmFyIHJlY2lwZV8xID0gcmVxdWlyZShcIi4vcmVjaXBlXCIpO1xudmFyIFJlY2lwZVdyYXBwZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUmVjaXBlV3JhcHBlcigpIHt9XG4gICAgUmVjaXBlV3JhcHBlci5pbml0ID0gZnVuY3Rpb24gKGNvbmZpZykge1xuICAgICAgICByZXR1cm4gcmVjaXBlXzEuZGVmYXVsdC5pbml0KGNvbmZpZyk7XG4gICAgfTtcbiAgICBSZWNpcGVXcmFwcGVyLmdldFVzZXJJZCA9IGZ1bmN0aW9uIChpbnB1dCkge1xuICAgICAgICByZXR1cm4gcmVjaXBlXzEuZGVmYXVsdC5nZXRJbnN0YW5jZU9yVGhyb3coKS5nZXRVc2VySWQoe1xuICAgICAgICAgICAgdXNlckNvbnRleHQ6ICgwLCB1dGlsc18xLmdldE5vcm1hbGlzZWRVc2VyQ29udGV4dCkoXG4gICAgICAgICAgICAgICAgaW5wdXQgPT09IG51bGwgfHwgaW5wdXQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGlucHV0LnVzZXJDb250ZXh0XG4gICAgICAgICAgICApLFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFJlY2lwZVdyYXBwZXIuZ2V0QWNjZXNzVG9rZW4gPSBmdW5jdGlvbiAoaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIHJlY2lwZV8xLmRlZmF1bHQuZ2V0SW5zdGFuY2VPclRocm93KCkuZ2V0QWNjZXNzVG9rZW4oe1xuICAgICAgICAgICAgdXNlckNvbnRleHQ6ICgwLCB1dGlsc18xLmdldE5vcm1hbGlzZWRVc2VyQ29udGV4dCkoXG4gICAgICAgICAgICAgICAgaW5wdXQgPT09IG51bGwgfHwgaW5wdXQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGlucHV0LnVzZXJDb250ZXh0XG4gICAgICAgICAgICApLFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFJlY2lwZVdyYXBwZXIuZ2V0QWNjZXNzVG9rZW5QYXlsb2FkU2VjdXJlbHkgPSBmdW5jdGlvbiAoaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgIDIgLypyZXR1cm4qLyxcbiAgICAgICAgICAgICAgICAgICAgcmVjaXBlXzEuZGVmYXVsdC5nZXRJbnN0YW5jZU9yVGhyb3coKS5nZXRBY2Nlc3NUb2tlblBheWxvYWRTZWN1cmVseSh7XG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VyQ29udGV4dDogKDAsIHV0aWxzXzEuZ2V0Tm9ybWFsaXNlZFVzZXJDb250ZXh0KShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnB1dCA9PT0gbnVsbCB8fCBpbnB1dCA9PT0gdm9pZCAwID8gdm9pZCAwIDogaW5wdXQudXNlckNvbnRleHRcbiAgICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBSZWNpcGVXcmFwcGVyLmF0dGVtcHRSZWZyZXNoaW5nU2Vzc2lvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCByZWNpcGVfMS5kZWZhdWx0LmdldEluc3RhbmNlT3JUaHJvdygpLmF0dGVtcHRSZWZyZXNoaW5nU2Vzc2lvbigpXTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFJlY2lwZVdyYXBwZXIuZG9lc1Nlc3Npb25FeGlzdCA9IGZ1bmN0aW9uIChpbnB1dCkge1xuICAgICAgICByZXR1cm4gcmVjaXBlXzEuZGVmYXVsdC5nZXRJbnN0YW5jZU9yVGhyb3coKS5kb2VzU2Vzc2lvbkV4aXN0KHtcbiAgICAgICAgICAgIHVzZXJDb250ZXh0OiAoMCwgdXRpbHNfMS5nZXROb3JtYWxpc2VkVXNlckNvbnRleHQpKFxuICAgICAgICAgICAgICAgIGlucHV0ID09PSBudWxsIHx8IGlucHV0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpbnB1dC51c2VyQ29udGV4dFxuICAgICAgICAgICAgKSxcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZFxuICAgICAqL1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvZXhwbGljaXQtbW9kdWxlLWJvdW5kYXJ5LXR5cGVzXG4gICAgUmVjaXBlV3JhcHBlci5hZGRBeGlvc0ludGVyY2VwdG9ycyA9IGZ1bmN0aW9uIChheGlvc0luc3RhbmNlLCB1c2VyQ29udGV4dCkge1xuICAgICAgICByZXR1cm4gcmVjaXBlXzEuZGVmYXVsdC5hZGRBeGlvc0ludGVyY2VwdG9ycyhheGlvc0luc3RhbmNlLCAoMCwgdXRpbHNfMS5nZXROb3JtYWxpc2VkVXNlckNvbnRleHQpKHVzZXJDb250ZXh0KSk7XG4gICAgfTtcbiAgICBSZWNpcGVXcmFwcGVyLnNpZ25PdXQgPSBmdW5jdGlvbiAoaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIHJlY2lwZV8xLmRlZmF1bHQuZ2V0SW5zdGFuY2VPclRocm93KCkuc2lnbk91dCh7XG4gICAgICAgICAgICB1c2VyQ29udGV4dDogKDAsIHV0aWxzXzEuZ2V0Tm9ybWFsaXNlZFVzZXJDb250ZXh0KShcbiAgICAgICAgICAgICAgICBpbnB1dCA9PT0gbnVsbCB8fCBpbnB1dCA9PT0gdm9pZCAwID8gdm9pZCAwIDogaW5wdXQudXNlckNvbnRleHRcbiAgICAgICAgICAgICksXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgUmVjaXBlV3JhcHBlci5nZXRDbGFpbVZhbHVlID0gZnVuY3Rpb24gKGlucHV0KSB7XG4gICAgICAgIHJldHVybiByZWNpcGVfMS5kZWZhdWx0LmdldEluc3RhbmNlT3JUaHJvdygpLmdldENsYWltVmFsdWUoe1xuICAgICAgICAgICAgY2xhaW06IGlucHV0LmNsYWltLFxuICAgICAgICAgICAgdXNlckNvbnRleHQ6ICgwLCB1dGlsc18xLmdldE5vcm1hbGlzZWRVc2VyQ29udGV4dCkoXG4gICAgICAgICAgICAgICAgaW5wdXQgPT09IG51bGwgfHwgaW5wdXQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGlucHV0LnVzZXJDb250ZXh0XG4gICAgICAgICAgICApLFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFJlY2lwZVdyYXBwZXIudmFsaWRhdGVDbGFpbXMgPSBmdW5jdGlvbiAoaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIHJlY2lwZV8xLmRlZmF1bHQuZ2V0SW5zdGFuY2VPclRocm93KCkudmFsaWRhdGVDbGFpbXMoe1xuICAgICAgICAgICAgb3ZlcnJpZGVHbG9iYWxDbGFpbVZhbGlkYXRvcnM6XG4gICAgICAgICAgICAgICAgaW5wdXQgPT09IG51bGwgfHwgaW5wdXQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGlucHV0Lm92ZXJyaWRlR2xvYmFsQ2xhaW1WYWxpZGF0b3JzLFxuICAgICAgICAgICAgdXNlckNvbnRleHQ6ICgwLCB1dGlsc18xLmdldE5vcm1hbGlzZWRVc2VyQ29udGV4dCkoXG4gICAgICAgICAgICAgICAgaW5wdXQgPT09IG51bGwgfHwgaW5wdXQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGlucHV0LnVzZXJDb250ZXh0XG4gICAgICAgICAgICApLFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8vIFRoZSBzdHJhbmdlIHR5cGluZyBpcyB0byBhdm9pZCBhZGRpbmcgYSBkZXBlbmRlbmN5IHRvIGF4aW9zXG4gICAgUmVjaXBlV3JhcHBlci5nZXRJbnZhbGlkQ2xhaW1zRnJvbVJlc3BvbnNlID0gZnVuY3Rpb24gKGlucHV0KSB7XG4gICAgICAgIHJldHVybiByZWNpcGVfMS5kZWZhdWx0LmdldEluc3RhbmNlT3JUaHJvdygpLmdldEludmFsaWRDbGFpbXNGcm9tUmVzcG9uc2Uoe1xuICAgICAgICAgICAgcmVzcG9uc2U6IGlucHV0LnJlc3BvbnNlLFxuICAgICAgICAgICAgdXNlckNvbnRleHQ6ICgwLCB1dGlsc18xLmdldE5vcm1hbGlzZWRVc2VyQ29udGV4dCkoXG4gICAgICAgICAgICAgICAgaW5wdXQgPT09IG51bGwgfHwgaW5wdXQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGlucHV0LnVzZXJDb250ZXh0XG4gICAgICAgICAgICApLFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIHJldHVybiBSZWNpcGVXcmFwcGVyO1xufSkoKTtcbmV4cG9ydHMuZGVmYXVsdCA9IFJlY2lwZVdyYXBwZXI7XG52YXIgaW5pdCA9IFJlY2lwZVdyYXBwZXIuaW5pdDtcbmV4cG9ydHMuaW5pdCA9IGluaXQ7XG52YXIgZ2V0VXNlcklkID0gUmVjaXBlV3JhcHBlci5nZXRVc2VySWQ7XG5leHBvcnRzLmdldFVzZXJJZCA9IGdldFVzZXJJZDtcbnZhciBnZXRBY2Nlc3NUb2tlblBheWxvYWRTZWN1cmVseSA9IFJlY2lwZVdyYXBwZXIuZ2V0QWNjZXNzVG9rZW5QYXlsb2FkU2VjdXJlbHk7XG5leHBvcnRzLmdldEFjY2Vzc1Rva2VuUGF5bG9hZFNlY3VyZWx5ID0gZ2V0QWNjZXNzVG9rZW5QYXlsb2FkU2VjdXJlbHk7XG52YXIgZ2V0QWNjZXNzVG9rZW4gPSBSZWNpcGVXcmFwcGVyLmdldEFjY2Vzc1Rva2VuO1xuZXhwb3J0cy5nZXRBY2Nlc3NUb2tlbiA9IGdldEFjY2Vzc1Rva2VuO1xudmFyIGF0dGVtcHRSZWZyZXNoaW5nU2Vzc2lvbiA9IFJlY2lwZVdyYXBwZXIuYXR0ZW1wdFJlZnJlc2hpbmdTZXNzaW9uO1xuZXhwb3J0cy5hdHRlbXB0UmVmcmVzaGluZ1Nlc3Npb24gPSBhdHRlbXB0UmVmcmVzaGluZ1Nlc3Npb247XG52YXIgZG9lc1Nlc3Npb25FeGlzdCA9IFJlY2lwZVdyYXBwZXIuZG9lc1Nlc3Npb25FeGlzdDtcbmV4cG9ydHMuZG9lc1Nlc3Npb25FeGlzdCA9IGRvZXNTZXNzaW9uRXhpc3Q7XG4vKipcbiAqIEBkZXByZWNhdGVkXG4gKi9cbnZhciBhZGRBeGlvc0ludGVyY2VwdG9ycyA9IFJlY2lwZVdyYXBwZXIuYWRkQXhpb3NJbnRlcmNlcHRvcnM7XG5leHBvcnRzLmFkZEF4aW9zSW50ZXJjZXB0b3JzID0gYWRkQXhpb3NJbnRlcmNlcHRvcnM7XG52YXIgc2lnbk91dCA9IFJlY2lwZVdyYXBwZXIuc2lnbk91dDtcbmV4cG9ydHMuc2lnbk91dCA9IHNpZ25PdXQ7XG52YXIgdmFsaWRhdGVDbGFpbXMgPSBSZWNpcGVXcmFwcGVyLnZhbGlkYXRlQ2xhaW1zO1xuZXhwb3J0cy52YWxpZGF0ZUNsYWltcyA9IHZhbGlkYXRlQ2xhaW1zO1xudmFyIGdldENsYWltVmFsdWUgPSBSZWNpcGVXcmFwcGVyLmdldENsYWltVmFsdWU7XG5leHBvcnRzLmdldENsYWltVmFsdWUgPSBnZXRDbGFpbVZhbHVlO1xudmFyIGdldEludmFsaWRDbGFpbXNGcm9tUmVzcG9uc2UgPSBSZWNpcGVXcmFwcGVyLmdldEludmFsaWRDbGFpbXNGcm9tUmVzcG9uc2U7XG5leHBvcnRzLmdldEludmFsaWRDbGFpbXNGcm9tUmVzcG9uc2UgPSBnZXRJbnZhbGlkQ2xhaW1zRnJvbVJlc3BvbnNlO1xudmFyIHN1cGVydG9rZW5zX3dlYnNpdGVfMSA9IHJlcXVpcmUoXCJzdXBlcnRva2Vucy13ZWJzaXRlXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiU2Vzc2lvbkNsYWltVmFsaWRhdG9yXCIsIHtcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gc3VwZXJ0b2tlbnNfd2Vic2l0ZV8xLlNlc3Npb25DbGFpbVZhbGlkYXRvcjtcbiAgICB9LFxufSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJQcmltaXRpdmVDbGFpbVwiLCB7XG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHN1cGVydG9rZW5zX3dlYnNpdGVfMS5QcmltaXRpdmVDbGFpbTtcbiAgICB9LFxufSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJQcmltaXRpdmVBcnJheUNsYWltXCIsIHtcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gc3VwZXJ0b2tlbnNfd2Vic2l0ZV8xLlByaW1pdGl2ZUFycmF5Q2xhaW07XG4gICAgfSxcbn0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiQm9vbGVhbkNsYWltXCIsIHtcbiAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gc3VwZXJ0b2tlbnNfd2Vic2l0ZV8xLkJvb2xlYW5DbGFpbTtcbiAgICB9LFxufSk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/supertokens-web-js/lib/build/recipe/session/index.js\n"));

/***/ }),

/***/ "./node_modules/supertokens-web-js/lib/build/recipe/session/recipe.js":
/*!****************************************************************************!*\
  !*** ./node_modules/supertokens-web-js/lib/build/recipe/session/recipe.js ***!
  \****************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nvar __extends =\n    (this && this.__extends) ||\n    (function () {\n        var extendStatics = function (d, b) {\n            extendStatics =\n                Object.setPrototypeOf ||\n                ({ __proto__: [] } instanceof Array &&\n                    function (d, b) {\n                        d.__proto__ = b;\n                    }) ||\n                function (d, b) {\n                    for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n                };\n            return extendStatics(d, b);\n        };\n        return function (d, b) {\n            if (typeof b !== \"function\" && b !== null)\n                throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n            extendStatics(d, b);\n            function __() {\n                this.constructor = d;\n            }\n            d.prototype = b === null ? Object.create(b) : ((__.prototype = b.prototype), new __());\n        };\n    })();\nvar __assign =\n    (this && this.__assign) ||\n    function () {\n        __assign =\n            Object.assign ||\n            function (t) {\n                for (var s, i = 1, n = arguments.length; i < n; i++) {\n                    s = arguments[i];\n                    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n                }\n                return t;\n            };\n        return __assign.apply(this, arguments);\n    };\nvar __awaiter =\n    (this && this.__awaiter) ||\n    function (thisArg, _arguments, P, generator) {\n        function adopt(value) {\n            return value instanceof P\n                ? value\n                : new P(function (resolve) {\n                      resolve(value);\n                  });\n        }\n        return new (P || (P = Promise))(function (resolve, reject) {\n            function fulfilled(value) {\n                try {\n                    step(generator.next(value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function rejected(value) {\n                try {\n                    step(generator[\"throw\"](value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function step(result) {\n                result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n            }\n            step((generator = generator.apply(thisArg, _arguments || [])).next());\n        });\n    };\nvar __generator =\n    (this && this.__generator) ||\n    function (thisArg, body) {\n        var _ = {\n                label: 0,\n                sent: function () {\n                    if (t[0] & 1) throw t[1];\n                    return t[1];\n                },\n                trys: [],\n                ops: [],\n            },\n            f,\n            y,\n            t,\n            g;\n        return (\n            (g = { next: verb(0), throw: verb(1), return: verb(2) }),\n            typeof Symbol === \"function\" &&\n                (g[Symbol.iterator] = function () {\n                    return this;\n                }),\n            g\n        );\n        function verb(n) {\n            return function (v) {\n                return step([n, v]);\n            };\n        }\n        function step(op) {\n            if (f) throw new TypeError(\"Generator is already executing.\");\n            while (_)\n                try {\n                    if (\n                        ((f = 1),\n                        y &&\n                            (t =\n                                op[0] & 2\n                                    ? y[\"return\"]\n                                    : op[0]\n                                    ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0)\n                                    : y.next) &&\n                            !(t = t.call(y, op[1])).done)\n                    )\n                        return t;\n                    if (((y = 0), t)) op = [op[0] & 2, t.value];\n                    switch (op[0]) {\n                        case 0:\n                        case 1:\n                            t = op;\n                            break;\n                        case 4:\n                            _.label++;\n                            return { value: op[1], done: false };\n                        case 5:\n                            _.label++;\n                            y = op[1];\n                            op = [0];\n                            continue;\n                        case 7:\n                            op = _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                        default:\n                            if (\n                                !((t = _.trys), (t = t.length > 0 && t[t.length - 1])) &&\n                                (op[0] === 6 || op[0] === 2)\n                            ) {\n                                _ = 0;\n                                continue;\n                            }\n                            if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) {\n                                _.label = op[1];\n                                break;\n                            }\n                            if (op[0] === 6 && _.label < t[1]) {\n                                _.label = t[1];\n                                t = op;\n                                break;\n                            }\n                            if (t && _.label < t[2]) {\n                                _.label = t[2];\n                                _.ops.push(op);\n                                break;\n                            }\n                            if (t[2]) _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                    }\n                    op = body.call(thisArg, _);\n                } catch (e) {\n                    op = [6, e];\n                    y = 0;\n                } finally {\n                    f = t = 0;\n                }\n            if (op[0] & 5) throw op[1];\n            return { value: op[0] ? op[1] : void 0, done: true };\n        }\n    };\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.Recipe = void 0;\n/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nvar recipeModule_1 = __webpack_require__(/*! ../recipeModule */ \"./node_modules/supertokens-web-js/lib/build/recipe/recipeModule/index.js\");\nvar supertokens_website_1 = __webpack_require__(/*! supertokens-website */ \"./node_modules/supertokens-website/index.js\");\nvar utils_1 = __webpack_require__(/*! ../../utils */ \"./node_modules/supertokens-web-js/lib/build/utils.js\");\nvar Recipe = /** @class */ (function (_super) {\n    __extends(Recipe, _super);\n    function Recipe(config) {\n        var _this = _super.call(this, config) || this;\n        _this.getUserId = function (input) {\n            return supertokens_website_1.default.getUserId({\n                userContext: input.userContext,\n            });\n        };\n        _this.getAccessToken = function (input) {\n            return __awaiter(_this, void 0, void 0, function () {\n                return __generator(this, function (_a) {\n                    return [\n                        2 /*return*/,\n                        supertokens_website_1.default.getAccessToken({\n                            userContext: input.userContext,\n                        }),\n                    ];\n                });\n            });\n        };\n        _this.getAccessTokenPayloadSecurely = function (input) {\n            return __awaiter(_this, void 0, void 0, function () {\n                return __generator(this, function (_a) {\n                    return [\n                        2 /*return*/,\n                        supertokens_website_1.default.getAccessTokenPayloadSecurely({\n                            userContext: input.userContext,\n                        }),\n                    ];\n                });\n            });\n        };\n        _this.doesSessionExist = function (input) {\n            return supertokens_website_1.default.doesSessionExist({\n                userContext: input.userContext,\n            });\n        };\n        _this.signOut = function (input) {\n            return supertokens_website_1.default.signOut({\n                userContext: input.userContext,\n            });\n        };\n        _this.attemptRefreshingSession = function () {\n            return __awaiter(_this, void 0, void 0, function () {\n                return __generator(this, function (_a) {\n                    return [2 /*return*/, supertokens_website_1.default.attemptRefreshingSession()];\n                });\n            });\n        };\n        _this.validateClaims = function (input) {\n            return supertokens_website_1.default.validateClaims(input.overrideGlobalClaimValidators, input.userContext);\n        };\n        supertokens_website_1.default.init(\n            __assign(__assign({}, config), {\n                preAPIHook: function (context) {\n                    return __awaiter(_this, void 0, void 0, function () {\n                        var headers, response;\n                        return __generator(this, function (_a) {\n                            headers = new Headers(context.requestInit.headers);\n                            headers.set(\"rid\", config.recipeId);\n                            response = __assign(__assign({}, context), {\n                                requestInit: __assign(__assign({}, context.requestInit), { headers: headers }),\n                            });\n                            if (config.preAPIHook === undefined) {\n                                return [2 /*return*/, response];\n                            } else {\n                                return [2 /*return*/, config.preAPIHook(context)];\n                            }\n                            return [2 /*return*/];\n                        });\n                    });\n                },\n                apiDomain: config.appInfo.apiDomain.getAsStringDangerous(),\n                apiBasePath: config.appInfo.apiBasePath.getAsStringDangerous(),\n            })\n        );\n        return _this;\n    }\n    Recipe.init = function (config) {\n        return function (appInfo, enableDebugLogs) {\n            Recipe.instance = new Recipe(\n                __assign(__assign({}, config), {\n                    appInfo: appInfo,\n                    recipeId: Recipe.RECIPE_ID,\n                    enableDebugLogs: enableDebugLogs,\n                })\n            );\n            return Recipe.instance;\n        };\n    };\n    Recipe.prototype.getClaimValue = function (input) {\n        return supertokens_website_1.default.getClaimValue(input);\n    };\n    // The strange typing is to avoid adding a dependency to axios\n    Recipe.prototype.getInvalidClaimsFromResponse = function (input) {\n        return supertokens_website_1.default.getInvalidClaimsFromResponse(input);\n    };\n    Recipe.addAxiosInterceptors = function (axiosInstance, userContext) {\n        return supertokens_website_1.default.addAxiosInterceptors(axiosInstance, userContext);\n    };\n    Recipe.getInstanceOrThrow = function () {\n        if (Recipe.instance === undefined) {\n            var error = \"No instance of Session found. Make sure to call the Session.init method.\";\n            error = (0, utils_1.checkForSSRErrorAndAppendIfNeeded)(error);\n            throw Error(error);\n        }\n        return Recipe.instance;\n    };\n    Recipe.reset = function () {\n        if (!(0, utils_1.isTest)()) {\n            return;\n        }\n        Recipe.instance = undefined;\n        return;\n    };\n    Recipe.RECIPE_ID = \"session\";\n    return Recipe;\n})(recipeModule_1.default);\nexports.Recipe = Recipe;\nexports[\"default\"] = Recipe;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3VwZXJ0b2tlbnMtd2ViLWpzL2xpYi9idWlsZC9yZWNpcGUvc2Vzc2lvbi9yZWNpcGUuanMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsZ0JBQWdCO0FBQ25DO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5REFBeUQsT0FBTztBQUNoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixnREFBZ0Q7QUFDbkU7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLG1CQUFPLENBQUMsaUdBQWlCO0FBQzlDLDRCQUE0QixtQkFBTyxDQUFDLHdFQUFxQjtBQUN6RCxjQUFjLG1CQUFPLENBQUMseUVBQWE7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQztBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyREFBMkQ7QUFDM0QsaUVBQWlFLDBCQUEwQixrQkFBa0I7QUFDN0csNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQSw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCLHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakI7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0M7QUFDcEM7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELGNBQWM7QUFDZCxrQkFBZSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvc3VwZXJ0b2tlbnMtd2ViLWpzL2xpYi9idWlsZC9yZWNpcGUvc2Vzc2lvbi9yZWNpcGUuanM/ZWUxYSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2V4dGVuZHMgPVxuICAgICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fFxuICAgIChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgICAgIGV4dGVuZFN0YXRpY3MgPVxuICAgICAgICAgICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkLl9fcHJvdG9fXyA9IGI7XG4gICAgICAgICAgICAgICAgICAgIH0pIHx8XG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XG4gICAgICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICAgICAgZnVuY3Rpb24gX18oKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSksIG5ldyBfXygpKTtcbiAgICAgICAgfTtcbiAgICB9KSgpO1xudmFyIF9fYXNzaWduID1cbiAgICAodGhpcyAmJiB0aGlzLl9fYXNzaWduKSB8fFxuICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX19hc3NpZ24gPVxuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbiB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKHQpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHQ7XG4gICAgICAgICAgICB9O1xuICAgICAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9O1xudmFyIF9fYXdhaXRlciA9XG4gICAgKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8XG4gICAgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgICAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUFxuICAgICAgICAgICAgICAgID8gdmFsdWVcbiAgICAgICAgICAgICAgICA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgICAgICB9KTtcbiAgICB9O1xudmFyIF9fZ2VuZXJhdG9yID1cbiAgICAodGhpcyAmJiB0aGlzLl9fZ2VuZXJhdG9yKSB8fFxuICAgIGZ1bmN0aW9uICh0aGlzQXJnLCBib2R5KSB7XG4gICAgICAgIHZhciBfID0ge1xuICAgICAgICAgICAgICAgIGxhYmVsOiAwLFxuICAgICAgICAgICAgICAgIHNlbnQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdFsxXTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHRyeXM6IFtdLFxuICAgICAgICAgICAgICAgIG9wczogW10sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZixcbiAgICAgICAgICAgIHksXG4gICAgICAgICAgICB0LFxuICAgICAgICAgICAgZztcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIChnID0geyBuZXh0OiB2ZXJiKDApLCB0aHJvdzogdmVyYigxKSwgcmV0dXJuOiB2ZXJiKDIpIH0pLFxuICAgICAgICAgICAgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmXG4gICAgICAgICAgICAgICAgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBnXG4gICAgICAgICk7XG4gICAgICAgIGZ1bmN0aW9uIHZlcmIobikge1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICh2KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0ZXAoW24sIHZdKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChvcCkge1xuICAgICAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xuICAgICAgICAgICAgd2hpbGUgKF8pXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgKChmID0gMSksXG4gICAgICAgICAgICAgICAgICAgICAgICB5ICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKHQgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcFswXSAmIDJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8geVtcInJldHVyblwiXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBvcFswXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiB5Lm5leHQpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSlcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHQ7XG4gICAgICAgICAgICAgICAgICAgIGlmICgoKHkgPSAwKSwgdCkpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ID0gb3A7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXy5sYWJlbCsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfLmxhYmVsKys7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeSA9IG9wWzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wID0gWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wID0gXy5vcHMucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICEoKHQgPSBfLnRyeXMpLCAodCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF8gPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF8ubGFiZWwgPSBvcFsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfLmxhYmVsID0gdFsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdCA9IG9wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXy5sYWJlbCA9IHRbMl07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF8ub3BzLnB1c2gob3ApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIG9wID0gWzYsIGVdO1xuICAgICAgICAgICAgICAgICAgICB5ID0gMDtcbiAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICBmID0gdCA9IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07XG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xuICAgICAgICB9XG4gICAgfTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuUmVjaXBlID0gdm9pZCAwO1xuLyogQ29weXJpZ2h0IChjKSAyMDIyLCBWUkFJIExhYnMgYW5kL29yIGl0cyBhZmZpbGlhdGVzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc29mdHdhcmUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlXG4gKiBcIkxpY2Vuc2VcIikgYXMgcHVibGlzaGVkIGJ5IHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRhdGlvbi5cbiAqXG4gKiBZb3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXlcbiAqIG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLCBXSVRIT1VUXG4gKiBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuIFNlZSB0aGVcbiAqIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zXG4gKiB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIHJlY2lwZU1vZHVsZV8xID0gcmVxdWlyZShcIi4uL3JlY2lwZU1vZHVsZVwiKTtcbnZhciBzdXBlcnRva2Vuc193ZWJzaXRlXzEgPSByZXF1aXJlKFwic3VwZXJ0b2tlbnMtd2Vic2l0ZVwiKTtcbnZhciB1dGlsc18xID0gcmVxdWlyZShcIi4uLy4uL3V0aWxzXCIpO1xudmFyIFJlY2lwZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoUmVjaXBlLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFJlY2lwZShjb25maWcpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgY29uZmlnKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5nZXRVc2VySWQgPSBmdW5jdGlvbiAoaW5wdXQpIHtcbiAgICAgICAgICAgIHJldHVybiBzdXBlcnRva2Vuc193ZWJzaXRlXzEuZGVmYXVsdC5nZXRVc2VySWQoe1xuICAgICAgICAgICAgICAgIHVzZXJDb250ZXh0OiBpbnB1dC51c2VyQ29udGV4dCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5nZXRBY2Nlc3NUb2tlbiA9IGZ1bmN0aW9uIChpbnB1dCkge1xuICAgICAgICAgICAgcmV0dXJuIF9fYXdhaXRlcihfdGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAyIC8qcmV0dXJuKi8sXG4gICAgICAgICAgICAgICAgICAgICAgICBzdXBlcnRva2Vuc193ZWJzaXRlXzEuZGVmYXVsdC5nZXRBY2Nlc3NUb2tlbih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlckNvbnRleHQ6IGlucHV0LnVzZXJDb250ZXh0LFxuICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMuZ2V0QWNjZXNzVG9rZW5QYXlsb2FkU2VjdXJlbHkgPSBmdW5jdGlvbiAoaW5wdXQpIHtcbiAgICAgICAgICAgIHJldHVybiBfX2F3YWl0ZXIoX3RoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAgICAgMiAvKnJldHVybiovLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3VwZXJ0b2tlbnNfd2Vic2l0ZV8xLmRlZmF1bHQuZ2V0QWNjZXNzVG9rZW5QYXlsb2FkU2VjdXJlbHkoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJDb250ZXh0OiBpbnB1dC51c2VyQ29udGV4dCxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLmRvZXNTZXNzaW9uRXhpc3QgPSBmdW5jdGlvbiAoaW5wdXQpIHtcbiAgICAgICAgICAgIHJldHVybiBzdXBlcnRva2Vuc193ZWJzaXRlXzEuZGVmYXVsdC5kb2VzU2Vzc2lvbkV4aXN0KHtcbiAgICAgICAgICAgICAgICB1c2VyQ29udGV4dDogaW5wdXQudXNlckNvbnRleHQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMuc2lnbk91dCA9IGZ1bmN0aW9uIChpbnB1dCkge1xuICAgICAgICAgICAgcmV0dXJuIHN1cGVydG9rZW5zX3dlYnNpdGVfMS5kZWZhdWx0LnNpZ25PdXQoe1xuICAgICAgICAgICAgICAgIHVzZXJDb250ZXh0OiBpbnB1dC51c2VyQ29udGV4dCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5hdHRlbXB0UmVmcmVzaGluZ1Nlc3Npb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gX19hd2FpdGVyKF90aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHN1cGVydG9rZW5zX3dlYnNpdGVfMS5kZWZhdWx0LmF0dGVtcHRSZWZyZXNoaW5nU2Vzc2lvbigpXTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICBfdGhpcy52YWxpZGF0ZUNsYWltcyA9IGZ1bmN0aW9uIChpbnB1dCkge1xuICAgICAgICAgICAgcmV0dXJuIHN1cGVydG9rZW5zX3dlYnNpdGVfMS5kZWZhdWx0LnZhbGlkYXRlQ2xhaW1zKGlucHV0Lm92ZXJyaWRlR2xvYmFsQ2xhaW1WYWxpZGF0b3JzLCBpbnB1dC51c2VyQ29udGV4dCk7XG4gICAgICAgIH07XG4gICAgICAgIHN1cGVydG9rZW5zX3dlYnNpdGVfMS5kZWZhdWx0LmluaXQoXG4gICAgICAgICAgICBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgY29uZmlnKSwge1xuICAgICAgICAgICAgICAgIHByZUFQSUhvb2s6IGZ1bmN0aW9uIChjb250ZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfX2F3YWl0ZXIoX3RoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaGVhZGVycywgcmVzcG9uc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVycyA9IG5ldyBIZWFkZXJzKGNvbnRleHQucmVxdWVzdEluaXQuaGVhZGVycyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVycy5zZXQoXCJyaWRcIiwgY29uZmlnLnJlY2lwZUlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9fYXNzaWduKF9fYXNzaWduKHt9LCBjb250ZXh0KSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1ZXN0SW5pdDogX19hc3NpZ24oX19hc3NpZ24oe30sIGNvbnRleHQucmVxdWVzdEluaXQpLCB7IGhlYWRlcnM6IGhlYWRlcnMgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbmZpZy5wcmVBUElIb29rID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHJlc3BvbnNlXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgY29uZmlnLnByZUFQSUhvb2soY29udGV4dCldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBhcGlEb21haW46IGNvbmZpZy5hcHBJbmZvLmFwaURvbWFpbi5nZXRBc1N0cmluZ0Rhbmdlcm91cygpLFxuICAgICAgICAgICAgICAgIGFwaUJhc2VQYXRoOiBjb25maWcuYXBwSW5mby5hcGlCYXNlUGF0aC5nZXRBc1N0cmluZ0Rhbmdlcm91cygpLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBSZWNpcGUuaW5pdCA9IGZ1bmN0aW9uIChjb25maWcpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChhcHBJbmZvLCBlbmFibGVEZWJ1Z0xvZ3MpIHtcbiAgICAgICAgICAgIFJlY2lwZS5pbnN0YW5jZSA9IG5ldyBSZWNpcGUoXG4gICAgICAgICAgICAgICAgX19hc3NpZ24oX19hc3NpZ24oe30sIGNvbmZpZyksIHtcbiAgICAgICAgICAgICAgICAgICAgYXBwSW5mbzogYXBwSW5mbyxcbiAgICAgICAgICAgICAgICAgICAgcmVjaXBlSWQ6IFJlY2lwZS5SRUNJUEVfSUQsXG4gICAgICAgICAgICAgICAgICAgIGVuYWJsZURlYnVnTG9nczogZW5hYmxlRGVidWdMb2dzLFxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgcmV0dXJuIFJlY2lwZS5pbnN0YW5jZTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIFJlY2lwZS5wcm90b3R5cGUuZ2V0Q2xhaW1WYWx1ZSA9IGZ1bmN0aW9uIChpbnB1dCkge1xuICAgICAgICByZXR1cm4gc3VwZXJ0b2tlbnNfd2Vic2l0ZV8xLmRlZmF1bHQuZ2V0Q2xhaW1WYWx1ZShpbnB1dCk7XG4gICAgfTtcbiAgICAvLyBUaGUgc3RyYW5nZSB0eXBpbmcgaXMgdG8gYXZvaWQgYWRkaW5nIGEgZGVwZW5kZW5jeSB0byBheGlvc1xuICAgIFJlY2lwZS5wcm90b3R5cGUuZ2V0SW52YWxpZENsYWltc0Zyb21SZXNwb25zZSA9IGZ1bmN0aW9uIChpbnB1dCkge1xuICAgICAgICByZXR1cm4gc3VwZXJ0b2tlbnNfd2Vic2l0ZV8xLmRlZmF1bHQuZ2V0SW52YWxpZENsYWltc0Zyb21SZXNwb25zZShpbnB1dCk7XG4gICAgfTtcbiAgICBSZWNpcGUuYWRkQXhpb3NJbnRlcmNlcHRvcnMgPSBmdW5jdGlvbiAoYXhpb3NJbnN0YW5jZSwgdXNlckNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIHN1cGVydG9rZW5zX3dlYnNpdGVfMS5kZWZhdWx0LmFkZEF4aW9zSW50ZXJjZXB0b3JzKGF4aW9zSW5zdGFuY2UsIHVzZXJDb250ZXh0KTtcbiAgICB9O1xuICAgIFJlY2lwZS5nZXRJbnN0YW5jZU9yVGhyb3cgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChSZWNpcGUuaW5zdGFuY2UgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdmFyIGVycm9yID0gXCJObyBpbnN0YW5jZSBvZiBTZXNzaW9uIGZvdW5kLiBNYWtlIHN1cmUgdG8gY2FsbCB0aGUgU2Vzc2lvbi5pbml0IG1ldGhvZC5cIjtcbiAgICAgICAgICAgIGVycm9yID0gKDAsIHV0aWxzXzEuY2hlY2tGb3JTU1JFcnJvckFuZEFwcGVuZElmTmVlZGVkKShlcnJvcik7XG4gICAgICAgICAgICB0aHJvdyBFcnJvcihlcnJvcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFJlY2lwZS5pbnN0YW5jZTtcbiAgICB9O1xuICAgIFJlY2lwZS5yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCEoMCwgdXRpbHNfMS5pc1Rlc3QpKCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBSZWNpcGUuaW5zdGFuY2UgPSB1bmRlZmluZWQ7XG4gICAgICAgIHJldHVybjtcbiAgICB9O1xuICAgIFJlY2lwZS5SRUNJUEVfSUQgPSBcInNlc3Npb25cIjtcbiAgICByZXR1cm4gUmVjaXBlO1xufSkocmVjaXBlTW9kdWxlXzEuZGVmYXVsdCk7XG5leHBvcnRzLlJlY2lwZSA9IFJlY2lwZTtcbmV4cG9ydHMuZGVmYXVsdCA9IFJlY2lwZTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/supertokens-web-js/lib/build/recipe/session/recipe.js\n"));

/***/ }),

/***/ "./node_modules/supertokens-web-js/lib/build/supertokens.js":
/*!******************************************************************!*\
  !*** ./node_modules/supertokens-web-js/lib/build/supertokens.js ***!
  \******************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\n/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nvar utils_1 = __webpack_require__(/*! ./utils */ \"./node_modules/supertokens-web-js/lib/build/utils.js\");\nvar cookieHandler_1 = __webpack_require__(/*! ./cookieHandler */ \"./node_modules/supertokens-web-js/lib/build/cookieHandler/index.js\");\nvar windowHandler_1 = __webpack_require__(/*! ./windowHandler */ \"./node_modules/supertokens-web-js/lib/build/windowHandler/index.js\");\nvar postSuperTokensInitCallbacks_1 = __webpack_require__(/*! ./postSuperTokensInitCallbacks */ \"./node_modules/supertokens-web-js/lib/build/postSuperTokensInitCallbacks.js\");\nvar SuperTokens = /** @class */ (function () {\n    function SuperTokens(config) {\n        var _this = this;\n        this.recipeList = [];\n        this.appInfo = (0, utils_1.normaliseInputAppInfoOrThrowError)(config.appInfo);\n        if (config.recipeList === undefined || config.recipeList.length === 0) {\n            throw new Error(\n                \"Please provide at least one recipe to the supertokens.init function call. See https://supertokens.io/docs/emailpassword/quick-setup/frontend\"\n            );\n        }\n        var enableDebugLogs = false;\n        if (config.enableDebugLogs !== undefined) {\n            enableDebugLogs = config.enableDebugLogs;\n        }\n        this.recipeList = config.recipeList.map(function (recipe) {\n            return recipe(_this.appInfo, enableDebugLogs);\n        });\n    }\n    /**\n     * Initialise the SuperTokens SDK. Calling this function multiple times results\n     * in a warning and has no other effect\n     *\n     * @param config The configuration the SDK should use\n     */\n    SuperTokens.init = function (config) {\n        cookieHandler_1.CookieHandlerReference.init(config.cookieHandler);\n        windowHandler_1.WindowHandlerReference.init(config.windowHandler);\n        if (SuperTokens.instance !== undefined) {\n            console.warn(\"SuperTokens was already initialized\");\n            return;\n        }\n        SuperTokens.instance = new SuperTokens(config);\n        postSuperTokensInitCallbacks_1.PostSuperTokensInitCallbacks.runPostInitCallbacks();\n    };\n    /**\n     * Retrieve an instance of SuperTokens\n     *\n     * @returns An instance of SuperTokens\n     *\n     * @throws If SuperTokens.init has not been called before using this function\n     */\n    SuperTokens.getInstanceOrThrow = function () {\n        if (SuperTokens.instance === undefined) {\n            var error = \"SuperTokens must be initialized before calling this method.\";\n            error = (0, utils_1.checkForSSRErrorAndAppendIfNeeded)(error);\n            throw new Error(error);\n        }\n        return SuperTokens.instance;\n    };\n    SuperTokens.reset = function () {\n        if (!(0, utils_1.isTest)()) {\n            console.warn(\"Calling reset() is only supported during testing\");\n            return;\n        }\n        SuperTokens.instance = undefined;\n        return;\n    };\n    return SuperTokens;\n})();\nexports[\"default\"] = SuperTokens;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3VwZXJ0b2tlbnMtd2ViLWpzL2xpYi9idWlsZC9zdXBlcnRva2Vucy5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsY0FBYyxtQkFBTyxDQUFDLHFFQUFTO0FBQy9CLHNCQUFzQixtQkFBTyxDQUFDLDJGQUFpQjtBQUMvQyxzQkFBc0IsbUJBQU8sQ0FBQywyRkFBaUI7QUFDL0MscUNBQXFDLG1CQUFPLENBQUMsbUhBQWdDO0FBQzdFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Qsa0JBQWUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3N1cGVydG9rZW5zLXdlYi1qcy9saWIvYnVpbGQvc3VwZXJ0b2tlbnMuanM/MGExNyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qIENvcHlyaWdodCAoYykgMjAyMiwgVlJBSSBMYWJzIGFuZC9vciBpdHMgYWZmaWxpYXRlcy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvZnR3YXJlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZVxuICogXCJMaWNlbnNlXCIpIGFzIHB1Ymxpc2hlZCBieSB0aGUgQXBhY2hlIFNvZnR3YXJlIEZvdW5kYXRpb24uXG4gKlxuICogWW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5XG4gKiBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVFxuICogV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiBTZWUgdGhlXG4gKiBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9uc1xuICogdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciB1dGlsc18xID0gcmVxdWlyZShcIi4vdXRpbHNcIik7XG52YXIgY29va2llSGFuZGxlcl8xID0gcmVxdWlyZShcIi4vY29va2llSGFuZGxlclwiKTtcbnZhciB3aW5kb3dIYW5kbGVyXzEgPSByZXF1aXJlKFwiLi93aW5kb3dIYW5kbGVyXCIpO1xudmFyIHBvc3RTdXBlclRva2Vuc0luaXRDYWxsYmFja3NfMSA9IHJlcXVpcmUoXCIuL3Bvc3RTdXBlclRva2Vuc0luaXRDYWxsYmFja3NcIik7XG52YXIgU3VwZXJUb2tlbnMgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU3VwZXJUb2tlbnMoY29uZmlnKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMucmVjaXBlTGlzdCA9IFtdO1xuICAgICAgICB0aGlzLmFwcEluZm8gPSAoMCwgdXRpbHNfMS5ub3JtYWxpc2VJbnB1dEFwcEluZm9PclRocm93RXJyb3IpKGNvbmZpZy5hcHBJbmZvKTtcbiAgICAgICAgaWYgKGNvbmZpZy5yZWNpcGVMaXN0ID09PSB1bmRlZmluZWQgfHwgY29uZmlnLnJlY2lwZUxpc3QubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICAgICAgXCJQbGVhc2UgcHJvdmlkZSBhdCBsZWFzdCBvbmUgcmVjaXBlIHRvIHRoZSBzdXBlcnRva2Vucy5pbml0IGZ1bmN0aW9uIGNhbGwuIFNlZSBodHRwczovL3N1cGVydG9rZW5zLmlvL2RvY3MvZW1haWxwYXNzd29yZC9xdWljay1zZXR1cC9mcm9udGVuZFwiXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIHZhciBlbmFibGVEZWJ1Z0xvZ3MgPSBmYWxzZTtcbiAgICAgICAgaWYgKGNvbmZpZy5lbmFibGVEZWJ1Z0xvZ3MgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZW5hYmxlRGVidWdMb2dzID0gY29uZmlnLmVuYWJsZURlYnVnTG9ncztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlY2lwZUxpc3QgPSBjb25maWcucmVjaXBlTGlzdC5tYXAoZnVuY3Rpb24gKHJlY2lwZSkge1xuICAgICAgICAgICAgcmV0dXJuIHJlY2lwZShfdGhpcy5hcHBJbmZvLCBlbmFibGVEZWJ1Z0xvZ3MpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW5pdGlhbGlzZSB0aGUgU3VwZXJUb2tlbnMgU0RLLiBDYWxsaW5nIHRoaXMgZnVuY3Rpb24gbXVsdGlwbGUgdGltZXMgcmVzdWx0c1xuICAgICAqIGluIGEgd2FybmluZyBhbmQgaGFzIG5vIG90aGVyIGVmZmVjdFxuICAgICAqXG4gICAgICogQHBhcmFtIGNvbmZpZyBUaGUgY29uZmlndXJhdGlvbiB0aGUgU0RLIHNob3VsZCB1c2VcbiAgICAgKi9cbiAgICBTdXBlclRva2Vucy5pbml0ID0gZnVuY3Rpb24gKGNvbmZpZykge1xuICAgICAgICBjb29raWVIYW5kbGVyXzEuQ29va2llSGFuZGxlclJlZmVyZW5jZS5pbml0KGNvbmZpZy5jb29raWVIYW5kbGVyKTtcbiAgICAgICAgd2luZG93SGFuZGxlcl8xLldpbmRvd0hhbmRsZXJSZWZlcmVuY2UuaW5pdChjb25maWcud2luZG93SGFuZGxlcik7XG4gICAgICAgIGlmIChTdXBlclRva2Vucy5pbnN0YW5jZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXCJTdXBlclRva2VucyB3YXMgYWxyZWFkeSBpbml0aWFsaXplZFwiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBTdXBlclRva2Vucy5pbnN0YW5jZSA9IG5ldyBTdXBlclRva2Vucyhjb25maWcpO1xuICAgICAgICBwb3N0U3VwZXJUb2tlbnNJbml0Q2FsbGJhY2tzXzEuUG9zdFN1cGVyVG9rZW5zSW5pdENhbGxiYWNrcy5ydW5Qb3N0SW5pdENhbGxiYWNrcygpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0cmlldmUgYW4gaW5zdGFuY2Ugb2YgU3VwZXJUb2tlbnNcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIEFuIGluc3RhbmNlIG9mIFN1cGVyVG9rZW5zXG4gICAgICpcbiAgICAgKiBAdGhyb3dzIElmIFN1cGVyVG9rZW5zLmluaXQgaGFzIG5vdCBiZWVuIGNhbGxlZCBiZWZvcmUgdXNpbmcgdGhpcyBmdW5jdGlvblxuICAgICAqL1xuICAgIFN1cGVyVG9rZW5zLmdldEluc3RhbmNlT3JUaHJvdyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKFN1cGVyVG9rZW5zLmluc3RhbmNlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHZhciBlcnJvciA9IFwiU3VwZXJUb2tlbnMgbXVzdCBiZSBpbml0aWFsaXplZCBiZWZvcmUgY2FsbGluZyB0aGlzIG1ldGhvZC5cIjtcbiAgICAgICAgICAgIGVycm9yID0gKDAsIHV0aWxzXzEuY2hlY2tGb3JTU1JFcnJvckFuZEFwcGVuZElmTmVlZGVkKShlcnJvcik7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3IpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBTdXBlclRva2Vucy5pbnN0YW5jZTtcbiAgICB9O1xuICAgIFN1cGVyVG9rZW5zLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoISgwLCB1dGlsc18xLmlzVGVzdCkoKSkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKFwiQ2FsbGluZyByZXNldCgpIGlzIG9ubHkgc3VwcG9ydGVkIGR1cmluZyB0ZXN0aW5nXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIFN1cGVyVG9rZW5zLmluc3RhbmNlID0gdW5kZWZpbmVkO1xuICAgICAgICByZXR1cm47XG4gICAgfTtcbiAgICByZXR1cm4gU3VwZXJUb2tlbnM7XG59KSgpO1xuZXhwb3J0cy5kZWZhdWx0ID0gU3VwZXJUb2tlbnM7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/supertokens-web-js/lib/build/supertokens.js\n"));

/***/ }),

/***/ "./node_modules/supertokens-web-js/lib/build/utils.js":
/*!************************************************************!*\
  !*** ./node_modules/supertokens-web-js/lib/build/utils.js ***!
  \************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("/* provided dependency */ var process = __webpack_require__(/*! process */ \"./node_modules/next/dist/build/polyfills/process.js\");\n\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.getHashFromLocation =\n    exports.getNormalisedUserContext =\n    exports.checkForSSRErrorAndAppendIfNeeded =\n    exports.getQueryParams =\n    exports.isTest =\n    exports.normaliseInputAppInfoOrThrowError =\n    exports.appendQueryParamsToURL =\n        void 0;\n/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nvar windowHandler_1 = __webpack_require__(/*! ./windowHandler */ \"./node_modules/supertokens-web-js/lib/build/windowHandler/index.js\");\nvar constants_1 = __webpack_require__(/*! ./constants */ \"./node_modules/supertokens-web-js/lib/build/constants.js\");\nvar normalisedURLDomain_1 = __webpack_require__(/*! ./normalisedURLDomain */ \"./node_modules/supertokens-web-js/lib/build/normalisedURLDomain.js\");\nvar normalisedURLPath_1 = __webpack_require__(/*! ./normalisedURLPath */ \"./node_modules/supertokens-web-js/lib/build/normalisedURLPath.js\");\nfunction appendQueryParamsToURL(stringUrl, queryParams) {\n    if (queryParams === undefined) {\n        return stringUrl;\n    }\n    try {\n        var url_1 = new URL(stringUrl);\n        Object.entries(queryParams).forEach(function (_a) {\n            var key = _a[0],\n                value = _a[1];\n            url_1.searchParams.set(key, value);\n        });\n        return url_1.href;\n    } catch (e) {\n        var fakeDomain = stringUrl.startsWith(\"/\") ? \"http:localhost\" : \"http://localhost/\";\n        var url_2 = new URL(\"\".concat(fakeDomain).concat(stringUrl));\n        Object.entries(queryParams).forEach(function (_a) {\n            var key = _a[0],\n                value = _a[1];\n            url_2.searchParams.set(key, value);\n        });\n        return \"\".concat(url_2.pathname).concat(url_2.search);\n    }\n}\nexports.appendQueryParamsToURL = appendQueryParamsToURL;\nfunction getNormalisedURLPathOrDefault(defaultPath, path) {\n    if (path !== undefined) {\n        return new normalisedURLPath_1.default(path);\n    } else {\n        return new normalisedURLPath_1.default(defaultPath);\n    }\n}\nfunction normaliseInputAppInfoOrThrowError(appInfo) {\n    if (appInfo === undefined) {\n        throw new Error(\"Please provide the appInfo object when calling supertokens.init\");\n    }\n    if (appInfo.apiDomain === undefined) {\n        throw new Error(\"Please provide your apiDomain inside the appInfo object when calling supertokens.init\");\n    }\n    if (appInfo.appName === undefined) {\n        throw new Error(\"Please provide your appName inside the appInfo object when calling supertokens.init\");\n    }\n    var apiGatewayPath = new normalisedURLPath_1.default(\"\");\n    if (appInfo.apiGatewayPath !== undefined) {\n        apiGatewayPath = new normalisedURLPath_1.default(appInfo.apiGatewayPath);\n    }\n    return {\n        appName: appInfo.appName,\n        apiDomain: new normalisedURLDomain_1.default(appInfo.apiDomain),\n        apiBasePath: apiGatewayPath.appendPath(\n            getNormalisedURLPathOrDefault(constants_1.DEFAULT_API_BASE_PATH, appInfo.apiBasePath)\n        ),\n    };\n}\nexports.normaliseInputAppInfoOrThrowError = normaliseInputAppInfoOrThrowError;\nfunction isTest() {\n    try {\n        return process.env.TEST_MODE === \"testing\";\n    } catch (err) {\n        // can get Uncaught ReferenceError: process is not defined error\n        return false;\n    }\n}\nexports.isTest = isTest;\nfunction getQueryParams(param) {\n    var urlParams = new URLSearchParams(\n        windowHandler_1.WindowHandlerReference.getReferenceOrThrow().windowHandler.location.getSearch()\n    );\n    var queryParam = urlParams.get(param);\n    if (queryParam === null) {\n        return undefined;\n    }\n    return queryParam;\n}\nexports.getQueryParams = getQueryParams;\nfunction checkForSSRErrorAndAppendIfNeeded(error) {\n    // tslint:disable-next-line\n    if (typeof window === \"undefined\") {\n        error = error + constants_1.SSR_ERROR;\n    }\n    return error;\n}\nexports.checkForSSRErrorAndAppendIfNeeded = checkForSSRErrorAndAppendIfNeeded;\nfunction getNormalisedUserContext(userContext) {\n    return userContext === undefined ? {} : userContext;\n}\nexports.getNormalisedUserContext = getNormalisedUserContext;\nfunction getHashFromLocation() {\n    // By default it is returned with the \"#\" at the beginning, we cut that off here.\n    return windowHandler_1.WindowHandlerReference.getReferenceOrThrow().windowHandler.location.getHash().substring(1);\n}\nexports.getHashFromLocation = getHashFromLocation;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3VwZXJ0b2tlbnMtd2ViLWpzL2xpYi9idWlsZC91dGlscy5qcy5qcyIsIm1hcHBpbmdzIjoiO0FBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsMkJBQTJCO0FBQzNCLElBQUksZ0NBQWdDO0FBQ3BDLElBQUkseUNBQXlDO0FBQzdDLElBQUksc0JBQXNCO0FBQzFCLElBQUksY0FBYztBQUNsQixJQUFJLHlDQUF5QztBQUM3QyxJQUFJLDhCQUE4QjtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsbUJBQU8sQ0FBQywyRkFBaUI7QUFDL0Msa0JBQWtCLG1CQUFPLENBQUMsNkVBQWE7QUFDdkMsNEJBQTRCLG1CQUFPLENBQUMsaUdBQXVCO0FBQzNELDBCQUEwQixtQkFBTyxDQUFDLDZGQUFxQjtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QztBQUN6QztBQUNBO0FBQ0EsZUFBZSxPQUFPO0FBQ3RCLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QztBQUN6QztBQUNBLDBDQUEwQztBQUMxQztBQUNBLGdDQUFnQztBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvc3VwZXJ0b2tlbnMtd2ViLWpzL2xpYi9idWlsZC91dGlscy5qcz84YjhiIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5nZXRIYXNoRnJvbUxvY2F0aW9uID1cbiAgICBleHBvcnRzLmdldE5vcm1hbGlzZWRVc2VyQ29udGV4dCA9XG4gICAgZXhwb3J0cy5jaGVja0ZvclNTUkVycm9yQW5kQXBwZW5kSWZOZWVkZWQgPVxuICAgIGV4cG9ydHMuZ2V0UXVlcnlQYXJhbXMgPVxuICAgIGV4cG9ydHMuaXNUZXN0ID1cbiAgICBleHBvcnRzLm5vcm1hbGlzZUlucHV0QXBwSW5mb09yVGhyb3dFcnJvciA9XG4gICAgZXhwb3J0cy5hcHBlbmRRdWVyeVBhcmFtc1RvVVJMID1cbiAgICAgICAgdm9pZCAwO1xuLyogQ29weXJpZ2h0IChjKSAyMDIyLCBWUkFJIExhYnMgYW5kL29yIGl0cyBhZmZpbGlhdGVzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc29mdHdhcmUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlXG4gKiBcIkxpY2Vuc2VcIikgYXMgcHVibGlzaGVkIGJ5IHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRhdGlvbi5cbiAqXG4gKiBZb3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXlcbiAqIG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLCBXSVRIT1VUXG4gKiBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuIFNlZSB0aGVcbiAqIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zXG4gKiB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIHdpbmRvd0hhbmRsZXJfMSA9IHJlcXVpcmUoXCIuL3dpbmRvd0hhbmRsZXJcIik7XG52YXIgY29uc3RhbnRzXzEgPSByZXF1aXJlKFwiLi9jb25zdGFudHNcIik7XG52YXIgbm9ybWFsaXNlZFVSTERvbWFpbl8xID0gcmVxdWlyZShcIi4vbm9ybWFsaXNlZFVSTERvbWFpblwiKTtcbnZhciBub3JtYWxpc2VkVVJMUGF0aF8xID0gcmVxdWlyZShcIi4vbm9ybWFsaXNlZFVSTFBhdGhcIik7XG5mdW5jdGlvbiBhcHBlbmRRdWVyeVBhcmFtc1RvVVJMKHN0cmluZ1VybCwgcXVlcnlQYXJhbXMpIHtcbiAgICBpZiAocXVlcnlQYXJhbXMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gc3RyaW5nVXJsO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICB2YXIgdXJsXzEgPSBuZXcgVVJMKHN0cmluZ1VybCk7XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKHF1ZXJ5UGFyYW1zKS5mb3JFYWNoKGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgdmFyIGtleSA9IF9hWzBdLFxuICAgICAgICAgICAgICAgIHZhbHVlID0gX2FbMV07XG4gICAgICAgICAgICB1cmxfMS5zZWFyY2hQYXJhbXMuc2V0KGtleSwgdmFsdWUpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHVybF8xLmhyZWY7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICB2YXIgZmFrZURvbWFpbiA9IHN0cmluZ1VybC5zdGFydHNXaXRoKFwiL1wiKSA/IFwiaHR0cDpsb2NhbGhvc3RcIiA6IFwiaHR0cDovL2xvY2FsaG9zdC9cIjtcbiAgICAgICAgdmFyIHVybF8yID0gbmV3IFVSTChcIlwiLmNvbmNhdChmYWtlRG9tYWluKS5jb25jYXQoc3RyaW5nVXJsKSk7XG4gICAgICAgIE9iamVjdC5lbnRyaWVzKHF1ZXJ5UGFyYW1zKS5mb3JFYWNoKGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgdmFyIGtleSA9IF9hWzBdLFxuICAgICAgICAgICAgICAgIHZhbHVlID0gX2FbMV07XG4gICAgICAgICAgICB1cmxfMi5zZWFyY2hQYXJhbXMuc2V0KGtleSwgdmFsdWUpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIFwiXCIuY29uY2F0KHVybF8yLnBhdGhuYW1lKS5jb25jYXQodXJsXzIuc2VhcmNoKTtcbiAgICB9XG59XG5leHBvcnRzLmFwcGVuZFF1ZXJ5UGFyYW1zVG9VUkwgPSBhcHBlbmRRdWVyeVBhcmFtc1RvVVJMO1xuZnVuY3Rpb24gZ2V0Tm9ybWFsaXNlZFVSTFBhdGhPckRlZmF1bHQoZGVmYXVsdFBhdGgsIHBhdGgpIHtcbiAgICBpZiAocGF0aCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBuZXcgbm9ybWFsaXNlZFVSTFBhdGhfMS5kZWZhdWx0KHBhdGgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBuZXcgbm9ybWFsaXNlZFVSTFBhdGhfMS5kZWZhdWx0KGRlZmF1bHRQYXRoKTtcbiAgICB9XG59XG5mdW5jdGlvbiBub3JtYWxpc2VJbnB1dEFwcEluZm9PclRocm93RXJyb3IoYXBwSW5mbykge1xuICAgIGlmIChhcHBJbmZvID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUGxlYXNlIHByb3ZpZGUgdGhlIGFwcEluZm8gb2JqZWN0IHdoZW4gY2FsbGluZyBzdXBlcnRva2Vucy5pbml0XCIpO1xuICAgIH1cbiAgICBpZiAoYXBwSW5mby5hcGlEb21haW4gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJQbGVhc2UgcHJvdmlkZSB5b3VyIGFwaURvbWFpbiBpbnNpZGUgdGhlIGFwcEluZm8gb2JqZWN0IHdoZW4gY2FsbGluZyBzdXBlcnRva2Vucy5pbml0XCIpO1xuICAgIH1cbiAgICBpZiAoYXBwSW5mby5hcHBOYW1lID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUGxlYXNlIHByb3ZpZGUgeW91ciBhcHBOYW1lIGluc2lkZSB0aGUgYXBwSW5mbyBvYmplY3Qgd2hlbiBjYWxsaW5nIHN1cGVydG9rZW5zLmluaXRcIik7XG4gICAgfVxuICAgIHZhciBhcGlHYXRld2F5UGF0aCA9IG5ldyBub3JtYWxpc2VkVVJMUGF0aF8xLmRlZmF1bHQoXCJcIik7XG4gICAgaWYgKGFwcEluZm8uYXBpR2F0ZXdheVBhdGggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBhcGlHYXRld2F5UGF0aCA9IG5ldyBub3JtYWxpc2VkVVJMUGF0aF8xLmRlZmF1bHQoYXBwSW5mby5hcGlHYXRld2F5UGF0aCk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIGFwcE5hbWU6IGFwcEluZm8uYXBwTmFtZSxcbiAgICAgICAgYXBpRG9tYWluOiBuZXcgbm9ybWFsaXNlZFVSTERvbWFpbl8xLmRlZmF1bHQoYXBwSW5mby5hcGlEb21haW4pLFxuICAgICAgICBhcGlCYXNlUGF0aDogYXBpR2F0ZXdheVBhdGguYXBwZW5kUGF0aChcbiAgICAgICAgICAgIGdldE5vcm1hbGlzZWRVUkxQYXRoT3JEZWZhdWx0KGNvbnN0YW50c18xLkRFRkFVTFRfQVBJX0JBU0VfUEFUSCwgYXBwSW5mby5hcGlCYXNlUGF0aClcbiAgICAgICAgKSxcbiAgICB9O1xufVxuZXhwb3J0cy5ub3JtYWxpc2VJbnB1dEFwcEluZm9PclRocm93RXJyb3IgPSBub3JtYWxpc2VJbnB1dEFwcEluZm9PclRocm93RXJyb3I7XG5mdW5jdGlvbiBpc1Rlc3QoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIHByb2Nlc3MuZW52LlRFU1RfTU9ERSA9PT0gXCJ0ZXN0aW5nXCI7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIC8vIGNhbiBnZXQgVW5jYXVnaHQgUmVmZXJlbmNlRXJyb3I6IHByb2Nlc3MgaXMgbm90IGRlZmluZWQgZXJyb3JcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn1cbmV4cG9ydHMuaXNUZXN0ID0gaXNUZXN0O1xuZnVuY3Rpb24gZ2V0UXVlcnlQYXJhbXMocGFyYW0pIHtcbiAgICB2YXIgdXJsUGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyhcbiAgICAgICAgd2luZG93SGFuZGxlcl8xLldpbmRvd0hhbmRsZXJSZWZlcmVuY2UuZ2V0UmVmZXJlbmNlT3JUaHJvdygpLndpbmRvd0hhbmRsZXIubG9jYXRpb24uZ2V0U2VhcmNoKClcbiAgICApO1xuICAgIHZhciBxdWVyeVBhcmFtID0gdXJsUGFyYW1zLmdldChwYXJhbSk7XG4gICAgaWYgKHF1ZXJ5UGFyYW0gPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgcmV0dXJuIHF1ZXJ5UGFyYW07XG59XG5leHBvcnRzLmdldFF1ZXJ5UGFyYW1zID0gZ2V0UXVlcnlQYXJhbXM7XG5mdW5jdGlvbiBjaGVja0ZvclNTUkVycm9yQW5kQXBwZW5kSWZOZWVkZWQoZXJyb3IpIHtcbiAgICAvLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmVcbiAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICBlcnJvciA9IGVycm9yICsgY29uc3RhbnRzXzEuU1NSX0VSUk9SO1xuICAgIH1cbiAgICByZXR1cm4gZXJyb3I7XG59XG5leHBvcnRzLmNoZWNrRm9yU1NSRXJyb3JBbmRBcHBlbmRJZk5lZWRlZCA9IGNoZWNrRm9yU1NSRXJyb3JBbmRBcHBlbmRJZk5lZWRlZDtcbmZ1bmN0aW9uIGdldE5vcm1hbGlzZWRVc2VyQ29udGV4dCh1c2VyQ29udGV4dCkge1xuICAgIHJldHVybiB1c2VyQ29udGV4dCA9PT0gdW5kZWZpbmVkID8ge30gOiB1c2VyQ29udGV4dDtcbn1cbmV4cG9ydHMuZ2V0Tm9ybWFsaXNlZFVzZXJDb250ZXh0ID0gZ2V0Tm9ybWFsaXNlZFVzZXJDb250ZXh0O1xuZnVuY3Rpb24gZ2V0SGFzaEZyb21Mb2NhdGlvbigpIHtcbiAgICAvLyBCeSBkZWZhdWx0IGl0IGlzIHJldHVybmVkIHdpdGggdGhlIFwiI1wiIGF0IHRoZSBiZWdpbm5pbmcsIHdlIGN1dCB0aGF0IG9mZiBoZXJlLlxuICAgIHJldHVybiB3aW5kb3dIYW5kbGVyXzEuV2luZG93SGFuZGxlclJlZmVyZW5jZS5nZXRSZWZlcmVuY2VPclRocm93KCkud2luZG93SGFuZGxlci5sb2NhdGlvbi5nZXRIYXNoKCkuc3Vic3RyaW5nKDEpO1xufVxuZXhwb3J0cy5nZXRIYXNoRnJvbUxvY2F0aW9uID0gZ2V0SGFzaEZyb21Mb2NhdGlvbjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/supertokens-web-js/lib/build/utils.js\n"));

/***/ }),

/***/ "./node_modules/supertokens-web-js/lib/build/version.js":
/*!**************************************************************!*\
  !*** ./node_modules/supertokens-web-js/lib/build/version.js ***!
  \**************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.supported_fdi = exports.package_version = void 0;\n/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nexports.package_version = \"0.5.0\";\nexports.supported_fdi = [\"1.16\"];\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3VwZXJ0b2tlbnMtd2ViLWpzL2xpYi9idWlsZC92ZXJzaW9uLmpzLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHFCQUFxQixHQUFHLHVCQUF1QjtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCO0FBQ3ZCLHFCQUFxQiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvc3VwZXJ0b2tlbnMtd2ViLWpzL2xpYi9idWlsZC92ZXJzaW9uLmpzPzcxZGMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnN1cHBvcnRlZF9mZGkgPSBleHBvcnRzLnBhY2thZ2VfdmVyc2lvbiA9IHZvaWQgMDtcbi8qIENvcHlyaWdodCAoYykgMjAyMiwgVlJBSSBMYWJzIGFuZC9vciBpdHMgYWZmaWxpYXRlcy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvZnR3YXJlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZVxuICogXCJMaWNlbnNlXCIpIGFzIHB1Ymxpc2hlZCBieSB0aGUgQXBhY2hlIFNvZnR3YXJlIEZvdW5kYXRpb24uXG4gKlxuICogWW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5XG4gKiBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVFxuICogV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiBTZWUgdGhlXG4gKiBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9uc1xuICogdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmV4cG9ydHMucGFja2FnZV92ZXJzaW9uID0gXCIwLjUuMFwiO1xuZXhwb3J0cy5zdXBwb3J0ZWRfZmRpID0gW1wiMS4xNlwiXTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/supertokens-web-js/lib/build/version.js\n"));

/***/ }),

/***/ "./node_modules/supertokens-web-js/lib/build/windowHandler/index.js":
/*!**************************************************************************!*\
  !*** ./node_modules/supertokens-web-js/lib/build/windowHandler/index.js ***!
  \**************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\n/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.WindowHandlerReference = void 0;\nvar windowHandler_1 = __webpack_require__(/*! supertokens-website/utils/windowHandler */ \"./node_modules/supertokens-website/utils/windowHandler/index.js\");\nObject.defineProperty(exports, \"WindowHandlerReference\", ({\n    enumerable: true,\n    get: function () {\n        return windowHandler_1.WindowHandlerReference;\n    },\n}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3VwZXJ0b2tlbnMtd2ViLWpzL2xpYi9idWlsZC93aW5kb3dIYW5kbGVyL2luZGV4LmpzLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCw4QkFBOEI7QUFDOUIsc0JBQXNCLG1CQUFPLENBQUMsZ0hBQXlDO0FBQ3ZFLDBEQUF5RDtBQUN6RDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsQ0FBQyxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9zdXBlcnRva2Vucy13ZWItanMvbGliL2J1aWxkL3dpbmRvd0hhbmRsZXIvaW5kZXguanM/NjRkNSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qIENvcHlyaWdodCAoYykgMjAyMiwgVlJBSSBMYWJzIGFuZC9vciBpdHMgYWZmaWxpYXRlcy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvZnR3YXJlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZVxuICogXCJMaWNlbnNlXCIpIGFzIHB1Ymxpc2hlZCBieSB0aGUgQXBhY2hlIFNvZnR3YXJlIEZvdW5kYXRpb24uXG4gKlxuICogWW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5XG4gKiBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVFxuICogV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiBTZWUgdGhlXG4gKiBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9uc1xuICogdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuV2luZG93SGFuZGxlclJlZmVyZW5jZSA9IHZvaWQgMDtcbnZhciB3aW5kb3dIYW5kbGVyXzEgPSByZXF1aXJlKFwic3VwZXJ0b2tlbnMtd2Vic2l0ZS91dGlscy93aW5kb3dIYW5kbGVyXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiV2luZG93SGFuZGxlclJlZmVyZW5jZVwiLCB7XG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHdpbmRvd0hhbmRsZXJfMS5XaW5kb3dIYW5kbGVyUmVmZXJlbmNlO1xuICAgIH0sXG59KTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/supertokens-web-js/lib/build/windowHandler/index.js\n"));

/***/ }),

/***/ "./node_modules/supertokens-web-js/recipe/emailpassword/index.js":
/*!***********************************************************************!*\
  !*** ./node_modules/supertokens-web-js/recipe/emailpassword/index.js ***!
  \***********************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\n\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nexports.__esModule = true;\n__export(__webpack_require__(/*! ../../lib/build/recipe/emailpassword */ \"./node_modules/supertokens-web-js/lib/build/recipe/emailpassword/index.js\"));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3VwZXJ0b2tlbnMtd2ViLWpzL3JlY2lwZS9lbWFpbHBhc3N3b3JkL2luZGV4LmpzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQixTQUFTLG1CQUFPLENBQUMsdUhBQXNDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9zdXBlcnRva2Vucy13ZWItanMvcmVjaXBlL2VtYWlscGFzc3dvcmQvaW5kZXguanM/Y2IwZiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBDb3B5cmlnaHQgKGMpIDIwMjIsIFZSQUkgTGFicyBhbmQvb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb2Z0d2FyZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGVcbiAqIFwiTGljZW5zZVwiKSBhcyBwdWJsaXNoZWQgYnkgdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLlxuICpcbiAqIFlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heVxuICogb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVRcbiAqIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gU2VlIHRoZVxuICogTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnNcbiAqIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIF9fZXhwb3J0KG0pIHtcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmICghZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XG59XG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuX19leHBvcnQocmVxdWlyZShcIi4uLy4uL2xpYi9idWlsZC9yZWNpcGUvZW1haWxwYXNzd29yZFwiKSk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/supertokens-web-js/recipe/emailpassword/index.js\n"));

/***/ }),

/***/ "./node_modules/supertokens-web-js/recipe/session/index.js":
/*!*****************************************************************!*\
  !*** ./node_modules/supertokens-web-js/recipe/session/index.js ***!
  \*****************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\n\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nexports.__esModule = true;\n__export(__webpack_require__(/*! ../../lib/build/recipe/session */ \"./node_modules/supertokens-web-js/lib/build/recipe/session/index.js\"));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3VwZXJ0b2tlbnMtd2ViLWpzL3JlY2lwZS9zZXNzaW9uL2luZGV4LmpzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQixTQUFTLG1CQUFPLENBQUMsMkdBQWdDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9zdXBlcnRva2Vucy13ZWItanMvcmVjaXBlL3Nlc3Npb24vaW5kZXguanM/OTAyZCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBDb3B5cmlnaHQgKGMpIDIwMjIsIFZSQUkgTGFicyBhbmQvb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb2Z0d2FyZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGVcbiAqIFwiTGljZW5zZVwiKSBhcyBwdWJsaXNoZWQgYnkgdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLlxuICpcbiAqIFlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heVxuICogb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVRcbiAqIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gU2VlIHRoZVxuICogTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnNcbiAqIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIF9fZXhwb3J0KG0pIHtcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmICghZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XG59XG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuX19leHBvcnQocmVxdWlyZShcIi4uLy4uL2xpYi9idWlsZC9yZWNpcGUvc2Vzc2lvblwiKSk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/supertokens-web-js/recipe/session/index.js\n"));

/***/ }),

/***/ "./node_modules/supertokens-web-js/utils/cookieHandler/index.js":
/*!**********************************************************************!*\
  !*** ./node_modules/supertokens-web-js/utils/cookieHandler/index.js ***!
  \**********************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\n\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nexports.__esModule = true;\n\nlet d = __webpack_require__(/*! ../../lib/build/cookieHandler */ \"./node_modules/supertokens-web-js/lib/build/cookieHandler/index.js\");\n\nif (d.default !== undefined) {\n    __export(d);\n} else {\n    __export({\n        default: d,\n        ...d,\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3VwZXJ0b2tlbnMtd2ViLWpzL3V0aWxzL2Nvb2tpZUhhbmRsZXIvaW5kZXguanMuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNhO0FBQ2I7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCOztBQUVsQixRQUFRLG1CQUFPLENBQUMseUdBQStCOztBQUUvQztBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvc3VwZXJ0b2tlbnMtd2ViLWpzL3V0aWxzL2Nvb2tpZUhhbmRsZXIvaW5kZXguanM/YWNjNiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBDb3B5cmlnaHQgKGMpIDIwMjIsIFZSQUkgTGFicyBhbmQvb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb2Z0d2FyZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGVcbiAqIFwiTGljZW5zZVwiKSBhcyBwdWJsaXNoZWQgYnkgdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLlxuICpcbiAqIFlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heVxuICogb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVRcbiAqIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gU2VlIHRoZVxuICogTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnNcbiAqIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIF9fZXhwb3J0KG0pIHtcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmICghZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XG59XG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG5sZXQgZCA9IHJlcXVpcmUoXCIuLi8uLi9saWIvYnVpbGQvY29va2llSGFuZGxlclwiKTtcblxuaWYgKGQuZGVmYXVsdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgX19leHBvcnQoZCk7XG59IGVsc2Uge1xuICAgIF9fZXhwb3J0KHtcbiAgICAgICAgZGVmYXVsdDogZCxcbiAgICAgICAgLi4uZCxcbiAgICB9KTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/supertokens-web-js/utils/cookieHandler/index.js\n"));

/***/ }),

/***/ "./node_modules/supertokens-web-js/utils/normalisedURLDomain.js":
/*!**********************************************************************!*\
  !*** ./node_modules/supertokens-web-js/utils/normalisedURLDomain.js ***!
  \**********************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\n\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nexports.__esModule = true;\n\nlet d = __webpack_require__(/*! ../lib/build/normalisedURLDomain */ \"./node_modules/supertokens-web-js/lib/build/normalisedURLDomain.js\");\n\nif (d.default !== undefined) {\n    __export(d);\n} else {\n    __export({\n        default: d,\n        ...d,\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3VwZXJ0b2tlbnMtd2ViLWpzL3V0aWxzL25vcm1hbGlzZWRVUkxEb21haW4uanMuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNhO0FBQ2I7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCOztBQUVsQixRQUFRLG1CQUFPLENBQUMsNEdBQWtDOztBQUVsRDtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvc3VwZXJ0b2tlbnMtd2ViLWpzL3V0aWxzL25vcm1hbGlzZWRVUkxEb21haW4uanM/OWNiZCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBDb3B5cmlnaHQgKGMpIDIwMjIsIFZSQUkgTGFicyBhbmQvb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb2Z0d2FyZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGVcbiAqIFwiTGljZW5zZVwiKSBhcyBwdWJsaXNoZWQgYnkgdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLlxuICpcbiAqIFlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heVxuICogb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVRcbiAqIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gU2VlIHRoZVxuICogTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnNcbiAqIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIF9fZXhwb3J0KG0pIHtcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmICghZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XG59XG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG5sZXQgZCA9IHJlcXVpcmUoXCIuLi9saWIvYnVpbGQvbm9ybWFsaXNlZFVSTERvbWFpblwiKTtcblxuaWYgKGQuZGVmYXVsdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgX19leHBvcnQoZCk7XG59IGVsc2Uge1xuICAgIF9fZXhwb3J0KHtcbiAgICAgICAgZGVmYXVsdDogZCxcbiAgICAgICAgLi4uZCxcbiAgICB9KTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/supertokens-web-js/utils/normalisedURLDomain.js\n"));

/***/ }),

/***/ "./node_modules/supertokens-web-js/utils/normalisedURLPath.js":
/*!********************************************************************!*\
  !*** ./node_modules/supertokens-web-js/utils/normalisedURLPath.js ***!
  \********************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\n\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nexports.__esModule = true;\n\nlet d = __webpack_require__(/*! ../lib/build/normalisedURLPath */ \"./node_modules/supertokens-web-js/lib/build/normalisedURLPath.js\");\n\nif (d.default !== undefined) {\n    __export(d);\n} else {\n    __export({\n        default: d,\n        ...d,\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3VwZXJ0b2tlbnMtd2ViLWpzL3V0aWxzL25vcm1hbGlzZWRVUkxQYXRoLmpzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjs7QUFFbEIsUUFBUSxtQkFBTyxDQUFDLHdHQUFnQzs7QUFFaEQ7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3N1cGVydG9rZW5zLXdlYi1qcy91dGlscy9ub3JtYWxpc2VkVVJMUGF0aC5qcz81MWU1Il0sInNvdXJjZXNDb250ZW50IjpbIi8qIENvcHlyaWdodCAoYykgMjAyMiwgVlJBSSBMYWJzIGFuZC9vciBpdHMgYWZmaWxpYXRlcy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvZnR3YXJlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZVxuICogXCJMaWNlbnNlXCIpIGFzIHB1Ymxpc2hlZCBieSB0aGUgQXBhY2hlIFNvZnR3YXJlIEZvdW5kYXRpb24uXG4gKlxuICogWW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5XG4gKiBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVFxuICogV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiBTZWUgdGhlXG4gKiBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9uc1xuICogdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gX19leHBvcnQobSkge1xuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcbn1cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbmxldCBkID0gcmVxdWlyZShcIi4uL2xpYi9idWlsZC9ub3JtYWxpc2VkVVJMUGF0aFwiKTtcblxuaWYgKGQuZGVmYXVsdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgX19leHBvcnQoZCk7XG59IGVsc2Uge1xuICAgIF9fZXhwb3J0KHtcbiAgICAgICAgZGVmYXVsdDogZCxcbiAgICAgICAgLi4uZCxcbiAgICB9KTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/supertokens-web-js/utils/normalisedURLPath.js\n"));

/***/ }),

/***/ "./node_modules/supertokens-web-js/utils/postSuperTokensInitCallbacks.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/supertokens-web-js/utils/postSuperTokensInitCallbacks.js ***!
  \*******************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\n\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nexports.__esModule = true;\n__export(__webpack_require__(/*! ../lib/build/postSuperTokensInitCallbacks */ \"./node_modules/supertokens-web-js/lib/build/postSuperTokensInitCallbacks.js\"));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3VwZXJ0b2tlbnMtd2ViLWpzL3V0aWxzL3Bvc3RTdXBlclRva2Vuc0luaXRDYWxsYmFja3MuanMuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNhO0FBQ2I7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCLFNBQVMsbUJBQU8sQ0FBQyw4SEFBMkMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3N1cGVydG9rZW5zLXdlYi1qcy91dGlscy9wb3N0U3VwZXJUb2tlbnNJbml0Q2FsbGJhY2tzLmpzP2U5MzkiXSwic291cmNlc0NvbnRlbnQiOlsiLyogQ29weXJpZ2h0IChjKSAyMDIyLCBWUkFJIExhYnMgYW5kL29yIGl0cyBhZmZpbGlhdGVzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc29mdHdhcmUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlXG4gKiBcIkxpY2Vuc2VcIikgYXMgcHVibGlzaGVkIGJ5IHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRhdGlvbi5cbiAqXG4gKiBZb3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXlcbiAqIG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLCBXSVRIT1VUXG4gKiBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuIFNlZSB0aGVcbiAqIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zXG4gKiB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiBfX2V4cG9ydChtKSB7XG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAoIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xufVxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuLi9saWIvYnVpbGQvcG9zdFN1cGVyVG9rZW5zSW5pdENhbGxiYWNrc1wiKSk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/supertokens-web-js/utils/postSuperTokensInitCallbacks.js\n"));

/***/ }),

/***/ "./node_modules/supertokens-web-js/utils/windowHandler/index.js":
/*!**********************************************************************!*\
  !*** ./node_modules/supertokens-web-js/utils/windowHandler/index.js ***!
  \**********************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("/* Copyright (c) 2020, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\n\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nexports.__esModule = true;\n__export(__webpack_require__(/*! ../../lib/build/windowHandler */ \"./node_modules/supertokens-web-js/lib/build/windowHandler/index.js\"));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3VwZXJ0b2tlbnMtd2ViLWpzL3V0aWxzL3dpbmRvd0hhbmRsZXIvaW5kZXguanMuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNhO0FBQ2I7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCLFNBQVMsbUJBQU8sQ0FBQyx5R0FBK0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3N1cGVydG9rZW5zLXdlYi1qcy91dGlscy93aW5kb3dIYW5kbGVyL2luZGV4LmpzP2I5YzgiXSwic291cmNlc0NvbnRlbnQiOlsiLyogQ29weXJpZ2h0IChjKSAyMDIwLCBWUkFJIExhYnMgYW5kL29yIGl0cyBhZmZpbGlhdGVzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc29mdHdhcmUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlXG4gKiBcIkxpY2Vuc2VcIikgYXMgcHVibGlzaGVkIGJ5IHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRhdGlvbi5cbiAqXG4gKiBZb3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXlcbiAqIG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLCBXSVRIT1VUXG4gKiBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuIFNlZSB0aGVcbiAqIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zXG4gKiB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiBfX2V4cG9ydChtKSB7XG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAoIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xufVxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbl9fZXhwb3J0KHJlcXVpcmUoXCIuLi8uLi9saWIvYnVpbGQvd2luZG93SGFuZGxlclwiKSk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/supertokens-web-js/utils/windowHandler/index.js\n"));

/***/ }),

/***/ "./node_modules/supertokens-website/index.js":
/*!***************************************************!*\
  !*** ./node_modules/supertokens-website/index.js ***!
  \***************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("/* Copyright (c) 2020, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n * \n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * \n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License. \n*/\n\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nexports.__esModule = true;\n__export(__webpack_require__(/*! ./lib/build */ \"./node_modules/supertokens-website/lib/build/index.js\"));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3VwZXJ0b2tlbnMtd2Vic2l0ZS9pbmRleC5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ2E7QUFDYjtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEIsU0FBUyxtQkFBTyxDQUFDLDBFQUFhIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9zdXBlcnRva2Vucy13ZWJzaXRlL2luZGV4LmpzPzQzNGIiXSwic291cmNlc0NvbnRlbnQiOlsiLyogQ29weXJpZ2h0IChjKSAyMDIwLCBWUkFJIExhYnMgYW5kL29yIGl0cyBhZmZpbGlhdGVzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc29mdHdhcmUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlXG4gKiBcIkxpY2Vuc2VcIikgYXMgcHVibGlzaGVkIGJ5IHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRhdGlvbi5cbiAqIFxuICogWW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5XG4gKiBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICogXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVRcbiAqIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gU2VlIHRoZVxuICogTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnNcbiAqIHVuZGVyIHRoZSBMaWNlbnNlLiBcbiovXG5cInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIF9fZXhwb3J0KG0pIHtcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmICghZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XG59XG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuX19leHBvcnQocmVxdWlyZShcIi4vbGliL2J1aWxkXCIpKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/supertokens-website/index.js\n"));

/***/ }),

/***/ "./node_modules/supertokens-website/lib/build/axios.js":
/*!*************************************************************!*\
  !*** ./node_modules/supertokens-website/lib/build/axios.js ***!
  \*************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nvar __assign =\n    (this && this.__assign) ||\n    function () {\n        __assign =\n            Object.assign ||\n            function (t) {\n                for (var s, i = 1, n = arguments.length; i < n; i++) {\n                    s = arguments[i];\n                    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n                }\n                return t;\n            };\n        return __assign.apply(this, arguments);\n    };\nvar __awaiter =\n    (this && this.__awaiter) ||\n    function (thisArg, _arguments, P, generator) {\n        function adopt(value) {\n            return value instanceof P\n                ? value\n                : new P(function (resolve) {\n                      resolve(value);\n                  });\n        }\n        return new (P || (P = Promise))(function (resolve, reject) {\n            function fulfilled(value) {\n                try {\n                    step(generator.next(value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function rejected(value) {\n                try {\n                    step(generator[\"throw\"](value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function step(result) {\n                result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n            }\n            step((generator = generator.apply(thisArg, _arguments || [])).next());\n        });\n    };\nvar __generator =\n    (this && this.__generator) ||\n    function (thisArg, body) {\n        var _ = {\n                label: 0,\n                sent: function () {\n                    if (t[0] & 1) throw t[1];\n                    return t[1];\n                },\n                trys: [],\n                ops: []\n            },\n            f,\n            y,\n            t,\n            g;\n        return (\n            (g = { next: verb(0), throw: verb(1), return: verb(2) }),\n            typeof Symbol === \"function\" &&\n                (g[Symbol.iterator] = function () {\n                    return this;\n                }),\n            g\n        );\n        function verb(n) {\n            return function (v) {\n                return step([n, v]);\n            };\n        }\n        function step(op) {\n            if (f) throw new TypeError(\"Generator is already executing.\");\n            while (_)\n                try {\n                    if (\n                        ((f = 1),\n                        y &&\n                            (t =\n                                op[0] & 2\n                                    ? y[\"return\"]\n                                    : op[0]\n                                    ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0)\n                                    : y.next) &&\n                            !(t = t.call(y, op[1])).done)\n                    )\n                        return t;\n                    if (((y = 0), t)) op = [op[0] & 2, t.value];\n                    switch (op[0]) {\n                        case 0:\n                        case 1:\n                            t = op;\n                            break;\n                        case 4:\n                            _.label++;\n                            return { value: op[1], done: false };\n                        case 5:\n                            _.label++;\n                            y = op[1];\n                            op = [0];\n                            continue;\n                        case 7:\n                            op = _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                        default:\n                            if (\n                                !((t = _.trys), (t = t.length > 0 && t[t.length - 1])) &&\n                                (op[0] === 6 || op[0] === 2)\n                            ) {\n                                _ = 0;\n                                continue;\n                            }\n                            if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) {\n                                _.label = op[1];\n                                break;\n                            }\n                            if (op[0] === 6 && _.label < t[1]) {\n                                _.label = t[1];\n                                t = op;\n                                break;\n                            }\n                            if (t && _.label < t[2]) {\n                                _.label = t[2];\n                                _.ops.push(op);\n                                break;\n                            }\n                            if (t[2]) _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                    }\n                    op = body.call(thisArg, _);\n                } catch (e) {\n                    op = [6, e];\n                    y = 0;\n                } finally {\n                    f = t = 0;\n                }\n            if (op[0] & 5) throw op[1];\n            return { value: op[0] ? op[1] : void 0, done: true };\n        }\n    };\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.responseErrorInterceptor = exports.responseInterceptor = exports.interceptorFunctionRequestFulfilled = void 0;\nvar axiosError_1 = __webpack_require__(/*! ./axiosError */ \"./node_modules/supertokens-website/lib/build/axiosError.js\");\nvar fetch_1 = __webpack_require__(/*! ./fetch */ \"./node_modules/supertokens-website/lib/build/fetch.js\");\nvar processState_1 = __webpack_require__(/*! ./processState */ \"./node_modules/supertokens-website/lib/build/processState.js\");\nvar utils_1 = __webpack_require__(/*! ./utils */ \"./node_modules/supertokens-website/lib/build/utils/index.js\");\nvar windowHandler_1 = __webpack_require__(/*! ./utils/windowHandler */ \"./node_modules/supertokens-website/lib/build/utils/windowHandler/index.js\");\nvar logger_1 = __webpack_require__(/*! ./logger */ \"./node_modules/supertokens-website/lib/build/logger.js\");\nfunction getUrlFromConfig(config) {\n    var url = config.url === undefined ? \"\" : config.url;\n    var baseURL = config.baseURL;\n    if (baseURL !== undefined) {\n        if (url.charAt(0) === \"/\" && baseURL.charAt(baseURL.length - 1) === \"/\") {\n            url = baseURL + url.substr(1);\n        } else if (url.charAt(0) !== \"/\" && baseURL.charAt(baseURL.length - 1) !== \"/\") {\n            url = baseURL + \"/\" + url;\n        } else {\n            url = baseURL + url;\n        }\n    }\n    return url;\n}\nfunction interceptorFunctionRequestFulfilled(config) {\n    return __awaiter(this, void 0, void 0, function () {\n        var url, doNotDoInterception, preRequestLSS, configWithAntiCsrf, antiCsrfToken, transferMethod;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    (0, logger_1.logDebugMessage)(\"interceptorFunctionRequestFulfilled: started axios interception\");\n                    url = getUrlFromConfig(config);\n                    doNotDoInterception = false;\n                    try {\n                        doNotDoInterception =\n                            typeof url === \"string\" &&\n                            !(0, utils_1.shouldDoInterceptionBasedOnUrl)(\n                                url,\n                                fetch_1.default.config.apiDomain,\n                                fetch_1.default.config.sessionTokenBackendDomain\n                            );\n                    } catch (err) {\n                        if (err.message === \"Please provide a valid domain name\") {\n                            (0, logger_1.logDebugMessage)(\n                                \"interceptorFunctionRequestFulfilled: Trying shouldDoInterceptionBasedOnUrl with location.origin\"\n                            );\n                            // .origin gives the port as well..\n                            doNotDoInterception = !(0, utils_1.shouldDoInterceptionBasedOnUrl)(\n                                windowHandler_1.default.getReferenceOrThrow().windowHandler.location.getOrigin(),\n                                fetch_1.default.config.apiDomain,\n                                fetch_1.default.config.sessionTokenBackendDomain\n                            );\n                        } else {\n                            throw err;\n                        }\n                    }\n                    (0,\n                    logger_1.logDebugMessage)(\"interceptorFunctionRequestFulfilled: Value of doNotDoInterception: \" + doNotDoInterception);\n                    if (doNotDoInterception) {\n                        (0, logger_1.logDebugMessage)(\n                            \"interceptorFunctionRequestFulfilled: Returning config unchanged\"\n                        );\n                        // this check means that if you are using axios via inteceptor, then we only do the refresh steps if you are calling your APIs.\n                        return [2 /*return*/, config];\n                    }\n                    (0, logger_1.logDebugMessage)(\"interceptorFunctionRequestFulfilled: Modifying config\");\n                    processState_1.ProcessState.getInstance().addState(\n                        processState_1.PROCESS_STATE.CALLING_INTERCEPTION_REQUEST\n                    );\n                    return [4 /*yield*/, (0, fetch_1.getLocalSessionState)(true)];\n                case 1:\n                    preRequestLSS = _a.sent();\n                    configWithAntiCsrf = config;\n                    if (!(preRequestLSS.status === \"EXISTS\")) return [3 /*break*/, 3];\n                    return [4 /*yield*/, fetch_1.AntiCsrfToken.getToken(preRequestLSS.lastAccessTokenUpdate)];\n                case 2:\n                    antiCsrfToken = _a.sent();\n                    if (antiCsrfToken !== undefined) {\n                        (0, logger_1.logDebugMessage)(\n                            \"interceptorFunctionRequestFulfilled: Adding anti-csrf token to request\"\n                        );\n                        configWithAntiCsrf = __assign(__assign({}, configWithAntiCsrf), {\n                            headers:\n                                configWithAntiCsrf === undefined\n                                    ? {\n                                          \"anti-csrf\": antiCsrfToken\n                                      }\n                                    : __assign(__assign({}, configWithAntiCsrf.headers), { \"anti-csrf\": antiCsrfToken })\n                        });\n                    }\n                    _a.label = 3;\n                case 3:\n                    if (fetch_1.default.config.autoAddCredentials && configWithAntiCsrf.withCredentials === undefined) {\n                        (0, logger_1.logDebugMessage)(\n                            \"interceptorFunctionRequestFulfilled: Adding credentials include\"\n                        );\n                        configWithAntiCsrf = __assign(__assign({}, configWithAntiCsrf), { withCredentials: true });\n                    }\n                    // adding rid for anti-csrf protection: Anti-csrf via custom header\n                    (0,\n                    logger_1.logDebugMessage)(\"interceptorFunctionRequestFulfilled: Adding rid header: anti-csrf (it may be overriden by the user's provided rid)\");\n                    configWithAntiCsrf = __assign(__assign({}, configWithAntiCsrf), {\n                        headers:\n                            configWithAntiCsrf === undefined\n                                ? {\n                                      rid: \"anti-csrf\"\n                                  }\n                                : __assign({ rid: \"anti-csrf\" }, configWithAntiCsrf.headers)\n                    });\n                    transferMethod = fetch_1.default.config.tokenTransferMethod;\n                    (0,\n                    logger_1.logDebugMessage)(\"interceptorFunctionRequestFulfilled: Adding st-auth-mode header: \" + transferMethod);\n                    configWithAntiCsrf.headers[\"st-auth-mode\"] = transferMethod;\n                    return [4 /*yield*/, removeAuthHeaderIfMatchesLocalToken(configWithAntiCsrf)];\n                case 4:\n                    configWithAntiCsrf = _a.sent();\n                    return [4 /*yield*/, setAuthorizationHeaderIfRequired(configWithAntiCsrf)];\n                case 5:\n                    _a.sent();\n                    (0, logger_1.logDebugMessage)(\"interceptorFunctionRequestFulfilled: returning modified config\");\n                    return [2 /*return*/, configWithAntiCsrf];\n            }\n        });\n    });\n}\nexports.interceptorFunctionRequestFulfilled = interceptorFunctionRequestFulfilled;\nfunction responseInterceptor(axiosInstance) {\n    var _this = this;\n    return function (response) {\n        return __awaiter(_this, void 0, void 0, function () {\n            var doNotDoInterception, url, preRequestLSS, config, _a;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        doNotDoInterception = false;\n                        _b.label = 1;\n                    case 1:\n                        _b.trys.push([1, , 8, 14]);\n                        if (!fetch_1.default.initCalled) {\n                            throw new Error(\"init function not called\");\n                        }\n                        (0, logger_1.logDebugMessage)(\"responseInterceptor: started\");\n                        (0,\n                        logger_1.logDebugMessage)(\"responseInterceptor: already intercepted: \" + response.headers[\"x-supertokens-xhr-intercepted\"]);\n                        url = getUrlFromConfig(response.config);\n                        try {\n                            doNotDoInterception =\n                                (typeof url === \"string\" &&\n                                    !(0, utils_1.shouldDoInterceptionBasedOnUrl)(\n                                        url,\n                                        fetch_1.default.config.apiDomain,\n                                        fetch_1.default.config.sessionTokenBackendDomain\n                                    )) ||\n                                !!response.headers[\"x-supertokens-xhr-intercepted\"];\n                        } catch (err) {\n                            if (err.message === \"Please provide a valid domain name\") {\n                                (0, logger_1.logDebugMessage)(\n                                    \"responseInterceptor: Trying shouldDoInterceptionBasedOnUrl with location.origin\"\n                                );\n                                // .origin gives the port as well..\n                                doNotDoInterception =\n                                    !(0, utils_1.shouldDoInterceptionBasedOnUrl)(\n                                        windowHandler_1.default\n                                            .getReferenceOrThrow()\n                                            .windowHandler.location.getOrigin(),\n                                        fetch_1.default.config.apiDomain,\n                                        fetch_1.default.config.sessionTokenBackendDomain\n                                    ) || !!response.headers[\"x-supertokens-xhr-intercepted\"];\n                            } else {\n                                throw err;\n                            }\n                        }\n                        (0,\n                        logger_1.logDebugMessage)(\"responseInterceptor: Value of doNotDoInterception: \" + doNotDoInterception);\n                        if (doNotDoInterception) {\n                            (0, logger_1.logDebugMessage)(\"responseInterceptor: Returning without interception\");\n                            // this check means that if you are using axios via inteceptor, then we only do the refresh steps if you are calling your APIs.\n                            return [2 /*return*/, response];\n                        }\n                        (0, logger_1.logDebugMessage)(\"responseInterceptor: Interception started\");\n                        processState_1.ProcessState.getInstance().addState(\n                            processState_1.PROCESS_STATE.CALLING_INTERCEPTION_RESPONSE\n                        );\n                        return [4 /*yield*/, (0, fetch_1.getLocalSessionState)(false)];\n                    case 2:\n                        preRequestLSS = _b.sent();\n                        return [4 /*yield*/, saveTokensFromHeaders(response)];\n                    case 3:\n                        _b.sent();\n                        (0,\n                        fetch_1.fireSessionUpdateEventsIfNecessary)(preRequestLSS.status === \"EXISTS\", response.status, response.headers[\"front-token\"]);\n                        if (!(response.status === fetch_1.default.config.sessionExpiredStatusCode))\n                            return [3 /*break*/, 4];\n                        (0, logger_1.logDebugMessage)(\"responseInterceptor: Status code is: \" + response.status);\n                        config = response.config;\n                        return [\n                            2 /*return*/,\n                            AuthHttpRequest.doRequest(\n                                function (config) {\n                                    // we create an instance since we don't want to intercept this.\n                                    // const instance = axios.create();\n                                    // return instance(config);\n                                    return axiosInstance(config);\n                                },\n                                config,\n                                url,\n                                response,\n                                undefined,\n                                true\n                            )\n                        ];\n                    case 4:\n                        if (!(response.status === fetch_1.default.config.invalidClaimStatusCode))\n                            return [3 /*break*/, 6];\n                        // only fire event if body is defined.\n                        return [4 /*yield*/, (0, fetch_1.onInvalidClaimResponse)(response)];\n                    case 5:\n                        // only fire event if body is defined.\n                        _b.sent();\n                        _b.label = 6;\n                    case 6:\n                        return [2 /*return*/, response];\n                    case 7:\n                        return [3 /*break*/, 14];\n                    case 8:\n                        _a = !doNotDoInterception;\n                        if (!_a) return [3 /*break*/, 10];\n                        return [4 /*yield*/, (0, fetch_1.getLocalSessionState)(true)];\n                    case 9:\n                        // we do not call doesSessionExist here cause the user might override that\n                        // function here and then it may break the logic of our original implementation.\n                        _a = !(_b.sent().status === \"EXISTS\");\n                        _b.label = 10;\n                    case 10:\n                        if (!_a) return [3 /*break*/, 13];\n                        (0,\n                        logger_1.logDebugMessage)(\"responseInterceptor: local session doesn't exist, so removing anti-csrf and sFrontToken\");\n                        return [4 /*yield*/, fetch_1.AntiCsrfToken.removeToken()];\n                    case 11:\n                        _b.sent();\n                        return [4 /*yield*/, fetch_1.FrontToken.removeToken()];\n                    case 12:\n                        _b.sent();\n                        _b.label = 13;\n                    case 13:\n                        return [7 /*endfinally*/];\n                    case 14:\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n}\nexports.responseInterceptor = responseInterceptor;\nfunction responseErrorInterceptor(axiosInstance) {\n    var _this = this;\n    return function (error) {\n        return __awaiter(_this, void 0, void 0, function () {\n            var config;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        (0, logger_1.logDebugMessage)(\"responseErrorInterceptor: called\");\n                        (0,\n                        logger_1.logDebugMessage)(\"responseErrorInterceptor: already intercepted: \" + (error.response && error.response.headers[\"x-supertokens-xhr-intercepted\"]));\n                        if (error.response.headers[\"x-supertokens-xhr-intercepted\"]) {\n                            throw error;\n                        }\n                        if (\n                            !(\n                                error.response !== undefined &&\n                                error.response.status === fetch_1.default.config.sessionExpiredStatusCode\n                            )\n                        )\n                            return [3 /*break*/, 1];\n                        (0,\n                        logger_1.logDebugMessage)(\"responseErrorInterceptor: Status code is: \" + error.response.status);\n                        config = error.config;\n                        return [\n                            2 /*return*/,\n                            AuthHttpRequest.doRequest(\n                                function (config) {\n                                    // we create an instance since we don't want to intercept this.\n                                    // const instance = axios.create();\n                                    // return instance(config);\n                                    return axiosInstance(config);\n                                },\n                                config,\n                                getUrlFromConfig(config),\n                                undefined,\n                                error,\n                                true\n                            )\n                        ];\n                    case 1:\n                        if (\n                            !(\n                                error.response !== undefined &&\n                                error.response.status === fetch_1.default.config.invalidClaimStatusCode\n                            )\n                        )\n                            return [3 /*break*/, 3];\n                        return [4 /*yield*/, (0, fetch_1.onInvalidClaimResponse)(error.response)];\n                    case 2:\n                        _a.sent();\n                        _a.label = 3;\n                    case 3:\n                        throw error;\n                }\n            });\n        });\n    };\n}\nexports.responseErrorInterceptor = responseErrorInterceptor;\n/**\n * @class AuthHttpRequest\n * @description wrapper for common http methods.\n */\nvar AuthHttpRequest = /** @class */ (function () {\n    function AuthHttpRequest() {}\n    var _a;\n    _a = AuthHttpRequest;\n    /**\n     * @description sends the actual http request and returns a response if successful/\n     * If not successful due to session expiry reasons, it\n     * attempts to call the refresh token API and if that is successful, calls this API again.\n     * @throws Error\n     */\n    AuthHttpRequest.doRequest = function (httpCall, config, url, prevResponse, prevError, viaInterceptor) {\n        if (viaInterceptor === void 0) {\n            viaInterceptor = false;\n        }\n        return __awaiter(void 0, void 0, void 0, function () {\n            var doNotDoInterception,\n                returnObj,\n                preRequestLSS,\n                configWithAntiCsrf,\n                antiCsrfToken,\n                transferMethod,\n                localPrevError,\n                localPrevResponse,\n                response,\n                _b,\n                refreshResult,\n                _c,\n                err_1,\n                response,\n                refreshResult,\n                _d,\n                postRequestIdToken;\n            return __generator(_a, function (_e) {\n                switch (_e.label) {\n                    case 0:\n                        if (!fetch_1.default.initCalled) {\n                            throw Error(\"init function not called\");\n                        }\n                        (0, logger_1.logDebugMessage)(\"doRequest: called\");\n                        doNotDoInterception = false;\n                        try {\n                            doNotDoInterception =\n                                typeof url === \"string\" &&\n                                !(0, utils_1.shouldDoInterceptionBasedOnUrl)(\n                                    url,\n                                    fetch_1.default.config.apiDomain,\n                                    fetch_1.default.config.sessionTokenBackendDomain\n                                ) &&\n                                viaInterceptor;\n                        } catch (err) {\n                            if (err.message === \"Please provide a valid domain name\") {\n                                (0, logger_1.logDebugMessage)(\n                                    \"doRequest: Trying shouldDoInterceptionBasedOnUrl with location.origin\"\n                                );\n                                // .origin gives the port as well..\n                                doNotDoInterception =\n                                    !(0, utils_1.shouldDoInterceptionBasedOnUrl)(\n                                        windowHandler_1.default\n                                            .getReferenceOrThrow()\n                                            .windowHandler.location.getOrigin(),\n                                        fetch_1.default.config.apiDomain,\n                                        fetch_1.default.config.sessionTokenBackendDomain\n                                    ) && viaInterceptor;\n                            } else {\n                                throw err;\n                            }\n                        }\n                        (0,\n                        logger_1.logDebugMessage)(\"doRequest: Value of doNotDoInterception: \" + doNotDoInterception);\n                        if (!doNotDoInterception) return [3 /*break*/, 2];\n                        (0, logger_1.logDebugMessage)(\"doRequest: Returning without interception\");\n                        if (prevError !== undefined) {\n                            throw prevError;\n                        } else if (prevResponse !== undefined) {\n                            return [2 /*return*/, prevResponse];\n                        }\n                        return [4 /*yield*/, httpCall(config)];\n                    case 1:\n                        return [2 /*return*/, _e.sent()];\n                    case 2:\n                        (0, logger_1.logDebugMessage)(\"doRequest: Interception started\");\n                        return [4 /*yield*/, removeAuthHeaderIfMatchesLocalToken(config)];\n                    case 3:\n                        config = _e.sent();\n                        _e.label = 4;\n                    case 4:\n                        _e.trys.push([4, , 40, 45]);\n                        returnObj = undefined;\n                        _e.label = 5;\n                    case 5:\n                        if (false) {}\n                        return [4 /*yield*/, (0, fetch_1.getLocalSessionState)(true)];\n                    case 6:\n                        preRequestLSS = _e.sent();\n                        configWithAntiCsrf = config;\n                        if (!(preRequestLSS.status === \"EXISTS\")) return [3 /*break*/, 8];\n                        return [4 /*yield*/, fetch_1.AntiCsrfToken.getToken(preRequestLSS.lastAccessTokenUpdate)];\n                    case 7:\n                        antiCsrfToken = _e.sent();\n                        if (antiCsrfToken !== undefined) {\n                            (0, logger_1.logDebugMessage)(\"doRequest: Adding anti-csrf token to request\");\n                            configWithAntiCsrf = __assign(__assign({}, configWithAntiCsrf), {\n                                headers:\n                                    configWithAntiCsrf === undefined\n                                        ? {\n                                              \"anti-csrf\": antiCsrfToken\n                                          }\n                                        : __assign(__assign({}, configWithAntiCsrf.headers), {\n                                              \"anti-csrf\": antiCsrfToken\n                                          })\n                            });\n                        }\n                        _e.label = 8;\n                    case 8:\n                        if (\n                            fetch_1.default.config.autoAddCredentials &&\n                            configWithAntiCsrf.withCredentials === undefined\n                        ) {\n                            (0, logger_1.logDebugMessage)(\"doRequest: Adding credentials include\");\n                            configWithAntiCsrf = __assign(__assign({}, configWithAntiCsrf), { withCredentials: true });\n                        }\n                        // adding rid for anti-csrf protection: Anti-csrf via custom header\n                        (0,\n                        logger_1.logDebugMessage)(\"doRequest: Adding rid header: anti-csrf (May get overriden by user's rid)\");\n                        configWithAntiCsrf = __assign(__assign({}, configWithAntiCsrf), {\n                            headers:\n                                configWithAntiCsrf === undefined\n                                    ? {\n                                          rid: \"anti-csrf\"\n                                      }\n                                    : __assign({ rid: \"anti-csrf\" }, configWithAntiCsrf.headers)\n                        });\n                        transferMethod = fetch_1.default.config.tokenTransferMethod;\n                        (0, logger_1.logDebugMessage)(\"doRequest: Adding st-auth-mode header: \" + transferMethod);\n                        configWithAntiCsrf.headers[\"st-auth-mode\"] = transferMethod;\n                        return [4 /*yield*/, setAuthorizationHeaderIfRequired(configWithAntiCsrf)];\n                    case 9:\n                        _e.sent();\n                        _e.label = 10;\n                    case 10:\n                        _e.trys.push([10, 25, , 38]);\n                        localPrevError = prevError;\n                        localPrevResponse = prevResponse;\n                        prevError = undefined;\n                        prevResponse = undefined;\n                        if (localPrevError !== undefined) {\n                            (0, logger_1.logDebugMessage)(\n                                \"doRequest: Not making call because localPrevError is not undefined\"\n                            );\n                            throw localPrevError;\n                        }\n                        if (localPrevResponse !== undefined) {\n                            (0, logger_1.logDebugMessage)(\n                                \"doRequest: Not making call because localPrevResponse is not undefined\"\n                            );\n                        } else {\n                            (0, logger_1.logDebugMessage)(\"doRequest: Making user's http call\");\n                        }\n                        if (!(localPrevResponse === undefined)) return [3 /*break*/, 12];\n                        return [4 /*yield*/, httpCall(configWithAntiCsrf)];\n                    case 11:\n                        _b = _e.sent();\n                        return [3 /*break*/, 13];\n                    case 12:\n                        _b = localPrevResponse;\n                        _e.label = 13;\n                    case 13:\n                        response = _b;\n                        (0, logger_1.logDebugMessage)(\"doRequest: User's http call ended\");\n                        return [4 /*yield*/, saveTokensFromHeaders(response)];\n                    case 14:\n                        _e.sent();\n                        (0,\n                        fetch_1.fireSessionUpdateEventsIfNecessary)(preRequestLSS.status === \"EXISTS\", response.status, response.headers[\"front-token\"]);\n                        if (!(response.status === fetch_1.default.config.sessionExpiredStatusCode))\n                            return [3 /*break*/, 21];\n                        (0, logger_1.logDebugMessage)(\"doRequest: Status code is: \" + response.status);\n                        return [4 /*yield*/, (0, fetch_1.onUnauthorisedResponse)(preRequestLSS)];\n                    case 15:\n                        refreshResult = _e.sent();\n                        if (!(refreshResult.result !== \"RETRY\")) return [3 /*break*/, 20];\n                        (0, logger_1.logDebugMessage)(\"doRequest: Not retrying original request\");\n                        if (!refreshResult.error) return [3 /*break*/, 17];\n                        return [4 /*yield*/, (0, axiosError_1.createAxiosErrorFromFetchResp)(refreshResult.error)];\n                    case 16:\n                        _c = _e.sent();\n                        return [3 /*break*/, 19];\n                    case 17:\n                        return [4 /*yield*/, (0, axiosError_1.createAxiosErrorFromAxiosResp)(response)];\n                    case 18:\n                        _c = _e.sent();\n                        _e.label = 19;\n                    case 19:\n                        // Returning refreshResult.error as an Axios Error if we attempted a refresh\n                        // Returning the response to the original response as an error if we did not attempt refreshing\n                        returnObj = _c;\n                        return [3 /*break*/, 39];\n                    case 20:\n                        (0, logger_1.logDebugMessage)(\"doRequest: Retrying original request\");\n                        return [3 /*break*/, 24];\n                    case 21:\n                        if (!(response.status === fetch_1.default.config.invalidClaimStatusCode))\n                            return [3 /*break*/, 23];\n                        return [4 /*yield*/, (0, fetch_1.onInvalidClaimResponse)(response)];\n                    case 22:\n                        _e.sent();\n                        _e.label = 23;\n                    case 23:\n                        return [2 /*return*/, response];\n                    case 24:\n                        return [3 /*break*/, 38];\n                    case 25:\n                        err_1 = _e.sent();\n                        response = err_1.response;\n                        if (!(response !== undefined)) return [3 /*break*/, 36];\n                        return [4 /*yield*/, saveTokensFromHeaders(response)];\n                    case 26:\n                        _e.sent();\n                        (0,\n                        fetch_1.fireSessionUpdateEventsIfNecessary)(preRequestLSS.status === \"EXISTS\", response.status, response.headers[\"front-token\"]);\n                        if (!(response.status === fetch_1.default.config.sessionExpiredStatusCode))\n                            return [3 /*break*/, 32];\n                        (0, logger_1.logDebugMessage)(\"doRequest: Status code is: \" + response.status);\n                        return [4 /*yield*/, (0, fetch_1.onUnauthorisedResponse)(preRequestLSS)];\n                    case 27:\n                        refreshResult = _e.sent();\n                        if (!(refreshResult.result !== \"RETRY\")) return [3 /*break*/, 31];\n                        (0, logger_1.logDebugMessage)(\"doRequest: Not retrying original request\");\n                        if (!(refreshResult.error !== undefined)) return [3 /*break*/, 29];\n                        return [4 /*yield*/, (0, axiosError_1.createAxiosErrorFromFetchResp)(refreshResult.error)];\n                    case 28:\n                        _d = _e.sent();\n                        return [3 /*break*/, 30];\n                    case 29:\n                        _d = err_1;\n                        _e.label = 30;\n                    case 30:\n                        // Returning refreshResult.error as an Axios Error if we attempted a refresh\n                        // Returning the original error if we did not attempt refreshing\n                        returnObj = _d;\n                        return [3 /*break*/, 39];\n                    case 31:\n                        (0, logger_1.logDebugMessage)(\"doRequest: Retrying original request\");\n                        return [3 /*break*/, 35];\n                    case 32:\n                        if (!(response.status === fetch_1.default.config.invalidClaimStatusCode))\n                            return [3 /*break*/, 34];\n                        return [4 /*yield*/, (0, fetch_1.onInvalidClaimResponse)(response)];\n                    case 33:\n                        _e.sent();\n                        _e.label = 34;\n                    case 34:\n                        throw err_1;\n                    case 35:\n                        return [3 /*break*/, 37];\n                    case 36:\n                        throw err_1;\n                    case 37:\n                        return [3 /*break*/, 38];\n                    case 38:\n                        return [3 /*break*/, 5];\n                    case 39:\n                        // if it comes here, means we called break. which happens only if we have logged out.\n                        // which means it's a 401, so we throw\n                        throw returnObj;\n                    case 40:\n                        return [4 /*yield*/, (0, fetch_1.getLocalSessionState)(false)];\n                    case 41:\n                        postRequestIdToken = _e.sent();\n                        if (!(postRequestIdToken.status === \"NOT_EXISTS\")) return [3 /*break*/, 44];\n                        (0,\n                        logger_1.logDebugMessage)(\"doRequest: local session doesn't exist, so removing anti-csrf and sFrontToken\");\n                        return [4 /*yield*/, fetch_1.AntiCsrfToken.removeToken()];\n                    case 42:\n                        _e.sent();\n                        return [4 /*yield*/, fetch_1.FrontToken.removeToken()];\n                    case 43:\n                        _e.sent();\n                        _e.label = 44;\n                    case 44:\n                        return [7 /*endfinally*/];\n                    case 45:\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    return AuthHttpRequest;\n})();\nexports[\"default\"] = AuthHttpRequest;\nfunction setAuthorizationHeaderIfRequired(requestConfig) {\n    return __awaiter(this, void 0, void 0, function () {\n        var accessToken, refreshToken;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    if (requestConfig.headers === undefined) {\n                        // This is makes TS happy\n                        requestConfig.headers = {};\n                    }\n                    (0, logger_1.logDebugMessage)(\"setAuthorizationHeaderIfRequired: adding existing tokens as header\");\n                    return [4 /*yield*/, (0, fetch_1.getTokenForHeaderAuth)(\"access\")];\n                case 1:\n                    accessToken = _b.sent();\n                    return [4 /*yield*/, (0, fetch_1.getTokenForHeaderAuth)(\"refresh\")];\n                case 2:\n                    refreshToken = _b.sent();\n                    // We don't add the refresh token because that's only required by the refresh call which is done with fetch\n                    // Still, we only add the Authorization header if both are present, because we are planning to add an option to expose the\n                    // access token to the frontend while using cookie based auth - so that users can get the access token to use\n                    if (accessToken !== undefined && refreshToken !== undefined) {\n                        if (\n                            requestConfig.headers[\"Authorization\"] !== undefined ||\n                            requestConfig.headers[\"authorization\"] !== undefined\n                        ) {\n                            (0, logger_1.logDebugMessage)(\n                                \"setAuthorizationHeaderIfRequired: Authorization header defined by the user, not adding\"\n                            );\n                        } else {\n                            (0, logger_1.logDebugMessage)(\n                                \"setAuthorizationHeaderIfRequired: added authorization header\"\n                            );\n                            requestConfig.headers = __assign(__assign({}, requestConfig.headers), {\n                                Authorization: \"Bearer \".concat(accessToken)\n                            });\n                            requestConfig.__supertokensAddedAuthHeader = true;\n                        }\n                    } else {\n                        (0, logger_1.logDebugMessage)(\n                            \"setAuthorizationHeaderIfRequired: token for header based auth not found\"\n                        );\n                    }\n                    return [2 /*return*/];\n            }\n        });\n    });\n}\nfunction saveTokensFromHeaders(response) {\n    return __awaiter(this, void 0, void 0, function () {\n        var refreshToken, accessToken, frontToken, antiCsrfToken, tok;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    (0, logger_1.logDebugMessage)(\"saveTokensFromHeaders: Saving updated tokens from the response\");\n                    refreshToken = response.headers[\"st-refresh-token\"];\n                    if (!(refreshToken !== undefined)) return [3 /*break*/, 2];\n                    (0, logger_1.logDebugMessage)(\"saveTokensFromHeaders: saving new refresh token\");\n                    return [4 /*yield*/, (0, fetch_1.setToken)(\"refresh\", refreshToken)];\n                case 1:\n                    _b.sent();\n                    _b.label = 2;\n                case 2:\n                    accessToken = response.headers[\"st-access-token\"];\n                    if (!(accessToken !== undefined)) return [3 /*break*/, 4];\n                    (0, logger_1.logDebugMessage)(\"saveTokensFromHeaders: saving new access token\");\n                    return [4 /*yield*/, (0, fetch_1.setToken)(\"access\", accessToken)];\n                case 3:\n                    _b.sent();\n                    _b.label = 4;\n                case 4:\n                    frontToken = response.headers[\"front-token\"];\n                    if (!(frontToken !== undefined)) return [3 /*break*/, 6];\n                    (0, logger_1.logDebugMessage)(\"doRequest: Setting sFrontToken: \" + frontToken);\n                    return [4 /*yield*/, fetch_1.FrontToken.setItem(frontToken)];\n                case 5:\n                    _b.sent();\n                    _b.label = 6;\n                case 6:\n                    antiCsrfToken = response.headers[\"anti-csrf\"];\n                    if (!(antiCsrfToken !== undefined)) return [3 /*break*/, 9];\n                    return [4 /*yield*/, (0, fetch_1.getLocalSessionState)(true)];\n                case 7:\n                    tok = _b.sent();\n                    if (!(tok.status === \"EXISTS\")) return [3 /*break*/, 9];\n                    (0, logger_1.logDebugMessage)(\"doRequest: Setting anti-csrf token\");\n                    return [4 /*yield*/, fetch_1.AntiCsrfToken.setItem(tok.lastAccessTokenUpdate, antiCsrfToken)];\n                case 8:\n                    _b.sent();\n                    _b.label = 9;\n                case 9:\n                    return [2 /*return*/];\n            }\n        });\n    });\n}\nfunction removeAuthHeaderIfMatchesLocalToken(config) {\n    return __awaiter(this, void 0, void 0, function () {\n        var accessToken, authHeader, res;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    return [4 /*yield*/, (0, fetch_1.getTokenForHeaderAuth)(\"access\")];\n                case 1:\n                    accessToken = _b.sent();\n                    authHeader = config.headers.Authorization || config.headers.authorization;\n                    if (accessToken !== undefined) {\n                        if (authHeader === \"Bearer \".concat(accessToken) || \"__supertokensAddedAuthHeader\" in config) {\n                            // We are ignoring the Authorization header set by the user in this case, because it would cause issues\n                            // If we do not ignore this, then this header would be used even if the request is being retried after a refresh, even though it contains an outdated access token.\n                            // This causes an infinite refresh loop.\n                            (0, logger_1.logDebugMessage)(\n                                \"removeAuthHeaderIfMatchesLocalToken: Removing Authorization from user provided headers because it contains our access token\"\n                            );\n                            res = __assign(__assign({}, config), { headers: __assign({}, config.headers) });\n                            delete res.headers.authorization;\n                            delete res.headers.Authorization;\n                            return [2 /*return*/, res];\n                        }\n                    }\n                    return [2 /*return*/, config];\n            }\n        });\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3VwZXJ0b2tlbnMtd2Vic2l0ZS9saWIvYnVpbGQvYXhpb3MuanMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5REFBeUQsT0FBTztBQUNoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixnREFBZ0Q7QUFDbkU7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGdDQUFnQyxHQUFHLDJCQUEyQixHQUFHLDJDQUEyQztBQUM1RyxtQkFBbUIsbUJBQU8sQ0FBQyxnRkFBYztBQUN6QyxjQUFjLG1CQUFPLENBQUMsc0VBQVM7QUFDL0IscUJBQXFCLG1CQUFPLENBQUMsb0ZBQWdCO0FBQzdDLGNBQWMsbUJBQU8sQ0FBQyw0RUFBUztBQUMvQixzQkFBc0IsbUJBQU8sQ0FBQyx3R0FBdUI7QUFDckQsZUFBZSxtQkFBTyxDQUFDLHdFQUFVO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlFQUFpRTtBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMERBQTBELGlDQUFpQyw0QkFBNEI7QUFDdkgseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUVBQWlFLHlCQUF5Qix1QkFBdUI7QUFDakg7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2REFBNkQ7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QyxrQkFBa0I7QUFDL0QscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBLDJDQUEyQztBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQSwyQkFBMkI7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBLGdDQUFnQztBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixLQUFLLEVBQUUsRUFBeUI7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxRUFBcUU7QUFDckU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhEQUE4RDtBQUM5RDtBQUNBLDJDQUEyQztBQUMzQyw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFFQUFxRSx5QkFBeUIsdUJBQXVCO0FBQ3JIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUVBQWlFO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQsa0JBQWtCO0FBQ25FLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQSxDQUFDO0FBQ0Qsa0JBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQSx3RUFBd0U7QUFDeEU7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNEQUFzRCxhQUFhLG9CQUFvQixtQkFBbUI7QUFDMUc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9zdXBlcnRva2Vucy13ZWJzaXRlL2xpYi9idWlsZC9heGlvcy5qcz9jYzlkIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fYXNzaWduID1cbiAgICAodGhpcyAmJiB0aGlzLl9fYXNzaWduKSB8fFxuICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX19hc3NpZ24gPVxuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbiB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKHQpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHQ7XG4gICAgICAgICAgICB9O1xuICAgICAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9O1xudmFyIF9fYXdhaXRlciA9XG4gICAgKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8XG4gICAgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgICAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUFxuICAgICAgICAgICAgICAgID8gdmFsdWVcbiAgICAgICAgICAgICAgICA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgICAgICB9KTtcbiAgICB9O1xudmFyIF9fZ2VuZXJhdG9yID1cbiAgICAodGhpcyAmJiB0aGlzLl9fZ2VuZXJhdG9yKSB8fFxuICAgIGZ1bmN0aW9uICh0aGlzQXJnLCBib2R5KSB7XG4gICAgICAgIHZhciBfID0ge1xuICAgICAgICAgICAgICAgIGxhYmVsOiAwLFxuICAgICAgICAgICAgICAgIHNlbnQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdFsxXTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHRyeXM6IFtdLFxuICAgICAgICAgICAgICAgIG9wczogW11cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmLFxuICAgICAgICAgICAgeSxcbiAgICAgICAgICAgIHQsXG4gICAgICAgICAgICBnO1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgKGcgPSB7IG5leHQ6IHZlcmIoMCksIHRocm93OiB2ZXJiKDEpLCByZXR1cm46IHZlcmIoMikgfSksXG4gICAgICAgICAgICB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiZcbiAgICAgICAgICAgICAgICAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIGdcbiAgICAgICAgKTtcbiAgICAgICAgZnVuY3Rpb24gdmVyYihuKSB7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RlcChbbiwgdl0pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XG4gICAgICAgICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XG4gICAgICAgICAgICB3aGlsZSAoXylcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAoKGYgPSAxKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAodCA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wWzBdICYgMlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB5W1wicmV0dXJuXCJdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG9wWzBdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHkubmV4dCkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCgoeSA9IDApLCB0KSkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHQgPSBvcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfLmxhYmVsKys7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF8ubGFiZWwrKztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB5ID0gb3BbMV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3AgPSBbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3AgPSBfLm9wcy5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgISgodCA9IF8udHJ5cyksICh0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXyA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXy5sYWJlbCA9IG9wWzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF8ubGFiZWwgPSB0WzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ID0gb3A7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfLmxhYmVsID0gdFsyXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXy5vcHMucHVzaChvcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgb3AgPSBbNiwgZV07XG4gICAgICAgICAgICAgICAgICAgIHkgPSAwO1xuICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIGYgPSB0ID0gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTtcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XG4gICAgICAgIH1cbiAgICB9O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5yZXNwb25zZUVycm9ySW50ZXJjZXB0b3IgPSBleHBvcnRzLnJlc3BvbnNlSW50ZXJjZXB0b3IgPSBleHBvcnRzLmludGVyY2VwdG9yRnVuY3Rpb25SZXF1ZXN0RnVsZmlsbGVkID0gdm9pZCAwO1xudmFyIGF4aW9zRXJyb3JfMSA9IHJlcXVpcmUoXCIuL2F4aW9zRXJyb3JcIik7XG52YXIgZmV0Y2hfMSA9IHJlcXVpcmUoXCIuL2ZldGNoXCIpO1xudmFyIHByb2Nlc3NTdGF0ZV8xID0gcmVxdWlyZShcIi4vcHJvY2Vzc1N0YXRlXCIpO1xudmFyIHV0aWxzXzEgPSByZXF1aXJlKFwiLi91dGlsc1wiKTtcbnZhciB3aW5kb3dIYW5kbGVyXzEgPSByZXF1aXJlKFwiLi91dGlscy93aW5kb3dIYW5kbGVyXCIpO1xudmFyIGxvZ2dlcl8xID0gcmVxdWlyZShcIi4vbG9nZ2VyXCIpO1xuZnVuY3Rpb24gZ2V0VXJsRnJvbUNvbmZpZyhjb25maWcpIHtcbiAgICB2YXIgdXJsID0gY29uZmlnLnVybCA9PT0gdW5kZWZpbmVkID8gXCJcIiA6IGNvbmZpZy51cmw7XG4gICAgdmFyIGJhc2VVUkwgPSBjb25maWcuYmFzZVVSTDtcbiAgICBpZiAoYmFzZVVSTCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGlmICh1cmwuY2hhckF0KDApID09PSBcIi9cIiAmJiBiYXNlVVJMLmNoYXJBdChiYXNlVVJMLmxlbmd0aCAtIDEpID09PSBcIi9cIikge1xuICAgICAgICAgICAgdXJsID0gYmFzZVVSTCArIHVybC5zdWJzdHIoMSk7XG4gICAgICAgIH0gZWxzZSBpZiAodXJsLmNoYXJBdCgwKSAhPT0gXCIvXCIgJiYgYmFzZVVSTC5jaGFyQXQoYmFzZVVSTC5sZW5ndGggLSAxKSAhPT0gXCIvXCIpIHtcbiAgICAgICAgICAgIHVybCA9IGJhc2VVUkwgKyBcIi9cIiArIHVybDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHVybCA9IGJhc2VVUkwgKyB1cmw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHVybDtcbn1cbmZ1bmN0aW9uIGludGVyY2VwdG9yRnVuY3Rpb25SZXF1ZXN0RnVsZmlsbGVkKGNvbmZpZykge1xuICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHVybCwgZG9Ob3REb0ludGVyY2VwdGlvbiwgcHJlUmVxdWVzdExTUywgY29uZmlnV2l0aEFudGlDc3JmLCBhbnRpQ3NyZlRva2VuLCB0cmFuc2Zlck1ldGhvZDtcbiAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xuICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgKDAsIGxvZ2dlcl8xLmxvZ0RlYnVnTWVzc2FnZSkoXCJpbnRlcmNlcHRvckZ1bmN0aW9uUmVxdWVzdEZ1bGZpbGxlZDogc3RhcnRlZCBheGlvcyBpbnRlcmNlcHRpb25cIik7XG4gICAgICAgICAgICAgICAgICAgIHVybCA9IGdldFVybEZyb21Db25maWcoY29uZmlnKTtcbiAgICAgICAgICAgICAgICAgICAgZG9Ob3REb0ludGVyY2VwdGlvbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZG9Ob3REb0ludGVyY2VwdGlvbiA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZW9mIHVybCA9PT0gXCJzdHJpbmdcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICEoMCwgdXRpbHNfMS5zaG91bGREb0ludGVyY2VwdGlvbkJhc2VkT25VcmwpKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZldGNoXzEuZGVmYXVsdC5jb25maWcuYXBpRG9tYWluLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmZXRjaF8xLmRlZmF1bHQuY29uZmlnLnNlc3Npb25Ub2tlbkJhY2tlbmREb21haW5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnIubWVzc2FnZSA9PT0gXCJQbGVhc2UgcHJvdmlkZSBhIHZhbGlkIGRvbWFpbiBuYW1lXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoMCwgbG9nZ2VyXzEubG9nRGVidWdNZXNzYWdlKShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJpbnRlcmNlcHRvckZ1bmN0aW9uUmVxdWVzdEZ1bGZpbGxlZDogVHJ5aW5nIHNob3VsZERvSW50ZXJjZXB0aW9uQmFzZWRPblVybCB3aXRoIGxvY2F0aW9uLm9yaWdpblwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAub3JpZ2luIGdpdmVzIHRoZSBwb3J0IGFzIHdlbGwuLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvTm90RG9JbnRlcmNlcHRpb24gPSAhKDAsIHV0aWxzXzEuc2hvdWxkRG9JbnRlcmNlcHRpb25CYXNlZE9uVXJsKShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93SGFuZGxlcl8xLmRlZmF1bHQuZ2V0UmVmZXJlbmNlT3JUaHJvdygpLndpbmRvd0hhbmRsZXIubG9jYXRpb24uZ2V0T3JpZ2luKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZldGNoXzEuZGVmYXVsdC5jb25maWcuYXBpRG9tYWluLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmZXRjaF8xLmRlZmF1bHQuY29uZmlnLnNlc3Npb25Ub2tlbkJhY2tlbmREb21haW5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgKDAsXG4gICAgICAgICAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ0RlYnVnTWVzc2FnZSkoXCJpbnRlcmNlcHRvckZ1bmN0aW9uUmVxdWVzdEZ1bGZpbGxlZDogVmFsdWUgb2YgZG9Ob3REb0ludGVyY2VwdGlvbjogXCIgKyBkb05vdERvSW50ZXJjZXB0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRvTm90RG9JbnRlcmNlcHRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICgwLCBsb2dnZXJfMS5sb2dEZWJ1Z01lc3NhZ2UpKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiaW50ZXJjZXB0b3JGdW5jdGlvblJlcXVlc3RGdWxmaWxsZWQ6IFJldHVybmluZyBjb25maWcgdW5jaGFuZ2VkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzIGNoZWNrIG1lYW5zIHRoYXQgaWYgeW91IGFyZSB1c2luZyBheGlvcyB2aWEgaW50ZWNlcHRvciwgdGhlbiB3ZSBvbmx5IGRvIHRoZSByZWZyZXNoIHN0ZXBzIGlmIHlvdSBhcmUgY2FsbGluZyB5b3VyIEFQSXMuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgY29uZmlnXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAoMCwgbG9nZ2VyXzEubG9nRGVidWdNZXNzYWdlKShcImludGVyY2VwdG9yRnVuY3Rpb25SZXF1ZXN0RnVsZmlsbGVkOiBNb2RpZnlpbmcgY29uZmlnXCIpO1xuICAgICAgICAgICAgICAgICAgICBwcm9jZXNzU3RhdGVfMS5Qcm9jZXNzU3RhdGUuZ2V0SW5zdGFuY2UoKS5hZGRTdGF0ZShcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3NTdGF0ZV8xLlBST0NFU1NfU1RBVEUuQ0FMTElOR19JTlRFUkNFUFRJT05fUkVRVUVTVFxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCAoMCwgZmV0Y2hfMS5nZXRMb2NhbFNlc3Npb25TdGF0ZSkodHJ1ZSldO1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgcHJlUmVxdWVzdExTUyA9IF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgY29uZmlnV2l0aEFudGlDc3JmID0gY29uZmlnO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIShwcmVSZXF1ZXN0TFNTLnN0YXR1cyA9PT0gXCJFWElTVFNcIikpIHJldHVybiBbMyAvKmJyZWFrKi8sIDNdO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBmZXRjaF8xLkFudGlDc3JmVG9rZW4uZ2V0VG9rZW4ocHJlUmVxdWVzdExTUy5sYXN0QWNjZXNzVG9rZW5VcGRhdGUpXTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGFudGlDc3JmVG9rZW4gPSBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhbnRpQ3NyZlRva2VuICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICgwLCBsb2dnZXJfMS5sb2dEZWJ1Z01lc3NhZ2UpKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiaW50ZXJjZXB0b3JGdW5jdGlvblJlcXVlc3RGdWxmaWxsZWQ6IEFkZGluZyBhbnRpLWNzcmYgdG9rZW4gdG8gcmVxdWVzdFwiXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlnV2l0aEFudGlDc3JmID0gX19hc3NpZ24oX19hc3NpZ24oe30sIGNvbmZpZ1dpdGhBbnRpQ3NyZiksIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25maWdXaXRoQW50aUNzcmYgPT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImFudGktY3NyZlwiOiBhbnRpQ3NyZlRva2VuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogX19hc3NpZ24oX19hc3NpZ24oe30sIGNvbmZpZ1dpdGhBbnRpQ3NyZi5oZWFkZXJzKSwgeyBcImFudGktY3NyZlwiOiBhbnRpQ3NyZlRva2VuIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBfYS5sYWJlbCA9IDM7XG4gICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICBpZiAoZmV0Y2hfMS5kZWZhdWx0LmNvbmZpZy5hdXRvQWRkQ3JlZGVudGlhbHMgJiYgY29uZmlnV2l0aEFudGlDc3JmLndpdGhDcmVkZW50aWFscyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAoMCwgbG9nZ2VyXzEubG9nRGVidWdNZXNzYWdlKShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImludGVyY2VwdG9yRnVuY3Rpb25SZXF1ZXN0RnVsZmlsbGVkOiBBZGRpbmcgY3JlZGVudGlhbHMgaW5jbHVkZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlnV2l0aEFudGlDc3JmID0gX19hc3NpZ24oX19hc3NpZ24oe30sIGNvbmZpZ1dpdGhBbnRpQ3NyZiksIHsgd2l0aENyZWRlbnRpYWxzOiB0cnVlIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIGFkZGluZyByaWQgZm9yIGFudGktY3NyZiBwcm90ZWN0aW9uOiBBbnRpLWNzcmYgdmlhIGN1c3RvbSBoZWFkZXJcbiAgICAgICAgICAgICAgICAgICAgKDAsXG4gICAgICAgICAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ0RlYnVnTWVzc2FnZSkoXCJpbnRlcmNlcHRvckZ1bmN0aW9uUmVxdWVzdEZ1bGZpbGxlZDogQWRkaW5nIHJpZCBoZWFkZXI6IGFudGktY3NyZiAoaXQgbWF5IGJlIG92ZXJyaWRlbiBieSB0aGUgdXNlcidzIHByb3ZpZGVkIHJpZClcIik7XG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZ1dpdGhBbnRpQ3NyZiA9IF9fYXNzaWduKF9fYXNzaWduKHt9LCBjb25maWdXaXRoQW50aUNzcmYpLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZ1dpdGhBbnRpQ3NyZiA9PT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByaWQ6IFwiYW50aS1jc3JmXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogX19hc3NpZ24oeyByaWQ6IFwiYW50aS1jc3JmXCIgfSwgY29uZmlnV2l0aEFudGlDc3JmLmhlYWRlcnMpXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB0cmFuc2Zlck1ldGhvZCA9IGZldGNoXzEuZGVmYXVsdC5jb25maWcudG9rZW5UcmFuc2Zlck1ldGhvZDtcbiAgICAgICAgICAgICAgICAgICAgKDAsXG4gICAgICAgICAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ0RlYnVnTWVzc2FnZSkoXCJpbnRlcmNlcHRvckZ1bmN0aW9uUmVxdWVzdEZ1bGZpbGxlZDogQWRkaW5nIHN0LWF1dGgtbW9kZSBoZWFkZXI6IFwiICsgdHJhbnNmZXJNZXRob2QpO1xuICAgICAgICAgICAgICAgICAgICBjb25maWdXaXRoQW50aUNzcmYuaGVhZGVyc1tcInN0LWF1dGgtbW9kZVwiXSA9IHRyYW5zZmVyTWV0aG9kO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCByZW1vdmVBdXRoSGVhZGVySWZNYXRjaGVzTG9jYWxUb2tlbihjb25maWdXaXRoQW50aUNzcmYpXTtcbiAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZ1dpdGhBbnRpQ3NyZiA9IF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgc2V0QXV0aG9yaXphdGlvbkhlYWRlcklmUmVxdWlyZWQoY29uZmlnV2l0aEFudGlDc3JmKV07XG4gICAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICgwLCBsb2dnZXJfMS5sb2dEZWJ1Z01lc3NhZ2UpKFwiaW50ZXJjZXB0b3JGdW5jdGlvblJlcXVlc3RGdWxmaWxsZWQ6IHJldHVybmluZyBtb2RpZmllZCBjb25maWdcIik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBjb25maWdXaXRoQW50aUNzcmZdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcbn1cbmV4cG9ydHMuaW50ZXJjZXB0b3JGdW5jdGlvblJlcXVlc3RGdWxmaWxsZWQgPSBpbnRlcmNlcHRvckZ1bmN0aW9uUmVxdWVzdEZ1bGZpbGxlZDtcbmZ1bmN0aW9uIHJlc3BvbnNlSW50ZXJjZXB0b3IoYXhpb3NJbnN0YW5jZSkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKF90aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGRvTm90RG9JbnRlcmNlcHRpb24sIHVybCwgcHJlUmVxdWVzdExTUywgY29uZmlnLCBfYTtcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2IpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9iLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvTm90RG9JbnRlcmNlcHRpb24gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9iLmxhYmVsID0gMTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgX2IudHJ5cy5wdXNoKFsxLCAsIDgsIDE0XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWZldGNoXzEuZGVmYXVsdC5pbml0Q2FsbGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaW5pdCBmdW5jdGlvbiBub3QgY2FsbGVkXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgKDAsIGxvZ2dlcl8xLmxvZ0RlYnVnTWVzc2FnZSkoXCJyZXNwb25zZUludGVyY2VwdG9yOiBzdGFydGVkXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgKDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2dnZXJfMS5sb2dEZWJ1Z01lc3NhZ2UpKFwicmVzcG9uc2VJbnRlcmNlcHRvcjogYWxyZWFkeSBpbnRlcmNlcHRlZDogXCIgKyByZXNwb25zZS5oZWFkZXJzW1wieC1zdXBlcnRva2Vucy14aHItaW50ZXJjZXB0ZWRcIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgdXJsID0gZ2V0VXJsRnJvbUNvbmZpZyhyZXNwb25zZS5jb25maWcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb05vdERvSW50ZXJjZXB0aW9uID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHR5cGVvZiB1cmwgPT09IFwic3RyaW5nXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICEoMCwgdXRpbHNfMS5zaG91bGREb0ludGVyY2VwdGlvbkJhc2VkT25VcmwpKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmZXRjaF8xLmRlZmF1bHQuY29uZmlnLmFwaURvbWFpbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmZXRjaF8xLmRlZmF1bHQuY29uZmlnLnNlc3Npb25Ub2tlbkJhY2tlbmREb21haW5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICEhcmVzcG9uc2UuaGVhZGVyc1tcIngtc3VwZXJ0b2tlbnMteGhyLWludGVyY2VwdGVkXCJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVyci5tZXNzYWdlID09PSBcIlBsZWFzZSBwcm92aWRlIGEgdmFsaWQgZG9tYWluIG5hbWVcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoMCwgbG9nZ2VyXzEubG9nRGVidWdNZXNzYWdlKShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwicmVzcG9uc2VJbnRlcmNlcHRvcjogVHJ5aW5nIHNob3VsZERvSW50ZXJjZXB0aW9uQmFzZWRPblVybCB3aXRoIGxvY2F0aW9uLm9yaWdpblwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIC5vcmlnaW4gZ2l2ZXMgdGhlIHBvcnQgYXMgd2VsbC4uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvTm90RG9JbnRlcmNlcHRpb24gPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgISgwLCB1dGlsc18xLnNob3VsZERvSW50ZXJjZXB0aW9uQmFzZWRPblVybCkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93SGFuZGxlcl8xLmRlZmF1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmdldFJlZmVyZW5jZU9yVGhyb3coKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAud2luZG93SGFuZGxlci5sb2NhdGlvbi5nZXRPcmlnaW4oKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmZXRjaF8xLmRlZmF1bHQuY29uZmlnLmFwaURvbWFpbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmZXRjaF8xLmRlZmF1bHQuY29uZmlnLnNlc3Npb25Ub2tlbkJhY2tlbmREb21haW5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgfHwgISFyZXNwb25zZS5oZWFkZXJzW1wieC1zdXBlcnRva2Vucy14aHItaW50ZXJjZXB0ZWRcIl07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICgwLFxuICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nRGVidWdNZXNzYWdlKShcInJlc3BvbnNlSW50ZXJjZXB0b3I6IFZhbHVlIG9mIGRvTm90RG9JbnRlcmNlcHRpb246IFwiICsgZG9Ob3REb0ludGVyY2VwdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZG9Ob3REb0ludGVyY2VwdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICgwLCBsb2dnZXJfMS5sb2dEZWJ1Z01lc3NhZ2UpKFwicmVzcG9uc2VJbnRlcmNlcHRvcjogUmV0dXJuaW5nIHdpdGhvdXQgaW50ZXJjZXB0aW9uXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgY2hlY2sgbWVhbnMgdGhhdCBpZiB5b3UgYXJlIHVzaW5nIGF4aW9zIHZpYSBpbnRlY2VwdG9yLCB0aGVuIHdlIG9ubHkgZG8gdGhlIHJlZnJlc2ggc3RlcHMgaWYgeW91IGFyZSBjYWxsaW5nIHlvdXIgQVBJcy5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgcmVzcG9uc2VdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgKDAsIGxvZ2dlcl8xLmxvZ0RlYnVnTWVzc2FnZSkoXCJyZXNwb25zZUludGVyY2VwdG9yOiBJbnRlcmNlcHRpb24gc3RhcnRlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3NTdGF0ZV8xLlByb2Nlc3NTdGF0ZS5nZXRJbnN0YW5jZSgpLmFkZFN0YXRlKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3NTdGF0ZV8xLlBST0NFU1NfU1RBVEUuQ0FMTElOR19JTlRFUkNFUFRJT05fUkVTUE9OU0VcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCAoMCwgZmV0Y2hfMS5nZXRMb2NhbFNlc3Npb25TdGF0ZSkoZmFsc2UpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgcHJlUmVxdWVzdExTUyA9IF9iLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHNhdmVUb2tlbnNGcm9tSGVhZGVycyhyZXNwb25zZSldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYi5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAoMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZldGNoXzEuZmlyZVNlc3Npb25VcGRhdGVFdmVudHNJZk5lY2Vzc2FyeSkocHJlUmVxdWVzdExTUy5zdGF0dXMgPT09IFwiRVhJU1RTXCIsIHJlc3BvbnNlLnN0YXR1cywgcmVzcG9uc2UuaGVhZGVyc1tcImZyb250LXRva2VuXCJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKHJlc3BvbnNlLnN0YXR1cyA9PT0gZmV0Y2hfMS5kZWZhdWx0LmNvbmZpZy5zZXNzaW9uRXhwaXJlZFN0YXR1c0NvZGUpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgKDAsIGxvZ2dlcl8xLmxvZ0RlYnVnTWVzc2FnZSkoXCJyZXNwb25zZUludGVyY2VwdG9yOiBTdGF0dXMgY29kZSBpczogXCIgKyByZXNwb25zZS5zdGF0dXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlnID0gcmVzcG9uc2UuY29uZmlnO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAyIC8qcmV0dXJuKi8sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQXV0aEh0dHBSZXF1ZXN0LmRvUmVxdWVzdChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKGNvbmZpZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2UgY3JlYXRlIGFuIGluc3RhbmNlIHNpbmNlIHdlIGRvbid0IHdhbnQgdG8gaW50ZXJjZXB0IHRoaXMuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zdCBpbnN0YW5jZSA9IGF4aW9zLmNyZWF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmV0dXJuIGluc3RhbmNlKGNvbmZpZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3NJbnN0YW5jZShjb25maWcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25maWcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKHJlc3BvbnNlLnN0YXR1cyA9PT0gZmV0Y2hfMS5kZWZhdWx0LmNvbmZpZy5pbnZhbGlkQ2xhaW1TdGF0dXNDb2RlKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCA2XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9ubHkgZmlyZSBldmVudCBpZiBib2R5IGlzIGRlZmluZWQuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCAoMCwgZmV0Y2hfMS5vbkludmFsaWRDbGFpbVJlc3BvbnNlKShyZXNwb25zZSldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBvbmx5IGZpcmUgZXZlbnQgaWYgYm9keSBpcyBkZWZpbmVkLlxuICAgICAgICAgICAgICAgICAgICAgICAgX2Iuc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2IubGFiZWwgPSA2O1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgcmVzcG9uc2VdO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCAxNF07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgODpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hID0gIWRvTm90RG9JbnRlcmNlcHRpb247XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV9hKSByZXR1cm4gWzMgLypicmVhayovLCAxMF07XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCAoMCwgZmV0Y2hfMS5nZXRMb2NhbFNlc3Npb25TdGF0ZSkodHJ1ZSldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB3ZSBkbyBub3QgY2FsbCBkb2VzU2Vzc2lvbkV4aXN0IGhlcmUgY2F1c2UgdGhlIHVzZXIgbWlnaHQgb3ZlcnJpZGUgdGhhdFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZnVuY3Rpb24gaGVyZSBhbmQgdGhlbiBpdCBtYXkgYnJlYWsgdGhlIGxvZ2ljIG9mIG91ciBvcmlnaW5hbCBpbXBsZW1lbnRhdGlvbi5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9hID0gIShfYi5zZW50KCkuc3RhdHVzID09PSBcIkVYSVNUU1wiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9iLmxhYmVsID0gMTA7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTA6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV9hKSByZXR1cm4gWzMgLypicmVhayovLCAxM107XG4gICAgICAgICAgICAgICAgICAgICAgICAoMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ0RlYnVnTWVzc2FnZSkoXCJyZXNwb25zZUludGVyY2VwdG9yOiBsb2NhbCBzZXNzaW9uIGRvZXNuJ3QgZXhpc3QsIHNvIHJlbW92aW5nIGFudGktY3NyZiBhbmQgc0Zyb250VG9rZW5cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBmZXRjaF8xLkFudGlDc3JmVG9rZW4ucmVtb3ZlVG9rZW4oKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTE6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYi5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBmZXRjaF8xLkZyb250VG9rZW4ucmVtb3ZlVG9rZW4oKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTI6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYi5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfYi5sYWJlbCA9IDEzO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDEzOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs3IC8qZW5kZmluYWxseSovXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxNDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbn1cbmV4cG9ydHMucmVzcG9uc2VJbnRlcmNlcHRvciA9IHJlc3BvbnNlSW50ZXJjZXB0b3I7XG5mdW5jdGlvbiByZXNwb25zZUVycm9ySW50ZXJjZXB0b3IoYXhpb3NJbnN0YW5jZSkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKF90aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGNvbmZpZztcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgICgwLCBsb2dnZXJfMS5sb2dEZWJ1Z01lc3NhZ2UpKFwicmVzcG9uc2VFcnJvckludGVyY2VwdG9yOiBjYWxsZWRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAoMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ0RlYnVnTWVzc2FnZSkoXCJyZXNwb25zZUVycm9ySW50ZXJjZXB0b3I6IGFscmVhZHkgaW50ZXJjZXB0ZWQ6IFwiICsgKGVycm9yLnJlc3BvbnNlICYmIGVycm9yLnJlc3BvbnNlLmhlYWRlcnNbXCJ4LXN1cGVydG9rZW5zLXhoci1pbnRlcmNlcHRlZFwiXSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlLmhlYWRlcnNbXCJ4LXN1cGVydG9rZW5zLXhoci1pbnRlcmNlcHRlZFwiXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICEoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yLnJlc3BvbnNlICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3IucmVzcG9uc2Uuc3RhdHVzID09PSBmZXRjaF8xLmRlZmF1bHQuY29uZmlnLnNlc3Npb25FeHBpcmVkU3RhdHVzQ29kZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCAxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICgwLFxuICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nRGVidWdNZXNzYWdlKShcInJlc3BvbnNlRXJyb3JJbnRlcmNlcHRvcjogU3RhdHVzIGNvZGUgaXM6IFwiICsgZXJyb3IucmVzcG9uc2Uuc3RhdHVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZyA9IGVycm9yLmNvbmZpZztcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMiAvKnJldHVybiovLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEF1dGhIdHRwUmVxdWVzdC5kb1JlcXVlc3QoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChjb25maWcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdlIGNyZWF0ZSBhbiBpbnN0YW5jZSBzaW5jZSB3ZSBkb24ndCB3YW50IHRvIGludGVyY2VwdCB0aGlzLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc3QgaW5zdGFuY2UgPSBheGlvcy5jcmVhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJldHVybiBpbnN0YW5jZShjb25maWcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zSW5zdGFuY2UoY29uZmlnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZXRVcmxGcm9tQ29uZmlnKGNvbmZpZyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3IsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3IucmVzcG9uc2UgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvci5yZXNwb25zZS5zdGF0dXMgPT09IGZldGNoXzEuZGVmYXVsdC5jb25maWcuaW52YWxpZENsYWltU3RhdHVzQ29kZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCAzXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sICgwLCBmZXRjaF8xLm9uSW52YWxpZENsYWltUmVzcG9uc2UpKGVycm9yLnJlc3BvbnNlKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLmxhYmVsID0gMztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG59XG5leHBvcnRzLnJlc3BvbnNlRXJyb3JJbnRlcmNlcHRvciA9IHJlc3BvbnNlRXJyb3JJbnRlcmNlcHRvcjtcbi8qKlxuICogQGNsYXNzIEF1dGhIdHRwUmVxdWVzdFxuICogQGRlc2NyaXB0aW9uIHdyYXBwZXIgZm9yIGNvbW1vbiBodHRwIG1ldGhvZHMuXG4gKi9cbnZhciBBdXRoSHR0cFJlcXVlc3QgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQXV0aEh0dHBSZXF1ZXN0KCkge31cbiAgICB2YXIgX2E7XG4gICAgX2EgPSBBdXRoSHR0cFJlcXVlc3Q7XG4gICAgLyoqXG4gICAgICogQGRlc2NyaXB0aW9uIHNlbmRzIHRoZSBhY3R1YWwgaHR0cCByZXF1ZXN0IGFuZCByZXR1cm5zIGEgcmVzcG9uc2UgaWYgc3VjY2Vzc2Z1bC9cbiAgICAgKiBJZiBub3Qgc3VjY2Vzc2Z1bCBkdWUgdG8gc2Vzc2lvbiBleHBpcnkgcmVhc29ucywgaXRcbiAgICAgKiBhdHRlbXB0cyB0byBjYWxsIHRoZSByZWZyZXNoIHRva2VuIEFQSSBhbmQgaWYgdGhhdCBpcyBzdWNjZXNzZnVsLCBjYWxscyB0aGlzIEFQSSBhZ2Fpbi5cbiAgICAgKiBAdGhyb3dzIEVycm9yXG4gICAgICovXG4gICAgQXV0aEh0dHBSZXF1ZXN0LmRvUmVxdWVzdCA9IGZ1bmN0aW9uIChodHRwQ2FsbCwgY29uZmlnLCB1cmwsIHByZXZSZXNwb25zZSwgcHJldkVycm9yLCB2aWFJbnRlcmNlcHRvcikge1xuICAgICAgICBpZiAodmlhSW50ZXJjZXB0b3IgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgdmlhSW50ZXJjZXB0b3IgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBkb05vdERvSW50ZXJjZXB0aW9uLFxuICAgICAgICAgICAgICAgIHJldHVybk9iaixcbiAgICAgICAgICAgICAgICBwcmVSZXF1ZXN0TFNTLFxuICAgICAgICAgICAgICAgIGNvbmZpZ1dpdGhBbnRpQ3NyZixcbiAgICAgICAgICAgICAgICBhbnRpQ3NyZlRva2VuLFxuICAgICAgICAgICAgICAgIHRyYW5zZmVyTWV0aG9kLFxuICAgICAgICAgICAgICAgIGxvY2FsUHJldkVycm9yLFxuICAgICAgICAgICAgICAgIGxvY2FsUHJldlJlc3BvbnNlLFxuICAgICAgICAgICAgICAgIHJlc3BvbnNlLFxuICAgICAgICAgICAgICAgIF9iLFxuICAgICAgICAgICAgICAgIHJlZnJlc2hSZXN1bHQsXG4gICAgICAgICAgICAgICAgX2MsXG4gICAgICAgICAgICAgICAgZXJyXzEsXG4gICAgICAgICAgICAgICAgcmVzcG9uc2UsXG4gICAgICAgICAgICAgICAgcmVmcmVzaFJlc3VsdCxcbiAgICAgICAgICAgICAgICBfZCxcbiAgICAgICAgICAgICAgICBwb3N0UmVxdWVzdElkVG9rZW47XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IoX2EsIGZ1bmN0aW9uIChfZSkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2UubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFmZXRjaF8xLmRlZmF1bHQuaW5pdENhbGxlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IEVycm9yKFwiaW5pdCBmdW5jdGlvbiBub3QgY2FsbGVkXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgKDAsIGxvZ2dlcl8xLmxvZ0RlYnVnTWVzc2FnZSkoXCJkb1JlcXVlc3Q6IGNhbGxlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvTm90RG9JbnRlcmNlcHRpb24gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9Ob3REb0ludGVyY2VwdGlvbiA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVvZiB1cmwgPT09IFwic3RyaW5nXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgISgwLCB1dGlsc18xLnNob3VsZERvSW50ZXJjZXB0aW9uQmFzZWRPblVybCkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmZXRjaF8xLmRlZmF1bHQuY29uZmlnLmFwaURvbWFpbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZldGNoXzEuZGVmYXVsdC5jb25maWcuc2Vzc2lvblRva2VuQmFja2VuZERvbWFpblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpYUludGVyY2VwdG9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVyci5tZXNzYWdlID09PSBcIlBsZWFzZSBwcm92aWRlIGEgdmFsaWQgZG9tYWluIG5hbWVcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoMCwgbG9nZ2VyXzEubG9nRGVidWdNZXNzYWdlKShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZG9SZXF1ZXN0OiBUcnlpbmcgc2hvdWxkRG9JbnRlcmNlcHRpb25CYXNlZE9uVXJsIHdpdGggbG9jYXRpb24ub3JpZ2luXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gLm9yaWdpbiBnaXZlcyB0aGUgcG9ydCBhcyB3ZWxsLi5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9Ob3REb0ludGVyY2VwdGlvbiA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAhKDAsIHV0aWxzXzEuc2hvdWxkRG9JbnRlcmNlcHRpb25CYXNlZE9uVXJsKShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3dIYW5kbGVyXzEuZGVmYXVsdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZ2V0UmVmZXJlbmNlT3JUaHJvdygpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC53aW5kb3dIYW5kbGVyLmxvY2F0aW9uLmdldE9yaWdpbigpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZldGNoXzEuZGVmYXVsdC5jb25maWcuYXBpRG9tYWluLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZldGNoXzEuZGVmYXVsdC5jb25maWcuc2Vzc2lvblRva2VuQmFja2VuZERvbWFpblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSAmJiB2aWFJbnRlcmNlcHRvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgKDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2dnZXJfMS5sb2dEZWJ1Z01lc3NhZ2UpKFwiZG9SZXF1ZXN0OiBWYWx1ZSBvZiBkb05vdERvSW50ZXJjZXB0aW9uOiBcIiArIGRvTm90RG9JbnRlcmNlcHRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFkb05vdERvSW50ZXJjZXB0aW9uKSByZXR1cm4gWzMgLypicmVhayovLCAyXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICgwLCBsb2dnZXJfMS5sb2dEZWJ1Z01lc3NhZ2UpKFwiZG9SZXF1ZXN0OiBSZXR1cm5pbmcgd2l0aG91dCBpbnRlcmNlcHRpb25cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJldkVycm9yICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBwcmV2RXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHByZXZSZXNwb25zZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHByZXZSZXNwb25zZV07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBodHRwQ2FsbChjb25maWcpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIF9lLnNlbnQoKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgICgwLCBsb2dnZXJfMS5sb2dEZWJ1Z01lc3NhZ2UpKFwiZG9SZXF1ZXN0OiBJbnRlcmNlcHRpb24gc3RhcnRlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHJlbW92ZUF1dGhIZWFkZXJJZk1hdGNoZXNMb2NhbFRva2VuKGNvbmZpZyldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25maWcgPSBfZS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfZS5sYWJlbCA9IDQ7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9lLnRyeXMucHVzaChbNCwgLCA0MCwgNDVdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybk9iaiA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9lLmxhYmVsID0gNTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0cnVlKSByZXR1cm4gWzMgLypicmVhayovLCAzOV07XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCAoMCwgZmV0Y2hfMS5nZXRMb2NhbFNlc3Npb25TdGF0ZSkodHJ1ZSldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgICAgICAgICBwcmVSZXF1ZXN0TFNTID0gX2Uuc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlnV2l0aEFudGlDc3JmID0gY29uZmlnO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEocHJlUmVxdWVzdExTUy5zdGF0dXMgPT09IFwiRVhJU1RTXCIpKSByZXR1cm4gWzMgLypicmVhayovLCA4XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIGZldGNoXzEuQW50aUNzcmZUb2tlbi5nZXRUb2tlbihwcmVSZXF1ZXN0TFNTLmxhc3RBY2Nlc3NUb2tlblVwZGF0ZSldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgICAgICAgICAgICBhbnRpQ3NyZlRva2VuID0gX2Uuc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFudGlDc3JmVG9rZW4gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICgwLCBsb2dnZXJfMS5sb2dEZWJ1Z01lc3NhZ2UpKFwiZG9SZXF1ZXN0OiBBZGRpbmcgYW50aS1jc3JmIHRva2VuIHRvIHJlcXVlc3RcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlnV2l0aEFudGlDc3JmID0gX19hc3NpZ24oX19hc3NpZ24oe30sIGNvbmZpZ1dpdGhBbnRpQ3NyZiksIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZ1dpdGhBbnRpQ3NyZiA9PT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJhbnRpLWNzcmZcIjogYW50aUNzcmZUb2tlblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogX19hc3NpZ24oX19hc3NpZ24oe30sIGNvbmZpZ1dpdGhBbnRpQ3NyZi5oZWFkZXJzKSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiYW50aS1jc3JmXCI6IGFudGlDc3JmVG9rZW5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBfZS5sYWJlbCA9IDg7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgODpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmZXRjaF8xLmRlZmF1bHQuY29uZmlnLmF1dG9BZGRDcmVkZW50aWFscyAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZ1dpdGhBbnRpQ3NyZi53aXRoQ3JlZGVudGlhbHMgPT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKDAsIGxvZ2dlcl8xLmxvZ0RlYnVnTWVzc2FnZSkoXCJkb1JlcXVlc3Q6IEFkZGluZyBjcmVkZW50aWFscyBpbmNsdWRlXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZ1dpdGhBbnRpQ3NyZiA9IF9fYXNzaWduKF9fYXNzaWduKHt9LCBjb25maWdXaXRoQW50aUNzcmYpLCB7IHdpdGhDcmVkZW50aWFsczogdHJ1ZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFkZGluZyByaWQgZm9yIGFudGktY3NyZiBwcm90ZWN0aW9uOiBBbnRpLWNzcmYgdmlhIGN1c3RvbSBoZWFkZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICgwLFxuICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nRGVidWdNZXNzYWdlKShcImRvUmVxdWVzdDogQWRkaW5nIHJpZCBoZWFkZXI6IGFudGktY3NyZiAoTWF5IGdldCBvdmVycmlkZW4gYnkgdXNlcidzIHJpZClcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25maWdXaXRoQW50aUNzcmYgPSBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgY29uZmlnV2l0aEFudGlDc3JmKSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZ1dpdGhBbnRpQ3NyZiA9PT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJpZDogXCJhbnRpLWNzcmZcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IF9fYXNzaWduKHsgcmlkOiBcImFudGktY3NyZlwiIH0sIGNvbmZpZ1dpdGhBbnRpQ3NyZi5oZWFkZXJzKVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2Zlck1ldGhvZCA9IGZldGNoXzEuZGVmYXVsdC5jb25maWcudG9rZW5UcmFuc2Zlck1ldGhvZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICgwLCBsb2dnZXJfMS5sb2dEZWJ1Z01lc3NhZ2UpKFwiZG9SZXF1ZXN0OiBBZGRpbmcgc3QtYXV0aC1tb2RlIGhlYWRlcjogXCIgKyB0cmFuc2Zlck1ldGhvZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25maWdXaXRoQW50aUNzcmYuaGVhZGVyc1tcInN0LWF1dGgtbW9kZVwiXSA9IHRyYW5zZmVyTWV0aG9kO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgc2V0QXV0aG9yaXphdGlvbkhlYWRlcklmUmVxdWlyZWQoY29uZmlnV2l0aEFudGlDc3JmKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgOTpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9lLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9lLmxhYmVsID0gMTA7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTA6XG4gICAgICAgICAgICAgICAgICAgICAgICBfZS50cnlzLnB1c2goWzEwLCAyNSwgLCAzOF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxQcmV2RXJyb3IgPSBwcmV2RXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2NhbFByZXZSZXNwb25zZSA9IHByZXZSZXNwb25zZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZXZFcnJvciA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZXZSZXNwb25zZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsb2NhbFByZXZFcnJvciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKDAsIGxvZ2dlcl8xLmxvZ0RlYnVnTWVzc2FnZSkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZG9SZXF1ZXN0OiBOb3QgbWFraW5nIGNhbGwgYmVjYXVzZSBsb2NhbFByZXZFcnJvciBpcyBub3QgdW5kZWZpbmVkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IGxvY2FsUHJldkVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxvY2FsUHJldlJlc3BvbnNlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoMCwgbG9nZ2VyXzEubG9nRGVidWdNZXNzYWdlKShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJkb1JlcXVlc3Q6IE5vdCBtYWtpbmcgY2FsbCBiZWNhdXNlIGxvY2FsUHJldlJlc3BvbnNlIGlzIG5vdCB1bmRlZmluZWRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICgwLCBsb2dnZXJfMS5sb2dEZWJ1Z01lc3NhZ2UpKFwiZG9SZXF1ZXN0OiBNYWtpbmcgdXNlcidzIGh0dHAgY2FsbFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKGxvY2FsUHJldlJlc3BvbnNlID09PSB1bmRlZmluZWQpKSByZXR1cm4gWzMgLypicmVhayovLCAxMl07XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBodHRwQ2FsbChjb25maWdXaXRoQW50aUNzcmYpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9iID0gX2Uuc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgMTNdO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDEyOlxuICAgICAgICAgICAgICAgICAgICAgICAgX2IgPSBsb2NhbFByZXZSZXNwb25zZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9lLmxhYmVsID0gMTM7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTM6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9iO1xuICAgICAgICAgICAgICAgICAgICAgICAgKDAsIGxvZ2dlcl8xLmxvZ0RlYnVnTWVzc2FnZSkoXCJkb1JlcXVlc3Q6IFVzZXIncyBodHRwIGNhbGwgZW5kZWRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBzYXZlVG9rZW5zRnJvbUhlYWRlcnMocmVzcG9uc2UpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxNDpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9lLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICgwLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmV0Y2hfMS5maXJlU2Vzc2lvblVwZGF0ZUV2ZW50c0lmTmVjZXNzYXJ5KShwcmVSZXF1ZXN0TFNTLnN0YXR1cyA9PT0gXCJFWElTVFNcIiwgcmVzcG9uc2Uuc3RhdHVzLCByZXNwb25zZS5oZWFkZXJzW1wiZnJvbnQtdG9rZW5cIl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEocmVzcG9uc2Uuc3RhdHVzID09PSBmZXRjaF8xLmRlZmF1bHQuY29uZmlnLnNlc3Npb25FeHBpcmVkU3RhdHVzQ29kZSkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgMjFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgKDAsIGxvZ2dlcl8xLmxvZ0RlYnVnTWVzc2FnZSkoXCJkb1JlcXVlc3Q6IFN0YXR1cyBjb2RlIGlzOiBcIiArIHJlc3BvbnNlLnN0YXR1cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCAoMCwgZmV0Y2hfMS5vblVuYXV0aG9yaXNlZFJlc3BvbnNlKShwcmVSZXF1ZXN0TFNTKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTU6XG4gICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoUmVzdWx0ID0gX2Uuc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEocmVmcmVzaFJlc3VsdC5yZXN1bHQgIT09IFwiUkVUUllcIikpIHJldHVybiBbMyAvKmJyZWFrKi8sIDIwXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICgwLCBsb2dnZXJfMS5sb2dEZWJ1Z01lc3NhZ2UpKFwiZG9SZXF1ZXN0OiBOb3QgcmV0cnlpbmcgb3JpZ2luYWwgcmVxdWVzdFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcmVmcmVzaFJlc3VsdC5lcnJvcikgcmV0dXJuIFszIC8qYnJlYWsqLywgMTddO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgKDAsIGF4aW9zRXJyb3JfMS5jcmVhdGVBeGlvc0Vycm9yRnJvbUZldGNoUmVzcCkocmVmcmVzaFJlc3VsdC5lcnJvcildO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE2OlxuICAgICAgICAgICAgICAgICAgICAgICAgX2MgPSBfZS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCAxOV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTc6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCAoMCwgYXhpb3NFcnJvcl8xLmNyZWF0ZUF4aW9zRXJyb3JGcm9tQXhpb3NSZXNwKShyZXNwb25zZSldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE4OlxuICAgICAgICAgICAgICAgICAgICAgICAgX2MgPSBfZS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfZS5sYWJlbCA9IDE5O1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE5OlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmV0dXJuaW5nIHJlZnJlc2hSZXN1bHQuZXJyb3IgYXMgYW4gQXhpb3MgRXJyb3IgaWYgd2UgYXR0ZW1wdGVkIGEgcmVmcmVzaFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmV0dXJuaW5nIHRoZSByZXNwb25zZSB0byB0aGUgb3JpZ2luYWwgcmVzcG9uc2UgYXMgYW4gZXJyb3IgaWYgd2UgZGlkIG5vdCBhdHRlbXB0IHJlZnJlc2hpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybk9iaiA9IF9jO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgMzldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDIwOlxuICAgICAgICAgICAgICAgICAgICAgICAgKDAsIGxvZ2dlcl8xLmxvZ0RlYnVnTWVzc2FnZSkoXCJkb1JlcXVlc3Q6IFJldHJ5aW5nIG9yaWdpbmFsIHJlcXVlc3RcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCAyNF07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjE6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShyZXNwb25zZS5zdGF0dXMgPT09IGZldGNoXzEuZGVmYXVsdC5jb25maWcuaW52YWxpZENsYWltU3RhdHVzQ29kZSkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgMjNdO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgKDAsIGZldGNoXzEub25JbnZhbGlkQ2xhaW1SZXNwb25zZSkocmVzcG9uc2UpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyMjpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9lLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9lLmxhYmVsID0gMjM7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjM6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgcmVzcG9uc2VdO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDI0OlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgMzhdO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDI1OlxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyXzEgPSBfZS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZSA9IGVycl8xLnJlc3BvbnNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEocmVzcG9uc2UgIT09IHVuZGVmaW5lZCkpIHJldHVybiBbMyAvKmJyZWFrKi8sIDM2XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHNhdmVUb2tlbnNGcm9tSGVhZGVycyhyZXNwb25zZSldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDI2OlxuICAgICAgICAgICAgICAgICAgICAgICAgX2Uuc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgKDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBmZXRjaF8xLmZpcmVTZXNzaW9uVXBkYXRlRXZlbnRzSWZOZWNlc3NhcnkpKHByZVJlcXVlc3RMU1Muc3RhdHVzID09PSBcIkVYSVNUU1wiLCByZXNwb25zZS5zdGF0dXMsIHJlc3BvbnNlLmhlYWRlcnNbXCJmcm9udC10b2tlblwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShyZXNwb25zZS5zdGF0dXMgPT09IGZldGNoXzEuZGVmYXVsdC5jb25maWcuc2Vzc2lvbkV4cGlyZWRTdGF0dXNDb2RlKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCAzMl07XG4gICAgICAgICAgICAgICAgICAgICAgICAoMCwgbG9nZ2VyXzEubG9nRGVidWdNZXNzYWdlKShcImRvUmVxdWVzdDogU3RhdHVzIGNvZGUgaXM6IFwiICsgcmVzcG9uc2Uuc3RhdHVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sICgwLCBmZXRjaF8xLm9uVW5hdXRob3Jpc2VkUmVzcG9uc2UpKHByZVJlcXVlc3RMU1MpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyNzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hSZXN1bHQgPSBfZS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShyZWZyZXNoUmVzdWx0LnJlc3VsdCAhPT0gXCJSRVRSWVwiKSkgcmV0dXJuIFszIC8qYnJlYWsqLywgMzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgKDAsIGxvZ2dlcl8xLmxvZ0RlYnVnTWVzc2FnZSkoXCJkb1JlcXVlc3Q6IE5vdCByZXRyeWluZyBvcmlnaW5hbCByZXF1ZXN0XCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEocmVmcmVzaFJlc3VsdC5lcnJvciAhPT0gdW5kZWZpbmVkKSkgcmV0dXJuIFszIC8qYnJlYWsqLywgMjldO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgKDAsIGF4aW9zRXJyb3JfMS5jcmVhdGVBeGlvc0Vycm9yRnJvbUZldGNoUmVzcCkocmVmcmVzaFJlc3VsdC5lcnJvcildO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDI4OlxuICAgICAgICAgICAgICAgICAgICAgICAgX2QgPSBfZS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCAzMF07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjk6XG4gICAgICAgICAgICAgICAgICAgICAgICBfZCA9IGVycl8xO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2UubGFiZWwgPSAzMDtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzMDpcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJldHVybmluZyByZWZyZXNoUmVzdWx0LmVycm9yIGFzIGFuIEF4aW9zIEVycm9yIGlmIHdlIGF0dGVtcHRlZCBhIHJlZnJlc2hcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJldHVybmluZyB0aGUgb3JpZ2luYWwgZXJyb3IgaWYgd2UgZGlkIG5vdCBhdHRlbXB0IHJlZnJlc2hpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybk9iaiA9IF9kO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgMzldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDMxOlxuICAgICAgICAgICAgICAgICAgICAgICAgKDAsIGxvZ2dlcl8xLmxvZ0RlYnVnTWVzc2FnZSkoXCJkb1JlcXVlc3Q6IFJldHJ5aW5nIG9yaWdpbmFsIHJlcXVlc3RcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCAzNV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzI6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShyZXNwb25zZS5zdGF0dXMgPT09IGZldGNoXzEuZGVmYXVsdC5jb25maWcuaW52YWxpZENsYWltU3RhdHVzQ29kZSkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgMzRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgKDAsIGZldGNoXzEub25JbnZhbGlkQ2xhaW1SZXNwb25zZSkocmVzcG9uc2UpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzMzpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9lLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9lLmxhYmVsID0gMzQ7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzQ6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnJfMTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzNTpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDM3XTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzNjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IGVycl8xO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDM3OlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgMzhdO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDM4OlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgNV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzk6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiBpdCBjb21lcyBoZXJlLCBtZWFucyB3ZSBjYWxsZWQgYnJlYWsuIHdoaWNoIGhhcHBlbnMgb25seSBpZiB3ZSBoYXZlIGxvZ2dlZCBvdXQuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB3aGljaCBtZWFucyBpdCdzIGEgNDAxLCBzbyB3ZSB0aHJvd1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgcmV0dXJuT2JqO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDQwOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgKDAsIGZldGNoXzEuZ2V0TG9jYWxTZXNzaW9uU3RhdGUpKGZhbHNlKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNDE6XG4gICAgICAgICAgICAgICAgICAgICAgICBwb3N0UmVxdWVzdElkVG9rZW4gPSBfZS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShwb3N0UmVxdWVzdElkVG9rZW4uc3RhdHVzID09PSBcIk5PVF9FWElTVFNcIikpIHJldHVybiBbMyAvKmJyZWFrKi8sIDQ0XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICgwLFxuICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nRGVidWdNZXNzYWdlKShcImRvUmVxdWVzdDogbG9jYWwgc2Vzc2lvbiBkb2Vzbid0IGV4aXN0LCBzbyByZW1vdmluZyBhbnRpLWNzcmYgYW5kIHNGcm9udFRva2VuXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgZmV0Y2hfMS5BbnRpQ3NyZlRva2VuLnJlbW92ZVRva2VuKCldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDQyOlxuICAgICAgICAgICAgICAgICAgICAgICAgX2Uuc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgZmV0Y2hfMS5Gcm9udFRva2VuLnJlbW92ZVRva2VuKCldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDQzOlxuICAgICAgICAgICAgICAgICAgICAgICAgX2Uuc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2UubGFiZWwgPSA0NDtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA0NDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNyAvKmVuZGZpbmFsbHkqL107XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNDU6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgcmV0dXJuIEF1dGhIdHRwUmVxdWVzdDtcbn0pKCk7XG5leHBvcnRzLmRlZmF1bHQgPSBBdXRoSHR0cFJlcXVlc3Q7XG5mdW5jdGlvbiBzZXRBdXRob3JpemF0aW9uSGVhZGVySWZSZXF1aXJlZChyZXF1ZXN0Q29uZmlnKSB7XG4gICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYWNjZXNzVG9rZW4sIHJlZnJlc2hUb2tlbjtcbiAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYikge1xuICAgICAgICAgICAgc3dpdGNoIChfYi5sYWJlbCkge1xuICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlcXVlc3RDb25maWcuaGVhZGVycyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIGlzIG1ha2VzIFRTIGhhcHB5XG4gICAgICAgICAgICAgICAgICAgICAgICByZXF1ZXN0Q29uZmlnLmhlYWRlcnMgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAoMCwgbG9nZ2VyXzEubG9nRGVidWdNZXNzYWdlKShcInNldEF1dGhvcml6YXRpb25IZWFkZXJJZlJlcXVpcmVkOiBhZGRpbmcgZXhpc3RpbmcgdG9rZW5zIGFzIGhlYWRlclwiKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgKDAsIGZldGNoXzEuZ2V0VG9rZW5Gb3JIZWFkZXJBdXRoKShcImFjY2Vzc1wiKV07XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBhY2Nlc3NUb2tlbiA9IF9iLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgKDAsIGZldGNoXzEuZ2V0VG9rZW5Gb3JIZWFkZXJBdXRoKShcInJlZnJlc2hcIildO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgcmVmcmVzaFRva2VuID0gX2Iuc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAvLyBXZSBkb24ndCBhZGQgdGhlIHJlZnJlc2ggdG9rZW4gYmVjYXVzZSB0aGF0J3Mgb25seSByZXF1aXJlZCBieSB0aGUgcmVmcmVzaCBjYWxsIHdoaWNoIGlzIGRvbmUgd2l0aCBmZXRjaFxuICAgICAgICAgICAgICAgICAgICAvLyBTdGlsbCwgd2Ugb25seSBhZGQgdGhlIEF1dGhvcml6YXRpb24gaGVhZGVyIGlmIGJvdGggYXJlIHByZXNlbnQsIGJlY2F1c2Ugd2UgYXJlIHBsYW5uaW5nIHRvIGFkZCBhbiBvcHRpb24gdG8gZXhwb3NlIHRoZVxuICAgICAgICAgICAgICAgICAgICAvLyBhY2Nlc3MgdG9rZW4gdG8gdGhlIGZyb250ZW5kIHdoaWxlIHVzaW5nIGNvb2tpZSBiYXNlZCBhdXRoIC0gc28gdGhhdCB1c2VycyBjYW4gZ2V0IHRoZSBhY2Nlc3MgdG9rZW4gdG8gdXNlXG4gICAgICAgICAgICAgICAgICAgIGlmIChhY2Nlc3NUb2tlbiAhPT0gdW5kZWZpbmVkICYmIHJlZnJlc2hUb2tlbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdENvbmZpZy5oZWFkZXJzW1wiQXV0aG9yaXphdGlvblwiXSAhPT0gdW5kZWZpbmVkIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdENvbmZpZy5oZWFkZXJzW1wiYXV0aG9yaXphdGlvblwiXSAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoMCwgbG9nZ2VyXzEubG9nRGVidWdNZXNzYWdlKShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJzZXRBdXRob3JpemF0aW9uSGVhZGVySWZSZXF1aXJlZDogQXV0aG9yaXphdGlvbiBoZWFkZXIgZGVmaW5lZCBieSB0aGUgdXNlciwgbm90IGFkZGluZ1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKDAsIGxvZ2dlcl8xLmxvZ0RlYnVnTWVzc2FnZSkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwic2V0QXV0aG9yaXphdGlvbkhlYWRlcklmUmVxdWlyZWQ6IGFkZGVkIGF1dGhvcml6YXRpb24gaGVhZGVyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVlc3RDb25maWcuaGVhZGVycyA9IF9fYXNzaWduKF9fYXNzaWduKHt9LCByZXF1ZXN0Q29uZmlnLmhlYWRlcnMpLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IFwiQmVhcmVyIFwiLmNvbmNhdChhY2Nlc3NUb2tlbilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1ZXN0Q29uZmlnLl9fc3VwZXJ0b2tlbnNBZGRlZEF1dGhIZWFkZXIgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgKDAsIGxvZ2dlcl8xLmxvZ0RlYnVnTWVzc2FnZSkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJzZXRBdXRob3JpemF0aW9uSGVhZGVySWZSZXF1aXJlZDogdG9rZW4gZm9yIGhlYWRlciBiYXNlZCBhdXRoIG5vdCBmb3VuZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG5mdW5jdGlvbiBzYXZlVG9rZW5zRnJvbUhlYWRlcnMocmVzcG9uc2UpIHtcbiAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciByZWZyZXNoVG9rZW4sIGFjY2Vzc1Rva2VuLCBmcm9udFRva2VuLCBhbnRpQ3NyZlRva2VuLCB0b2s7XG4gICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2IpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2IubGFiZWwpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICgwLCBsb2dnZXJfMS5sb2dEZWJ1Z01lc3NhZ2UpKFwic2F2ZVRva2Vuc0Zyb21IZWFkZXJzOiBTYXZpbmcgdXBkYXRlZCB0b2tlbnMgZnJvbSB0aGUgcmVzcG9uc2VcIik7XG4gICAgICAgICAgICAgICAgICAgIHJlZnJlc2hUb2tlbiA9IHJlc3BvbnNlLmhlYWRlcnNbXCJzdC1yZWZyZXNoLXRva2VuXCJdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIShyZWZyZXNoVG9rZW4gIT09IHVuZGVmaW5lZCkpIHJldHVybiBbMyAvKmJyZWFrKi8sIDJdO1xuICAgICAgICAgICAgICAgICAgICAoMCwgbG9nZ2VyXzEubG9nRGVidWdNZXNzYWdlKShcInNhdmVUb2tlbnNGcm9tSGVhZGVyczogc2F2aW5nIG5ldyByZWZyZXNoIHRva2VuXCIpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCAoMCwgZmV0Y2hfMS5zZXRUb2tlbikoXCJyZWZyZXNoXCIsIHJlZnJlc2hUb2tlbildO1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgX2Iuc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICBfYi5sYWJlbCA9IDI7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBhY2Nlc3NUb2tlbiA9IHJlc3BvbnNlLmhlYWRlcnNbXCJzdC1hY2Nlc3MtdG9rZW5cIl07XG4gICAgICAgICAgICAgICAgICAgIGlmICghKGFjY2Vzc1Rva2VuICE9PSB1bmRlZmluZWQpKSByZXR1cm4gWzMgLypicmVhayovLCA0XTtcbiAgICAgICAgICAgICAgICAgICAgKDAsIGxvZ2dlcl8xLmxvZ0RlYnVnTWVzc2FnZSkoXCJzYXZlVG9rZW5zRnJvbUhlYWRlcnM6IHNhdmluZyBuZXcgYWNjZXNzIHRva2VuXCIpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCAoMCwgZmV0Y2hfMS5zZXRUb2tlbikoXCJhY2Nlc3NcIiwgYWNjZXNzVG9rZW4pXTtcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIF9iLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgX2IubGFiZWwgPSA0O1xuICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgZnJvbnRUb2tlbiA9IHJlc3BvbnNlLmhlYWRlcnNbXCJmcm9udC10b2tlblwiXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEoZnJvbnRUb2tlbiAhPT0gdW5kZWZpbmVkKSkgcmV0dXJuIFszIC8qYnJlYWsqLywgNl07XG4gICAgICAgICAgICAgICAgICAgICgwLCBsb2dnZXJfMS5sb2dEZWJ1Z01lc3NhZ2UpKFwiZG9SZXF1ZXN0OiBTZXR0aW5nIHNGcm9udFRva2VuOiBcIiArIGZyb250VG9rZW4pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBmZXRjaF8xLkZyb250VG9rZW4uc2V0SXRlbShmcm9udFRva2VuKV07XG4gICAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgICAgICBfYi5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgIF9iLmxhYmVsID0gNjtcbiAgICAgICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgICAgIGFudGlDc3JmVG9rZW4gPSByZXNwb25zZS5oZWFkZXJzW1wiYW50aS1jc3JmXCJdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIShhbnRpQ3NyZlRva2VuICE9PSB1bmRlZmluZWQpKSByZXR1cm4gWzMgLypicmVhayovLCA5XTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgKDAsIGZldGNoXzEuZ2V0TG9jYWxTZXNzaW9uU3RhdGUpKHRydWUpXTtcbiAgICAgICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgICAgICAgIHRvayA9IF9iLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodG9rLnN0YXR1cyA9PT0gXCJFWElTVFNcIikpIHJldHVybiBbMyAvKmJyZWFrKi8sIDldO1xuICAgICAgICAgICAgICAgICAgICAoMCwgbG9nZ2VyXzEubG9nRGVidWdNZXNzYWdlKShcImRvUmVxdWVzdDogU2V0dGluZyBhbnRpLWNzcmYgdG9rZW5cIik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIGZldGNoXzEuQW50aUNzcmZUb2tlbi5zZXRJdGVtKHRvay5sYXN0QWNjZXNzVG9rZW5VcGRhdGUsIGFudGlDc3JmVG9rZW4pXTtcbiAgICAgICAgICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgICAgICAgICAgIF9iLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgX2IubGFiZWwgPSA5O1xuICAgICAgICAgICAgICAgIGNhc2UgOTpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIHJlbW92ZUF1dGhIZWFkZXJJZk1hdGNoZXNMb2NhbFRva2VuKGNvbmZpZykge1xuICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFjY2Vzc1Rva2VuLCBhdXRoSGVhZGVyLCByZXM7XG4gICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2IpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2IubGFiZWwpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sICgwLCBmZXRjaF8xLmdldFRva2VuRm9ySGVhZGVyQXV0aCkoXCJhY2Nlc3NcIildO1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgYWNjZXNzVG9rZW4gPSBfYi5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgIGF1dGhIZWFkZXIgPSBjb25maWcuaGVhZGVycy5BdXRob3JpemF0aW9uIHx8IGNvbmZpZy5oZWFkZXJzLmF1dGhvcml6YXRpb247XG4gICAgICAgICAgICAgICAgICAgIGlmIChhY2Nlc3NUb2tlbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXV0aEhlYWRlciA9PT0gXCJCZWFyZXIgXCIuY29uY2F0KGFjY2Vzc1Rva2VuKSB8fCBcIl9fc3VwZXJ0b2tlbnNBZGRlZEF1dGhIZWFkZXJcIiBpbiBjb25maWcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBXZSBhcmUgaWdub3JpbmcgdGhlIEF1dGhvcml6YXRpb24gaGVhZGVyIHNldCBieSB0aGUgdXNlciBpbiB0aGlzIGNhc2UsIGJlY2F1c2UgaXQgd291bGQgY2F1c2UgaXNzdWVzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgd2UgZG8gbm90IGlnbm9yZSB0aGlzLCB0aGVuIHRoaXMgaGVhZGVyIHdvdWxkIGJlIHVzZWQgZXZlbiBpZiB0aGUgcmVxdWVzdCBpcyBiZWluZyByZXRyaWVkIGFmdGVyIGEgcmVmcmVzaCwgZXZlbiB0aG91Z2ggaXQgY29udGFpbnMgYW4gb3V0ZGF0ZWQgYWNjZXNzIHRva2VuLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgY2F1c2VzIGFuIGluZmluaXRlIHJlZnJlc2ggbG9vcC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoMCwgbG9nZ2VyXzEubG9nRGVidWdNZXNzYWdlKShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJyZW1vdmVBdXRoSGVhZGVySWZNYXRjaGVzTG9jYWxUb2tlbjogUmVtb3ZpbmcgQXV0aG9yaXphdGlvbiBmcm9tIHVzZXIgcHJvdmlkZWQgaGVhZGVycyBiZWNhdXNlIGl0IGNvbnRhaW5zIG91ciBhY2Nlc3MgdG9rZW5cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzID0gX19hc3NpZ24oX19hc3NpZ24oe30sIGNvbmZpZyksIHsgaGVhZGVyczogX19hc3NpZ24oe30sIGNvbmZpZy5oZWFkZXJzKSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgcmVzLmhlYWRlcnMuYXV0aG9yaXphdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgcmVzLmhlYWRlcnMuQXV0aG9yaXphdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgcmVzXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgY29uZmlnXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/supertokens-website/lib/build/axios.js\n"));

/***/ }),

/***/ "./node_modules/supertokens-website/lib/build/axiosError.js":
/*!******************************************************************!*\
  !*** ./node_modules/supertokens-website/lib/build/axiosError.js ***!
  \******************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nvar __awaiter =\n    (this && this.__awaiter) ||\n    function (thisArg, _arguments, P, generator) {\n        function adopt(value) {\n            return value instanceof P\n                ? value\n                : new P(function (resolve) {\n                      resolve(value);\n                  });\n        }\n        return new (P || (P = Promise))(function (resolve, reject) {\n            function fulfilled(value) {\n                try {\n                    step(generator.next(value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function rejected(value) {\n                try {\n                    step(generator[\"throw\"](value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function step(result) {\n                result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n            }\n            step((generator = generator.apply(thisArg, _arguments || [])).next());\n        });\n    };\nvar __generator =\n    (this && this.__generator) ||\n    function (thisArg, body) {\n        var _ = {\n                label: 0,\n                sent: function () {\n                    if (t[0] & 1) throw t[1];\n                    return t[1];\n                },\n                trys: [],\n                ops: []\n            },\n            f,\n            y,\n            t,\n            g;\n        return (\n            (g = { next: verb(0), throw: verb(1), return: verb(2) }),\n            typeof Symbol === \"function\" &&\n                (g[Symbol.iterator] = function () {\n                    return this;\n                }),\n            g\n        );\n        function verb(n) {\n            return function (v) {\n                return step([n, v]);\n            };\n        }\n        function step(op) {\n            if (f) throw new TypeError(\"Generator is already executing.\");\n            while (_)\n                try {\n                    if (\n                        ((f = 1),\n                        y &&\n                            (t =\n                                op[0] & 2\n                                    ? y[\"return\"]\n                                    : op[0]\n                                    ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0)\n                                    : y.next) &&\n                            !(t = t.call(y, op[1])).done)\n                    )\n                        return t;\n                    if (((y = 0), t)) op = [op[0] & 2, t.value];\n                    switch (op[0]) {\n                        case 0:\n                        case 1:\n                            t = op;\n                            break;\n                        case 4:\n                            _.label++;\n                            return { value: op[1], done: false };\n                        case 5:\n                            _.label++;\n                            y = op[1];\n                            op = [0];\n                            continue;\n                        case 7:\n                            op = _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                        default:\n                            if (\n                                !((t = _.trys), (t = t.length > 0 && t[t.length - 1])) &&\n                                (op[0] === 6 || op[0] === 2)\n                            ) {\n                                _ = 0;\n                                continue;\n                            }\n                            if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) {\n                                _.label = op[1];\n                                break;\n                            }\n                            if (op[0] === 6 && _.label < t[1]) {\n                                _.label = t[1];\n                                t = op;\n                                break;\n                            }\n                            if (t && _.label < t[2]) {\n                                _.label = t[2];\n                                _.ops.push(op);\n                                break;\n                            }\n                            if (t[2]) _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                    }\n                    op = body.call(thisArg, _);\n                } catch (e) {\n                    op = [6, e];\n                    y = 0;\n                } finally {\n                    f = t = 0;\n                }\n            if (op[0] & 5) throw op[1];\n            return { value: op[0] ? op[1] : void 0, done: true };\n        }\n    };\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.createAxiosErrorFromAxiosResp = exports.createAxiosErrorFromFetchResp = void 0;\n/**\n * From axios package\n * Update an Error with the specified config, error code, and response.\n *\n * @param {Error} error The error to update.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The error.\n */\nfunction enhanceAxiosError(error, config, code, request, response) {\n    error.config = config;\n    if (code) {\n        error.code = code;\n    }\n    error.request = request;\n    error.response = response;\n    error.isAxiosError = true;\n    error.toJSON = function toJSON() {\n        return {\n            // Standard\n            message: this.message,\n            name: this.name,\n            // Microsoft\n            description: this.description,\n            number: this.number,\n            // Mozilla\n            fileName: this.fileName,\n            lineNumber: this.lineNumber,\n            columnNumber: this.columnNumber,\n            stack: this.stack,\n            // Axios\n            config: this.config,\n            code: this.code\n        };\n    };\n    return error;\n}\nfunction createAxiosErrorFromFetchResp(response) {\n    return __awaiter(this, void 0, void 0, function () {\n        var config, contentType, data, _a, axiosResponse;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    config = {\n                        url: response.url,\n                        headers: response.headers\n                    };\n                    contentType = response.headers.get(\"content-type\");\n                    if (!(contentType === null)) return [3 /*break*/, 5];\n                    _b.label = 1;\n                case 1:\n                    _b.trys.push([1, 3, , 4]);\n                    return [4 /*yield*/, response.text()];\n                case 2:\n                    data = _b.sent();\n                    return [3 /*break*/, 4];\n                case 3:\n                    _a = _b.sent();\n                    data = \"\";\n                    return [3 /*break*/, 4];\n                case 4:\n                    return [3 /*break*/, 11];\n                case 5:\n                    if (!contentType.includes(\"application/json\")) return [3 /*break*/, 7];\n                    return [4 /*yield*/, response.json()];\n                case 6:\n                    data = _b.sent();\n                    return [3 /*break*/, 11];\n                case 7:\n                    if (!contentType.includes(\"text/\")) return [3 /*break*/, 9];\n                    return [4 /*yield*/, response.text()];\n                case 8:\n                    data = _b.sent();\n                    return [3 /*break*/, 11];\n                case 9:\n                    return [4 /*yield*/, response.blob()];\n                case 10:\n                    data = _b.sent();\n                    _b.label = 11;\n                case 11:\n                    axiosResponse = {\n                        data: data,\n                        status: response.status,\n                        statusText: response.statusText,\n                        headers: response.headers,\n                        config: config,\n                        request: undefined\n                    };\n                    return [\n                        2 /*return*/,\n                        enhanceAxiosError(\n                            new Error(\"Request failed with status code \" + response.status),\n                            config,\n                            undefined,\n                            undefined,\n                            axiosResponse\n                        )\n                    ];\n            }\n        });\n    });\n}\nexports.createAxiosErrorFromFetchResp = createAxiosErrorFromFetchResp;\nfunction createAxiosErrorFromAxiosResp(response) {\n    return __awaiter(this, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            return [\n                2 /*return*/,\n                enhanceAxiosError(\n                    new Error(\"Request failed with status code \" + response.status),\n                    response.config,\n                    undefined,\n                    response.request,\n                    response\n                )\n            ];\n        });\n    });\n}\nexports.createAxiosErrorFromAxiosResp = createAxiosErrorFromAxiosResp;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3VwZXJ0b2tlbnMtd2Vic2l0ZS9saWIvYnVpbGQvYXhpb3NFcnJvci5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixnREFBZ0Q7QUFDbkU7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHFDQUFxQyxHQUFHLHFDQUFxQztBQUM3RTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixXQUFXLFFBQVE7QUFDbkIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVE7QUFDbkIsYUFBYSxPQUFPO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBLHFDQUFxQztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQSxxQ0FBcUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3N1cGVydG9rZW5zLXdlYnNpdGUvbGliL2J1aWxkL2F4aW9zRXJyb3IuanM/N2RiNyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2F3YWl0ZXIgPVxuICAgICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fFxuICAgIGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICAgICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFBcbiAgICAgICAgICAgICAgICA/IHZhbHVlXG4gICAgICAgICAgICAgICAgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkge1xuICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbnZhciBfX2dlbmVyYXRvciA9XG4gICAgKHRoaXMgJiYgdGhpcy5fX2dlbmVyYXRvcikgfHxcbiAgICBmdW5jdGlvbiAodGhpc0FyZywgYm9keSkge1xuICAgICAgICB2YXIgXyA9IHtcbiAgICAgICAgICAgICAgICBsYWJlbDogMCxcbiAgICAgICAgICAgICAgICBzZW50OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRbMV07XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB0cnlzOiBbXSxcbiAgICAgICAgICAgICAgICBvcHM6IFtdXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZixcbiAgICAgICAgICAgIHksXG4gICAgICAgICAgICB0LFxuICAgICAgICAgICAgZztcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIChnID0geyBuZXh0OiB2ZXJiKDApLCB0aHJvdzogdmVyYigxKSwgcmV0dXJuOiB2ZXJiKDIpIH0pLFxuICAgICAgICAgICAgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmXG4gICAgICAgICAgICAgICAgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBnXG4gICAgICAgICk7XG4gICAgICAgIGZ1bmN0aW9uIHZlcmIobikge1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICh2KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0ZXAoW24sIHZdKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChvcCkge1xuICAgICAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xuICAgICAgICAgICAgd2hpbGUgKF8pXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgKChmID0gMSksXG4gICAgICAgICAgICAgICAgICAgICAgICB5ICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKHQgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcFswXSAmIDJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8geVtcInJldHVyblwiXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBvcFswXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiB5Lm5leHQpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSlcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHQ7XG4gICAgICAgICAgICAgICAgICAgIGlmICgoKHkgPSAwKSwgdCkpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ID0gb3A7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXy5sYWJlbCsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfLmxhYmVsKys7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeSA9IG9wWzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wID0gWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wID0gXy5vcHMucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICEoKHQgPSBfLnRyeXMpLCAodCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF8gPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF8ubGFiZWwgPSBvcFsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfLmxhYmVsID0gdFsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdCA9IG9wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXy5sYWJlbCA9IHRbMl07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF8ub3BzLnB1c2gob3ApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIG9wID0gWzYsIGVdO1xuICAgICAgICAgICAgICAgICAgICB5ID0gMDtcbiAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICBmID0gdCA9IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07XG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xuICAgICAgICB9XG4gICAgfTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuY3JlYXRlQXhpb3NFcnJvckZyb21BeGlvc1Jlc3AgPSBleHBvcnRzLmNyZWF0ZUF4aW9zRXJyb3JGcm9tRmV0Y2hSZXNwID0gdm9pZCAwO1xuLyoqXG4gKiBGcm9tIGF4aW9zIHBhY2thZ2VcbiAqIFVwZGF0ZSBhbiBFcnJvciB3aXRoIHRoZSBzcGVjaWZpZWQgY29uZmlnLCBlcnJvciBjb2RlLCBhbmQgcmVzcG9uc2UuXG4gKlxuICogQHBhcmFtIHtFcnJvcn0gZXJyb3IgVGhlIGVycm9yIHRvIHVwZGF0ZS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWcgVGhlIGNvbmZpZy5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbY29kZV0gVGhlIGVycm9yIGNvZGUgKGZvciBleGFtcGxlLCAnRUNPTk5BQk9SVEVEJykuXG4gKiBAcGFyYW0ge09iamVjdH0gW3JlcXVlc3RdIFRoZSByZXF1ZXN0LlxuICogQHBhcmFtIHtPYmplY3R9IFtyZXNwb25zZV0gVGhlIHJlc3BvbnNlLlxuICogQHJldHVybnMge0Vycm9yfSBUaGUgZXJyb3IuXG4gKi9cbmZ1bmN0aW9uIGVuaGFuY2VBeGlvc0Vycm9yKGVycm9yLCBjb25maWcsIGNvZGUsIHJlcXVlc3QsIHJlc3BvbnNlKSB7XG4gICAgZXJyb3IuY29uZmlnID0gY29uZmlnO1xuICAgIGlmIChjb2RlKSB7XG4gICAgICAgIGVycm9yLmNvZGUgPSBjb2RlO1xuICAgIH1cbiAgICBlcnJvci5yZXF1ZXN0ID0gcmVxdWVzdDtcbiAgICBlcnJvci5yZXNwb25zZSA9IHJlc3BvbnNlO1xuICAgIGVycm9yLmlzQXhpb3NFcnJvciA9IHRydWU7XG4gICAgZXJyb3IudG9KU09OID0gZnVuY3Rpb24gdG9KU09OKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLy8gU3RhbmRhcmRcbiAgICAgICAgICAgIG1lc3NhZ2U6IHRoaXMubWVzc2FnZSxcbiAgICAgICAgICAgIG5hbWU6IHRoaXMubmFtZSxcbiAgICAgICAgICAgIC8vIE1pY3Jvc29mdFxuICAgICAgICAgICAgZGVzY3JpcHRpb246IHRoaXMuZGVzY3JpcHRpb24sXG4gICAgICAgICAgICBudW1iZXI6IHRoaXMubnVtYmVyLFxuICAgICAgICAgICAgLy8gTW96aWxsYVxuICAgICAgICAgICAgZmlsZU5hbWU6IHRoaXMuZmlsZU5hbWUsXG4gICAgICAgICAgICBsaW5lTnVtYmVyOiB0aGlzLmxpbmVOdW1iZXIsXG4gICAgICAgICAgICBjb2x1bW5OdW1iZXI6IHRoaXMuY29sdW1uTnVtYmVyLFxuICAgICAgICAgICAgc3RhY2s6IHRoaXMuc3RhY2ssXG4gICAgICAgICAgICAvLyBBeGlvc1xuICAgICAgICAgICAgY29uZmlnOiB0aGlzLmNvbmZpZyxcbiAgICAgICAgICAgIGNvZGU6IHRoaXMuY29kZVxuICAgICAgICB9O1xuICAgIH07XG4gICAgcmV0dXJuIGVycm9yO1xufVxuZnVuY3Rpb24gY3JlYXRlQXhpb3NFcnJvckZyb21GZXRjaFJlc3AocmVzcG9uc2UpIHtcbiAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjb25maWcsIGNvbnRlbnRUeXBlLCBkYXRhLCBfYSwgYXhpb3NSZXNwb25zZTtcbiAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYikge1xuICAgICAgICAgICAgc3dpdGNoIChfYi5sYWJlbCkge1xuICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgY29uZmlnID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiByZXNwb25zZS51cmwsXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiByZXNwb25zZS5oZWFkZXJzXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnRUeXBlID0gcmVzcG9uc2UuaGVhZGVycy5nZXQoXCJjb250ZW50LXR5cGVcIik7XG4gICAgICAgICAgICAgICAgICAgIGlmICghKGNvbnRlbnRUeXBlID09PSBudWxsKSkgcmV0dXJuIFszIC8qYnJlYWsqLywgNV07XG4gICAgICAgICAgICAgICAgICAgIF9iLmxhYmVsID0gMTtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIF9iLnRyeXMucHVzaChbMSwgMywgLCA0XSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHJlc3BvbnNlLnRleHQoKV07XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBkYXRhID0gX2Iuc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCA0XTtcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIF9hID0gX2Iuc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICBkYXRhID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgNF07XG4gICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCAxMV07XG4gICAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgICAgICBpZiAoIWNvbnRlbnRUeXBlLmluY2x1ZGVzKFwiYXBwbGljYXRpb24vanNvblwiKSkgcmV0dXJuIFszIC8qYnJlYWsqLywgN107XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHJlc3BvbnNlLmpzb24oKV07XG4gICAgICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICAgICAgICBkYXRhID0gX2Iuc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCAxMV07XG4gICAgICAgICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgICAgICAgICBpZiAoIWNvbnRlbnRUeXBlLmluY2x1ZGVzKFwidGV4dC9cIikpIHJldHVybiBbMyAvKmJyZWFrKi8sIDldO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCByZXNwb25zZS50ZXh0KCldO1xuICAgICAgICAgICAgICAgIGNhc2UgODpcbiAgICAgICAgICAgICAgICAgICAgZGF0YSA9IF9iLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgMTFdO1xuICAgICAgICAgICAgICAgIGNhc2UgOTpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgcmVzcG9uc2UuYmxvYigpXTtcbiAgICAgICAgICAgICAgICBjYXNlIDEwOlxuICAgICAgICAgICAgICAgICAgICBkYXRhID0gX2Iuc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICBfYi5sYWJlbCA9IDExO1xuICAgICAgICAgICAgICAgIGNhc2UgMTE6XG4gICAgICAgICAgICAgICAgICAgIGF4aW9zUmVzcG9uc2UgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBkYXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiByZXNwb25zZS5zdGF0dXMsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXNUZXh0OiByZXNwb25zZS5zdGF0dXNUZXh0LFxuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogcmVzcG9uc2UuaGVhZGVycyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZzogY29uZmlnLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdDogdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAyIC8qcmV0dXJuKi8sXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmhhbmNlQXhpb3NFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgRXJyb3IoXCJSZXF1ZXN0IGZhaWxlZCB3aXRoIHN0YXR1cyBjb2RlIFwiICsgcmVzcG9uc2Uuc3RhdHVzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25maWcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBheGlvc1Jlc3BvbnNlXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuZXhwb3J0cy5jcmVhdGVBeGlvc0Vycm9yRnJvbUZldGNoUmVzcCA9IGNyZWF0ZUF4aW9zRXJyb3JGcm9tRmV0Y2hSZXNwO1xuZnVuY3Rpb24gY3JlYXRlQXhpb3NFcnJvckZyb21BeGlvc1Jlc3AocmVzcG9uc2UpIHtcbiAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgMiAvKnJldHVybiovLFxuICAgICAgICAgICAgICAgIGVuaGFuY2VBeGlvc0Vycm9yKFxuICAgICAgICAgICAgICAgICAgICBuZXcgRXJyb3IoXCJSZXF1ZXN0IGZhaWxlZCB3aXRoIHN0YXR1cyBjb2RlIFwiICsgcmVzcG9uc2Uuc3RhdHVzKSxcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UuY29uZmlnLFxuICAgICAgICAgICAgICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlLnJlcXVlc3QsXG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgXTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG5leHBvcnRzLmNyZWF0ZUF4aW9zRXJyb3JGcm9tQXhpb3NSZXNwID0gY3JlYXRlQXhpb3NFcnJvckZyb21BeGlvc1Jlc3A7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/supertokens-website/lib/build/axiosError.js\n"));

/***/ }),

/***/ "./node_modules/supertokens-website/lib/build/claims/booleanClaim.js":
/*!***************************************************************************!*\
  !*** ./node_modules/supertokens-website/lib/build/claims/booleanClaim.js ***!
  \***************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nvar __extends =\n    (this && this.__extends) ||\n    (function () {\n        var extendStatics = function (d, b) {\n            extendStatics =\n                Object.setPrototypeOf ||\n                ({ __proto__: [] } instanceof Array &&\n                    function (d, b) {\n                        d.__proto__ = b;\n                    }) ||\n                function (d, b) {\n                    for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n                };\n            return extendStatics(d, b);\n        };\n        return function (d, b) {\n            if (typeof b !== \"function\" && b !== null)\n                throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n            extendStatics(d, b);\n            function __() {\n                this.constructor = d;\n            }\n            d.prototype = b === null ? Object.create(b) : ((__.prototype = b.prototype), new __());\n        };\n    })();\nvar __assign =\n    (this && this.__assign) ||\n    function () {\n        __assign =\n            Object.assign ||\n            function (t) {\n                for (var s, i = 1, n = arguments.length; i < n; i++) {\n                    s = arguments[i];\n                    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n                }\n                return t;\n            };\n        return __assign.apply(this, arguments);\n    };\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.BooleanClaim = void 0;\nvar primitiveClaim_1 = __webpack_require__(/*! ./primitiveClaim */ \"./node_modules/supertokens-website/lib/build/claims/primitiveClaim.js\");\nvar BooleanClaim = /** @class */ (function (_super) {\n    __extends(BooleanClaim, _super);\n    function BooleanClaim(config) {\n        var _this = _super.call(this, config) || this;\n        _this.validators = __assign(__assign({}, _this.validators), {\n            isTrue: function (maxAge) {\n                return _this.validators.hasValue(true, maxAge);\n            },\n            isFalse: function (maxAge) {\n                return _this.validators.hasValue(false, maxAge);\n            }\n        });\n        return _this;\n    }\n    return BooleanClaim;\n})(primitiveClaim_1.PrimitiveClaim);\nexports.BooleanClaim = BooleanClaim;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3VwZXJ0b2tlbnMtd2Vic2l0ZS9saWIvYnVpbGQvY2xhaW1zL2Jvb2xlYW5DbGFpbS5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixnQkFBZ0I7QUFDbkM7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlEQUF5RCxPQUFPO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELG9CQUFvQjtBQUNwQix1QkFBdUIsbUJBQU8sQ0FBQywrRkFBa0I7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQ0FBK0M7QUFDL0M7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELG9CQUFvQiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvc3VwZXJ0b2tlbnMtd2Vic2l0ZS9saWIvYnVpbGQvY2xhaW1zL2Jvb2xlYW5DbGFpbS5qcz83ZjZlIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fZXh0ZW5kcyA9XG4gICAgKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8XG4gICAgKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICAgICAgZXh0ZW5kU3RhdGljcyA9XG4gICAgICAgICAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiZcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGQuX19wcm90b19fID0gYjtcbiAgICAgICAgICAgICAgICAgICAgfSkgfHxcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgICAgICBmdW5jdGlvbiBfXygpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnN0cnVjdG9yID0gZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlKSwgbmV3IF9fKCkpO1xuICAgICAgICB9O1xuICAgIH0pKCk7XG52YXIgX19hc3NpZ24gPVxuICAgICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8XG4gICAgZnVuY3Rpb24gKCkge1xuICAgICAgICBfX2Fzc2lnbiA9XG4gICAgICAgICAgICBPYmplY3QuYXNzaWduIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAodCkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdDtcbiAgICAgICAgICAgIH07XG4gICAgICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkJvb2xlYW5DbGFpbSA9IHZvaWQgMDtcbnZhciBwcmltaXRpdmVDbGFpbV8xID0gcmVxdWlyZShcIi4vcHJpbWl0aXZlQ2xhaW1cIik7XG52YXIgQm9vbGVhbkNsYWltID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhCb29sZWFuQ2xhaW0sIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQm9vbGVhbkNsYWltKGNvbmZpZykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBjb25maWcpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnZhbGlkYXRvcnMgPSBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgX3RoaXMudmFsaWRhdG9ycyksIHtcbiAgICAgICAgICAgIGlzVHJ1ZTogZnVuY3Rpb24gKG1heEFnZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy52YWxpZGF0b3JzLmhhc1ZhbHVlKHRydWUsIG1heEFnZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaXNGYWxzZTogZnVuY3Rpb24gKG1heEFnZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy52YWxpZGF0b3JzLmhhc1ZhbHVlKGZhbHNlLCBtYXhBZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICByZXR1cm4gQm9vbGVhbkNsYWltO1xufSkocHJpbWl0aXZlQ2xhaW1fMS5QcmltaXRpdmVDbGFpbSk7XG5leHBvcnRzLkJvb2xlYW5DbGFpbSA9IEJvb2xlYW5DbGFpbTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/supertokens-website/lib/build/claims/booleanClaim.js\n"));

/***/ }),

/***/ "./node_modules/supertokens-website/lib/build/claims/primitiveArrayClaim.js":
/*!**********************************************************************************!*\
  !*** ./node_modules/supertokens-website/lib/build/claims/primitiveArrayClaim.js ***!
  \**********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nvar __awaiter =\n    (this && this.__awaiter) ||\n    function (thisArg, _arguments, P, generator) {\n        function adopt(value) {\n            return value instanceof P\n                ? value\n                : new P(function (resolve) {\n                      resolve(value);\n                  });\n        }\n        return new (P || (P = Promise))(function (resolve, reject) {\n            function fulfilled(value) {\n                try {\n                    step(generator.next(value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function rejected(value) {\n                try {\n                    step(generator[\"throw\"](value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function step(result) {\n                result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n            }\n            step((generator = generator.apply(thisArg, _arguments || [])).next());\n        });\n    };\nvar __generator =\n    (this && this.__generator) ||\n    function (thisArg, body) {\n        var _ = {\n                label: 0,\n                sent: function () {\n                    if (t[0] & 1) throw t[1];\n                    return t[1];\n                },\n                trys: [],\n                ops: []\n            },\n            f,\n            y,\n            t,\n            g;\n        return (\n            (g = { next: verb(0), throw: verb(1), return: verb(2) }),\n            typeof Symbol === \"function\" &&\n                (g[Symbol.iterator] = function () {\n                    return this;\n                }),\n            g\n        );\n        function verb(n) {\n            return function (v) {\n                return step([n, v]);\n            };\n        }\n        function step(op) {\n            if (f) throw new TypeError(\"Generator is already executing.\");\n            while (_)\n                try {\n                    if (\n                        ((f = 1),\n                        y &&\n                            (t =\n                                op[0] & 2\n                                    ? y[\"return\"]\n                                    : op[0]\n                                    ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0)\n                                    : y.next) &&\n                            !(t = t.call(y, op[1])).done)\n                    )\n                        return t;\n                    if (((y = 0), t)) op = [op[0] & 2, t.value];\n                    switch (op[0]) {\n                        case 0:\n                        case 1:\n                            t = op;\n                            break;\n                        case 4:\n                            _.label++;\n                            return { value: op[1], done: false };\n                        case 5:\n                            _.label++;\n                            y = op[1];\n                            op = [0];\n                            continue;\n                        case 7:\n                            op = _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                        default:\n                            if (\n                                !((t = _.trys), (t = t.length > 0 && t[t.length - 1])) &&\n                                (op[0] === 6 || op[0] === 2)\n                            ) {\n                                _ = 0;\n                                continue;\n                            }\n                            if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) {\n                                _.label = op[1];\n                                break;\n                            }\n                            if (op[0] === 6 && _.label < t[1]) {\n                                _.label = t[1];\n                                t = op;\n                                break;\n                            }\n                            if (t && _.label < t[2]) {\n                                _.label = t[2];\n                                _.ops.push(op);\n                                break;\n                            }\n                            if (t[2]) _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                    }\n                    op = body.call(thisArg, _);\n                } catch (e) {\n                    op = [6, e];\n                    y = 0;\n                } finally {\n                    f = t = 0;\n                }\n            if (op[0] & 5) throw op[1];\n            return { value: op[0] ? op[1] : void 0, done: true };\n        }\n    };\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.PrimitiveArrayClaim = void 0;\nvar PrimitiveArrayClaim = /** @class */ (function () {\n    function PrimitiveArrayClaim(config) {\n        var _this = this;\n        this.validators = {\n            includes: function (val, maxAgeInSeconds, id) {\n                if (maxAgeInSeconds === void 0) {\n                    maxAgeInSeconds = _this.defaultMaxAgeInSeconds;\n                }\n                return {\n                    id: id !== undefined ? id : _this.id,\n                    refresh: function (ctx) {\n                        return _this.refresh(ctx);\n                    },\n                    shouldRefresh: function (payload, ctx) {\n                        return (\n                            _this.getValueFromPayload(payload, ctx) === undefined ||\n                            // We know payload[this.id] is defined since the value is not undefined in this branch\n                            (maxAgeInSeconds !== undefined && payload[_this.id].t < Date.now() - maxAgeInSeconds * 1000)\n                        );\n                    },\n                    validate: function (payload, ctx) {\n                        return __awaiter(_this, void 0, void 0, function () {\n                            var claimVal, ageInSeconds;\n                            return __generator(this, function (_a) {\n                                claimVal = this.getValueFromPayload(payload, ctx);\n                                if (claimVal === undefined) {\n                                    return [\n                                        2 /*return*/,\n                                        {\n                                            isValid: false,\n                                            reason: {\n                                                message: \"value does not exist\",\n                                                expectedToInclude: val,\n                                                actualValue: claimVal\n                                            }\n                                        }\n                                    ];\n                                }\n                                ageInSeconds = (Date.now() - this.getLastFetchedTime(payload, ctx)) / 1000;\n                                if (maxAgeInSeconds !== undefined && ageInSeconds > maxAgeInSeconds) {\n                                    return [\n                                        2 /*return*/,\n                                        {\n                                            isValid: false,\n                                            reason: {\n                                                message: \"expired\",\n                                                ageInSeconds: ageInSeconds,\n                                                maxAgeInSeconds: maxAgeInSeconds\n                                            }\n                                        }\n                                    ];\n                                }\n                                if (!claimVal.includes(val)) {\n                                    return [\n                                        2 /*return*/,\n                                        {\n                                            isValid: false,\n                                            reason: {\n                                                message: \"wrong value\",\n                                                expectedToInclude: val,\n                                                actualValue: claimVal\n                                            }\n                                        }\n                                    ];\n                                }\n                                return [2 /*return*/, { isValid: true }];\n                            });\n                        });\n                    }\n                };\n            },\n            excludes: function (val, maxAgeInSeconds, id) {\n                if (maxAgeInSeconds === void 0) {\n                    maxAgeInSeconds = _this.defaultMaxAgeInSeconds;\n                }\n                return {\n                    id: id !== undefined ? id : _this.id,\n                    refresh: function (ctx) {\n                        return _this.refresh(ctx);\n                    },\n                    shouldRefresh: function (payload, ctx) {\n                        return (\n                            _this.getValueFromPayload(payload, ctx) === undefined ||\n                            // We know payload[this.id] is defined since the value is not undefined in this branch\n                            (maxAgeInSeconds !== undefined && payload[_this.id].t < Date.now() - maxAgeInSeconds * 1000)\n                        );\n                    },\n                    validate: function (payload, ctx) {\n                        return __awaiter(_this, void 0, void 0, function () {\n                            var claimVal, ageInSeconds;\n                            return __generator(this, function (_a) {\n                                claimVal = this.getValueFromPayload(payload, ctx);\n                                if (claimVal === undefined) {\n                                    return [\n                                        2 /*return*/,\n                                        {\n                                            isValid: false,\n                                            reason: {\n                                                message: \"value does not exist\",\n                                                expectedToNotInclude: val,\n                                                actualValue: claimVal\n                                            }\n                                        }\n                                    ];\n                                }\n                                ageInSeconds = (Date.now() - this.getLastFetchedTime(payload, ctx)) / 1000;\n                                if (maxAgeInSeconds !== undefined && ageInSeconds > maxAgeInSeconds) {\n                                    return [\n                                        2 /*return*/,\n                                        {\n                                            isValid: false,\n                                            reason: {\n                                                message: \"expired\",\n                                                ageInSeconds: ageInSeconds,\n                                                maxAgeInSeconds: maxAgeInSeconds\n                                            }\n                                        }\n                                    ];\n                                }\n                                if (claimVal.includes(val)) {\n                                    return [\n                                        2 /*return*/,\n                                        {\n                                            isValid: false,\n                                            reason: {\n                                                message: \"wrong value\",\n                                                expectedToNotInclude: val,\n                                                actualValue: claimVal\n                                            }\n                                        }\n                                    ];\n                                }\n                                return [2 /*return*/, { isValid: true }];\n                            });\n                        });\n                    }\n                };\n            },\n            includesAll: function (val, maxAgeInSeconds, id) {\n                if (maxAgeInSeconds === void 0) {\n                    maxAgeInSeconds = _this.defaultMaxAgeInSeconds;\n                }\n                return {\n                    id: id !== undefined ? id : _this.id,\n                    refresh: function (ctx) {\n                        return _this.refresh(ctx);\n                    },\n                    shouldRefresh: function (payload, ctx) {\n                        return (\n                            _this.getValueFromPayload(payload, ctx) === undefined ||\n                            // We know payload[this.id] is defined since the value is not undefined in this branch\n                            (maxAgeInSeconds !== undefined && payload[_this.id].t < Date.now() - maxAgeInSeconds * 1000)\n                        );\n                    },\n                    validate: function (payload, ctx) {\n                        return __awaiter(_this, void 0, void 0, function () {\n                            var claimVal, ageInSeconds, claimSet, isValid;\n                            return __generator(this, function (_a) {\n                                claimVal = this.getValueFromPayload(payload, ctx);\n                                if (claimVal === undefined) {\n                                    return [\n                                        2 /*return*/,\n                                        {\n                                            isValid: false,\n                                            reason: {\n                                                message: \"value does not exist\",\n                                                expectedToInclude: val,\n                                                actualValue: claimVal\n                                            }\n                                        }\n                                    ];\n                                }\n                                ageInSeconds = (Date.now() - this.getLastFetchedTime(payload, ctx)) / 1000;\n                                if (maxAgeInSeconds !== undefined && ageInSeconds > maxAgeInSeconds) {\n                                    return [\n                                        2 /*return*/,\n                                        {\n                                            isValid: false,\n                                            reason: {\n                                                message: \"expired\",\n                                                ageInSeconds: ageInSeconds,\n                                                maxAgeInSeconds: maxAgeInSeconds\n                                            }\n                                        }\n                                    ];\n                                }\n                                claimSet = new Set(claimVal);\n                                isValid = val.every(function (v) {\n                                    return claimSet.has(v);\n                                });\n                                return [\n                                    2 /*return*/,\n                                    isValid\n                                        ? { isValid: isValid }\n                                        : {\n                                              isValid: isValid,\n                                              reason: {\n                                                  message: \"wrong value\",\n                                                  expectedToInclude: val,\n                                                  actualValue: claimVal\n                                              }\n                                          }\n                                ];\n                            });\n                        });\n                    }\n                };\n            },\n            includesAny: function (val, maxAgeInSeconds, id) {\n                if (maxAgeInSeconds === void 0) {\n                    maxAgeInSeconds = _this.defaultMaxAgeInSeconds;\n                }\n                return {\n                    id: id !== undefined ? id : _this.id,\n                    refresh: function (ctx) {\n                        return _this.refresh(ctx);\n                    },\n                    shouldRefresh: function (payload, ctx) {\n                        return (\n                            _this.getValueFromPayload(payload, ctx) === undefined ||\n                            // We know payload[this.id] is defined since the value is not undefined in this branch\n                            (maxAgeInSeconds !== undefined && payload[_this.id].t < Date.now() - maxAgeInSeconds * 1000)\n                        );\n                    },\n                    validate: function (payload, ctx) {\n                        return __awaiter(_this, void 0, void 0, function () {\n                            var claimVal, ageInSeconds, claimSet, isValid;\n                            return __generator(this, function (_a) {\n                                claimVal = this.getValueFromPayload(payload, ctx);\n                                if (claimVal === undefined) {\n                                    return [\n                                        2 /*return*/,\n                                        {\n                                            isValid: false,\n                                            reason: {\n                                                message: \"value does not exist\",\n                                                expectedToInclude: val,\n                                                actualValue: claimVal\n                                            }\n                                        }\n                                    ];\n                                }\n                                ageInSeconds = (Date.now() - this.getLastFetchedTime(payload, ctx)) / 1000;\n                                if (maxAgeInSeconds !== undefined && ageInSeconds > maxAgeInSeconds) {\n                                    return [\n                                        2 /*return*/,\n                                        {\n                                            isValid: false,\n                                            reason: {\n                                                message: \"expired\",\n                                                ageInSeconds: ageInSeconds,\n                                                maxAgeInSeconds: maxAgeInSeconds\n                                            }\n                                        }\n                                    ];\n                                }\n                                claimSet = new Set(claimVal);\n                                isValid = val.some(function (v) {\n                                    return claimSet.has(v);\n                                });\n                                return [\n                                    2 /*return*/,\n                                    isValid\n                                        ? { isValid: isValid }\n                                        : {\n                                              isValid: isValid,\n                                              reason: {\n                                                  message: \"wrong value\",\n                                                  expectedToIncludeAtLeastOneOf: val,\n                                                  actualValue: claimVal\n                                              }\n                                          }\n                                ];\n                            });\n                        });\n                    }\n                };\n            },\n            excludesAll: function (val, maxAgeInSeconds, id) {\n                if (maxAgeInSeconds === void 0) {\n                    maxAgeInSeconds = _this.defaultMaxAgeInSeconds;\n                }\n                return {\n                    id: id !== undefined ? id : _this.id,\n                    refresh: function (ctx) {\n                        return _this.refresh(ctx);\n                    },\n                    shouldRefresh: function (payload, ctx) {\n                        return (\n                            _this.getValueFromPayload(payload, ctx) === undefined ||\n                            // We know payload[this.id] is defined since the value is not undefined in this branch\n                            (maxAgeInSeconds !== undefined && payload[_this.id].t < Date.now() - maxAgeInSeconds * 1000)\n                        );\n                    },\n                    validate: function (payload, ctx) {\n                        return __awaiter(_this, void 0, void 0, function () {\n                            var claimVal, ageInSeconds, claimSet, isValid;\n                            return __generator(this, function (_a) {\n                                claimVal = this.getValueFromPayload(payload, ctx);\n                                if (claimVal === undefined) {\n                                    return [\n                                        2 /*return*/,\n                                        {\n                                            isValid: false,\n                                            reason: {\n                                                message: \"value does not exist\",\n                                                expectedToNotInclude: val,\n                                                actualValue: claimVal\n                                            }\n                                        }\n                                    ];\n                                }\n                                ageInSeconds = (Date.now() - this.getLastFetchedTime(payload, ctx)) / 1000;\n                                if (maxAgeInSeconds !== undefined && ageInSeconds > maxAgeInSeconds) {\n                                    return [\n                                        2 /*return*/,\n                                        {\n                                            isValid: false,\n                                            reason: {\n                                                message: \"expired\",\n                                                ageInSeconds: ageInSeconds,\n                                                maxAgeInSeconds: maxAgeInSeconds\n                                            }\n                                        }\n                                    ];\n                                }\n                                claimSet = new Set(claimVal);\n                                isValid = val.every(function (v) {\n                                    return !claimSet.has(v);\n                                });\n                                return [\n                                    2 /*return*/,\n                                    isValid\n                                        ? { isValid: isValid }\n                                        : {\n                                              isValid: isValid,\n                                              reason: {\n                                                  message: \"wrong value\",\n                                                  expectedToNotInclude: val,\n                                                  actualValue: claimVal\n                                              }\n                                          }\n                                ];\n                            });\n                        });\n                    }\n                };\n            }\n        };\n        this.id = config.id;\n        this.refresh = config.refresh;\n        this.defaultMaxAgeInSeconds = config.defaultMaxAgeInSeconds;\n    }\n    PrimitiveArrayClaim.prototype.getValueFromPayload = function (payload, _userContext) {\n        return payload[this.id] !== undefined ? payload[this.id].v : undefined;\n    };\n    PrimitiveArrayClaim.prototype.getLastFetchedTime = function (payload, _userContext) {\n        return payload[this.id] !== undefined ? payload[this.id].t : undefined;\n    };\n    return PrimitiveArrayClaim;\n})();\nexports.PrimitiveArrayClaim = PrimitiveArrayClaim;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3VwZXJ0b2tlbnMtd2Vic2l0ZS9saWIvYnVpbGQvY2xhaW1zL3ByaW1pdGl2ZUFycmF5Q2xhaW0uanMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsZ0RBQWdEO0FBQ25FO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCwyQkFBMkI7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3REFBd0QsZUFBZTtBQUN2RSw2QkFBNkI7QUFDN0IseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0RBQXdELGVBQWU7QUFDdkUsNkJBQTZCO0FBQzdCLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBO0FBQ0EsNENBQTRDO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3Qix5QkFBeUI7QUFDekI7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QztBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0IseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0E7QUFDQSw0Q0FBNEM7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsMkJBQTJCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9zdXBlcnRva2Vucy13ZWJzaXRlL2xpYi9idWlsZC9jbGFpbXMvcHJpbWl0aXZlQXJyYXlDbGFpbS5qcz81MWM3Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fYXdhaXRlciA9XG4gICAgKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8XG4gICAgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgICAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUFxuICAgICAgICAgICAgICAgID8gdmFsdWVcbiAgICAgICAgICAgICAgICA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgICAgICB9KTtcbiAgICB9O1xudmFyIF9fZ2VuZXJhdG9yID1cbiAgICAodGhpcyAmJiB0aGlzLl9fZ2VuZXJhdG9yKSB8fFxuICAgIGZ1bmN0aW9uICh0aGlzQXJnLCBib2R5KSB7XG4gICAgICAgIHZhciBfID0ge1xuICAgICAgICAgICAgICAgIGxhYmVsOiAwLFxuICAgICAgICAgICAgICAgIHNlbnQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdFsxXTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHRyeXM6IFtdLFxuICAgICAgICAgICAgICAgIG9wczogW11cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmLFxuICAgICAgICAgICAgeSxcbiAgICAgICAgICAgIHQsXG4gICAgICAgICAgICBnO1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgKGcgPSB7IG5leHQ6IHZlcmIoMCksIHRocm93OiB2ZXJiKDEpLCByZXR1cm46IHZlcmIoMikgfSksXG4gICAgICAgICAgICB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiZcbiAgICAgICAgICAgICAgICAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIGdcbiAgICAgICAgKTtcbiAgICAgICAgZnVuY3Rpb24gdmVyYihuKSB7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RlcChbbiwgdl0pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XG4gICAgICAgICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XG4gICAgICAgICAgICB3aGlsZSAoXylcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAoKGYgPSAxKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAodCA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wWzBdICYgMlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB5W1wicmV0dXJuXCJdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG9wWzBdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHkubmV4dCkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCgoeSA9IDApLCB0KSkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHQgPSBvcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfLmxhYmVsKys7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF8ubGFiZWwrKztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB5ID0gb3BbMV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3AgPSBbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3AgPSBfLm9wcy5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgISgodCA9IF8udHJ5cyksICh0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXyA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXy5sYWJlbCA9IG9wWzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF8ubGFiZWwgPSB0WzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ID0gb3A7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfLmxhYmVsID0gdFsyXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXy5vcHMucHVzaChvcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgb3AgPSBbNiwgZV07XG4gICAgICAgICAgICAgICAgICAgIHkgPSAwO1xuICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIGYgPSB0ID0gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTtcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XG4gICAgICAgIH1cbiAgICB9O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5QcmltaXRpdmVBcnJheUNsYWltID0gdm9pZCAwO1xudmFyIFByaW1pdGl2ZUFycmF5Q2xhaW0gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUHJpbWl0aXZlQXJyYXlDbGFpbShjb25maWcpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy52YWxpZGF0b3JzID0ge1xuICAgICAgICAgICAgaW5jbHVkZXM6IGZ1bmN0aW9uICh2YWwsIG1heEFnZUluU2Vjb25kcywgaWQpIHtcbiAgICAgICAgICAgICAgICBpZiAobWF4QWdlSW5TZWNvbmRzID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICAgICAgbWF4QWdlSW5TZWNvbmRzID0gX3RoaXMuZGVmYXVsdE1heEFnZUluU2Vjb25kcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6IGlkICE9PSB1bmRlZmluZWQgPyBpZCA6IF90aGlzLmlkLFxuICAgICAgICAgICAgICAgICAgICByZWZyZXNoOiBmdW5jdGlvbiAoY3R4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMucmVmcmVzaChjdHgpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBzaG91bGRSZWZyZXNoOiBmdW5jdGlvbiAocGF5bG9hZCwgY3R4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmdldFZhbHVlRnJvbVBheWxvYWQocGF5bG9hZCwgY3R4KSA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2Uga25vdyBwYXlsb2FkW3RoaXMuaWRdIGlzIGRlZmluZWQgc2luY2UgdGhlIHZhbHVlIGlzIG5vdCB1bmRlZmluZWQgaW4gdGhpcyBicmFuY2hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAobWF4QWdlSW5TZWNvbmRzICE9PSB1bmRlZmluZWQgJiYgcGF5bG9hZFtfdGhpcy5pZF0udCA8IERhdGUubm93KCkgLSBtYXhBZ2VJblNlY29uZHMgKiAxMDAwKVxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGU6IGZ1bmN0aW9uIChwYXlsb2FkLCBjdHgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfX2F3YWl0ZXIoX3RoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNsYWltVmFsLCBhZ2VJblNlY29uZHM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFpbVZhbCA9IHRoaXMuZ2V0VmFsdWVGcm9tUGF5bG9hZChwYXlsb2FkLCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2xhaW1WYWwgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAyIC8qcmV0dXJuKi8sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1ZhbGlkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhc29uOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcInZhbHVlIGRvZXMgbm90IGV4aXN0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHBlY3RlZFRvSW5jbHVkZTogdmFsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0dWFsVmFsdWU6IGNsYWltVmFsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFnZUluU2Vjb25kcyA9IChEYXRlLm5vdygpIC0gdGhpcy5nZXRMYXN0RmV0Y2hlZFRpbWUocGF5bG9hZCwgY3R4KSkgLyAxMDAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWF4QWdlSW5TZWNvbmRzICE9PSB1bmRlZmluZWQgJiYgYWdlSW5TZWNvbmRzID4gbWF4QWdlSW5TZWNvbmRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDIgLypyZXR1cm4qLyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzVmFsaWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFzb246IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiZXhwaXJlZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWdlSW5TZWNvbmRzOiBhZ2VJblNlY29uZHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhBZ2VJblNlY29uZHM6IG1heEFnZUluU2Vjb25kc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWNsYWltVmFsLmluY2x1ZGVzKHZhbCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMiAvKnJldHVybiovLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNWYWxpZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYXNvbjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJ3cm9uZyB2YWx1ZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhwZWN0ZWRUb0luY2x1ZGU6IHZhbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdHVhbFZhbHVlOiBjbGFpbVZhbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgeyBpc1ZhbGlkOiB0cnVlIH1dO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGV4Y2x1ZGVzOiBmdW5jdGlvbiAodmFsLCBtYXhBZ2VJblNlY29uZHMsIGlkKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1heEFnZUluU2Vjb25kcyA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIG1heEFnZUluU2Vjb25kcyA9IF90aGlzLmRlZmF1bHRNYXhBZ2VJblNlY29uZHM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGlkOiBpZCAhPT0gdW5kZWZpbmVkID8gaWQgOiBfdGhpcy5pZCxcbiAgICAgICAgICAgICAgICAgICAgcmVmcmVzaDogZnVuY3Rpb24gKGN0eCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLnJlZnJlc2goY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgc2hvdWxkUmVmcmVzaDogZnVuY3Rpb24gKHBheWxvYWQsIGN0eCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5nZXRWYWx1ZUZyb21QYXlsb2FkKHBheWxvYWQsIGN0eCkgPT09IHVuZGVmaW5lZCB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdlIGtub3cgcGF5bG9hZFt0aGlzLmlkXSBpcyBkZWZpbmVkIHNpbmNlIHRoZSB2YWx1ZSBpcyBub3QgdW5kZWZpbmVkIGluIHRoaXMgYnJhbmNoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKG1heEFnZUluU2Vjb25kcyAhPT0gdW5kZWZpbmVkICYmIHBheWxvYWRbX3RoaXMuaWRdLnQgPCBEYXRlLm5vdygpIC0gbWF4QWdlSW5TZWNvbmRzICogMTAwMClcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHZhbGlkYXRlOiBmdW5jdGlvbiAocGF5bG9hZCwgY3R4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX19hd2FpdGVyKF90aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjbGFpbVZhbCwgYWdlSW5TZWNvbmRzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhaW1WYWwgPSB0aGlzLmdldFZhbHVlRnJvbVBheWxvYWQocGF5bG9hZCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNsYWltVmFsID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMiAvKnJldHVybiovLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNWYWxpZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYXNvbjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJ2YWx1ZSBkb2VzIG5vdCBleGlzdFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhwZWN0ZWRUb05vdEluY2x1ZGU6IHZhbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdHVhbFZhbHVlOiBjbGFpbVZhbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZ2VJblNlY29uZHMgPSAoRGF0ZS5ub3coKSAtIHRoaXMuZ2V0TGFzdEZldGNoZWRUaW1lKHBheWxvYWQsIGN0eCkpIC8gMTAwMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1heEFnZUluU2Vjb25kcyAhPT0gdW5kZWZpbmVkICYmIGFnZUluU2Vjb25kcyA+IG1heEFnZUluU2Vjb25kcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAyIC8qcmV0dXJuKi8sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1ZhbGlkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhc29uOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcImV4cGlyZWRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFnZUluU2Vjb25kczogYWdlSW5TZWNvbmRzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4QWdlSW5TZWNvbmRzOiBtYXhBZ2VJblNlY29uZHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNsYWltVmFsLmluY2x1ZGVzKHZhbCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMiAvKnJldHVybiovLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNWYWxpZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYXNvbjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJ3cm9uZyB2YWx1ZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhwZWN0ZWRUb05vdEluY2x1ZGU6IHZhbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdHVhbFZhbHVlOiBjbGFpbVZhbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgeyBpc1ZhbGlkOiB0cnVlIH1dO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGluY2x1ZGVzQWxsOiBmdW5jdGlvbiAodmFsLCBtYXhBZ2VJblNlY29uZHMsIGlkKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1heEFnZUluU2Vjb25kcyA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIG1heEFnZUluU2Vjb25kcyA9IF90aGlzLmRlZmF1bHRNYXhBZ2VJblNlY29uZHM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGlkOiBpZCAhPT0gdW5kZWZpbmVkID8gaWQgOiBfdGhpcy5pZCxcbiAgICAgICAgICAgICAgICAgICAgcmVmcmVzaDogZnVuY3Rpb24gKGN0eCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLnJlZnJlc2goY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgc2hvdWxkUmVmcmVzaDogZnVuY3Rpb24gKHBheWxvYWQsIGN0eCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5nZXRWYWx1ZUZyb21QYXlsb2FkKHBheWxvYWQsIGN0eCkgPT09IHVuZGVmaW5lZCB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdlIGtub3cgcGF5bG9hZFt0aGlzLmlkXSBpcyBkZWZpbmVkIHNpbmNlIHRoZSB2YWx1ZSBpcyBub3QgdW5kZWZpbmVkIGluIHRoaXMgYnJhbmNoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKG1heEFnZUluU2Vjb25kcyAhPT0gdW5kZWZpbmVkICYmIHBheWxvYWRbX3RoaXMuaWRdLnQgPCBEYXRlLm5vdygpIC0gbWF4QWdlSW5TZWNvbmRzICogMTAwMClcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHZhbGlkYXRlOiBmdW5jdGlvbiAocGF5bG9hZCwgY3R4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX19hd2FpdGVyKF90aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjbGFpbVZhbCwgYWdlSW5TZWNvbmRzLCBjbGFpbVNldCwgaXNWYWxpZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYWltVmFsID0gdGhpcy5nZXRWYWx1ZUZyb21QYXlsb2FkKHBheWxvYWQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjbGFpbVZhbCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDIgLypyZXR1cm4qLyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzVmFsaWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFzb246IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwidmFsdWUgZG9lcyBub3QgZXhpc3RcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4cGVjdGVkVG9JbmNsdWRlOiB2YWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3R1YWxWYWx1ZTogY2xhaW1WYWxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWdlSW5TZWNvbmRzID0gKERhdGUubm93KCkgLSB0aGlzLmdldExhc3RGZXRjaGVkVGltZShwYXlsb2FkLCBjdHgpKSAvIDEwMDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtYXhBZ2VJblNlY29uZHMgIT09IHVuZGVmaW5lZCAmJiBhZ2VJblNlY29uZHMgPiBtYXhBZ2VJblNlY29uZHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMiAvKnJldHVybiovLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNWYWxpZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYXNvbjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJleHBpcmVkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZ2VJblNlY29uZHM6IGFnZUluU2Vjb25kcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heEFnZUluU2Vjb25kczogbWF4QWdlSW5TZWNvbmRzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYWltU2V0ID0gbmV3IFNldChjbGFpbVZhbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzVmFsaWQgPSB2YWwuZXZlcnkoZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjbGFpbVNldC5oYXModik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMiAvKnJldHVybiovLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNWYWxpZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8geyBpc1ZhbGlkOiBpc1ZhbGlkIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1ZhbGlkOiBpc1ZhbGlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYXNvbjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIndyb25nIHZhbHVlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4cGVjdGVkVG9JbmNsdWRlOiB2YWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdHVhbFZhbHVlOiBjbGFpbVZhbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpbmNsdWRlc0FueTogZnVuY3Rpb24gKHZhbCwgbWF4QWdlSW5TZWNvbmRzLCBpZCkge1xuICAgICAgICAgICAgICAgIGlmIChtYXhBZ2VJblNlY29uZHMgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICAgICAgICBtYXhBZ2VJblNlY29uZHMgPSBfdGhpcy5kZWZhdWx0TWF4QWdlSW5TZWNvbmRzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBpZDogaWQgIT09IHVuZGVmaW5lZCA/IGlkIDogX3RoaXMuaWQsXG4gICAgICAgICAgICAgICAgICAgIHJlZnJlc2g6IGZ1bmN0aW9uIChjdHgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5yZWZyZXNoKGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHNob3VsZFJlZnJlc2g6IGZ1bmN0aW9uIChwYXlsb2FkLCBjdHgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuZ2V0VmFsdWVGcm9tUGF5bG9hZChwYXlsb2FkLCBjdHgpID09PSB1bmRlZmluZWQgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBXZSBrbm93IHBheWxvYWRbdGhpcy5pZF0gaXMgZGVmaW5lZCBzaW5jZSB0aGUgdmFsdWUgaXMgbm90IHVuZGVmaW5lZCBpbiB0aGlzIGJyYW5jaFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChtYXhBZ2VJblNlY29uZHMgIT09IHVuZGVmaW5lZCAmJiBwYXlsb2FkW190aGlzLmlkXS50IDwgRGF0ZS5ub3coKSAtIG1heEFnZUluU2Vjb25kcyAqIDEwMDApXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB2YWxpZGF0ZTogZnVuY3Rpb24gKHBheWxvYWQsIGN0eCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9fYXdhaXRlcihfdGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2xhaW1WYWwsIGFnZUluU2Vjb25kcywgY2xhaW1TZXQsIGlzVmFsaWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFpbVZhbCA9IHRoaXMuZ2V0VmFsdWVGcm9tUGF5bG9hZChwYXlsb2FkLCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2xhaW1WYWwgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAyIC8qcmV0dXJuKi8sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1ZhbGlkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhc29uOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcInZhbHVlIGRvZXMgbm90IGV4aXN0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHBlY3RlZFRvSW5jbHVkZTogdmFsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0dWFsVmFsdWU6IGNsYWltVmFsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFnZUluU2Vjb25kcyA9IChEYXRlLm5vdygpIC0gdGhpcy5nZXRMYXN0RmV0Y2hlZFRpbWUocGF5bG9hZCwgY3R4KSkgLyAxMDAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWF4QWdlSW5TZWNvbmRzICE9PSB1bmRlZmluZWQgJiYgYWdlSW5TZWNvbmRzID4gbWF4QWdlSW5TZWNvbmRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDIgLypyZXR1cm4qLyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzVmFsaWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFzb246IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiZXhwaXJlZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWdlSW5TZWNvbmRzOiBhZ2VJblNlY29uZHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhBZ2VJblNlY29uZHM6IG1heEFnZUluU2Vjb25kc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFpbVNldCA9IG5ldyBTZXQoY2xhaW1WYWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1ZhbGlkID0gdmFsLnNvbWUoZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjbGFpbVNldC5oYXModik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMiAvKnJldHVybiovLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNWYWxpZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8geyBpc1ZhbGlkOiBpc1ZhbGlkIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1ZhbGlkOiBpc1ZhbGlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYXNvbjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIndyb25nIHZhbHVlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4cGVjdGVkVG9JbmNsdWRlQXRMZWFzdE9uZU9mOiB2YWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdHVhbFZhbHVlOiBjbGFpbVZhbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBleGNsdWRlc0FsbDogZnVuY3Rpb24gKHZhbCwgbWF4QWdlSW5TZWNvbmRzLCBpZCkge1xuICAgICAgICAgICAgICAgIGlmIChtYXhBZ2VJblNlY29uZHMgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICAgICAgICBtYXhBZ2VJblNlY29uZHMgPSBfdGhpcy5kZWZhdWx0TWF4QWdlSW5TZWNvbmRzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBpZDogaWQgIT09IHVuZGVmaW5lZCA/IGlkIDogX3RoaXMuaWQsXG4gICAgICAgICAgICAgICAgICAgIHJlZnJlc2g6IGZ1bmN0aW9uIChjdHgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5yZWZyZXNoKGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHNob3VsZFJlZnJlc2g6IGZ1bmN0aW9uIChwYXlsb2FkLCBjdHgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuZ2V0VmFsdWVGcm9tUGF5bG9hZChwYXlsb2FkLCBjdHgpID09PSB1bmRlZmluZWQgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBXZSBrbm93IHBheWxvYWRbdGhpcy5pZF0gaXMgZGVmaW5lZCBzaW5jZSB0aGUgdmFsdWUgaXMgbm90IHVuZGVmaW5lZCBpbiB0aGlzIGJyYW5jaFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChtYXhBZ2VJblNlY29uZHMgIT09IHVuZGVmaW5lZCAmJiBwYXlsb2FkW190aGlzLmlkXS50IDwgRGF0ZS5ub3coKSAtIG1heEFnZUluU2Vjb25kcyAqIDEwMDApXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB2YWxpZGF0ZTogZnVuY3Rpb24gKHBheWxvYWQsIGN0eCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9fYXdhaXRlcihfdGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2xhaW1WYWwsIGFnZUluU2Vjb25kcywgY2xhaW1TZXQsIGlzVmFsaWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFpbVZhbCA9IHRoaXMuZ2V0VmFsdWVGcm9tUGF5bG9hZChwYXlsb2FkLCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2xhaW1WYWwgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAyIC8qcmV0dXJuKi8sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1ZhbGlkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhc29uOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcInZhbHVlIGRvZXMgbm90IGV4aXN0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHBlY3RlZFRvTm90SW5jbHVkZTogdmFsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0dWFsVmFsdWU6IGNsYWltVmFsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFnZUluU2Vjb25kcyA9IChEYXRlLm5vdygpIC0gdGhpcy5nZXRMYXN0RmV0Y2hlZFRpbWUocGF5bG9hZCwgY3R4KSkgLyAxMDAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWF4QWdlSW5TZWNvbmRzICE9PSB1bmRlZmluZWQgJiYgYWdlSW5TZWNvbmRzID4gbWF4QWdlSW5TZWNvbmRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDIgLypyZXR1cm4qLyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzVmFsaWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFzb246IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiZXhwaXJlZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWdlSW5TZWNvbmRzOiBhZ2VJblNlY29uZHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhBZ2VJblNlY29uZHM6IG1heEFnZUluU2Vjb25kc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFpbVNldCA9IG5ldyBTZXQoY2xhaW1WYWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1ZhbGlkID0gdmFsLmV2ZXJ5KGZ1bmN0aW9uICh2KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gIWNsYWltU2V0Lmhhcyh2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAyIC8qcmV0dXJuKi8sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1ZhbGlkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB7IGlzVmFsaWQ6IGlzVmFsaWQgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzVmFsaWQ6IGlzVmFsaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhc29uOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwid3JvbmcgdmFsdWVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhwZWN0ZWRUb05vdEluY2x1ZGU6IHZhbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0dWFsVmFsdWU6IGNsYWltVmFsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmlkID0gY29uZmlnLmlkO1xuICAgICAgICB0aGlzLnJlZnJlc2ggPSBjb25maWcucmVmcmVzaDtcbiAgICAgICAgdGhpcy5kZWZhdWx0TWF4QWdlSW5TZWNvbmRzID0gY29uZmlnLmRlZmF1bHRNYXhBZ2VJblNlY29uZHM7XG4gICAgfVxuICAgIFByaW1pdGl2ZUFycmF5Q2xhaW0ucHJvdG90eXBlLmdldFZhbHVlRnJvbVBheWxvYWQgPSBmdW5jdGlvbiAocGF5bG9hZCwgX3VzZXJDb250ZXh0KSB7XG4gICAgICAgIHJldHVybiBwYXlsb2FkW3RoaXMuaWRdICE9PSB1bmRlZmluZWQgPyBwYXlsb2FkW3RoaXMuaWRdLnYgOiB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICBQcmltaXRpdmVBcnJheUNsYWltLnByb3RvdHlwZS5nZXRMYXN0RmV0Y2hlZFRpbWUgPSBmdW5jdGlvbiAocGF5bG9hZCwgX3VzZXJDb250ZXh0KSB7XG4gICAgICAgIHJldHVybiBwYXlsb2FkW3RoaXMuaWRdICE9PSB1bmRlZmluZWQgPyBwYXlsb2FkW3RoaXMuaWRdLnQgOiB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICByZXR1cm4gUHJpbWl0aXZlQXJyYXlDbGFpbTtcbn0pKCk7XG5leHBvcnRzLlByaW1pdGl2ZUFycmF5Q2xhaW0gPSBQcmltaXRpdmVBcnJheUNsYWltO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/supertokens-website/lib/build/claims/primitiveArrayClaim.js\n"));

/***/ }),

/***/ "./node_modules/supertokens-website/lib/build/claims/primitiveClaim.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/supertokens-website/lib/build/claims/primitiveClaim.js ***!
  \*****************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.PrimitiveClaim = void 0;\nvar PrimitiveClaim = /** @class */ (function () {\n    function PrimitiveClaim(config) {\n        var _this = this;\n        this.validators = {\n            hasValue: function (val, maxAgeInSeconds, id) {\n                if (maxAgeInSeconds === void 0) {\n                    maxAgeInSeconds = _this.defaultMaxAgeInSeconds;\n                }\n                return {\n                    id: id !== undefined ? id : _this.id,\n                    refresh: function (ctx) {\n                        return _this.refresh(ctx);\n                    },\n                    shouldRefresh: function (payload, ctx) {\n                        return (\n                            _this.getValueFromPayload(payload, ctx) === undefined ||\n                            // We know payload[this.id] is defined since the value is not undefined in this branch\n                            (maxAgeInSeconds !== undefined && payload[_this.id].t < Date.now() - maxAgeInSeconds * 1000)\n                        );\n                    },\n                    validate: function (payload, ctx) {\n                        var claimVal = _this.getValueFromPayload(payload, ctx);\n                        if (claimVal === undefined) {\n                            return {\n                                isValid: false,\n                                reason: { message: \"value does not exist\", expectedValue: val, actualValue: claimVal }\n                            };\n                        }\n                        var ageInSeconds = (Date.now() - _this.getLastFetchedTime(payload, ctx)) / 1000;\n                        if (maxAgeInSeconds !== undefined && ageInSeconds > maxAgeInSeconds) {\n                            return {\n                                isValid: false,\n                                reason: {\n                                    message: \"expired\",\n                                    ageInSeconds: ageInSeconds,\n                                    maxAgeInSeconds: maxAgeInSeconds\n                                }\n                            };\n                        }\n                        if (claimVal !== val) {\n                            return {\n                                isValid: false,\n                                reason: { message: \"wrong value\", expectedValue: val, actualValue: claimVal }\n                            };\n                        }\n                        return { isValid: true };\n                    }\n                };\n            }\n        };\n        this.id = config.id;\n        this.refresh = config.refresh;\n        this.defaultMaxAgeInSeconds = config.defaultMaxAgeInSeconds;\n    }\n    PrimitiveClaim.prototype.getValueFromPayload = function (payload, _userContext) {\n        return payload[this.id] !== undefined ? payload[this.id].v : undefined;\n    };\n    PrimitiveClaim.prototype.getLastFetchedTime = function (payload, _userContext) {\n        return payload[this.id] !== undefined ? payload[this.id].t : undefined;\n    };\n    return PrimitiveClaim;\n})();\nexports.PrimitiveClaim = PrimitiveClaim;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3VwZXJ0b2tlbnMtd2Vic2l0ZS9saWIvYnVpbGQvY2xhaW1zL3ByaW1pdGl2ZUNsYWltLmpzLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEM7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEM7QUFDMUM7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Qsc0JBQXNCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9zdXBlcnRva2Vucy13ZWJzaXRlL2xpYi9idWlsZC9jbGFpbXMvcHJpbWl0aXZlQ2xhaW0uanM/MTRjYSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuUHJpbWl0aXZlQ2xhaW0gPSB2b2lkIDA7XG52YXIgUHJpbWl0aXZlQ2xhaW0gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUHJpbWl0aXZlQ2xhaW0oY29uZmlnKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMudmFsaWRhdG9ycyA9IHtcbiAgICAgICAgICAgIGhhc1ZhbHVlOiBmdW5jdGlvbiAodmFsLCBtYXhBZ2VJblNlY29uZHMsIGlkKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1heEFnZUluU2Vjb25kcyA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIG1heEFnZUluU2Vjb25kcyA9IF90aGlzLmRlZmF1bHRNYXhBZ2VJblNlY29uZHM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGlkOiBpZCAhPT0gdW5kZWZpbmVkID8gaWQgOiBfdGhpcy5pZCxcbiAgICAgICAgICAgICAgICAgICAgcmVmcmVzaDogZnVuY3Rpb24gKGN0eCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLnJlZnJlc2goY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgc2hvdWxkUmVmcmVzaDogZnVuY3Rpb24gKHBheWxvYWQsIGN0eCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5nZXRWYWx1ZUZyb21QYXlsb2FkKHBheWxvYWQsIGN0eCkgPT09IHVuZGVmaW5lZCB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdlIGtub3cgcGF5bG9hZFt0aGlzLmlkXSBpcyBkZWZpbmVkIHNpbmNlIHRoZSB2YWx1ZSBpcyBub3QgdW5kZWZpbmVkIGluIHRoaXMgYnJhbmNoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKG1heEFnZUluU2Vjb25kcyAhPT0gdW5kZWZpbmVkICYmIHBheWxvYWRbX3RoaXMuaWRdLnQgPCBEYXRlLm5vdygpIC0gbWF4QWdlSW5TZWNvbmRzICogMTAwMClcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHZhbGlkYXRlOiBmdW5jdGlvbiAocGF5bG9hZCwgY3R4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2xhaW1WYWwgPSBfdGhpcy5nZXRWYWx1ZUZyb21QYXlsb2FkKHBheWxvYWQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2xhaW1WYWwgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzVmFsaWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFzb246IHsgbWVzc2FnZTogXCJ2YWx1ZSBkb2VzIG5vdCBleGlzdFwiLCBleHBlY3RlZFZhbHVlOiB2YWwsIGFjdHVhbFZhbHVlOiBjbGFpbVZhbCB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhZ2VJblNlY29uZHMgPSAoRGF0ZS5ub3coKSAtIF90aGlzLmdldExhc3RGZXRjaGVkVGltZShwYXlsb2FkLCBjdHgpKSAvIDEwMDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobWF4QWdlSW5TZWNvbmRzICE9PSB1bmRlZmluZWQgJiYgYWdlSW5TZWNvbmRzID4gbWF4QWdlSW5TZWNvbmRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNWYWxpZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlYXNvbjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJleHBpcmVkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZ2VJblNlY29uZHM6IGFnZUluU2Vjb25kcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heEFnZUluU2Vjb25kczogbWF4QWdlSW5TZWNvbmRzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNsYWltVmFsICE9PSB2YWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1ZhbGlkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhc29uOiB7IG1lc3NhZ2U6IFwid3JvbmcgdmFsdWVcIiwgZXhwZWN0ZWRWYWx1ZTogdmFsLCBhY3R1YWxWYWx1ZTogY2xhaW1WYWwgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyBpc1ZhbGlkOiB0cnVlIH07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmlkID0gY29uZmlnLmlkO1xuICAgICAgICB0aGlzLnJlZnJlc2ggPSBjb25maWcucmVmcmVzaDtcbiAgICAgICAgdGhpcy5kZWZhdWx0TWF4QWdlSW5TZWNvbmRzID0gY29uZmlnLmRlZmF1bHRNYXhBZ2VJblNlY29uZHM7XG4gICAgfVxuICAgIFByaW1pdGl2ZUNsYWltLnByb3RvdHlwZS5nZXRWYWx1ZUZyb21QYXlsb2FkID0gZnVuY3Rpb24gKHBheWxvYWQsIF91c2VyQ29udGV4dCkge1xuICAgICAgICByZXR1cm4gcGF5bG9hZFt0aGlzLmlkXSAhPT0gdW5kZWZpbmVkID8gcGF5bG9hZFt0aGlzLmlkXS52IDogdW5kZWZpbmVkO1xuICAgIH07XG4gICAgUHJpbWl0aXZlQ2xhaW0ucHJvdG90eXBlLmdldExhc3RGZXRjaGVkVGltZSA9IGZ1bmN0aW9uIChwYXlsb2FkLCBfdXNlckNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIHBheWxvYWRbdGhpcy5pZF0gIT09IHVuZGVmaW5lZCA/IHBheWxvYWRbdGhpcy5pZF0udCA6IHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIHJldHVybiBQcmltaXRpdmVDbGFpbTtcbn0pKCk7XG5leHBvcnRzLlByaW1pdGl2ZUNsYWltID0gUHJpbWl0aXZlQ2xhaW07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/supertokens-website/lib/build/claims/primitiveClaim.js\n"));

/***/ }),

/***/ "./node_modules/supertokens-website/lib/build/error.js":
/*!*************************************************************!*\
  !*** ./node_modules/supertokens-website/lib/build/error.js ***!
  \*************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\n/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nvar __extends =\n    (this && this.__extends) ||\n    (function () {\n        var extendStatics = function (d, b) {\n            extendStatics =\n                Object.setPrototypeOf ||\n                ({ __proto__: [] } instanceof Array &&\n                    function (d, b) {\n                        d.__proto__ = b;\n                    }) ||\n                function (d, b) {\n                    for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n                };\n            return extendStatics(d, b);\n        };\n        return function (d, b) {\n            if (typeof b !== \"function\" && b !== null)\n                throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n            extendStatics(d, b);\n            function __() {\n                this.constructor = d;\n            }\n            d.prototype = b === null ? Object.create(b) : ((__.prototype = b.prototype), new __());\n        };\n    })();\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.STGeneralError = void 0;\n/**\n * This error usually indicates that the API exposed by the backend SDKs responded\n * with `{status: \"GENERAL_ERROR\"}`. This should be used to show errors to the user\n * in your frontend application.\n */\nvar STGeneralError = /** @class */ (function (_super) {\n    __extends(STGeneralError, _super);\n    function STGeneralError(message) {\n        var _this = _super.call(this, message) || this;\n        _this.isSuperTokensGeneralError = true;\n        return _this;\n    }\n    STGeneralError.isThisError = function (err) {\n        return err.isSuperTokensGeneralError === true;\n    };\n    return STGeneralError;\n})(Error);\nexports.STGeneralError = STGeneralError;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3VwZXJ0b2tlbnMtd2Vic2l0ZS9saWIvYnVpbGQvZXJyb3IuanMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLGdCQUFnQjtBQUNuQztBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0EsVUFBVSx3QkFBd0I7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Qsc0JBQXNCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9zdXBlcnRva2Vucy13ZWJzaXRlL2xpYi9idWlsZC9lcnJvci5qcz80NTRlIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyogQ29weXJpZ2h0IChjKSAyMDIyLCBWUkFJIExhYnMgYW5kL29yIGl0cyBhZmZpbGlhdGVzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc29mdHdhcmUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlXG4gKiBcIkxpY2Vuc2VcIikgYXMgcHVibGlzaGVkIGJ5IHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRhdGlvbi5cbiAqXG4gKiBZb3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXlcbiAqIG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLCBXSVRIT1VUXG4gKiBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuIFNlZSB0aGVcbiAqIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zXG4gKiB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIF9fZXh0ZW5kcyA9XG4gICAgKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8XG4gICAgKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICAgICAgZXh0ZW5kU3RhdGljcyA9XG4gICAgICAgICAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiZcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGQuX19wcm90b19fID0gYjtcbiAgICAgICAgICAgICAgICAgICAgfSkgfHxcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgICAgICBmdW5jdGlvbiBfXygpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnN0cnVjdG9yID0gZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlKSwgbmV3IF9fKCkpO1xuICAgICAgICB9O1xuICAgIH0pKCk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlNUR2VuZXJhbEVycm9yID0gdm9pZCAwO1xuLyoqXG4gKiBUaGlzIGVycm9yIHVzdWFsbHkgaW5kaWNhdGVzIHRoYXQgdGhlIEFQSSBleHBvc2VkIGJ5IHRoZSBiYWNrZW5kIFNES3MgcmVzcG9uZGVkXG4gKiB3aXRoIGB7c3RhdHVzOiBcIkdFTkVSQUxfRVJST1JcIn1gLiBUaGlzIHNob3VsZCBiZSB1c2VkIHRvIHNob3cgZXJyb3JzIHRvIHRoZSB1c2VyXG4gKiBpbiB5b3VyIGZyb250ZW5kIGFwcGxpY2F0aW9uLlxuICovXG52YXIgU1RHZW5lcmFsRXJyb3IgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFNUR2VuZXJhbEVycm9yLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFNUR2VuZXJhbEVycm9yKG1lc3NhZ2UpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgbWVzc2FnZSkgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuaXNTdXBlclRva2Vuc0dlbmVyYWxFcnJvciA9IHRydWU7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgU1RHZW5lcmFsRXJyb3IuaXNUaGlzRXJyb3IgPSBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIHJldHVybiBlcnIuaXNTdXBlclRva2Vuc0dlbmVyYWxFcnJvciA9PT0gdHJ1ZTtcbiAgICB9O1xuICAgIHJldHVybiBTVEdlbmVyYWxFcnJvcjtcbn0pKEVycm9yKTtcbmV4cG9ydHMuU1RHZW5lcmFsRXJyb3IgPSBTVEdlbmVyYWxFcnJvcjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/supertokens-website/lib/build/error.js\n"));

/***/ }),

/***/ "./node_modules/supertokens-website/lib/build/fetch.js":
/*!*************************************************************!*\
  !*** ./node_modules/supertokens-website/lib/build/fetch.js ***!
  \*************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nvar __assign =\n    (this && this.__assign) ||\n    function () {\n        __assign =\n            Object.assign ||\n            function (t) {\n                for (var s, i = 1, n = arguments.length; i < n; i++) {\n                    s = arguments[i];\n                    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n                }\n                return t;\n            };\n        return __assign.apply(this, arguments);\n    };\nvar __awaiter =\n    (this && this.__awaiter) ||\n    function (thisArg, _arguments, P, generator) {\n        function adopt(value) {\n            return value instanceof P\n                ? value\n                : new P(function (resolve) {\n                      resolve(value);\n                  });\n        }\n        return new (P || (P = Promise))(function (resolve, reject) {\n            function fulfilled(value) {\n                try {\n                    step(generator.next(value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function rejected(value) {\n                try {\n                    step(generator[\"throw\"](value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function step(result) {\n                result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n            }\n            step((generator = generator.apply(thisArg, _arguments || [])).next());\n        });\n    };\nvar __generator =\n    (this && this.__generator) ||\n    function (thisArg, body) {\n        var _ = {\n                label: 0,\n                sent: function () {\n                    if (t[0] & 1) throw t[1];\n                    return t[1];\n                },\n                trys: [],\n                ops: []\n            },\n            f,\n            y,\n            t,\n            g;\n        return (\n            (g = { next: verb(0), throw: verb(1), return: verb(2) }),\n            typeof Symbol === \"function\" &&\n                (g[Symbol.iterator] = function () {\n                    return this;\n                }),\n            g\n        );\n        function verb(n) {\n            return function (v) {\n                return step([n, v]);\n            };\n        }\n        function step(op) {\n            if (f) throw new TypeError(\"Generator is already executing.\");\n            while (_)\n                try {\n                    if (\n                        ((f = 1),\n                        y &&\n                            (t =\n                                op[0] & 2\n                                    ? y[\"return\"]\n                                    : op[0]\n                                    ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0)\n                                    : y.next) &&\n                            !(t = t.call(y, op[1])).done)\n                    )\n                        return t;\n                    if (((y = 0), t)) op = [op[0] & 2, t.value];\n                    switch (op[0]) {\n                        case 0:\n                        case 1:\n                            t = op;\n                            break;\n                        case 4:\n                            _.label++;\n                            return { value: op[1], done: false };\n                        case 5:\n                            _.label++;\n                            y = op[1];\n                            op = [0];\n                            continue;\n                        case 7:\n                            op = _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                        default:\n                            if (\n                                !((t = _.trys), (t = t.length > 0 && t[t.length - 1])) &&\n                                (op[0] === 6 || op[0] === 2)\n                            ) {\n                                _ = 0;\n                                continue;\n                            }\n                            if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) {\n                                _.label = op[1];\n                                break;\n                            }\n                            if (op[0] === 6 && _.label < t[1]) {\n                                _.label = t[1];\n                                t = op;\n                                break;\n                            }\n                            if (t && _.label < t[2]) {\n                                _.label = t[2];\n                                _.ops.push(op);\n                                break;\n                            }\n                            if (t[2]) _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                    }\n                    op = body.call(thisArg, _);\n                } catch (e) {\n                    op = [6, e];\n                    y = 0;\n                } finally {\n                    f = t = 0;\n                }\n            if (op[0] & 5) throw op[1];\n            return { value: op[0] ? op[1] : void 0, done: true };\n        }\n    };\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.fireSessionUpdateEventsIfNecessary =\n    exports.setFrontToken =\n    exports.getFrontToken =\n    exports.setAntiCSRF =\n    exports.saveLastAccessTokenUpdate =\n    exports.getTokenForHeaderAuth =\n    exports.setToken =\n    exports.getStorageNameForToken =\n    exports.getLocalSessionState =\n    exports.onInvalidClaimResponse =\n    exports.onTokenUpdate =\n    exports.onUnauthorisedResponse =\n    exports.FrontToken =\n    exports.AntiCsrfToken =\n        void 0;\n/* Copyright (c) 2020, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nvar processState_1 = __webpack_require__(/*! ./processState */ \"./node_modules/supertokens-website/lib/build/processState.js\");\nvar version_1 = __webpack_require__(/*! ./version */ \"./node_modules/supertokens-website/lib/build/version.js\");\nvar utils_1 = __webpack_require__(/*! ./utils */ \"./node_modules/supertokens-website/lib/build/utils/index.js\");\nvar cookieHandler_1 = __webpack_require__(/*! ./utils/cookieHandler */ \"./node_modules/supertokens-website/lib/build/utils/cookieHandler/index.js\");\nvar windowHandler_1 = __webpack_require__(/*! ./utils/windowHandler */ \"./node_modules/supertokens-website/lib/build/utils/windowHandler/index.js\");\nvar lockFactory_1 = __webpack_require__(/*! ./utils/lockFactory */ \"./node_modules/supertokens-website/lib/build/utils/lockFactory/index.js\");\nvar logger_1 = __webpack_require__(/*! ./logger */ \"./node_modules/supertokens-website/lib/build/logger.js\");\nvar AntiCsrfToken = /** @class */ (function () {\n    function AntiCsrfToken() {}\n    AntiCsrfToken.getToken = function (associatedAccessTokenUpdate) {\n        return __awaiter(this, void 0, void 0, function () {\n            var antiCsrf;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        (0, logger_1.logDebugMessage)(\"AntiCsrfToken.getToken: called\");\n                        if (associatedAccessTokenUpdate === undefined) {\n                            AntiCsrfToken.tokenInfo = undefined;\n                            (0, logger_1.logDebugMessage)(\"AntiCsrfToken.getToken: returning undefined\");\n                            return [2 /*return*/, undefined];\n                        }\n                        if (!(AntiCsrfToken.tokenInfo === undefined)) return [3 /*break*/, 2];\n                        return [4 /*yield*/, getAntiCSRFToken()];\n                    case 1:\n                        antiCsrf = _a.sent();\n                        if (antiCsrf === null) {\n                            (0, logger_1.logDebugMessage)(\"AntiCsrfToken.getToken: returning undefined\");\n                            return [2 /*return*/, undefined];\n                        }\n                        AntiCsrfToken.tokenInfo = {\n                            antiCsrf: antiCsrf,\n                            associatedAccessTokenUpdate: associatedAccessTokenUpdate\n                        };\n                        return [3 /*break*/, 4];\n                    case 2:\n                        if (!(AntiCsrfToken.tokenInfo.associatedAccessTokenUpdate !== associatedAccessTokenUpdate))\n                            return [3 /*break*/, 4];\n                        // csrf token has changed.\n                        AntiCsrfToken.tokenInfo = undefined;\n                        return [4 /*yield*/, AntiCsrfToken.getToken(associatedAccessTokenUpdate)];\n                    case 3:\n                        return [2 /*return*/, _a.sent()];\n                    case 4:\n                        (0,\n                        logger_1.logDebugMessage)(\"AntiCsrfToken.getToken: returning: \" + AntiCsrfToken.tokenInfo.antiCsrf);\n                        return [2 /*return*/, AntiCsrfToken.tokenInfo.antiCsrf];\n                }\n            });\n        });\n    };\n    AntiCsrfToken.removeToken = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        (0, logger_1.logDebugMessage)(\"AntiCsrfToken.removeToken: called\");\n                        AntiCsrfToken.tokenInfo = undefined;\n                        return [4 /*yield*/, setAntiCSRF(undefined)];\n                    case 1:\n                        _a.sent();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    AntiCsrfToken.setItem = function (associatedAccessTokenUpdate, antiCsrf) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (associatedAccessTokenUpdate === undefined) {\n                            AntiCsrfToken.tokenInfo = undefined;\n                            return [2 /*return*/];\n                        }\n                        (0, logger_1.logDebugMessage)(\"AntiCsrfToken.setItem: called\");\n                        return [4 /*yield*/, setAntiCSRF(antiCsrf)];\n                    case 1:\n                        _a.sent();\n                        AntiCsrfToken.tokenInfo = {\n                            antiCsrf: antiCsrf,\n                            associatedAccessTokenUpdate: associatedAccessTokenUpdate\n                        };\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    return AntiCsrfToken;\n})();\nexports.AntiCsrfToken = AntiCsrfToken;\n// Note: We do not store this in memory because another tab may have\n// modified this value, and if so, we may not know about it in this tab\nvar FrontToken = /** @class */ (function () {\n    function FrontToken() {}\n    FrontToken.getTokenInfo = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var frontToken, response;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        (0, logger_1.logDebugMessage)(\"FrontToken.getTokenInfo: called\");\n                        return [4 /*yield*/, getFrontToken()];\n                    case 1:\n                        frontToken = _a.sent();\n                        if (!(frontToken === null)) return [3 /*break*/, 5];\n                        return [4 /*yield*/, getLocalSessionState(false)];\n                    case 2:\n                        if (!(_a.sent().status === \"EXISTS\")) return [3 /*break*/, 4];\n                        // this means that the id refresh token has been set, so we must\n                        // wait for this to be set or removed\n                        return [\n                            4 /*yield*/,\n                            new Promise(function (resolve) {\n                                FrontToken.waiters.push(resolve);\n                            })\n                        ];\n                    case 3:\n                        // this means that the id refresh token has been set, so we must\n                        // wait for this to be set or removed\n                        _a.sent();\n                        return [2 /*return*/, FrontToken.getTokenInfo()];\n                    case 4:\n                        return [2 /*return*/, undefined];\n                    case 5:\n                        response = parseFrontToken(frontToken);\n                        (0, logger_1.logDebugMessage)(\"FrontToken.getTokenInfo: returning ate: \" + response.ate);\n                        (0, logger_1.logDebugMessage)(\"FrontToken.getTokenInfo: returning uid: \" + response.uid);\n                        (0, logger_1.logDebugMessage)(\"FrontToken.getTokenInfo: returning up: \" + response.up);\n                        return [2 /*return*/, response];\n                }\n            });\n        });\n    };\n    FrontToken.removeToken = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        (0, logger_1.logDebugMessage)(\"FrontToken.removeToken: called\");\n                        return [4 /*yield*/, setFrontToken(undefined)];\n                    case 1:\n                        _a.sent();\n                        FrontToken.waiters.forEach(function (f) {\n                            return f(undefined);\n                        });\n                        FrontToken.waiters = [];\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    FrontToken.setItem = function (frontToken) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        // We update the refresh attempt info here as well, since this means that we've updated the session in some way\n                        // This could be both by a refresh call or if the access token was updated in a custom endpoint\n                        // By saving every time the access token has been updated, we cause an early retry if\n                        // another request has failed with a 401 with the previous access token and the token still exists.\n                        // Check the start and end of onUnauthorisedResponse\n                        // As a side-effect we reload the anti-csrf token to check if it was changed by another tab.\n                        return [4 /*yield*/, saveLastAccessTokenUpdate()];\n                    case 1:\n                        // We update the refresh attempt info here as well, since this means that we've updated the session in some way\n                        // This could be both by a refresh call or if the access token was updated in a custom endpoint\n                        // By saving every time the access token has been updated, we cause an early retry if\n                        // another request has failed with a 401 with the previous access token and the token still exists.\n                        // Check the start and end of onUnauthorisedResponse\n                        // As a side-effect we reload the anti-csrf token to check if it was changed by another tab.\n                        _a.sent();\n                        if (frontToken === \"remove\") {\n                            return [2 /*return*/, FrontToken.removeToken()];\n                        }\n                        (0, logger_1.logDebugMessage)(\"FrontToken.setItem: called\");\n                        return [4 /*yield*/, setFrontToken(frontToken)];\n                    case 2:\n                        _a.sent();\n                        FrontToken.waiters.forEach(function (f) {\n                            return f(undefined);\n                        });\n                        FrontToken.waiters = [];\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    FrontToken.doesTokenExists = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var frontToken;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        return [4 /*yield*/, getFrontTokenFromCookie()];\n                    case 1:\n                        frontToken = _a.sent();\n                        return [2 /*return*/, frontToken !== null];\n                }\n            });\n        });\n    };\n    // these are waiters for when the idRefreshToken has been set, but this token has\n    // not yet been set. Once this token is set or removed, the waiters are resolved.\n    FrontToken.waiters = [];\n    return FrontToken;\n})();\nexports.FrontToken = FrontToken;\n/**\n * @class AuthHttpRequest\n * @description wrapper for common http methods.\n */\nvar AuthHttpRequest = /** @class */ (function () {\n    function AuthHttpRequest() {}\n    AuthHttpRequest.init = function (config, recipeImpl) {\n        (0, logger_1.logDebugMessage)(\"init: called\");\n        (0, logger_1.logDebugMessage)(\"init: Input apiBasePath: \" + config.apiBasePath);\n        (0, logger_1.logDebugMessage)(\"init: Input apiDomain: \" + config.apiDomain);\n        (0, logger_1.logDebugMessage)(\"init: Input autoAddCredentials: \" + config.autoAddCredentials);\n        (0, logger_1.logDebugMessage)(\"init: Input sessionTokenBackendDomain: \" + config.sessionTokenBackendDomain);\n        (0, logger_1.logDebugMessage)(\"init: Input isInIframe: \" + config.isInIframe);\n        (0, logger_1.logDebugMessage)(\"init: Input sessionExpiredStatusCode: \" + config.sessionExpiredStatusCode);\n        (0, logger_1.logDebugMessage)(\"init: Input sessionTokenFrontendDomain: \" + config.sessionTokenFrontendDomain);\n        (0, logger_1.logDebugMessage)(\"init: Input tokenTransferMethod: \" + config.tokenTransferMethod);\n        var fetchedWindow = windowHandler_1.default.getReferenceOrThrow().windowHandler.getWindowUnsafe();\n        AuthHttpRequest.env = fetchedWindow === undefined || fetchedWindow.fetch === undefined ? __webpack_require__.g : fetchedWindow;\n        AuthHttpRequest.refreshTokenUrl = config.apiDomain + config.apiBasePath + \"/session/refresh\";\n        AuthHttpRequest.signOutUrl = config.apiDomain + config.apiBasePath + \"/signout\";\n        AuthHttpRequest.rid = \"session\";\n        AuthHttpRequest.config = config;\n        if (AuthHttpRequest.env.__supertokensOriginalFetch === undefined) {\n            (0, logger_1.logDebugMessage)(\"init: __supertokensOriginalFetch is undefined\");\n            // this block contains code that is run just once per page load..\n            // all items in this block are attached to the global env so that\n            // even if the init function is called more than once (maybe across JS scripts),\n            // things will not get created multiple times.\n            AuthHttpRequest.env.__supertokensOriginalFetch = AuthHttpRequest.env.fetch.bind(AuthHttpRequest.env);\n            AuthHttpRequest.env.__supertokensSessionRecipe = recipeImpl;\n            AuthHttpRequest.env.fetch =\n                AuthHttpRequest.env.__supertokensSessionRecipe.addFetchInterceptorsAndReturnModifiedFetch({\n                    originalFetch: AuthHttpRequest.env.__supertokensOriginalFetch,\n                    userContext: {}\n                });\n            AuthHttpRequest.env.__supertokensSessionRecipe.addXMLHttpRequestInterceptor({\n                userContext: {}\n            });\n        }\n        AuthHttpRequest.recipeImpl = AuthHttpRequest.env.__supertokensSessionRecipe;\n        AuthHttpRequest.initCalled = true;\n    };\n    var _a;\n    _a = AuthHttpRequest;\n    AuthHttpRequest.initCalled = false;\n    AuthHttpRequest.doRequest = function (httpCall, config, url) {\n        return __awaiter(void 0, void 0, void 0, function () {\n            var doNotDoInterception,\n                finalURL,\n                origHeaders,\n                accessToken,\n                returnObj,\n                preRequestLSS,\n                clonedHeaders,\n                configWithAntiCsrf,\n                antiCsrfToken,\n                transferMethod,\n                response,\n                retry,\n                postRequestIdToken;\n            return __generator(_a, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        if (!AuthHttpRequest.initCalled) {\n                            throw Error(\"init function not called\");\n                        }\n                        (0, logger_1.logDebugMessage)(\"doRequest: start of fetch interception\");\n                        doNotDoInterception = false;\n                        try {\n                            finalURL = void 0;\n                            if (typeof url === \"string\") {\n                                finalURL = url;\n                            } else if (typeof url === \"object\") {\n                                if (typeof url.url === \"string\") {\n                                    finalURL = url.url;\n                                } else if (typeof url.href === \"string\") {\n                                    finalURL = url.href;\n                                }\n                            }\n                            doNotDoInterception = !(0, utils_1.shouldDoInterceptionBasedOnUrl)(\n                                finalURL,\n                                AuthHttpRequest.config.apiDomain,\n                                AuthHttpRequest.config.sessionTokenBackendDomain\n                            );\n                        } catch (err) {\n                            if (err.message === \"Please provide a valid domain name\") {\n                                (0, logger_1.logDebugMessage)(\n                                    \"doRequest: Trying shouldDoInterceptionBasedOnUrl with location.origin\"\n                                );\n                                // .origin gives the port as well..\n                                doNotDoInterception = !(0, utils_1.shouldDoInterceptionBasedOnUrl)(\n                                    windowHandler_1.default.getReferenceOrThrow().windowHandler.location.getOrigin(),\n                                    AuthHttpRequest.config.apiDomain,\n                                    AuthHttpRequest.config.sessionTokenBackendDomain\n                                );\n                            } else {\n                                throw err;\n                            }\n                        }\n                        (0,\n                        logger_1.logDebugMessage)(\"doRequest: Value of doNotDoInterception: \" + doNotDoInterception);\n                        if (!doNotDoInterception) return [3 /*break*/, 2];\n                        (0, logger_1.logDebugMessage)(\"doRequest: Returning without interception\");\n                        return [4 /*yield*/, httpCall(config)];\n                    case 1:\n                        return [2 /*return*/, _b.sent()];\n                    case 2:\n                        origHeaders = new Headers(\n                            config !== undefined && config.headers !== undefined ? config.headers : url.headers\n                        );\n                        if (!origHeaders.has(\"Authorization\")) return [3 /*break*/, 4];\n                        return [4 /*yield*/, getTokenForHeaderAuth(\"access\")];\n                    case 3:\n                        accessToken = _b.sent();\n                        if (\n                            accessToken !== undefined &&\n                            origHeaders.get(\"Authorization\") === \"Bearer \".concat(accessToken)\n                        ) {\n                            // We are ignoring the Authorization header set by the user in this case, because it would cause issues\n                            // If we do not ignore this, then this header would be used even if the request is being retried after a refresh, even though it contains an outdated access token.\n                            // This causes an infinite refresh loop.\n                            (0, logger_1.logDebugMessage)(\n                                \"doRequest: Removing Authorization from user provided headers because it contains our access token\"\n                            );\n                            origHeaders.delete(\"Authorization\");\n                        }\n                        _b.label = 4;\n                    case 4:\n                        (0, logger_1.logDebugMessage)(\"doRequest: Interception started\");\n                        processState_1.ProcessState.getInstance().addState(\n                            processState_1.PROCESS_STATE.CALLING_INTERCEPTION_REQUEST\n                        );\n                        _b.label = 5;\n                    case 5:\n                        _b.trys.push([5, , 19, 24]);\n                        returnObj = undefined;\n                        _b.label = 6;\n                    case 6:\n                        if (false) {}\n                        return [4 /*yield*/, getLocalSessionState(true)];\n                    case 7:\n                        preRequestLSS = _b.sent();\n                        clonedHeaders = new Headers(origHeaders);\n                        configWithAntiCsrf = __assign(__assign({}, config), { headers: clonedHeaders });\n                        if (!(preRequestLSS.status === \"EXISTS\")) return [3 /*break*/, 9];\n                        return [4 /*yield*/, AntiCsrfToken.getToken(preRequestLSS.lastAccessTokenUpdate)];\n                    case 8:\n                        antiCsrfToken = _b.sent();\n                        if (antiCsrfToken !== undefined) {\n                            (0, logger_1.logDebugMessage)(\"doRequest: Adding anti-csrf token to request\");\n                            clonedHeaders.set(\"anti-csrf\", antiCsrfToken);\n                        }\n                        _b.label = 9;\n                    case 9:\n                        if (AuthHttpRequest.config.autoAddCredentials) {\n                            (0, logger_1.logDebugMessage)(\"doRequest: Adding credentials include\");\n                            if (configWithAntiCsrf === undefined) {\n                                configWithAntiCsrf = {\n                                    credentials: \"include\"\n                                };\n                            } else if (configWithAntiCsrf.credentials === undefined) {\n                                configWithAntiCsrf = __assign(__assign({}, configWithAntiCsrf), {\n                                    credentials: \"include\"\n                                });\n                            }\n                        }\n                        // adding rid for anti-csrf protection: Anti-csrf via custom header\n                        if (!clonedHeaders.has(\"rid\")) {\n                            (0, logger_1.logDebugMessage)(\"doRequest: Adding rid header: anti-csrf\");\n                            clonedHeaders.set(\"rid\", \"anti-csrf\");\n                        } else {\n                            (0, logger_1.logDebugMessage)(\"doRequest: rid header was already there in request\");\n                        }\n                        transferMethod = AuthHttpRequest.config.tokenTransferMethod;\n                        (0, logger_1.logDebugMessage)(\"doRequest: Adding st-auth-mode header: \" + transferMethod);\n                        clonedHeaders.set(\"st-auth-mode\", transferMethod);\n                        return [4 /*yield*/, setAuthorizationHeaderIfRequired(clonedHeaders)];\n                    case 10:\n                        _b.sent();\n                        (0, logger_1.logDebugMessage)(\"doRequest: Making user's http call\");\n                        return [4 /*yield*/, httpCall(configWithAntiCsrf)];\n                    case 11:\n                        response = _b.sent();\n                        (0, logger_1.logDebugMessage)(\"doRequest: User's http call ended\");\n                        return [4 /*yield*/, saveTokensFromHeaders(response)];\n                    case 12:\n                        _b.sent();\n                        fireSessionUpdateEventsIfNecessary(\n                            preRequestLSS.status === \"EXISTS\",\n                            response.status,\n                            response.headers.get(\"front-token\")\n                        );\n                        if (!(response.status === AuthHttpRequest.config.sessionExpiredStatusCode))\n                            return [3 /*break*/, 14];\n                        (0, logger_1.logDebugMessage)(\"doRequest: Status code is: \" + response.status);\n                        return [4 /*yield*/, onUnauthorisedResponse(preRequestLSS)];\n                    case 13:\n                        retry = _b.sent();\n                        if (retry.result !== \"RETRY\") {\n                            (0, logger_1.logDebugMessage)(\"doRequest: Not retrying original request\");\n                            returnObj = retry.error !== undefined ? retry.error : response;\n                            return [3 /*break*/, 18];\n                        }\n                        (0, logger_1.logDebugMessage)(\"doRequest: Retrying original request\");\n                        return [3 /*break*/, 17];\n                    case 14:\n                        if (!(response.status === AuthHttpRequest.config.invalidClaimStatusCode))\n                            return [3 /*break*/, 16];\n                        return [4 /*yield*/, onInvalidClaimResponse(response)];\n                    case 15:\n                        _b.sent();\n                        _b.label = 16;\n                    case 16:\n                        return [2 /*return*/, response];\n                    case 17:\n                        return [3 /*break*/, 6];\n                    case 18:\n                        // if it comes here, means we breaked. which happens only if we have logged out.\n                        return [2 /*return*/, returnObj];\n                    case 19:\n                        return [4 /*yield*/, getLocalSessionState(false)];\n                    case 20:\n                        postRequestIdToken = _b.sent();\n                        if (!(postRequestIdToken.status === \"NOT_EXISTS\")) return [3 /*break*/, 23];\n                        (0,\n                        logger_1.logDebugMessage)(\"doRequest: local session doesn't exist, so removing anti-csrf and sFrontToken\");\n                        return [4 /*yield*/, AntiCsrfToken.removeToken()];\n                    case 21:\n                        _b.sent();\n                        return [4 /*yield*/, FrontToken.removeToken()];\n                    case 22:\n                        _b.sent();\n                        _b.label = 23;\n                    case 23:\n                        return [7 /*endfinally*/];\n                    case 24:\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    AuthHttpRequest.attemptRefreshingSession = function () {\n        return __awaiter(void 0, void 0, void 0, function () {\n            var preRequestLSS, refresh;\n            return __generator(_a, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        if (!AuthHttpRequest.initCalled) {\n                            throw Error(\"init function not called\");\n                        }\n                        return [4 /*yield*/, getLocalSessionState(false)];\n                    case 1:\n                        preRequestLSS = _b.sent();\n                        return [4 /*yield*/, onUnauthorisedResponse(preRequestLSS)];\n                    case 2:\n                        refresh = _b.sent();\n                        if (refresh.result === \"API_ERROR\") {\n                            throw refresh.error;\n                        }\n                        return [2 /*return*/, refresh.result === \"RETRY\"];\n                }\n            });\n        });\n    };\n    return AuthHttpRequest;\n})();\nexports[\"default\"] = AuthHttpRequest;\nvar LAST_ACCESS_TOKEN_UPDATE = \"st-last-access-token-update\";\nvar REFRESH_TOKEN_NAME = \"st-refresh-token\";\nvar ACCESS_TOKEN_NAME = \"st-access-token\";\nvar ANTI_CSRF_NAME = \"sAntiCsrf\";\nvar FRONT_TOKEN_NAME = \"sFrontToken\";\n/**\n * @description attempts to call the refresh token API each time we are sure the session has expired, or it throws an error or,\n * or the ID_COOKIE_NAME has changed value -> which may mean that we have a new set of tokens.\n */\nfunction onUnauthorisedResponse(preRequestLSS) {\n    return __awaiter(this, void 0, void 0, function () {\n        var lock,\n            postLockLSS,\n            headers,\n            antiCsrfToken,\n            transferMethod,\n            preAPIResult,\n            response,\n            isUnauthorised,\n            error_1,\n            postRequestLSS;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    return [4 /*yield*/, lockFactory_1.default.getReferenceOrThrow().lockFactory()];\n                case 1:\n                    lock = _b.sent();\n                    _b.label = 2;\n                case 2:\n                    if (false) {}\n                    (0, logger_1.logDebugMessage)(\"onUnauthorisedResponse: trying to acquire lock\");\n                    return [4 /*yield*/, lock.acquireLock(\"REFRESH_TOKEN_USE\", 1000)];\n                case 3:\n                    if (!_b.sent()) return [3 /*break*/, 22];\n                    (0, logger_1.logDebugMessage)(\"onUnauthorisedResponse: lock acquired\");\n                    _b.label = 4;\n                case 4:\n                    _b.trys.push([4, 14, 16, 22]);\n                    return [4 /*yield*/, getLocalSessionState(false)];\n                case 5:\n                    postLockLSS = _b.sent();\n                    if (postLockLSS.status === \"NOT_EXISTS\") {\n                        (0, logger_1.logDebugMessage)(\n                            \"onUnauthorisedResponse: Not refreshing because local session state is NOT_EXISTS\"\n                        );\n                        // if it comes here, it means a request was made thinking\n                        // that the session exists, but it doesn't actually exist.\n                        AuthHttpRequest.config.onHandleEvent({\n                            action: \"UNAUTHORISED\",\n                            sessionExpiredOrRevoked: false,\n                            userContext: {}\n                        });\n                        return [2 /*return*/, { result: \"SESSION_EXPIRED\" }];\n                    }\n                    if (\n                        postLockLSS.status !== preRequestLSS.status ||\n                        (postLockLSS.status === \"EXISTS\" &&\n                            preRequestLSS.status === \"EXISTS\" &&\n                            postLockLSS.lastAccessTokenUpdate !== preRequestLSS.lastAccessTokenUpdate)\n                    ) {\n                        (0, logger_1.logDebugMessage)(\n                            \"onUnauthorisedResponse: Retrying early because pre and post id refresh tokens don't match\"\n                        );\n                        // means that some other process has already called this API and succeeded. so we need to call it again\n                        return [2 /*return*/, { result: \"RETRY\" }];\n                    }\n                    headers = new Headers();\n                    if (!(preRequestLSS.status === \"EXISTS\")) return [3 /*break*/, 7];\n                    return [4 /*yield*/, AntiCsrfToken.getToken(preRequestLSS.lastAccessTokenUpdate)];\n                case 6:\n                    antiCsrfToken = _b.sent();\n                    if (antiCsrfToken !== undefined) {\n                        (0, logger_1.logDebugMessage)(\n                            \"onUnauthorisedResponse: Adding anti-csrf token to refresh API call\"\n                        );\n                        headers.set(\"anti-csrf\", antiCsrfToken);\n                    }\n                    _b.label = 7;\n                case 7:\n                    (0,\n                    logger_1.logDebugMessage)(\"onUnauthorisedResponse: Adding rid and fdi-versions to refresh call header\");\n                    headers.set(\"rid\", AuthHttpRequest.rid);\n                    headers.set(\"fdi-version\", version_1.supported_fdi.join(\",\"));\n                    transferMethod = AuthHttpRequest.config.tokenTransferMethod;\n                    (0,\n                    logger_1.logDebugMessage)(\"onUnauthorisedResponse: Adding st-auth-mode header: \" + transferMethod);\n                    headers.set(\"st-auth-mode\", transferMethod);\n                    return [4 /*yield*/, setAuthorizationHeaderIfRequired(headers, true)];\n                case 8:\n                    _b.sent();\n                    (0, logger_1.logDebugMessage)(\"onUnauthorisedResponse: Calling refresh pre API hook\");\n                    return [\n                        4 /*yield*/,\n                        AuthHttpRequest.config.preAPIHook({\n                            action: \"REFRESH_SESSION\",\n                            requestInit: {\n                                method: \"post\",\n                                credentials: \"include\",\n                                headers: headers\n                            },\n                            url: AuthHttpRequest.refreshTokenUrl,\n                            userContext: {}\n                        })\n                    ];\n                case 9:\n                    preAPIResult = _b.sent();\n                    (0, logger_1.logDebugMessage)(\"onUnauthorisedResponse: Making refresh call\");\n                    return [\n                        4 /*yield*/,\n                        AuthHttpRequest.env.__supertokensOriginalFetch(preAPIResult.url, preAPIResult.requestInit)\n                    ];\n                case 10:\n                    response = _b.sent();\n                    (0, logger_1.logDebugMessage)(\"onUnauthorisedResponse: Refresh call ended\");\n                    return [4 /*yield*/, saveTokensFromHeaders(response)];\n                case 11:\n                    _b.sent();\n                    (0, logger_1.logDebugMessage)(\"onUnauthorisedResponse: Refresh status code is: \" + response.status);\n                    isUnauthorised = response.status === AuthHttpRequest.config.sessionExpiredStatusCode;\n                    // There is a case where the FE thinks the session is valid, but backend doesn't get the tokens.\n                    // In this event, session expired error will be thrown and the frontend should remove this token\n                    if (isUnauthorised && response.headers.get(\"front-token\") === null) {\n                        FrontToken.setItem(\"remove\");\n                    }\n                    fireSessionUpdateEventsIfNecessary(\n                        preRequestLSS.status === \"EXISTS\",\n                        response.status,\n                        isUnauthorised && response.headers.get(\"front-token\") === null\n                            ? \"remove\"\n                            : response.headers.get(\"front-token\")\n                    );\n                    if (response.status >= 300) {\n                        throw response;\n                    }\n                    return [\n                        4 /*yield*/,\n                        AuthHttpRequest.config.postAPIHook({\n                            action: \"REFRESH_SESSION\",\n                            fetchResponse: response.clone(),\n                            requestInit: preAPIResult.requestInit,\n                            url: preAPIResult.url,\n                            userContext: {}\n                        })\n                    ];\n                case 12:\n                    _b.sent();\n                    return [4 /*yield*/, getLocalSessionState(false)];\n                case 13:\n                    if (_b.sent().status === \"NOT_EXISTS\") {\n                        (0, logger_1.logDebugMessage)(\n                            \"onUnauthorisedResponse: local session doesn't exist, so returning session expired\"\n                        );\n                        // The execution should never come here.. but just in case.\n                        // removed by server during refresh. So we logout\n                        // we do not send \"UNAUTHORISED\" event here because\n                        // this is a result of the refresh API returning a session expiry, which\n                        // means that the frontend did not know for sure that the session existed\n                        // in the first place.\n                        return [2 /*return*/, { result: \"SESSION_EXPIRED\" }];\n                    }\n                    AuthHttpRequest.config.onHandleEvent({\n                        action: \"REFRESH_SESSION\",\n                        userContext: {}\n                    });\n                    (0, logger_1.logDebugMessage)(\"onUnauthorisedResponse: Sending RETRY signal\");\n                    return [2 /*return*/, { result: \"RETRY\" }];\n                case 14:\n                    error_1 = _b.sent();\n                    return [4 /*yield*/, getLocalSessionState(false)];\n                case 15:\n                    if (_b.sent().status === \"NOT_EXISTS\") {\n                        (0, logger_1.logDebugMessage)(\n                            \"onUnauthorisedResponse: local session doesn't exist, so returning session expired\"\n                        );\n                        // removed by server.\n                        // we do not send \"UNAUTHORISED\" event here because\n                        // this is a result of the refresh API returning a session expiry, which\n                        // means that the frontend did not know for sure that the session existed\n                        // in the first place.\n                        return [2 /*return*/, { result: \"SESSION_EXPIRED\", error: error_1 }];\n                    }\n                    (0, logger_1.logDebugMessage)(\"onUnauthorisedResponse: sending API_ERROR\");\n                    return [2 /*return*/, { result: \"API_ERROR\", error: error_1 }];\n                case 16:\n                    return [4 /*yield*/, lock.releaseLock(\"REFRESH_TOKEN_USE\")];\n                case 17:\n                    _b.sent();\n                    (0, logger_1.logDebugMessage)(\"onUnauthorisedResponse: Released lock\");\n                    return [4 /*yield*/, getLocalSessionState(false)];\n                case 18:\n                    if (!(_b.sent().status === \"NOT_EXISTS\")) return [3 /*break*/, 21];\n                    (0,\n                    logger_1.logDebugMessage)(\"onUnauthorisedResponse: local session doesn't exist, so removing anti-csrf and sFrontToken\");\n                    return [4 /*yield*/, AntiCsrfToken.removeToken()];\n                case 19:\n                    _b.sent();\n                    return [4 /*yield*/, FrontToken.removeToken()];\n                case 20:\n                    _b.sent();\n                    _b.label = 21;\n                case 21:\n                    return [7 /*endfinally*/];\n                case 22:\n                    return [4 /*yield*/, getLocalSessionState(false)];\n                case 23:\n                    postRequestLSS = _b.sent();\n                    if (postRequestLSS.status === \"NOT_EXISTS\") {\n                        (0, logger_1.logDebugMessage)(\n                            \"onUnauthorisedResponse: lock acquired failed and local session doesn't exist, so sending SESSION_EXPIRED\"\n                        );\n                        // removed by server. So we logout\n                        return [2 /*return*/, { result: \"SESSION_EXPIRED\" }];\n                    } else {\n                        if (\n                            postRequestLSS.status !== preRequestLSS.status ||\n                            (postRequestLSS.status === \"EXISTS\" &&\n                                preRequestLSS.status === \"EXISTS\" &&\n                                postRequestLSS.lastAccessTokenUpdate !== preRequestLSS.lastAccessTokenUpdate)\n                        ) {\n                            (0, logger_1.logDebugMessage)(\n                                \"onUnauthorisedResponse: lock acquired failed and retrying early because pre and post id refresh tokens don't match\"\n                            );\n                            return [2 /*return*/, { result: \"RETRY\" }];\n                        }\n                        // here we try to call the API again since we probably failed to acquire lock and nothing has changed.\n                    }\n                    return [3 /*break*/, 2];\n                case 24:\n                    return [2 /*return*/];\n            }\n        });\n    });\n}\nexports.onUnauthorisedResponse = onUnauthorisedResponse;\nfunction onTokenUpdate() {\n    (0, logger_1.logDebugMessage)(\"onTokenUpdate: firing ACCESS_TOKEN_PAYLOAD_UPDATED event\");\n    AuthHttpRequest.config.onHandleEvent({\n        action: \"ACCESS_TOKEN_PAYLOAD_UPDATED\",\n        userContext: {}\n    });\n}\nexports.onTokenUpdate = onTokenUpdate;\nfunction onInvalidClaimResponse(response) {\n    return __awaiter(this, void 0, void 0, function () {\n        var claimValidationErrors, _b;\n        return __generator(this, function (_c) {\n            switch (_c.label) {\n                case 0:\n                    _c.trys.push([0, 2, , 3]);\n                    return [\n                        4 /*yield*/,\n                        AuthHttpRequest.recipeImpl.getInvalidClaimsFromResponse({\n                            response: response,\n                            userContext: {}\n                        })\n                    ];\n                case 1:\n                    claimValidationErrors = _c.sent();\n                    // This shouldn't be undefined normally, but since we can't be certain about the shape of the response object so we check it like this.\n                    // It could still be something else, but chance of that happening by accident is really low.\n                    if (claimValidationErrors) {\n                        AuthHttpRequest.config.onHandleEvent({\n                            action: \"API_INVALID_CLAIM\",\n                            claimValidationErrors: claimValidationErrors,\n                            userContext: {}\n                        });\n                    }\n                    return [3 /*break*/, 3];\n                case 2:\n                    _b = _c.sent();\n                    return [3 /*break*/, 3];\n                case 3:\n                    return [2 /*return*/];\n            }\n        });\n    });\n}\nexports.onInvalidClaimResponse = onInvalidClaimResponse;\n// if tryRefresh is true & this token doesn't exist, we try and refresh the session\n// else we return undefined.\nfunction getLocalSessionState(tryRefresh) {\n    return __awaiter(this, void 0, void 0, function () {\n        var lastAccessTokenUpdate, frontTokenExists, response, res;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    (0, logger_1.logDebugMessage)(\"getLocalSessionState: called\");\n                    return [4 /*yield*/, getFromCookies(LAST_ACCESS_TOKEN_UPDATE)];\n                case 1:\n                    lastAccessTokenUpdate = _b.sent();\n                    return [4 /*yield*/, FrontToken.doesTokenExists()];\n                case 2:\n                    frontTokenExists = _b.sent();\n                    if (!(frontTokenExists && lastAccessTokenUpdate !== undefined)) return [3 /*break*/, 3];\n                    (0,\n                    logger_1.logDebugMessage)(\"getLocalSessionState: returning EXISTS since both frontToken and lastAccessTokenUpdate exists\");\n                    return [2 /*return*/, { status: \"EXISTS\", lastAccessTokenUpdate: lastAccessTokenUpdate }];\n                case 3:\n                    if (!lastAccessTokenUpdate) return [3 /*break*/, 4];\n                    (0,\n                    logger_1.logDebugMessage)(\"getLocalSessionState: returning NOT_EXISTS since frontToken was cleared but lastAccessTokenUpdate exists\");\n                    return [2 /*return*/, { status: \"NOT_EXISTS\" }];\n                case 4:\n                    response = {\n                        status: \"MAY_EXIST\"\n                    };\n                    if (!tryRefresh) return [3 /*break*/, 7];\n                    (0, logger_1.logDebugMessage)(\"getLocalSessionState: trying to refresh\");\n                    return [4 /*yield*/, onUnauthorisedResponse(response)];\n                case 5:\n                    res = _b.sent();\n                    if (res.result !== \"RETRY\") {\n                        (0, logger_1.logDebugMessage)(\n                            \"getLocalSessionState: return NOT_EXISTS in case error from backend\" + res.result\n                        );\n                        // in case the backend is not working, we treat it as the session not existing...\n                        return [\n                            2 /*return*/,\n                            {\n                                status: \"NOT_EXISTS\"\n                            }\n                        ];\n                    }\n                    (0, logger_1.logDebugMessage)(\"getLocalSessionState: Retrying post refresh\");\n                    return [4 /*yield*/, getLocalSessionState(tryRefresh)];\n                case 6:\n                    return [2 /*return*/, _b.sent()];\n                case 7:\n                    (0, logger_1.logDebugMessage)(\"getLocalSessionState: returning: \" + response.status);\n                    return [2 /*return*/, response];\n            }\n        });\n    });\n}\nexports.getLocalSessionState = getLocalSessionState;\nfunction getStorageNameForToken(tokenType) {\n    switch (tokenType) {\n        case \"access\":\n            return ACCESS_TOKEN_NAME;\n        case \"refresh\":\n            return REFRESH_TOKEN_NAME;\n    }\n}\nexports.getStorageNameForToken = getStorageNameForToken;\nfunction setToken(tokenType, value) {\n    var name = getStorageNameForToken(tokenType);\n    if (value !== \"\") {\n        (0, logger_1.logDebugMessage)(\"setToken: saved \".concat(tokenType, \" token into cookies\"));\n        // We save the tokens with a 100-year expiration time\n        return storeInCookies(name, value, Date.now() + 3153600000);\n    } else {\n        (0, logger_1.logDebugMessage)(\"setToken: cleared \".concat(tokenType, \" token from cookies\"));\n        return storeInCookies(name, value, 0);\n    }\n}\nexports.setToken = setToken;\nfunction storeInCookies(name, value, expiry) {\n    var expires = \"Fri, 31 Dec 9999 23:59:59 GMT\";\n    if (expiry !== Number.MAX_SAFE_INTEGER) {\n        // We should respect the storage expirations set by the backend, even though tokens will also be checked elsewhere.\n        // We check them locally in case of front-token, and on the backend enforces the validity period for access and refresh tokens.\n        expires = new Date(expiry).toUTCString();\n    }\n    var domain = AuthHttpRequest.config.sessionTokenFrontendDomain;\n    if (\n        domain === \"localhost\" ||\n        domain === windowHandler_1.default.getReferenceOrThrow().windowHandler.location.getHostName()\n    ) {\n        // since some browsers ignore cookies with domain set to localhost\n        // see https://github.com/supertokens/supertokens-website/issues/25\n        return cookieHandler_1.default.getReferenceOrThrow().cookieHandler.setCookie(\n            \"\"\n                .concat(name, \"=\")\n                .concat(value, \";expires=\")\n                .concat(expires, \";path=/;samesite=\")\n                .concat(AuthHttpRequest.config.isInIframe ? \"none;secure\" : \"lax\")\n        );\n    } else {\n        return cookieHandler_1.default.getReferenceOrThrow().cookieHandler.setCookie(\n            \"\"\n                .concat(name, \"=\")\n                .concat(value, \";expires=\")\n                .concat(expires, \";domain=\")\n                .concat(domain, \";path=/;samesite=\")\n                .concat(AuthHttpRequest.config.isInIframe ? \"none;secure\" : \"lax\")\n        );\n    }\n}\nfunction getTokenForHeaderAuth(tokenType) {\n    return __awaiter(this, void 0, void 0, function () {\n        var name;\n        return __generator(this, function (_b) {\n            name = getStorageNameForToken(tokenType);\n            return [2 /*return*/, getFromCookies(name)];\n        });\n    });\n}\nexports.getTokenForHeaderAuth = getTokenForHeaderAuth;\nfunction getFromCookies(name) {\n    return __awaiter(this, void 0, void 0, function () {\n        var value, _b, parts, last;\n        return __generator(this, function (_c) {\n            switch (_c.label) {\n                case 0:\n                    _b = \"; \";\n                    return [4 /*yield*/, cookieHandler_1.default.getReferenceOrThrow().cookieHandler.getCookie()];\n                case 1:\n                    value = _b + _c.sent();\n                    parts = value.split(\"; \" + name + \"=\");\n                    if (parts.length >= 2) {\n                        last = parts.pop();\n                        if (last !== undefined) {\n                            return [2 /*return*/, last.split(\";\").shift()];\n                        }\n                    }\n                    return [2 /*return*/, undefined];\n            }\n        });\n    });\n}\nfunction setAuthorizationHeaderIfRequired(clonedHeaders, addRefreshToken) {\n    if (addRefreshToken === void 0) {\n        addRefreshToken = false;\n    }\n    return __awaiter(this, void 0, void 0, function () {\n        var accessToken, refreshToken;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    (0, logger_1.logDebugMessage)(\"setTokenHeaders: adding existing tokens as header\");\n                    return [4 /*yield*/, getTokenForHeaderAuth(\"access\")];\n                case 1:\n                    accessToken = _b.sent();\n                    return [4 /*yield*/, getTokenForHeaderAuth(\"refresh\")];\n                case 2:\n                    refreshToken = _b.sent();\n                    // We don't always need the refresh token because that's only required by the refresh call\n                    // Still, we only add the access token to Authorization header if both are present, because we are planning to add an option to expose the\n                    // access token to the frontend while using cookie based auth - so that users can get the access token without using header based auth\n                    // We can add the refresh token even if only that one is present, to make manual testing easier - you can then\n                    // force a refresh by just deleting the access token.\n                    if ((addRefreshToken || accessToken !== undefined) && refreshToken !== undefined) {\n                        // the Headers class normalizes header names so we don't have to worry about casing\n                        if (clonedHeaders.has(\"Authorization\")) {\n                            (0, logger_1.logDebugMessage)(\n                                \"setAuthorizationHeaderIfRequired: Authorization header defined by the user, not adding\"\n                            );\n                        } else {\n                            (0, logger_1.logDebugMessage)(\n                                \"setAuthorizationHeaderIfRequired: added authorization header\"\n                            );\n                            clonedHeaders.set(\n                                \"Authorization\",\n                                \"Bearer \".concat(addRefreshToken ? refreshToken : accessToken)\n                            );\n                        }\n                    } else {\n                        (0, logger_1.logDebugMessage)(\n                            \"setAuthorizationHeaderIfRequired: token for header based auth not found\"\n                        );\n                    }\n                    return [2 /*return*/];\n            }\n        });\n    });\n}\nfunction saveTokensFromHeaders(response) {\n    return __awaiter(this, void 0, void 0, function () {\n        var refreshToken, accessToken, frontToken, antiCsrfToken, tok;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    (0,\n                    logger_1.logDebugMessage)(\"saveTokensFromHeaders: Saving updated tokens from the response headers\");\n                    refreshToken = response.headers.get(\"st-refresh-token\");\n                    if (!(refreshToken !== null)) return [3 /*break*/, 2];\n                    (0, logger_1.logDebugMessage)(\"saveTokensFromHeaders: saving new refresh token\");\n                    return [4 /*yield*/, setToken(\"refresh\", refreshToken)];\n                case 1:\n                    _b.sent();\n                    _b.label = 2;\n                case 2:\n                    accessToken = response.headers.get(\"st-access-token\");\n                    if (!(accessToken !== null)) return [3 /*break*/, 4];\n                    (0, logger_1.logDebugMessage)(\"saveTokensFromHeaders: saving new access token\");\n                    return [4 /*yield*/, setToken(\"access\", accessToken)];\n                case 3:\n                    _b.sent();\n                    _b.label = 4;\n                case 4:\n                    frontToken = response.headers.get(\"front-token\");\n                    if (!(frontToken !== null)) return [3 /*break*/, 6];\n                    (0, logger_1.logDebugMessage)(\"saveTokensFromHeaders: Setting sFrontToken: \" + frontToken);\n                    return [4 /*yield*/, FrontToken.setItem(frontToken)];\n                case 5:\n                    _b.sent();\n                    _b.label = 6;\n                case 6:\n                    antiCsrfToken = response.headers.get(\"anti-csrf\");\n                    if (!(antiCsrfToken !== null)) return [3 /*break*/, 9];\n                    return [4 /*yield*/, getLocalSessionState(true)];\n                case 7:\n                    tok = _b.sent();\n                    if (!(tok.status === \"EXISTS\")) return [3 /*break*/, 9];\n                    (0, logger_1.logDebugMessage)(\"saveTokensFromHeaders: Setting anti-csrf token\");\n                    return [4 /*yield*/, AntiCsrfToken.setItem(tok.lastAccessTokenUpdate, antiCsrfToken)];\n                case 8:\n                    _b.sent();\n                    _b.label = 9;\n                case 9:\n                    return [2 /*return*/];\n            }\n        });\n    });\n}\nfunction saveLastAccessTokenUpdate() {\n    return __awaiter(this, void 0, void 0, function () {\n        var now;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    (0, logger_1.logDebugMessage)(\"saveLastAccessTokenUpdate: called\");\n                    now = Date.now().toString();\n                    (0, logger_1.logDebugMessage)(\"saveLastAccessTokenUpdate: setting \" + now);\n                    return [4 /*yield*/, storeInCookies(LAST_ACCESS_TOKEN_UPDATE, now, Number.MAX_SAFE_INTEGER)];\n                case 1:\n                    _b.sent();\n                    // We clear the sIRTFrontend cookie\n                    // We are handling this as a special case here because we want to limit the scope of legacy code\n                    return [4 /*yield*/, storeInCookies(\"sIRTFrontend\", \"\", 0)];\n                case 2:\n                    // We clear the sIRTFrontend cookie\n                    // We are handling this as a special case here because we want to limit the scope of legacy code\n                    _b.sent();\n                    return [2 /*return*/];\n            }\n        });\n    });\n}\nexports.saveLastAccessTokenUpdate = saveLastAccessTokenUpdate;\nfunction getAntiCSRFToken() {\n    return __awaiter(this, void 0, void 0, function () {\n        function getAntiCSRFromCookie() {\n            return __awaiter(this, void 0, void 0, function () {\n                var value, _b, parts, last, temp;\n                return __generator(this, function (_c) {\n                    switch (_c.label) {\n                        case 0:\n                            _b = \"; \";\n                            return [\n                                4 /*yield*/,\n                                cookieHandler_1.default.getReferenceOrThrow().cookieHandler.getCookie()\n                            ];\n                        case 1:\n                            value = _b + _c.sent();\n                            parts = value.split(\"; \" + ANTI_CSRF_NAME + \"=\");\n                            if (parts.length >= 2) {\n                                last = parts.pop();\n                                if (last !== undefined) {\n                                    temp = last.split(\";\").shift();\n                                    if (temp === undefined) {\n                                        return [2 /*return*/, null];\n                                    }\n                                    return [2 /*return*/, temp];\n                                }\n                            }\n                            return [2 /*return*/, null];\n                    }\n                });\n            });\n        }\n        var fromCookie;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    (0, logger_1.logDebugMessage)(\"getAntiCSRFToken: called\");\n                    return [4 /*yield*/, getLocalSessionState(true)];\n                case 1:\n                    // we do not call doesSessionExist here cause the user might override that\n                    // function here and then it may break the logic of our original implementation.\n                    if (!(_b.sent().status === \"EXISTS\")) {\n                        (0, logger_1.logDebugMessage)(\n                            \"getAntiCSRFToken: Returning because local session state != EXISTS\"\n                        );\n                        return [2 /*return*/, null];\n                    }\n                    return [4 /*yield*/, getAntiCSRFromCookie()];\n                case 2:\n                    fromCookie = _b.sent();\n                    (0, logger_1.logDebugMessage)(\"getAntiCSRFToken: returning: \" + fromCookie);\n                    return [2 /*return*/, fromCookie];\n            }\n        });\n    });\n}\n// give antiCSRFToken as undefined to remove it.\nfunction setAntiCSRF(antiCSRFToken) {\n    return __awaiter(this, void 0, void 0, function () {\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    (0, logger_1.logDebugMessage)(\"setAntiCSRF: called: \" + antiCSRFToken);\n                    if (!(antiCSRFToken !== undefined)) return [3 /*break*/, 2];\n                    return [4 /*yield*/, storeInCookies(ANTI_CSRF_NAME, antiCSRFToken, Number.MAX_SAFE_INTEGER)];\n                case 1:\n                    _b.sent();\n                    return [3 /*break*/, 4];\n                case 2:\n                    return [4 /*yield*/, storeInCookies(ANTI_CSRF_NAME, \"\", 0)];\n                case 3:\n                    _b.sent();\n                    _b.label = 4;\n                case 4:\n                    return [2 /*return*/];\n            }\n        });\n    });\n}\nexports.setAntiCSRF = setAntiCSRF;\nfunction getFrontTokenFromCookie() {\n    return __awaiter(this, void 0, void 0, function () {\n        var val;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    (0, logger_1.logDebugMessage)(\"getFrontTokenFromCookie: called\");\n                    return [4 /*yield*/, getFromCookies(FRONT_TOKEN_NAME)];\n                case 1:\n                    val = _b.sent();\n                    return [2 /*return*/, val === undefined ? null : val];\n            }\n        });\n    });\n}\nfunction parseFrontToken(frontToken) {\n    return JSON.parse(decodeURIComponent(escape(atob(frontToken))));\n}\nfunction getFrontToken() {\n    return __awaiter(this, void 0, void 0, function () {\n        var fromCookie;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    (0, logger_1.logDebugMessage)(\"getFrontToken: called\");\n                    return [4 /*yield*/, getLocalSessionState(true)];\n                case 1:\n                    // we do not call doesSessionExist here because that directly calls this function.\n                    if (!(_b.sent().status === \"EXISTS\")) {\n                        (0, logger_1.logDebugMessage)(\"getFrontToken: Returning because sIRTFrontend != EXISTS\");\n                        return [2 /*return*/, null];\n                    }\n                    return [4 /*yield*/, getFrontTokenFromCookie()];\n                case 2:\n                    fromCookie = _b.sent();\n                    (0, logger_1.logDebugMessage)(\"getFrontToken: returning: \" + fromCookie);\n                    return [2 /*return*/, fromCookie];\n            }\n        });\n    });\n}\nexports.getFrontToken = getFrontToken;\nfunction setFrontToken(frontToken) {\n    return __awaiter(this, void 0, void 0, function () {\n        var oldToken, oldPayload, newPayload;\n        return __generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    (0, logger_1.logDebugMessage)(\"setFrontToken: called\");\n                    return [4 /*yield*/, getFrontTokenFromCookie()];\n                case 1:\n                    oldToken = _b.sent();\n                    if (oldToken !== null && frontToken !== undefined) {\n                        oldPayload = parseFrontToken(oldToken).up;\n                        newPayload = parseFrontToken(frontToken).up;\n                        if (JSON.stringify(oldPayload) !== JSON.stringify(newPayload)) {\n                            onTokenUpdate();\n                        }\n                    }\n                    if (!(frontToken === undefined)) return [3 /*break*/, 3];\n                    // clear the cookie\n                    return [4 /*yield*/, storeInCookies(FRONT_TOKEN_NAME, \"\", 0)];\n                case 2:\n                    // clear the cookie\n                    _b.sent();\n                    return [3 /*break*/, 5];\n                case 3:\n                    return [4 /*yield*/, storeInCookies(FRONT_TOKEN_NAME, frontToken, Number.MAX_SAFE_INTEGER)];\n                case 4:\n                    _b.sent();\n                    _b.label = 5;\n                case 5:\n                    return [2 /*return*/];\n            }\n        });\n    });\n}\nexports.setFrontToken = setFrontToken;\nfunction fireSessionUpdateEventsIfNecessary(wasLoggedIn, status, frontTokenHeaderFromResponse) {\n    // In case we've received a 401 that didn't clear the session (e.g.: we've sent no session token, or we should try refreshing)\n    // then onUnauthorised will handle firing the UNAUTHORISED event if necessary\n    // In some rare cases (where we receive a 401 that also clears the session) this will fire the event twice.\n    // This may be considered a bug, but it is the existing behaviour before the rework\n    if (frontTokenHeaderFromResponse === undefined || frontTokenHeaderFromResponse === null) {\n        // The access token (and the session) hasn't been updated.\n        (0, logger_1.logDebugMessage)(\n            \"fireSessionUpdateEventsIfNecessary returning early because the front token was not updated\"\n        );\n        return;\n    }\n    // if the current endpoint clears the session it'll set the front-token to remove\n    // any other update means it's created or updated.\n    var frontTokenExistsAfter = frontTokenHeaderFromResponse !== \"remove\";\n    (0, logger_1.logDebugMessage)(\n        \"fireSessionUpdateEventsIfNecessary wasLoggedIn: \"\n            .concat(wasLoggedIn, \" frontTokenExistsAfter: \")\n            .concat(frontTokenExistsAfter, \" status: \")\n            .concat(status)\n    );\n    if (wasLoggedIn) {\n        // we check for wasLoggedIn cause we don't want to fire an event\n        // unnecessarily on first app load or if the user tried\n        // to query an API that returned 401 while the user was not logged in...\n        if (!frontTokenExistsAfter) {\n            if (status === AuthHttpRequest.config.sessionExpiredStatusCode) {\n                (0, logger_1.logDebugMessage)(\"onUnauthorisedResponse: firing UNAUTHORISED event\");\n                AuthHttpRequest.config.onHandleEvent({\n                    action: \"UNAUTHORISED\",\n                    sessionExpiredOrRevoked: true,\n                    userContext: {}\n                });\n            } else {\n                (0, logger_1.logDebugMessage)(\"onUnauthorisedResponse: firing SIGN_OUT event\");\n                AuthHttpRequest.config.onHandleEvent({\n                    action: \"SIGN_OUT\",\n                    userContext: {}\n                });\n            }\n        }\n    } else if (frontTokenExistsAfter) {\n        (0, logger_1.logDebugMessage)(\"onUnauthorisedResponse: firing SESSION_CREATED event\");\n        AuthHttpRequest.config.onHandleEvent({\n            action: \"SESSION_CREATED\",\n            userContext: {}\n        });\n    }\n}\nexports.fireSessionUpdateEventsIfNecessary = fireSessionUpdateEventsIfNecessary;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3VwZXJ0b2tlbnMtd2Vic2l0ZS9saWIvYnVpbGQvZmV0Y2guanMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5REFBeUQsT0FBTztBQUNoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixnREFBZ0Q7QUFDbkU7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELDBDQUEwQztBQUMxQyxJQUFJLHFCQUFxQjtBQUN6QixJQUFJLHFCQUFxQjtBQUN6QixJQUFJLG1CQUFtQjtBQUN2QixJQUFJLGlDQUFpQztBQUNyQyxJQUFJLDZCQUE2QjtBQUNqQyxJQUFJLGdCQUFnQjtBQUNwQixJQUFJLDhCQUE4QjtBQUNsQyxJQUFJLDRCQUE0QjtBQUNoQyxJQUFJLDhCQUE4QjtBQUNsQyxJQUFJLHFCQUFxQjtBQUN6QixJQUFJLDhCQUE4QjtBQUNsQyxJQUFJLGtCQUFrQjtBQUN0QixJQUFJLHFCQUFxQjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsbUJBQU8sQ0FBQyxvRkFBZ0I7QUFDN0MsZ0JBQWdCLG1CQUFPLENBQUMsMEVBQVc7QUFDbkMsY0FBYyxtQkFBTyxDQUFDLDRFQUFTO0FBQy9CLHNCQUFzQixtQkFBTyxDQUFDLHdHQUF1QjtBQUNyRCxzQkFBc0IsbUJBQU8sQ0FBQyx3R0FBdUI7QUFDckQsb0JBQW9CLG1CQUFPLENBQUMsb0dBQXFCO0FBQ2pELGVBQWUsbUJBQU8sQ0FBQyx3RUFBVTtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQSxDQUFDO0FBQ0QscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlHQUFpRyxxQkFBTTtBQUN2RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQSxrQ0FBa0M7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsS0FBSyxFQUFFLEVBQXlCO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUVBQWlFLGFBQWEsd0JBQXdCO0FBQ3RHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCO0FBQzlCLHlFQUF5RTtBQUN6RTtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBLENBQUM7QUFDRCxrQkFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsS0FBSyxFQUFFLEVBQXlCO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QixnREFBZ0QsMkJBQTJCO0FBQzNFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnREFBZ0QsaUJBQWlCO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRCwyQkFBMkI7QUFDM0U7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQSw0Q0FBNEMsaUJBQWlCO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0RBQWdELDJDQUEyQztBQUMzRjtBQUNBO0FBQ0EsNENBQTRDLHFDQUFxQztBQUNqRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRCwyQkFBMkI7QUFDM0Usc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9EQUFvRCxpQkFBaUI7QUFDckU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0EsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0EsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QyxnRUFBZ0U7QUFDNUc7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEMsc0JBQXNCO0FBQ2xFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0EsNEJBQTRCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakMsbUNBQW1DLE9BQU87QUFDMUMsa0VBQWtFO0FBQ2xFO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQyxtQ0FBbUM7QUFDbkMsa0NBQWtDLE9BQU87QUFDekMsa0VBQWtFO0FBQ2xFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQztBQUMzQztBQUNBO0FBQ0E7QUFDQSwrREFBK0Q7QUFDL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQztBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtREFBbUQ7QUFDbkQ7QUFDQTtBQUNBO0FBQ0Esd0RBQXdEO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0EsbUJBQW1CO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSwwQ0FBMEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3N1cGVydG9rZW5zLXdlYnNpdGUvbGliL2J1aWxkL2ZldGNoLmpzP2NmN2YiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19hc3NpZ24gPVxuICAgICh0aGlzICYmIHRoaXMuX19hc3NpZ24pIHx8XG4gICAgZnVuY3Rpb24gKCkge1xuICAgICAgICBfX2Fzc2lnbiA9XG4gICAgICAgICAgICBPYmplY3QuYXNzaWduIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAodCkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdDtcbiAgICAgICAgICAgIH07XG4gICAgICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH07XG52YXIgX19hd2FpdGVyID1cbiAgICAodGhpcyAmJiB0aGlzLl9fYXdhaXRlcikgfHxcbiAgICBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQXG4gICAgICAgICAgICAgICAgPyB2YWx1ZVxuICAgICAgICAgICAgICAgIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XG4gICAgICAgIH0pO1xuICAgIH07XG52YXIgX19nZW5lcmF0b3IgPVxuICAgICh0aGlzICYmIHRoaXMuX19nZW5lcmF0b3IpIHx8XG4gICAgZnVuY3Rpb24gKHRoaXNBcmcsIGJvZHkpIHtcbiAgICAgICAgdmFyIF8gPSB7XG4gICAgICAgICAgICAgICAgbGFiZWw6IDAsXG4gICAgICAgICAgICAgICAgc2VudDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodFswXSAmIDEpIHRocm93IHRbMV07XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0WzFdO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdHJ5czogW10sXG4gICAgICAgICAgICAgICAgb3BzOiBbXVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGYsXG4gICAgICAgICAgICB5LFxuICAgICAgICAgICAgdCxcbiAgICAgICAgICAgIGc7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAoZyA9IHsgbmV4dDogdmVyYigwKSwgdGhyb3c6IHZlcmIoMSksIHJldHVybjogdmVyYigyKSB9KSxcbiAgICAgICAgICAgIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJlxuICAgICAgICAgICAgICAgIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgZ1xuICAgICAgICApO1xuICAgICAgICBmdW5jdGlvbiB2ZXJiKG4pIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAodikge1xuICAgICAgICAgICAgICAgIHJldHVybiBzdGVwKFtuLCB2XSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAob3ApIHtcbiAgICAgICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcbiAgICAgICAgICAgIHdoaWxlIChfKVxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICgoZiA9IDEpLFxuICAgICAgICAgICAgICAgICAgICAgICAgeSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICh0ID1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BbMF0gJiAyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHlbXCJyZXR1cm5cIl1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogb3BbMF1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogeS5uZXh0KSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0O1xuICAgICAgICAgICAgICAgICAgICBpZiAoKCh5ID0gMCksIHQpKSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdCA9IG9wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF8ubGFiZWwrKztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXy5sYWJlbCsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHkgPSBvcFsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcCA9IFswXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcCA9IF8ub3BzLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAhKCh0ID0gXy50cnlzKSwgKHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfLmxhYmVsID0gb3BbMV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXy5sYWJlbCA9IHRbMV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHQgPSBvcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF8ubGFiZWwgPSB0WzJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfLm9wcy5wdXNoKG9wKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICBvcCA9IFs2LCBlXTtcbiAgICAgICAgICAgICAgICAgICAgeSA9IDA7XG4gICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgZiA9IHQgPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdO1xuICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcbiAgICAgICAgfVxuICAgIH07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmZpcmVTZXNzaW9uVXBkYXRlRXZlbnRzSWZOZWNlc3NhcnkgPVxuICAgIGV4cG9ydHMuc2V0RnJvbnRUb2tlbiA9XG4gICAgZXhwb3J0cy5nZXRGcm9udFRva2VuID1cbiAgICBleHBvcnRzLnNldEFudGlDU1JGID1cbiAgICBleHBvcnRzLnNhdmVMYXN0QWNjZXNzVG9rZW5VcGRhdGUgPVxuICAgIGV4cG9ydHMuZ2V0VG9rZW5Gb3JIZWFkZXJBdXRoID1cbiAgICBleHBvcnRzLnNldFRva2VuID1cbiAgICBleHBvcnRzLmdldFN0b3JhZ2VOYW1lRm9yVG9rZW4gPVxuICAgIGV4cG9ydHMuZ2V0TG9jYWxTZXNzaW9uU3RhdGUgPVxuICAgIGV4cG9ydHMub25JbnZhbGlkQ2xhaW1SZXNwb25zZSA9XG4gICAgZXhwb3J0cy5vblRva2VuVXBkYXRlID1cbiAgICBleHBvcnRzLm9uVW5hdXRob3Jpc2VkUmVzcG9uc2UgPVxuICAgIGV4cG9ydHMuRnJvbnRUb2tlbiA9XG4gICAgZXhwb3J0cy5BbnRpQ3NyZlRva2VuID1cbiAgICAgICAgdm9pZCAwO1xuLyogQ29weXJpZ2h0IChjKSAyMDIwLCBWUkFJIExhYnMgYW5kL29yIGl0cyBhZmZpbGlhdGVzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc29mdHdhcmUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlXG4gKiBcIkxpY2Vuc2VcIikgYXMgcHVibGlzaGVkIGJ5IHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRhdGlvbi5cbiAqXG4gKiBZb3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXlcbiAqIG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLCBXSVRIT1VUXG4gKiBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuIFNlZSB0aGVcbiAqIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zXG4gKiB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIHByb2Nlc3NTdGF0ZV8xID0gcmVxdWlyZShcIi4vcHJvY2Vzc1N0YXRlXCIpO1xudmFyIHZlcnNpb25fMSA9IHJlcXVpcmUoXCIuL3ZlcnNpb25cIik7XG52YXIgdXRpbHNfMSA9IHJlcXVpcmUoXCIuL3V0aWxzXCIpO1xudmFyIGNvb2tpZUhhbmRsZXJfMSA9IHJlcXVpcmUoXCIuL3V0aWxzL2Nvb2tpZUhhbmRsZXJcIik7XG52YXIgd2luZG93SGFuZGxlcl8xID0gcmVxdWlyZShcIi4vdXRpbHMvd2luZG93SGFuZGxlclwiKTtcbnZhciBsb2NrRmFjdG9yeV8xID0gcmVxdWlyZShcIi4vdXRpbHMvbG9ja0ZhY3RvcnlcIik7XG52YXIgbG9nZ2VyXzEgPSByZXF1aXJlKFwiLi9sb2dnZXJcIik7XG52YXIgQW50aUNzcmZUb2tlbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBBbnRpQ3NyZlRva2VuKCkge31cbiAgICBBbnRpQ3NyZlRva2VuLmdldFRva2VuID0gZnVuY3Rpb24gKGFzc29jaWF0ZWRBY2Nlc3NUb2tlblVwZGF0ZSkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgYW50aUNzcmY7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICAoMCwgbG9nZ2VyXzEubG9nRGVidWdNZXNzYWdlKShcIkFudGlDc3JmVG9rZW4uZ2V0VG9rZW46IGNhbGxlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhc3NvY2lhdGVkQWNjZXNzVG9rZW5VcGRhdGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFudGlDc3JmVG9rZW4udG9rZW5JbmZvID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICgwLCBsb2dnZXJfMS5sb2dEZWJ1Z01lc3NhZ2UpKFwiQW50aUNzcmZUb2tlbi5nZXRUb2tlbjogcmV0dXJuaW5nIHVuZGVmaW5lZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgdW5kZWZpbmVkXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKEFudGlDc3JmVG9rZW4udG9rZW5JbmZvID09PSB1bmRlZmluZWQpKSByZXR1cm4gWzMgLypicmVhayovLCAyXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIGdldEFudGlDU1JGVG9rZW4oKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFudGlDc3JmID0gX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFudGlDc3JmID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKDAsIGxvZ2dlcl8xLmxvZ0RlYnVnTWVzc2FnZSkoXCJBbnRpQ3NyZlRva2VuLmdldFRva2VuOiByZXR1cm5pbmcgdW5kZWZpbmVkXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCB1bmRlZmluZWRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgQW50aUNzcmZUb2tlbi50b2tlbkluZm8gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYW50aUNzcmY6IGFudGlDc3JmLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFzc29jaWF0ZWRBY2Nlc3NUb2tlblVwZGF0ZTogYXNzb2NpYXRlZEFjY2Vzc1Rva2VuVXBkYXRlXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgNF07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKEFudGlDc3JmVG9rZW4udG9rZW5JbmZvLmFzc29jaWF0ZWRBY2Nlc3NUb2tlblVwZGF0ZSAhPT0gYXNzb2NpYXRlZEFjY2Vzc1Rva2VuVXBkYXRlKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCA0XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNzcmYgdG9rZW4gaGFzIGNoYW5nZWQuXG4gICAgICAgICAgICAgICAgICAgICAgICBBbnRpQ3NyZlRva2VuLnRva2VuSW5mbyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIEFudGlDc3JmVG9rZW4uZ2V0VG9rZW4oYXNzb2NpYXRlZEFjY2Vzc1Rva2VuVXBkYXRlKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBfYS5zZW50KCldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAoMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ0RlYnVnTWVzc2FnZSkoXCJBbnRpQ3NyZlRva2VuLmdldFRva2VuOiByZXR1cm5pbmc6IFwiICsgQW50aUNzcmZUb2tlbi50b2tlbkluZm8uYW50aUNzcmYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIEFudGlDc3JmVG9rZW4udG9rZW5JbmZvLmFudGlDc3JmXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBBbnRpQ3NyZlRva2VuLnJlbW92ZVRva2VuID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICAoMCwgbG9nZ2VyXzEubG9nRGVidWdNZXNzYWdlKShcIkFudGlDc3JmVG9rZW4ucmVtb3ZlVG9rZW46IGNhbGxlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIEFudGlDc3JmVG9rZW4udG9rZW5JbmZvID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgc2V0QW50aUNTUkYodW5kZWZpbmVkKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBBbnRpQ3NyZlRva2VuLnNldEl0ZW0gPSBmdW5jdGlvbiAoYXNzb2NpYXRlZEFjY2Vzc1Rva2VuVXBkYXRlLCBhbnRpQ3NyZikge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXNzb2NpYXRlZEFjY2Vzc1Rva2VuVXBkYXRlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBbnRpQ3NyZlRva2VuLnRva2VuSW5mbyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAoMCwgbG9nZ2VyXzEubG9nRGVidWdNZXNzYWdlKShcIkFudGlDc3JmVG9rZW4uc2V0SXRlbTogY2FsbGVkXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgc2V0QW50aUNTUkYoYW50aUNzcmYpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgQW50aUNzcmZUb2tlbi50b2tlbkluZm8gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYW50aUNzcmY6IGFudGlDc3JmLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFzc29jaWF0ZWRBY2Nlc3NUb2tlblVwZGF0ZTogYXNzb2NpYXRlZEFjY2Vzc1Rva2VuVXBkYXRlXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIHJldHVybiBBbnRpQ3NyZlRva2VuO1xufSkoKTtcbmV4cG9ydHMuQW50aUNzcmZUb2tlbiA9IEFudGlDc3JmVG9rZW47XG4vLyBOb3RlOiBXZSBkbyBub3Qgc3RvcmUgdGhpcyBpbiBtZW1vcnkgYmVjYXVzZSBhbm90aGVyIHRhYiBtYXkgaGF2ZVxuLy8gbW9kaWZpZWQgdGhpcyB2YWx1ZSwgYW5kIGlmIHNvLCB3ZSBtYXkgbm90IGtub3cgYWJvdXQgaXQgaW4gdGhpcyB0YWJcbnZhciBGcm9udFRva2VuID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEZyb250VG9rZW4oKSB7fVxuICAgIEZyb250VG9rZW4uZ2V0VG9rZW5JbmZvID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgZnJvbnRUb2tlbiwgcmVzcG9uc2U7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICAoMCwgbG9nZ2VyXzEubG9nRGVidWdNZXNzYWdlKShcIkZyb250VG9rZW4uZ2V0VG9rZW5JbmZvOiBjYWxsZWRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBnZXRGcm9udFRva2VuKCldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICBmcm9udFRva2VuID0gX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoZnJvbnRUb2tlbiA9PT0gbnVsbCkpIHJldHVybiBbMyAvKmJyZWFrKi8sIDVdO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgZ2V0TG9jYWxTZXNzaW9uU3RhdGUoZmFsc2UpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoX2Euc2VudCgpLnN0YXR1cyA9PT0gXCJFWElTVFNcIikpIHJldHVybiBbMyAvKmJyZWFrKi8sIDRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhpcyBtZWFucyB0aGF0IHRoZSBpZCByZWZyZXNoIHRva2VuIGhhcyBiZWVuIHNldCwgc28gd2UgbXVzdFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2FpdCBmb3IgdGhpcyB0byBiZSBzZXQgb3IgcmVtb3ZlZFxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA0IC8qeWllbGQqLyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBGcm9udFRva2VuLndhaXRlcnMucHVzaChyZXNvbHZlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhpcyBtZWFucyB0aGF0IHRoZSBpZCByZWZyZXNoIHRva2VuIGhhcyBiZWVuIHNldCwgc28gd2UgbXVzdFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2FpdCBmb3IgdGhpcyB0byBiZSBzZXQgb3IgcmVtb3ZlZFxuICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIEZyb250VG9rZW4uZ2V0VG9rZW5JbmZvKCldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgdW5kZWZpbmVkXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBwYXJzZUZyb250VG9rZW4oZnJvbnRUb2tlbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAoMCwgbG9nZ2VyXzEubG9nRGVidWdNZXNzYWdlKShcIkZyb250VG9rZW4uZ2V0VG9rZW5JbmZvOiByZXR1cm5pbmcgYXRlOiBcIiArIHJlc3BvbnNlLmF0ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAoMCwgbG9nZ2VyXzEubG9nRGVidWdNZXNzYWdlKShcIkZyb250VG9rZW4uZ2V0VG9rZW5JbmZvOiByZXR1cm5pbmcgdWlkOiBcIiArIHJlc3BvbnNlLnVpZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAoMCwgbG9nZ2VyXzEubG9nRGVidWdNZXNzYWdlKShcIkZyb250VG9rZW4uZ2V0VG9rZW5JbmZvOiByZXR1cm5pbmcgdXA6IFwiICsgcmVzcG9uc2UudXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHJlc3BvbnNlXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBGcm9udFRva2VuLnJlbW92ZVRva2VuID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICAoMCwgbG9nZ2VyXzEubG9nRGVidWdNZXNzYWdlKShcIkZyb250VG9rZW4ucmVtb3ZlVG9rZW46IGNhbGxlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHNldEZyb250VG9rZW4odW5kZWZpbmVkKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIEZyb250VG9rZW4ud2FpdGVycy5mb3JFYWNoKGZ1bmN0aW9uIChmKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGYodW5kZWZpbmVkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgRnJvbnRUb2tlbi53YWl0ZXJzID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgRnJvbnRUb2tlbi5zZXRJdGVtID0gZnVuY3Rpb24gKGZyb250VG9rZW4pIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2UgdXBkYXRlIHRoZSByZWZyZXNoIGF0dGVtcHQgaW5mbyBoZXJlIGFzIHdlbGwsIHNpbmNlIHRoaXMgbWVhbnMgdGhhdCB3ZSd2ZSB1cGRhdGVkIHRoZSBzZXNzaW9uIGluIHNvbWUgd2F5XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIGNvdWxkIGJlIGJvdGggYnkgYSByZWZyZXNoIGNhbGwgb3IgaWYgdGhlIGFjY2VzcyB0b2tlbiB3YXMgdXBkYXRlZCBpbiBhIGN1c3RvbSBlbmRwb2ludFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQnkgc2F2aW5nIGV2ZXJ5IHRpbWUgdGhlIGFjY2VzcyB0b2tlbiBoYXMgYmVlbiB1cGRhdGVkLCB3ZSBjYXVzZSBhbiBlYXJseSByZXRyeSBpZlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYW5vdGhlciByZXF1ZXN0IGhhcyBmYWlsZWQgd2l0aCBhIDQwMSB3aXRoIHRoZSBwcmV2aW91cyBhY2Nlc3MgdG9rZW4gYW5kIHRoZSB0b2tlbiBzdGlsbCBleGlzdHMuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayB0aGUgc3RhcnQgYW5kIGVuZCBvZiBvblVuYXV0aG9yaXNlZFJlc3BvbnNlXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBcyBhIHNpZGUtZWZmZWN0IHdlIHJlbG9hZCB0aGUgYW50aS1jc3JmIHRva2VuIHRvIGNoZWNrIGlmIGl0IHdhcyBjaGFuZ2VkIGJ5IGFub3RoZXIgdGFiLlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgc2F2ZUxhc3RBY2Nlc3NUb2tlblVwZGF0ZSgpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2UgdXBkYXRlIHRoZSByZWZyZXNoIGF0dGVtcHQgaW5mbyBoZXJlIGFzIHdlbGwsIHNpbmNlIHRoaXMgbWVhbnMgdGhhdCB3ZSd2ZSB1cGRhdGVkIHRoZSBzZXNzaW9uIGluIHNvbWUgd2F5XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIGNvdWxkIGJlIGJvdGggYnkgYSByZWZyZXNoIGNhbGwgb3IgaWYgdGhlIGFjY2VzcyB0b2tlbiB3YXMgdXBkYXRlZCBpbiBhIGN1c3RvbSBlbmRwb2ludFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQnkgc2F2aW5nIGV2ZXJ5IHRpbWUgdGhlIGFjY2VzcyB0b2tlbiBoYXMgYmVlbiB1cGRhdGVkLCB3ZSBjYXVzZSBhbiBlYXJseSByZXRyeSBpZlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYW5vdGhlciByZXF1ZXN0IGhhcyBmYWlsZWQgd2l0aCBhIDQwMSB3aXRoIHRoZSBwcmV2aW91cyBhY2Nlc3MgdG9rZW4gYW5kIHRoZSB0b2tlbiBzdGlsbCBleGlzdHMuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayB0aGUgc3RhcnQgYW5kIGVuZCBvZiBvblVuYXV0aG9yaXNlZFJlc3BvbnNlXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBcyBhIHNpZGUtZWZmZWN0IHdlIHJlbG9hZCB0aGUgYW50aS1jc3JmIHRva2VuIHRvIGNoZWNrIGlmIGl0IHdhcyBjaGFuZ2VkIGJ5IGFub3RoZXIgdGFiLlxuICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZyb250VG9rZW4gPT09IFwicmVtb3ZlXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgRnJvbnRUb2tlbi5yZW1vdmVUb2tlbigpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICgwLCBsb2dnZXJfMS5sb2dEZWJ1Z01lc3NhZ2UpKFwiRnJvbnRUb2tlbi5zZXRJdGVtOiBjYWxsZWRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBzZXRGcm9udFRva2VuKGZyb250VG9rZW4pXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgRnJvbnRUb2tlbi53YWl0ZXJzLmZvckVhY2goZnVuY3Rpb24gKGYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZih1bmRlZmluZWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBGcm9udFRva2VuLndhaXRlcnMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBGcm9udFRva2VuLmRvZXNUb2tlbkV4aXN0cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGZyb250VG9rZW47XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBnZXRGcm9udFRva2VuRnJvbUNvb2tpZSgpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgZnJvbnRUb2tlbiA9IF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBmcm9udFRva2VuICE9PSBudWxsXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvLyB0aGVzZSBhcmUgd2FpdGVycyBmb3Igd2hlbiB0aGUgaWRSZWZyZXNoVG9rZW4gaGFzIGJlZW4gc2V0LCBidXQgdGhpcyB0b2tlbiBoYXNcbiAgICAvLyBub3QgeWV0IGJlZW4gc2V0LiBPbmNlIHRoaXMgdG9rZW4gaXMgc2V0IG9yIHJlbW92ZWQsIHRoZSB3YWl0ZXJzIGFyZSByZXNvbHZlZC5cbiAgICBGcm9udFRva2VuLndhaXRlcnMgPSBbXTtcbiAgICByZXR1cm4gRnJvbnRUb2tlbjtcbn0pKCk7XG5leHBvcnRzLkZyb250VG9rZW4gPSBGcm9udFRva2VuO1xuLyoqXG4gKiBAY2xhc3MgQXV0aEh0dHBSZXF1ZXN0XG4gKiBAZGVzY3JpcHRpb24gd3JhcHBlciBmb3IgY29tbW9uIGh0dHAgbWV0aG9kcy5cbiAqL1xudmFyIEF1dGhIdHRwUmVxdWVzdCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBBdXRoSHR0cFJlcXVlc3QoKSB7fVxuICAgIEF1dGhIdHRwUmVxdWVzdC5pbml0ID0gZnVuY3Rpb24gKGNvbmZpZywgcmVjaXBlSW1wbCkge1xuICAgICAgICAoMCwgbG9nZ2VyXzEubG9nRGVidWdNZXNzYWdlKShcImluaXQ6IGNhbGxlZFwiKTtcbiAgICAgICAgKDAsIGxvZ2dlcl8xLmxvZ0RlYnVnTWVzc2FnZSkoXCJpbml0OiBJbnB1dCBhcGlCYXNlUGF0aDogXCIgKyBjb25maWcuYXBpQmFzZVBhdGgpO1xuICAgICAgICAoMCwgbG9nZ2VyXzEubG9nRGVidWdNZXNzYWdlKShcImluaXQ6IElucHV0IGFwaURvbWFpbjogXCIgKyBjb25maWcuYXBpRG9tYWluKTtcbiAgICAgICAgKDAsIGxvZ2dlcl8xLmxvZ0RlYnVnTWVzc2FnZSkoXCJpbml0OiBJbnB1dCBhdXRvQWRkQ3JlZGVudGlhbHM6IFwiICsgY29uZmlnLmF1dG9BZGRDcmVkZW50aWFscyk7XG4gICAgICAgICgwLCBsb2dnZXJfMS5sb2dEZWJ1Z01lc3NhZ2UpKFwiaW5pdDogSW5wdXQgc2Vzc2lvblRva2VuQmFja2VuZERvbWFpbjogXCIgKyBjb25maWcuc2Vzc2lvblRva2VuQmFja2VuZERvbWFpbik7XG4gICAgICAgICgwLCBsb2dnZXJfMS5sb2dEZWJ1Z01lc3NhZ2UpKFwiaW5pdDogSW5wdXQgaXNJbklmcmFtZTogXCIgKyBjb25maWcuaXNJbklmcmFtZSk7XG4gICAgICAgICgwLCBsb2dnZXJfMS5sb2dEZWJ1Z01lc3NhZ2UpKFwiaW5pdDogSW5wdXQgc2Vzc2lvbkV4cGlyZWRTdGF0dXNDb2RlOiBcIiArIGNvbmZpZy5zZXNzaW9uRXhwaXJlZFN0YXR1c0NvZGUpO1xuICAgICAgICAoMCwgbG9nZ2VyXzEubG9nRGVidWdNZXNzYWdlKShcImluaXQ6IElucHV0IHNlc3Npb25Ub2tlbkZyb250ZW5kRG9tYWluOiBcIiArIGNvbmZpZy5zZXNzaW9uVG9rZW5Gcm9udGVuZERvbWFpbik7XG4gICAgICAgICgwLCBsb2dnZXJfMS5sb2dEZWJ1Z01lc3NhZ2UpKFwiaW5pdDogSW5wdXQgdG9rZW5UcmFuc2Zlck1ldGhvZDogXCIgKyBjb25maWcudG9rZW5UcmFuc2Zlck1ldGhvZCk7XG4gICAgICAgIHZhciBmZXRjaGVkV2luZG93ID0gd2luZG93SGFuZGxlcl8xLmRlZmF1bHQuZ2V0UmVmZXJlbmNlT3JUaHJvdygpLndpbmRvd0hhbmRsZXIuZ2V0V2luZG93VW5zYWZlKCk7XG4gICAgICAgIEF1dGhIdHRwUmVxdWVzdC5lbnYgPSBmZXRjaGVkV2luZG93ID09PSB1bmRlZmluZWQgfHwgZmV0Y2hlZFdpbmRvdy5mZXRjaCA9PT0gdW5kZWZpbmVkID8gZ2xvYmFsIDogZmV0Y2hlZFdpbmRvdztcbiAgICAgICAgQXV0aEh0dHBSZXF1ZXN0LnJlZnJlc2hUb2tlblVybCA9IGNvbmZpZy5hcGlEb21haW4gKyBjb25maWcuYXBpQmFzZVBhdGggKyBcIi9zZXNzaW9uL3JlZnJlc2hcIjtcbiAgICAgICAgQXV0aEh0dHBSZXF1ZXN0LnNpZ25PdXRVcmwgPSBjb25maWcuYXBpRG9tYWluICsgY29uZmlnLmFwaUJhc2VQYXRoICsgXCIvc2lnbm91dFwiO1xuICAgICAgICBBdXRoSHR0cFJlcXVlc3QucmlkID0gXCJzZXNzaW9uXCI7XG4gICAgICAgIEF1dGhIdHRwUmVxdWVzdC5jb25maWcgPSBjb25maWc7XG4gICAgICAgIGlmIChBdXRoSHR0cFJlcXVlc3QuZW52Ll9fc3VwZXJ0b2tlbnNPcmlnaW5hbEZldGNoID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICgwLCBsb2dnZXJfMS5sb2dEZWJ1Z01lc3NhZ2UpKFwiaW5pdDogX19zdXBlcnRva2Vuc09yaWdpbmFsRmV0Y2ggaXMgdW5kZWZpbmVkXCIpO1xuICAgICAgICAgICAgLy8gdGhpcyBibG9jayBjb250YWlucyBjb2RlIHRoYXQgaXMgcnVuIGp1c3Qgb25jZSBwZXIgcGFnZSBsb2FkLi5cbiAgICAgICAgICAgIC8vIGFsbCBpdGVtcyBpbiB0aGlzIGJsb2NrIGFyZSBhdHRhY2hlZCB0byB0aGUgZ2xvYmFsIGVudiBzbyB0aGF0XG4gICAgICAgICAgICAvLyBldmVuIGlmIHRoZSBpbml0IGZ1bmN0aW9uIGlzIGNhbGxlZCBtb3JlIHRoYW4gb25jZSAobWF5YmUgYWNyb3NzIEpTIHNjcmlwdHMpLFxuICAgICAgICAgICAgLy8gdGhpbmdzIHdpbGwgbm90IGdldCBjcmVhdGVkIG11bHRpcGxlIHRpbWVzLlxuICAgICAgICAgICAgQXV0aEh0dHBSZXF1ZXN0LmVudi5fX3N1cGVydG9rZW5zT3JpZ2luYWxGZXRjaCA9IEF1dGhIdHRwUmVxdWVzdC5lbnYuZmV0Y2guYmluZChBdXRoSHR0cFJlcXVlc3QuZW52KTtcbiAgICAgICAgICAgIEF1dGhIdHRwUmVxdWVzdC5lbnYuX19zdXBlcnRva2Vuc1Nlc3Npb25SZWNpcGUgPSByZWNpcGVJbXBsO1xuICAgICAgICAgICAgQXV0aEh0dHBSZXF1ZXN0LmVudi5mZXRjaCA9XG4gICAgICAgICAgICAgICAgQXV0aEh0dHBSZXF1ZXN0LmVudi5fX3N1cGVydG9rZW5zU2Vzc2lvblJlY2lwZS5hZGRGZXRjaEludGVyY2VwdG9yc0FuZFJldHVybk1vZGlmaWVkRmV0Y2goe1xuICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbEZldGNoOiBBdXRoSHR0cFJlcXVlc3QuZW52Ll9fc3VwZXJ0b2tlbnNPcmlnaW5hbEZldGNoLFxuICAgICAgICAgICAgICAgICAgICB1c2VyQ29udGV4dDoge31cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIEF1dGhIdHRwUmVxdWVzdC5lbnYuX19zdXBlcnRva2Vuc1Nlc3Npb25SZWNpcGUuYWRkWE1MSHR0cFJlcXVlc3RJbnRlcmNlcHRvcih7XG4gICAgICAgICAgICAgICAgdXNlckNvbnRleHQ6IHt9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBBdXRoSHR0cFJlcXVlc3QucmVjaXBlSW1wbCA9IEF1dGhIdHRwUmVxdWVzdC5lbnYuX19zdXBlcnRva2Vuc1Nlc3Npb25SZWNpcGU7XG4gICAgICAgIEF1dGhIdHRwUmVxdWVzdC5pbml0Q2FsbGVkID0gdHJ1ZTtcbiAgICB9O1xuICAgIHZhciBfYTtcbiAgICBfYSA9IEF1dGhIdHRwUmVxdWVzdDtcbiAgICBBdXRoSHR0cFJlcXVlc3QuaW5pdENhbGxlZCA9IGZhbHNlO1xuICAgIEF1dGhIdHRwUmVxdWVzdC5kb1JlcXVlc3QgPSBmdW5jdGlvbiAoaHR0cENhbGwsIGNvbmZpZywgdXJsKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGRvTm90RG9JbnRlcmNlcHRpb24sXG4gICAgICAgICAgICAgICAgZmluYWxVUkwsXG4gICAgICAgICAgICAgICAgb3JpZ0hlYWRlcnMsXG4gICAgICAgICAgICAgICAgYWNjZXNzVG9rZW4sXG4gICAgICAgICAgICAgICAgcmV0dXJuT2JqLFxuICAgICAgICAgICAgICAgIHByZVJlcXVlc3RMU1MsXG4gICAgICAgICAgICAgICAgY2xvbmVkSGVhZGVycyxcbiAgICAgICAgICAgICAgICBjb25maWdXaXRoQW50aUNzcmYsXG4gICAgICAgICAgICAgICAgYW50aUNzcmZUb2tlbixcbiAgICAgICAgICAgICAgICB0cmFuc2Zlck1ldGhvZCxcbiAgICAgICAgICAgICAgICByZXNwb25zZSxcbiAgICAgICAgICAgICAgICByZXRyeSxcbiAgICAgICAgICAgICAgICBwb3N0UmVxdWVzdElkVG9rZW47XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IoX2EsIGZ1bmN0aW9uIChfYikge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2IubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFBdXRoSHR0cFJlcXVlc3QuaW5pdENhbGxlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IEVycm9yKFwiaW5pdCBmdW5jdGlvbiBub3QgY2FsbGVkXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgKDAsIGxvZ2dlcl8xLmxvZ0RlYnVnTWVzc2FnZSkoXCJkb1JlcXVlc3Q6IHN0YXJ0IG9mIGZldGNoIGludGVyY2VwdGlvblwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvTm90RG9JbnRlcmNlcHRpb24gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxVUkwgPSB2b2lkIDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB1cmwgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxVUkwgPSB1cmw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgdXJsID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdXJsLnVybCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxVUkwgPSB1cmwudXJsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiB1cmwuaHJlZiA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxVUkwgPSB1cmwuaHJlZjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb05vdERvSW50ZXJjZXB0aW9uID0gISgwLCB1dGlsc18xLnNob3VsZERvSW50ZXJjZXB0aW9uQmFzZWRPblVybCkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFsVVJMLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBdXRoSHR0cFJlcXVlc3QuY29uZmlnLmFwaURvbWFpbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQXV0aEh0dHBSZXF1ZXN0LmNvbmZpZy5zZXNzaW9uVG9rZW5CYWNrZW5kRG9tYWluXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnIubWVzc2FnZSA9PT0gXCJQbGVhc2UgcHJvdmlkZSBhIHZhbGlkIGRvbWFpbiBuYW1lXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKDAsIGxvZ2dlcl8xLmxvZ0RlYnVnTWVzc2FnZSkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImRvUmVxdWVzdDogVHJ5aW5nIHNob3VsZERvSW50ZXJjZXB0aW9uQmFzZWRPblVybCB3aXRoIGxvY2F0aW9uLm9yaWdpblwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIC5vcmlnaW4gZ2l2ZXMgdGhlIHBvcnQgYXMgd2VsbC4uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvTm90RG9JbnRlcmNlcHRpb24gPSAhKDAsIHV0aWxzXzEuc2hvdWxkRG9JbnRlcmNlcHRpb25CYXNlZE9uVXJsKShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvd0hhbmRsZXJfMS5kZWZhdWx0LmdldFJlZmVyZW5jZU9yVGhyb3coKS53aW5kb3dIYW5kbGVyLmxvY2F0aW9uLmdldE9yaWdpbigpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQXV0aEh0dHBSZXF1ZXN0LmNvbmZpZy5hcGlEb21haW4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBBdXRoSHR0cFJlcXVlc3QuY29uZmlnLnNlc3Npb25Ub2tlbkJhY2tlbmREb21haW5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgKDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2dnZXJfMS5sb2dEZWJ1Z01lc3NhZ2UpKFwiZG9SZXF1ZXN0OiBWYWx1ZSBvZiBkb05vdERvSW50ZXJjZXB0aW9uOiBcIiArIGRvTm90RG9JbnRlcmNlcHRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFkb05vdERvSW50ZXJjZXB0aW9uKSByZXR1cm4gWzMgLypicmVhayovLCAyXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICgwLCBsb2dnZXJfMS5sb2dEZWJ1Z01lc3NhZ2UpKFwiZG9SZXF1ZXN0OiBSZXR1cm5pbmcgd2l0aG91dCBpbnRlcmNlcHRpb25cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBodHRwQ2FsbChjb25maWcpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIF9iLnNlbnQoKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgIG9yaWdIZWFkZXJzID0gbmV3IEhlYWRlcnMoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlnICE9PSB1bmRlZmluZWQgJiYgY29uZmlnLmhlYWRlcnMgIT09IHVuZGVmaW5lZCA/IGNvbmZpZy5oZWFkZXJzIDogdXJsLmhlYWRlcnNcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW9yaWdIZWFkZXJzLmhhcyhcIkF1dGhvcml6YXRpb25cIikpIHJldHVybiBbMyAvKmJyZWFrKi8sIDRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgZ2V0VG9rZW5Gb3JIZWFkZXJBdXRoKFwiYWNjZXNzXCIpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICAgICAgYWNjZXNzVG9rZW4gPSBfYi5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWNjZXNzVG9rZW4gIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yaWdIZWFkZXJzLmdldChcIkF1dGhvcml6YXRpb25cIikgPT09IFwiQmVhcmVyIFwiLmNvbmNhdChhY2Nlc3NUb2tlbilcbiAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdlIGFyZSBpZ25vcmluZyB0aGUgQXV0aG9yaXphdGlvbiBoZWFkZXIgc2V0IGJ5IHRoZSB1c2VyIGluIHRoaXMgY2FzZSwgYmVjYXVzZSBpdCB3b3VsZCBjYXVzZSBpc3N1ZXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiB3ZSBkbyBub3QgaWdub3JlIHRoaXMsIHRoZW4gdGhpcyBoZWFkZXIgd291bGQgYmUgdXNlZCBldmVuIGlmIHRoZSByZXF1ZXN0IGlzIGJlaW5nIHJldHJpZWQgYWZ0ZXIgYSByZWZyZXNoLCBldmVuIHRob3VnaCBpdCBjb250YWlucyBhbiBvdXRkYXRlZCBhY2Nlc3MgdG9rZW4uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyBjYXVzZXMgYW4gaW5maW5pdGUgcmVmcmVzaCBsb29wLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICgwLCBsb2dnZXJfMS5sb2dEZWJ1Z01lc3NhZ2UpKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImRvUmVxdWVzdDogUmVtb3ZpbmcgQXV0aG9yaXphdGlvbiBmcm9tIHVzZXIgcHJvdmlkZWQgaGVhZGVycyBiZWNhdXNlIGl0IGNvbnRhaW5zIG91ciBhY2Nlc3MgdG9rZW5cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ0hlYWRlcnMuZGVsZXRlKFwiQXV0aG9yaXphdGlvblwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIF9iLmxhYmVsID0gNDtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICAgICAgKDAsIGxvZ2dlcl8xLmxvZ0RlYnVnTWVzc2FnZSkoXCJkb1JlcXVlc3Q6IEludGVyY2VwdGlvbiBzdGFydGVkXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc1N0YXRlXzEuUHJvY2Vzc1N0YXRlLmdldEluc3RhbmNlKCkuYWRkU3RhdGUoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc1N0YXRlXzEuUFJPQ0VTU19TVEFURS5DQUxMSU5HX0lOVEVSQ0VQVElPTl9SRVFVRVNUXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2IubGFiZWwgPSA1O1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYi50cnlzLnB1c2goWzUsICwgMTksIDI0XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm5PYmogPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBfYi5sYWJlbCA9IDY7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdHJ1ZSkgcmV0dXJuIFszIC8qYnJlYWsqLywgMThdO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgZ2V0TG9jYWxTZXNzaW9uU3RhdGUodHJ1ZSldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgICAgICAgICAgICBwcmVSZXF1ZXN0TFNTID0gX2Iuc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xvbmVkSGVhZGVycyA9IG5ldyBIZWFkZXJzKG9yaWdIZWFkZXJzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZ1dpdGhBbnRpQ3NyZiA9IF9fYXNzaWduKF9fYXNzaWduKHt9LCBjb25maWcpLCB7IGhlYWRlcnM6IGNsb25lZEhlYWRlcnMgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShwcmVSZXF1ZXN0TFNTLnN0YXR1cyA9PT0gXCJFWElTVFNcIikpIHJldHVybiBbMyAvKmJyZWFrKi8sIDldO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgQW50aUNzcmZUb2tlbi5nZXRUb2tlbihwcmVSZXF1ZXN0TFNTLmxhc3RBY2Nlc3NUb2tlblVwZGF0ZSldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgICAgICAgICAgICAgICBhbnRpQ3NyZlRva2VuID0gX2Iuc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFudGlDc3JmVG9rZW4gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICgwLCBsb2dnZXJfMS5sb2dEZWJ1Z01lc3NhZ2UpKFwiZG9SZXF1ZXN0OiBBZGRpbmcgYW50aS1jc3JmIHRva2VuIHRvIHJlcXVlc3RcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xvbmVkSGVhZGVycy5zZXQoXCJhbnRpLWNzcmZcIiwgYW50aUNzcmZUb2tlbik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBfYi5sYWJlbCA9IDk7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgOTpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChBdXRoSHR0cFJlcXVlc3QuY29uZmlnLmF1dG9BZGRDcmVkZW50aWFscykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICgwLCBsb2dnZXJfMS5sb2dEZWJ1Z01lc3NhZ2UpKFwiZG9SZXF1ZXN0OiBBZGRpbmcgY3JlZGVudGlhbHMgaW5jbHVkZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29uZmlnV2l0aEFudGlDc3JmID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlnV2l0aEFudGlDc3JmID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlZGVudGlhbHM6IFwiaW5jbHVkZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjb25maWdXaXRoQW50aUNzcmYuY3JlZGVudGlhbHMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25maWdXaXRoQW50aUNzcmYgPSBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgY29uZmlnV2l0aEFudGlDc3JmKSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlZGVudGlhbHM6IFwiaW5jbHVkZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFkZGluZyByaWQgZm9yIGFudGktY3NyZiBwcm90ZWN0aW9uOiBBbnRpLWNzcmYgdmlhIGN1c3RvbSBoZWFkZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY2xvbmVkSGVhZGVycy5oYXMoXCJyaWRcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoMCwgbG9nZ2VyXzEubG9nRGVidWdNZXNzYWdlKShcImRvUmVxdWVzdDogQWRkaW5nIHJpZCBoZWFkZXI6IGFudGktY3NyZlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbG9uZWRIZWFkZXJzLnNldChcInJpZFwiLCBcImFudGktY3NyZlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKDAsIGxvZ2dlcl8xLmxvZ0RlYnVnTWVzc2FnZSkoXCJkb1JlcXVlc3Q6IHJpZCBoZWFkZXIgd2FzIGFscmVhZHkgdGhlcmUgaW4gcmVxdWVzdFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zZmVyTWV0aG9kID0gQXV0aEh0dHBSZXF1ZXN0LmNvbmZpZy50b2tlblRyYW5zZmVyTWV0aG9kO1xuICAgICAgICAgICAgICAgICAgICAgICAgKDAsIGxvZ2dlcl8xLmxvZ0RlYnVnTWVzc2FnZSkoXCJkb1JlcXVlc3Q6IEFkZGluZyBzdC1hdXRoLW1vZGUgaGVhZGVyOiBcIiArIHRyYW5zZmVyTWV0aG9kKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsb25lZEhlYWRlcnMuc2V0KFwic3QtYXV0aC1tb2RlXCIsIHRyYW5zZmVyTWV0aG9kKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHNldEF1dGhvcml6YXRpb25IZWFkZXJJZlJlcXVpcmVkKGNsb25lZEhlYWRlcnMpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxMDpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9iLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICgwLCBsb2dnZXJfMS5sb2dEZWJ1Z01lc3NhZ2UpKFwiZG9SZXF1ZXN0OiBNYWtpbmcgdXNlcidzIGh0dHAgY2FsbFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIGh0dHBDYWxsKGNvbmZpZ1dpdGhBbnRpQ3NyZildO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDExOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfYi5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAoMCwgbG9nZ2VyXzEubG9nRGVidWdNZXNzYWdlKShcImRvUmVxdWVzdDogVXNlcidzIGh0dHAgY2FsbCBlbmRlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHNhdmVUb2tlbnNGcm9tSGVhZGVycyhyZXNwb25zZSldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDEyOlxuICAgICAgICAgICAgICAgICAgICAgICAgX2Iuc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZmlyZVNlc3Npb25VcGRhdGVFdmVudHNJZk5lY2Vzc2FyeShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmVSZXF1ZXN0TFNTLnN0YXR1cyA9PT0gXCJFWElTVFNcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZS5zdGF0dXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UuaGVhZGVycy5nZXQoXCJmcm9udC10b2tlblwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKHJlc3BvbnNlLnN0YXR1cyA9PT0gQXV0aEh0dHBSZXF1ZXN0LmNvbmZpZy5zZXNzaW9uRXhwaXJlZFN0YXR1c0NvZGUpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDE0XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICgwLCBsb2dnZXJfMS5sb2dEZWJ1Z01lc3NhZ2UpKFwiZG9SZXF1ZXN0OiBTdGF0dXMgY29kZSBpczogXCIgKyByZXNwb25zZS5zdGF0dXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgb25VbmF1dGhvcmlzZWRSZXNwb25zZShwcmVSZXF1ZXN0TFNTKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTM6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXRyeSA9IF9iLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXRyeS5yZXN1bHQgIT09IFwiUkVUUllcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICgwLCBsb2dnZXJfMS5sb2dEZWJ1Z01lc3NhZ2UpKFwiZG9SZXF1ZXN0OiBOb3QgcmV0cnlpbmcgb3JpZ2luYWwgcmVxdWVzdFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm5PYmogPSByZXRyeS5lcnJvciAhPT0gdW5kZWZpbmVkID8gcmV0cnkuZXJyb3IgOiByZXNwb25zZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCAxOF07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAoMCwgbG9nZ2VyXzEubG9nRGVidWdNZXNzYWdlKShcImRvUmVxdWVzdDogUmV0cnlpbmcgb3JpZ2luYWwgcmVxdWVzdFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDE3XTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxNDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKHJlc3BvbnNlLnN0YXR1cyA9PT0gQXV0aEh0dHBSZXF1ZXN0LmNvbmZpZy5pbnZhbGlkQ2xhaW1TdGF0dXNDb2RlKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCAxNl07XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBvbkludmFsaWRDbGFpbVJlc3BvbnNlKHJlc3BvbnNlKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTU6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYi5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfYi5sYWJlbCA9IDE2O1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE2OlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHJlc3BvbnNlXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxNzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDZdO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE4OlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgaXQgY29tZXMgaGVyZSwgbWVhbnMgd2UgYnJlYWtlZC4gd2hpY2ggaGFwcGVucyBvbmx5IGlmIHdlIGhhdmUgbG9nZ2VkIG91dC5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCByZXR1cm5PYmpdO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE5OlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgZ2V0TG9jYWxTZXNzaW9uU3RhdGUoZmFsc2UpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyMDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc3RSZXF1ZXN0SWRUb2tlbiA9IF9iLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKHBvc3RSZXF1ZXN0SWRUb2tlbi5zdGF0dXMgPT09IFwiTk9UX0VYSVNUU1wiKSkgcmV0dXJuIFszIC8qYnJlYWsqLywgMjNdO1xuICAgICAgICAgICAgICAgICAgICAgICAgKDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2dnZXJfMS5sb2dEZWJ1Z01lc3NhZ2UpKFwiZG9SZXF1ZXN0OiBsb2NhbCBzZXNzaW9uIGRvZXNuJ3QgZXhpc3QsIHNvIHJlbW92aW5nIGFudGktY3NyZiBhbmQgc0Zyb250VG9rZW5cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBBbnRpQ3NyZlRva2VuLnJlbW92ZVRva2VuKCldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDIxOlxuICAgICAgICAgICAgICAgICAgICAgICAgX2Iuc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgRnJvbnRUb2tlbi5yZW1vdmVUb2tlbigpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyMjpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9iLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9iLmxhYmVsID0gMjM7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjM6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzcgLyplbmRmaW5hbGx5Ki9dO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDI0OlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIEF1dGhIdHRwUmVxdWVzdC5hdHRlbXB0UmVmcmVzaGluZ1Nlc3Npb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHByZVJlcXVlc3RMU1MsIHJlZnJlc2g7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IoX2EsIGZ1bmN0aW9uIChfYikge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2IubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFBdXRoSHR0cFJlcXVlc3QuaW5pdENhbGxlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IEVycm9yKFwiaW5pdCBmdW5jdGlvbiBub3QgY2FsbGVkXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgZ2V0TG9jYWxTZXNzaW9uU3RhdGUoZmFsc2UpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgcHJlUmVxdWVzdExTUyA9IF9iLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIG9uVW5hdXRob3Jpc2VkUmVzcG9uc2UocHJlUmVxdWVzdExTUyldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoID0gX2Iuc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlZnJlc2gucmVzdWx0ID09PSBcIkFQSV9FUlJPUlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgcmVmcmVzaC5lcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCByZWZyZXNoLnJlc3VsdCA9PT0gXCJSRVRSWVwiXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gQXV0aEh0dHBSZXF1ZXN0O1xufSkoKTtcbmV4cG9ydHMuZGVmYXVsdCA9IEF1dGhIdHRwUmVxdWVzdDtcbnZhciBMQVNUX0FDQ0VTU19UT0tFTl9VUERBVEUgPSBcInN0LWxhc3QtYWNjZXNzLXRva2VuLXVwZGF0ZVwiO1xudmFyIFJFRlJFU0hfVE9LRU5fTkFNRSA9IFwic3QtcmVmcmVzaC10b2tlblwiO1xudmFyIEFDQ0VTU19UT0tFTl9OQU1FID0gXCJzdC1hY2Nlc3MtdG9rZW5cIjtcbnZhciBBTlRJX0NTUkZfTkFNRSA9IFwic0FudGlDc3JmXCI7XG52YXIgRlJPTlRfVE9LRU5fTkFNRSA9IFwic0Zyb250VG9rZW5cIjtcbi8qKlxuICogQGRlc2NyaXB0aW9uIGF0dGVtcHRzIHRvIGNhbGwgdGhlIHJlZnJlc2ggdG9rZW4gQVBJIGVhY2ggdGltZSB3ZSBhcmUgc3VyZSB0aGUgc2Vzc2lvbiBoYXMgZXhwaXJlZCwgb3IgaXQgdGhyb3dzIGFuIGVycm9yIG9yLFxuICogb3IgdGhlIElEX0NPT0tJRV9OQU1FIGhhcyBjaGFuZ2VkIHZhbHVlIC0+IHdoaWNoIG1heSBtZWFuIHRoYXQgd2UgaGF2ZSBhIG5ldyBzZXQgb2YgdG9rZW5zLlxuICovXG5mdW5jdGlvbiBvblVuYXV0aG9yaXNlZFJlc3BvbnNlKHByZVJlcXVlc3RMU1MpIHtcbiAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBsb2NrLFxuICAgICAgICAgICAgcG9zdExvY2tMU1MsXG4gICAgICAgICAgICBoZWFkZXJzLFxuICAgICAgICAgICAgYW50aUNzcmZUb2tlbixcbiAgICAgICAgICAgIHRyYW5zZmVyTWV0aG9kLFxuICAgICAgICAgICAgcHJlQVBJUmVzdWx0LFxuICAgICAgICAgICAgcmVzcG9uc2UsXG4gICAgICAgICAgICBpc1VuYXV0aG9yaXNlZCxcbiAgICAgICAgICAgIGVycm9yXzEsXG4gICAgICAgICAgICBwb3N0UmVxdWVzdExTUztcbiAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYikge1xuICAgICAgICAgICAgc3dpdGNoIChfYi5sYWJlbCkge1xuICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgbG9ja0ZhY3RvcnlfMS5kZWZhdWx0LmdldFJlZmVyZW5jZU9yVGhyb3coKS5sb2NrRmFjdG9yeSgpXTtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGxvY2sgPSBfYi5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgIF9iLmxhYmVsID0gMjtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGlmICghdHJ1ZSkgcmV0dXJuIFszIC8qYnJlYWsqLywgMjRdO1xuICAgICAgICAgICAgICAgICAgICAoMCwgbG9nZ2VyXzEubG9nRGVidWdNZXNzYWdlKShcIm9uVW5hdXRob3Jpc2VkUmVzcG9uc2U6IHRyeWluZyB0byBhY3F1aXJlIGxvY2tcIik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIGxvY2suYWNxdWlyZUxvY2soXCJSRUZSRVNIX1RPS0VOX1VTRVwiLCAxMDAwKV07XG4gICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICBpZiAoIV9iLnNlbnQoKSkgcmV0dXJuIFszIC8qYnJlYWsqLywgMjJdO1xuICAgICAgICAgICAgICAgICAgICAoMCwgbG9nZ2VyXzEubG9nRGVidWdNZXNzYWdlKShcIm9uVW5hdXRob3Jpc2VkUmVzcG9uc2U6IGxvY2sgYWNxdWlyZWRcIik7XG4gICAgICAgICAgICAgICAgICAgIF9iLmxhYmVsID0gNDtcbiAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgIF9iLnRyeXMucHVzaChbNCwgMTQsIDE2LCAyMl0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBnZXRMb2NhbFNlc3Npb25TdGF0ZShmYWxzZSldO1xuICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICAgICAgcG9zdExvY2tMU1MgPSBfYi5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwb3N0TG9ja0xTUy5zdGF0dXMgPT09IFwiTk9UX0VYSVNUU1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAoMCwgbG9nZ2VyXzEubG9nRGVidWdNZXNzYWdlKShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIm9uVW5hdXRob3Jpc2VkUmVzcG9uc2U6IE5vdCByZWZyZXNoaW5nIGJlY2F1c2UgbG9jYWwgc2Vzc2lvbiBzdGF0ZSBpcyBOT1RfRVhJU1RTXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiBpdCBjb21lcyBoZXJlLCBpdCBtZWFucyBhIHJlcXVlc3Qgd2FzIG1hZGUgdGhpbmtpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoYXQgdGhlIHNlc3Npb24gZXhpc3RzLCBidXQgaXQgZG9lc24ndCBhY3R1YWxseSBleGlzdC5cbiAgICAgICAgICAgICAgICAgICAgICAgIEF1dGhIdHRwUmVxdWVzdC5jb25maWcub25IYW5kbGVFdmVudCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiBcIlVOQVVUSE9SSVNFRFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlc3Npb25FeHBpcmVkT3JSZXZva2VkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyQ29udGV4dDoge31cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHsgcmVzdWx0OiBcIlNFU1NJT05fRVhQSVJFRFwiIH1dO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc3RMb2NrTFNTLnN0YXR1cyAhPT0gcHJlUmVxdWVzdExTUy5zdGF0dXMgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIChwb3N0TG9ja0xTUy5zdGF0dXMgPT09IFwiRVhJU1RTXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmVSZXF1ZXN0TFNTLnN0YXR1cyA9PT0gXCJFWElTVFNcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc3RMb2NrTFNTLmxhc3RBY2Nlc3NUb2tlblVwZGF0ZSAhPT0gcHJlUmVxdWVzdExTUy5sYXN0QWNjZXNzVG9rZW5VcGRhdGUpXG4gICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgKDAsIGxvZ2dlcl8xLmxvZ0RlYnVnTWVzc2FnZSkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJvblVuYXV0aG9yaXNlZFJlc3BvbnNlOiBSZXRyeWluZyBlYXJseSBiZWNhdXNlIHByZSBhbmQgcG9zdCBpZCByZWZyZXNoIHRva2VucyBkb24ndCBtYXRjaFwiXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbWVhbnMgdGhhdCBzb21lIG90aGVyIHByb2Nlc3MgaGFzIGFscmVhZHkgY2FsbGVkIHRoaXMgQVBJIGFuZCBzdWNjZWVkZWQuIHNvIHdlIG5lZWQgdG8gY2FsbCBpdCBhZ2FpblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHsgcmVzdWx0OiBcIlJFVFJZXCIgfV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaGVhZGVycyA9IG5ldyBIZWFkZXJzKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghKHByZVJlcXVlc3RMU1Muc3RhdHVzID09PSBcIkVYSVNUU1wiKSkgcmV0dXJuIFszIC8qYnJlYWsqLywgN107XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIEFudGlDc3JmVG9rZW4uZ2V0VG9rZW4ocHJlUmVxdWVzdExTUy5sYXN0QWNjZXNzVG9rZW5VcGRhdGUpXTtcbiAgICAgICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgICAgIGFudGlDc3JmVG9rZW4gPSBfYi5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhbnRpQ3NyZlRva2VuICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICgwLCBsb2dnZXJfMS5sb2dEZWJ1Z01lc3NhZ2UpKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwib25VbmF1dGhvcmlzZWRSZXNwb25zZTogQWRkaW5nIGFudGktY3NyZiB0b2tlbiB0byByZWZyZXNoIEFQSSBjYWxsXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzLnNldChcImFudGktY3NyZlwiLCBhbnRpQ3NyZlRva2VuKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBfYi5sYWJlbCA9IDc7XG4gICAgICAgICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgICAgICAgICAoMCxcbiAgICAgICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nRGVidWdNZXNzYWdlKShcIm9uVW5hdXRob3Jpc2VkUmVzcG9uc2U6IEFkZGluZyByaWQgYW5kIGZkaS12ZXJzaW9ucyB0byByZWZyZXNoIGNhbGwgaGVhZGVyXCIpO1xuICAgICAgICAgICAgICAgICAgICBoZWFkZXJzLnNldChcInJpZFwiLCBBdXRoSHR0cFJlcXVlc3QucmlkKTtcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVycy5zZXQoXCJmZGktdmVyc2lvblwiLCB2ZXJzaW9uXzEuc3VwcG9ydGVkX2ZkaS5qb2luKFwiLFwiKSk7XG4gICAgICAgICAgICAgICAgICAgIHRyYW5zZmVyTWV0aG9kID0gQXV0aEh0dHBSZXF1ZXN0LmNvbmZpZy50b2tlblRyYW5zZmVyTWV0aG9kO1xuICAgICAgICAgICAgICAgICAgICAoMCxcbiAgICAgICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nRGVidWdNZXNzYWdlKShcIm9uVW5hdXRob3Jpc2VkUmVzcG9uc2U6IEFkZGluZyBzdC1hdXRoLW1vZGUgaGVhZGVyOiBcIiArIHRyYW5zZmVyTWV0aG9kKTtcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVycy5zZXQoXCJzdC1hdXRoLW1vZGVcIiwgdHJhbnNmZXJNZXRob2QpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBzZXRBdXRob3JpemF0aW9uSGVhZGVySWZSZXF1aXJlZChoZWFkZXJzLCB0cnVlKV07XG4gICAgICAgICAgICAgICAgY2FzZSA4OlxuICAgICAgICAgICAgICAgICAgICBfYi5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICgwLCBsb2dnZXJfMS5sb2dEZWJ1Z01lc3NhZ2UpKFwib25VbmF1dGhvcmlzZWRSZXNwb25zZTogQ2FsbGluZyByZWZyZXNoIHByZSBBUEkgaG9va1wiKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgICAgIDQgLyp5aWVsZCovLFxuICAgICAgICAgICAgICAgICAgICAgICAgQXV0aEh0dHBSZXF1ZXN0LmNvbmZpZy5wcmVBUElIb29rKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb246IFwiUkVGUkVTSF9TRVNTSU9OXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdEluaXQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiBcInBvc3RcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlZGVudGlhbHM6IFwiaW5jbHVkZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IEF1dGhIdHRwUmVxdWVzdC5yZWZyZXNoVG9rZW5VcmwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlckNvbnRleHQ6IHt9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgIGNhc2UgOTpcbiAgICAgICAgICAgICAgICAgICAgcHJlQVBJUmVzdWx0ID0gX2Iuc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAoMCwgbG9nZ2VyXzEubG9nRGVidWdNZXNzYWdlKShcIm9uVW5hdXRob3Jpc2VkUmVzcG9uc2U6IE1ha2luZyByZWZyZXNoIGNhbGxcIik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICA0IC8qeWllbGQqLyxcbiAgICAgICAgICAgICAgICAgICAgICAgIEF1dGhIdHRwUmVxdWVzdC5lbnYuX19zdXBlcnRva2Vuc09yaWdpbmFsRmV0Y2gocHJlQVBJUmVzdWx0LnVybCwgcHJlQVBJUmVzdWx0LnJlcXVlc3RJbml0KVxuICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgIGNhc2UgMTA6XG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gX2Iuc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAoMCwgbG9nZ2VyXzEubG9nRGVidWdNZXNzYWdlKShcIm9uVW5hdXRob3Jpc2VkUmVzcG9uc2U6IFJlZnJlc2ggY2FsbCBlbmRlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgc2F2ZVRva2Vuc0Zyb21IZWFkZXJzKHJlc3BvbnNlKV07XG4gICAgICAgICAgICAgICAgY2FzZSAxMTpcbiAgICAgICAgICAgICAgICAgICAgX2Iuc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAoMCwgbG9nZ2VyXzEubG9nRGVidWdNZXNzYWdlKShcIm9uVW5hdXRob3Jpc2VkUmVzcG9uc2U6IFJlZnJlc2ggc3RhdHVzIGNvZGUgaXM6IFwiICsgcmVzcG9uc2Uuc3RhdHVzKTtcbiAgICAgICAgICAgICAgICAgICAgaXNVbmF1dGhvcmlzZWQgPSByZXNwb25zZS5zdGF0dXMgPT09IEF1dGhIdHRwUmVxdWVzdC5jb25maWcuc2Vzc2lvbkV4cGlyZWRTdGF0dXNDb2RlO1xuICAgICAgICAgICAgICAgICAgICAvLyBUaGVyZSBpcyBhIGNhc2Ugd2hlcmUgdGhlIEZFIHRoaW5rcyB0aGUgc2Vzc2lvbiBpcyB2YWxpZCwgYnV0IGJhY2tlbmQgZG9lc24ndCBnZXQgdGhlIHRva2Vucy5cbiAgICAgICAgICAgICAgICAgICAgLy8gSW4gdGhpcyBldmVudCwgc2Vzc2lvbiBleHBpcmVkIGVycm9yIHdpbGwgYmUgdGhyb3duIGFuZCB0aGUgZnJvbnRlbmQgc2hvdWxkIHJlbW92ZSB0aGlzIHRva2VuXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc1VuYXV0aG9yaXNlZCAmJiByZXNwb25zZS5oZWFkZXJzLmdldChcImZyb250LXRva2VuXCIpID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBGcm9udFRva2VuLnNldEl0ZW0oXCJyZW1vdmVcIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZmlyZVNlc3Npb25VcGRhdGVFdmVudHNJZk5lY2Vzc2FyeShcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZVJlcXVlc3RMU1Muc3RhdHVzID09PSBcIkVYSVNUU1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNVbmF1dGhvcmlzZWQgJiYgcmVzcG9uc2UuaGVhZGVycy5nZXQoXCJmcm9udC10b2tlblwiKSA9PT0gbnVsbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gXCJyZW1vdmVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogcmVzcG9uc2UuaGVhZGVycy5nZXQoXCJmcm9udC10b2tlblwiKVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID49IDMwMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgcmVzcG9uc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgICAgIDQgLyp5aWVsZCovLFxuICAgICAgICAgICAgICAgICAgICAgICAgQXV0aEh0dHBSZXF1ZXN0LmNvbmZpZy5wb3N0QVBJSG9vayh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiBcIlJFRlJFU0hfU0VTU0lPTlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZldGNoUmVzcG9uc2U6IHJlc3BvbnNlLmNsb25lKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdEluaXQ6IHByZUFQSVJlc3VsdC5yZXF1ZXN0SW5pdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IHByZUFQSVJlc3VsdC51cmwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlckNvbnRleHQ6IHt9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgIGNhc2UgMTI6XG4gICAgICAgICAgICAgICAgICAgIF9iLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgZ2V0TG9jYWxTZXNzaW9uU3RhdGUoZmFsc2UpXTtcbiAgICAgICAgICAgICAgICBjYXNlIDEzOlxuICAgICAgICAgICAgICAgICAgICBpZiAoX2Iuc2VudCgpLnN0YXR1cyA9PT0gXCJOT1RfRVhJU1RTXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICgwLCBsb2dnZXJfMS5sb2dEZWJ1Z01lc3NhZ2UpKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwib25VbmF1dGhvcmlzZWRSZXNwb25zZTogbG9jYWwgc2Vzc2lvbiBkb2Vzbid0IGV4aXN0LCBzbyByZXR1cm5pbmcgc2Vzc2lvbiBleHBpcmVkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGUgZXhlY3V0aW9uIHNob3VsZCBuZXZlciBjb21lIGhlcmUuLiBidXQganVzdCBpbiBjYXNlLlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmVtb3ZlZCBieSBzZXJ2ZXIgZHVyaW5nIHJlZnJlc2guIFNvIHdlIGxvZ291dFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2UgZG8gbm90IHNlbmQgXCJVTkFVVEhPUklTRURcIiBldmVudCBoZXJlIGJlY2F1c2VcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgaXMgYSByZXN1bHQgb2YgdGhlIHJlZnJlc2ggQVBJIHJldHVybmluZyBhIHNlc3Npb24gZXhwaXJ5LCB3aGljaFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbWVhbnMgdGhhdCB0aGUgZnJvbnRlbmQgZGlkIG5vdCBrbm93IGZvciBzdXJlIHRoYXQgdGhlIHNlc3Npb24gZXhpc3RlZFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaW4gdGhlIGZpcnN0IHBsYWNlLlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHsgcmVzdWx0OiBcIlNFU1NJT05fRVhQSVJFRFwiIH1dO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIEF1dGhIdHRwUmVxdWVzdC5jb25maWcub25IYW5kbGVFdmVudCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb246IFwiUkVGUkVTSF9TRVNTSU9OXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VyQ29udGV4dDoge31cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICgwLCBsb2dnZXJfMS5sb2dEZWJ1Z01lc3NhZ2UpKFwib25VbmF1dGhvcmlzZWRSZXNwb25zZTogU2VuZGluZyBSRVRSWSBzaWduYWxcIik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCB7IHJlc3VsdDogXCJSRVRSWVwiIH1dO1xuICAgICAgICAgICAgICAgIGNhc2UgMTQ6XG4gICAgICAgICAgICAgICAgICAgIGVycm9yXzEgPSBfYi5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIGdldExvY2FsU2Vzc2lvblN0YXRlKGZhbHNlKV07XG4gICAgICAgICAgICAgICAgY2FzZSAxNTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKF9iLnNlbnQoKS5zdGF0dXMgPT09IFwiTk9UX0VYSVNUU1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAoMCwgbG9nZ2VyXzEubG9nRGVidWdNZXNzYWdlKShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIm9uVW5hdXRob3Jpc2VkUmVzcG9uc2U6IGxvY2FsIHNlc3Npb24gZG9lc24ndCBleGlzdCwgc28gcmV0dXJuaW5nIHNlc3Npb24gZXhwaXJlZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmVtb3ZlZCBieSBzZXJ2ZXIuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB3ZSBkbyBub3Qgc2VuZCBcIlVOQVVUSE9SSVNFRFwiIGV2ZW50IGhlcmUgYmVjYXVzZVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhpcyBpcyBhIHJlc3VsdCBvZiB0aGUgcmVmcmVzaCBBUEkgcmV0dXJuaW5nIGEgc2Vzc2lvbiBleHBpcnksIHdoaWNoXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBtZWFucyB0aGF0IHRoZSBmcm9udGVuZCBkaWQgbm90IGtub3cgZm9yIHN1cmUgdGhhdCB0aGUgc2Vzc2lvbiBleGlzdGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpbiB0aGUgZmlyc3QgcGxhY2UuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgeyByZXN1bHQ6IFwiU0VTU0lPTl9FWFBJUkVEXCIsIGVycm9yOiBlcnJvcl8xIH1dO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICgwLCBsb2dnZXJfMS5sb2dEZWJ1Z01lc3NhZ2UpKFwib25VbmF1dGhvcmlzZWRSZXNwb25zZTogc2VuZGluZyBBUElfRVJST1JcIik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCB7IHJlc3VsdDogXCJBUElfRVJST1JcIiwgZXJyb3I6IGVycm9yXzEgfV07XG4gICAgICAgICAgICAgICAgY2FzZSAxNjpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgbG9jay5yZWxlYXNlTG9jayhcIlJFRlJFU0hfVE9LRU5fVVNFXCIpXTtcbiAgICAgICAgICAgICAgICBjYXNlIDE3OlxuICAgICAgICAgICAgICAgICAgICBfYi5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICgwLCBsb2dnZXJfMS5sb2dEZWJ1Z01lc3NhZ2UpKFwib25VbmF1dGhvcmlzZWRSZXNwb25zZTogUmVsZWFzZWQgbG9ja1wiKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgZ2V0TG9jYWxTZXNzaW9uU3RhdGUoZmFsc2UpXTtcbiAgICAgICAgICAgICAgICBjYXNlIDE4OlxuICAgICAgICAgICAgICAgICAgICBpZiAoIShfYi5zZW50KCkuc3RhdHVzID09PSBcIk5PVF9FWElTVFNcIikpIHJldHVybiBbMyAvKmJyZWFrKi8sIDIxXTtcbiAgICAgICAgICAgICAgICAgICAgKDAsXG4gICAgICAgICAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ0RlYnVnTWVzc2FnZSkoXCJvblVuYXV0aG9yaXNlZFJlc3BvbnNlOiBsb2NhbCBzZXNzaW9uIGRvZXNuJ3QgZXhpc3QsIHNvIHJlbW92aW5nIGFudGktY3NyZiBhbmQgc0Zyb250VG9rZW5cIik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIEFudGlDc3JmVG9rZW4ucmVtb3ZlVG9rZW4oKV07XG4gICAgICAgICAgICAgICAgY2FzZSAxOTpcbiAgICAgICAgICAgICAgICAgICAgX2Iuc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBGcm9udFRva2VuLnJlbW92ZVRva2VuKCldO1xuICAgICAgICAgICAgICAgIGNhc2UgMjA6XG4gICAgICAgICAgICAgICAgICAgIF9iLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgX2IubGFiZWwgPSAyMTtcbiAgICAgICAgICAgICAgICBjYXNlIDIxOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzcgLyplbmRmaW5hbGx5Ki9dO1xuICAgICAgICAgICAgICAgIGNhc2UgMjI6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIGdldExvY2FsU2Vzc2lvblN0YXRlKGZhbHNlKV07XG4gICAgICAgICAgICAgICAgY2FzZSAyMzpcbiAgICAgICAgICAgICAgICAgICAgcG9zdFJlcXVlc3RMU1MgPSBfYi5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwb3N0UmVxdWVzdExTUy5zdGF0dXMgPT09IFwiTk9UX0VYSVNUU1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAoMCwgbG9nZ2VyXzEubG9nRGVidWdNZXNzYWdlKShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIm9uVW5hdXRob3Jpc2VkUmVzcG9uc2U6IGxvY2sgYWNxdWlyZWQgZmFpbGVkIGFuZCBsb2NhbCBzZXNzaW9uIGRvZXNuJ3QgZXhpc3QsIHNvIHNlbmRpbmcgU0VTU0lPTl9FWFBJUkVEXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyByZW1vdmVkIGJ5IHNlcnZlci4gU28gd2UgbG9nb3V0XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgeyByZXN1bHQ6IFwiU0VTU0lPTl9FWFBJUkVEXCIgfV07XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zdFJlcXVlc3RMU1Muc3RhdHVzICE9PSBwcmVSZXF1ZXN0TFNTLnN0YXR1cyB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChwb3N0UmVxdWVzdExTUy5zdGF0dXMgPT09IFwiRVhJU1RTXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJlUmVxdWVzdExTUy5zdGF0dXMgPT09IFwiRVhJU1RTXCIgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zdFJlcXVlc3RMU1MubGFzdEFjY2Vzc1Rva2VuVXBkYXRlICE9PSBwcmVSZXF1ZXN0TFNTLmxhc3RBY2Nlc3NUb2tlblVwZGF0ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICgwLCBsb2dnZXJfMS5sb2dEZWJ1Z01lc3NhZ2UpKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIm9uVW5hdXRob3Jpc2VkUmVzcG9uc2U6IGxvY2sgYWNxdWlyZWQgZmFpbGVkIGFuZCByZXRyeWluZyBlYXJseSBiZWNhdXNlIHByZSBhbmQgcG9zdCBpZCByZWZyZXNoIHRva2VucyBkb24ndCBtYXRjaFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgeyByZXN1bHQ6IFwiUkVUUllcIiB9XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGhlcmUgd2UgdHJ5IHRvIGNhbGwgdGhlIEFQSSBhZ2FpbiBzaW5jZSB3ZSBwcm9iYWJseSBmYWlsZWQgdG8gYWNxdWlyZSBsb2NrIGFuZCBub3RoaW5nIGhhcyBjaGFuZ2VkLlxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDJdO1xuICAgICAgICAgICAgICAgIGNhc2UgMjQ6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG5leHBvcnRzLm9uVW5hdXRob3Jpc2VkUmVzcG9uc2UgPSBvblVuYXV0aG9yaXNlZFJlc3BvbnNlO1xuZnVuY3Rpb24gb25Ub2tlblVwZGF0ZSgpIHtcbiAgICAoMCwgbG9nZ2VyXzEubG9nRGVidWdNZXNzYWdlKShcIm9uVG9rZW5VcGRhdGU6IGZpcmluZyBBQ0NFU1NfVE9LRU5fUEFZTE9BRF9VUERBVEVEIGV2ZW50XCIpO1xuICAgIEF1dGhIdHRwUmVxdWVzdC5jb25maWcub25IYW5kbGVFdmVudCh7XG4gICAgICAgIGFjdGlvbjogXCJBQ0NFU1NfVE9LRU5fUEFZTE9BRF9VUERBVEVEXCIsXG4gICAgICAgIHVzZXJDb250ZXh0OiB7fVxuICAgIH0pO1xufVxuZXhwb3J0cy5vblRva2VuVXBkYXRlID0gb25Ub2tlblVwZGF0ZTtcbmZ1bmN0aW9uIG9uSW52YWxpZENsYWltUmVzcG9uc2UocmVzcG9uc2UpIHtcbiAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjbGFpbVZhbGlkYXRpb25FcnJvcnMsIF9iO1xuICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9jKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICBfYy50cnlzLnB1c2goWzAsIDIsICwgM10pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAgICAgNCAvKnlpZWxkKi8sXG4gICAgICAgICAgICAgICAgICAgICAgICBBdXRoSHR0cFJlcXVlc3QucmVjaXBlSW1wbC5nZXRJbnZhbGlkQ2xhaW1zRnJvbVJlc3BvbnNlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZTogcmVzcG9uc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlckNvbnRleHQ6IHt9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgY2xhaW1WYWxpZGF0aW9uRXJyb3JzID0gX2Muc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIHNob3VsZG4ndCBiZSB1bmRlZmluZWQgbm9ybWFsbHksIGJ1dCBzaW5jZSB3ZSBjYW4ndCBiZSBjZXJ0YWluIGFib3V0IHRoZSBzaGFwZSBvZiB0aGUgcmVzcG9uc2Ugb2JqZWN0IHNvIHdlIGNoZWNrIGl0IGxpa2UgdGhpcy5cbiAgICAgICAgICAgICAgICAgICAgLy8gSXQgY291bGQgc3RpbGwgYmUgc29tZXRoaW5nIGVsc2UsIGJ1dCBjaGFuY2Ugb2YgdGhhdCBoYXBwZW5pbmcgYnkgYWNjaWRlbnQgaXMgcmVhbGx5IGxvdy5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGNsYWltVmFsaWRhdGlvbkVycm9ycykge1xuICAgICAgICAgICAgICAgICAgICAgICAgQXV0aEh0dHBSZXF1ZXN0LmNvbmZpZy5vbkhhbmRsZUV2ZW50KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb246IFwiQVBJX0lOVkFMSURfQ0xBSU1cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFpbVZhbGlkYXRpb25FcnJvcnM6IGNsYWltVmFsaWRhdGlvbkVycm9ycyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyQ29udGV4dDoge31cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDNdO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgX2IgPSBfYy5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDNdO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcbn1cbmV4cG9ydHMub25JbnZhbGlkQ2xhaW1SZXNwb25zZSA9IG9uSW52YWxpZENsYWltUmVzcG9uc2U7XG4vLyBpZiB0cnlSZWZyZXNoIGlzIHRydWUgJiB0aGlzIHRva2VuIGRvZXNuJ3QgZXhpc3QsIHdlIHRyeSBhbmQgcmVmcmVzaCB0aGUgc2Vzc2lvblxuLy8gZWxzZSB3ZSByZXR1cm4gdW5kZWZpbmVkLlxuZnVuY3Rpb24gZ2V0TG9jYWxTZXNzaW9uU3RhdGUodHJ5UmVmcmVzaCkge1xuICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGxhc3RBY2Nlc3NUb2tlblVwZGF0ZSwgZnJvbnRUb2tlbkV4aXN0cywgcmVzcG9uc2UsIHJlcztcbiAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYikge1xuICAgICAgICAgICAgc3dpdGNoIChfYi5sYWJlbCkge1xuICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgKDAsIGxvZ2dlcl8xLmxvZ0RlYnVnTWVzc2FnZSkoXCJnZXRMb2NhbFNlc3Npb25TdGF0ZTogY2FsbGVkXCIpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBnZXRGcm9tQ29va2llcyhMQVNUX0FDQ0VTU19UT0tFTl9VUERBVEUpXTtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGxhc3RBY2Nlc3NUb2tlblVwZGF0ZSA9IF9iLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgRnJvbnRUb2tlbi5kb2VzVG9rZW5FeGlzdHMoKV07XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBmcm9udFRva2VuRXhpc3RzID0gX2Iuc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIShmcm9udFRva2VuRXhpc3RzICYmIGxhc3RBY2Nlc3NUb2tlblVwZGF0ZSAhPT0gdW5kZWZpbmVkKSkgcmV0dXJuIFszIC8qYnJlYWsqLywgM107XG4gICAgICAgICAgICAgICAgICAgICgwLFxuICAgICAgICAgICAgICAgICAgICBsb2dnZXJfMS5sb2dEZWJ1Z01lc3NhZ2UpKFwiZ2V0TG9jYWxTZXNzaW9uU3RhdGU6IHJldHVybmluZyBFWElTVFMgc2luY2UgYm90aCBmcm9udFRva2VuIGFuZCBsYXN0QWNjZXNzVG9rZW5VcGRhdGUgZXhpc3RzXCIpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgeyBzdGF0dXM6IFwiRVhJU1RTXCIsIGxhc3RBY2Nlc3NUb2tlblVwZGF0ZTogbGFzdEFjY2Vzc1Rva2VuVXBkYXRlIH1dO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFsYXN0QWNjZXNzVG9rZW5VcGRhdGUpIHJldHVybiBbMyAvKmJyZWFrKi8sIDRdO1xuICAgICAgICAgICAgICAgICAgICAoMCxcbiAgICAgICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nRGVidWdNZXNzYWdlKShcImdldExvY2FsU2Vzc2lvblN0YXRlOiByZXR1cm5pbmcgTk9UX0VYSVNUUyBzaW5jZSBmcm9udFRva2VuIHdhcyBjbGVhcmVkIGJ1dCBsYXN0QWNjZXNzVG9rZW5VcGRhdGUgZXhpc3RzXCIpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgeyBzdGF0dXM6IFwiTk9UX0VYSVNUU1wiIH1dO1xuICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IFwiTUFZX0VYSVNUXCJcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0cnlSZWZyZXNoKSByZXR1cm4gWzMgLypicmVhayovLCA3XTtcbiAgICAgICAgICAgICAgICAgICAgKDAsIGxvZ2dlcl8xLmxvZ0RlYnVnTWVzc2FnZSkoXCJnZXRMb2NhbFNlc3Npb25TdGF0ZTogdHJ5aW5nIHRvIHJlZnJlc2hcIik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIG9uVW5hdXRob3Jpc2VkUmVzcG9uc2UocmVzcG9uc2UpXTtcbiAgICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgICAgIHJlcyA9IF9iLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5yZXN1bHQgIT09IFwiUkVUUllcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgKDAsIGxvZ2dlcl8xLmxvZ0RlYnVnTWVzc2FnZSkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJnZXRMb2NhbFNlc3Npb25TdGF0ZTogcmV0dXJuIE5PVF9FWElTVFMgaW4gY2FzZSBlcnJvciBmcm9tIGJhY2tlbmRcIiArIHJlcy5yZXN1bHRcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpbiBjYXNlIHRoZSBiYWNrZW5kIGlzIG5vdCB3b3JraW5nLCB3ZSB0cmVhdCBpdCBhcyB0aGUgc2Vzc2lvbiBub3QgZXhpc3RpbmcuLi5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMiAvKnJldHVybiovLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBcIk5PVF9FWElTVFNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgKDAsIGxvZ2dlcl8xLmxvZ0RlYnVnTWVzc2FnZSkoXCJnZXRMb2NhbFNlc3Npb25TdGF0ZTogUmV0cnlpbmcgcG9zdCByZWZyZXNoXCIpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBnZXRMb2NhbFNlc3Npb25TdGF0ZSh0cnlSZWZyZXNoKV07XG4gICAgICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgX2Iuc2VudCgpXTtcbiAgICAgICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgICAgICAgICgwLCBsb2dnZXJfMS5sb2dEZWJ1Z01lc3NhZ2UpKFwiZ2V0TG9jYWxTZXNzaW9uU3RhdGU6IHJldHVybmluZzogXCIgKyByZXNwb25zZS5zdGF0dXMpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgcmVzcG9uc2VdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcbn1cbmV4cG9ydHMuZ2V0TG9jYWxTZXNzaW9uU3RhdGUgPSBnZXRMb2NhbFNlc3Npb25TdGF0ZTtcbmZ1bmN0aW9uIGdldFN0b3JhZ2VOYW1lRm9yVG9rZW4odG9rZW5UeXBlKSB7XG4gICAgc3dpdGNoICh0b2tlblR5cGUpIHtcbiAgICAgICAgY2FzZSBcImFjY2Vzc1wiOlxuICAgICAgICAgICAgcmV0dXJuIEFDQ0VTU19UT0tFTl9OQU1FO1xuICAgICAgICBjYXNlIFwicmVmcmVzaFwiOlxuICAgICAgICAgICAgcmV0dXJuIFJFRlJFU0hfVE9LRU5fTkFNRTtcbiAgICB9XG59XG5leHBvcnRzLmdldFN0b3JhZ2VOYW1lRm9yVG9rZW4gPSBnZXRTdG9yYWdlTmFtZUZvclRva2VuO1xuZnVuY3Rpb24gc2V0VG9rZW4odG9rZW5UeXBlLCB2YWx1ZSkge1xuICAgIHZhciBuYW1lID0gZ2V0U3RvcmFnZU5hbWVGb3JUb2tlbih0b2tlblR5cGUpO1xuICAgIGlmICh2YWx1ZSAhPT0gXCJcIikge1xuICAgICAgICAoMCwgbG9nZ2VyXzEubG9nRGVidWdNZXNzYWdlKShcInNldFRva2VuOiBzYXZlZCBcIi5jb25jYXQodG9rZW5UeXBlLCBcIiB0b2tlbiBpbnRvIGNvb2tpZXNcIikpO1xuICAgICAgICAvLyBXZSBzYXZlIHRoZSB0b2tlbnMgd2l0aCBhIDEwMC15ZWFyIGV4cGlyYXRpb24gdGltZVxuICAgICAgICByZXR1cm4gc3RvcmVJbkNvb2tpZXMobmFtZSwgdmFsdWUsIERhdGUubm93KCkgKyAzMTUzNjAwMDAwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICAoMCwgbG9nZ2VyXzEubG9nRGVidWdNZXNzYWdlKShcInNldFRva2VuOiBjbGVhcmVkIFwiLmNvbmNhdCh0b2tlblR5cGUsIFwiIHRva2VuIGZyb20gY29va2llc1wiKSk7XG4gICAgICAgIHJldHVybiBzdG9yZUluQ29va2llcyhuYW1lLCB2YWx1ZSwgMCk7XG4gICAgfVxufVxuZXhwb3J0cy5zZXRUb2tlbiA9IHNldFRva2VuO1xuZnVuY3Rpb24gc3RvcmVJbkNvb2tpZXMobmFtZSwgdmFsdWUsIGV4cGlyeSkge1xuICAgIHZhciBleHBpcmVzID0gXCJGcmksIDMxIERlYyA5OTk5IDIzOjU5OjU5IEdNVFwiO1xuICAgIGlmIChleHBpcnkgIT09IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSKSB7XG4gICAgICAgIC8vIFdlIHNob3VsZCByZXNwZWN0IHRoZSBzdG9yYWdlIGV4cGlyYXRpb25zIHNldCBieSB0aGUgYmFja2VuZCwgZXZlbiB0aG91Z2ggdG9rZW5zIHdpbGwgYWxzbyBiZSBjaGVja2VkIGVsc2V3aGVyZS5cbiAgICAgICAgLy8gV2UgY2hlY2sgdGhlbSBsb2NhbGx5IGluIGNhc2Ugb2YgZnJvbnQtdG9rZW4sIGFuZCBvbiB0aGUgYmFja2VuZCBlbmZvcmNlcyB0aGUgdmFsaWRpdHkgcGVyaW9kIGZvciBhY2Nlc3MgYW5kIHJlZnJlc2ggdG9rZW5zLlxuICAgICAgICBleHBpcmVzID0gbmV3IERhdGUoZXhwaXJ5KS50b1VUQ1N0cmluZygpO1xuICAgIH1cbiAgICB2YXIgZG9tYWluID0gQXV0aEh0dHBSZXF1ZXN0LmNvbmZpZy5zZXNzaW9uVG9rZW5Gcm9udGVuZERvbWFpbjtcbiAgICBpZiAoXG4gICAgICAgIGRvbWFpbiA9PT0gXCJsb2NhbGhvc3RcIiB8fFxuICAgICAgICBkb21haW4gPT09IHdpbmRvd0hhbmRsZXJfMS5kZWZhdWx0LmdldFJlZmVyZW5jZU9yVGhyb3coKS53aW5kb3dIYW5kbGVyLmxvY2F0aW9uLmdldEhvc3ROYW1lKClcbiAgICApIHtcbiAgICAgICAgLy8gc2luY2Ugc29tZSBicm93c2VycyBpZ25vcmUgY29va2llcyB3aXRoIGRvbWFpbiBzZXQgdG8gbG9jYWxob3N0XG4gICAgICAgIC8vIHNlZSBodHRwczovL2dpdGh1Yi5jb20vc3VwZXJ0b2tlbnMvc3VwZXJ0b2tlbnMtd2Vic2l0ZS9pc3N1ZXMvMjVcbiAgICAgICAgcmV0dXJuIGNvb2tpZUhhbmRsZXJfMS5kZWZhdWx0LmdldFJlZmVyZW5jZU9yVGhyb3coKS5jb29raWVIYW5kbGVyLnNldENvb2tpZShcbiAgICAgICAgICAgIFwiXCJcbiAgICAgICAgICAgICAgICAuY29uY2F0KG5hbWUsIFwiPVwiKVxuICAgICAgICAgICAgICAgIC5jb25jYXQodmFsdWUsIFwiO2V4cGlyZXM9XCIpXG4gICAgICAgICAgICAgICAgLmNvbmNhdChleHBpcmVzLCBcIjtwYXRoPS87c2FtZXNpdGU9XCIpXG4gICAgICAgICAgICAgICAgLmNvbmNhdChBdXRoSHR0cFJlcXVlc3QuY29uZmlnLmlzSW5JZnJhbWUgPyBcIm5vbmU7c2VjdXJlXCIgOiBcImxheFwiKVxuICAgICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBjb29raWVIYW5kbGVyXzEuZGVmYXVsdC5nZXRSZWZlcmVuY2VPclRocm93KCkuY29va2llSGFuZGxlci5zZXRDb29raWUoXG4gICAgICAgICAgICBcIlwiXG4gICAgICAgICAgICAgICAgLmNvbmNhdChuYW1lLCBcIj1cIilcbiAgICAgICAgICAgICAgICAuY29uY2F0KHZhbHVlLCBcIjtleHBpcmVzPVwiKVxuICAgICAgICAgICAgICAgIC5jb25jYXQoZXhwaXJlcywgXCI7ZG9tYWluPVwiKVxuICAgICAgICAgICAgICAgIC5jb25jYXQoZG9tYWluLCBcIjtwYXRoPS87c2FtZXNpdGU9XCIpXG4gICAgICAgICAgICAgICAgLmNvbmNhdChBdXRoSHR0cFJlcXVlc3QuY29uZmlnLmlzSW5JZnJhbWUgPyBcIm5vbmU7c2VjdXJlXCIgOiBcImxheFwiKVxuICAgICAgICApO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGdldFRva2VuRm9ySGVhZGVyQXV0aCh0b2tlblR5cGUpIHtcbiAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBuYW1lO1xuICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9iKSB7XG4gICAgICAgICAgICBuYW1lID0gZ2V0U3RvcmFnZU5hbWVGb3JUb2tlbih0b2tlblR5cGUpO1xuICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIGdldEZyb21Db29raWVzKG5hbWUpXTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG5leHBvcnRzLmdldFRva2VuRm9ySGVhZGVyQXV0aCA9IGdldFRva2VuRm9ySGVhZGVyQXV0aDtcbmZ1bmN0aW9uIGdldEZyb21Db29raWVzKG5hbWUpIHtcbiAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB2YWx1ZSwgX2IsIHBhcnRzLCBsYXN0O1xuICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9jKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9jLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICBfYiA9IFwiOyBcIjtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgY29va2llSGFuZGxlcl8xLmRlZmF1bHQuZ2V0UmVmZXJlbmNlT3JUaHJvdygpLmNvb2tpZUhhbmRsZXIuZ2V0Q29va2llKCldO1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBfYiArIF9jLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgcGFydHMgPSB2YWx1ZS5zcGxpdChcIjsgXCIgKyBuYW1lICsgXCI9XCIpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID49IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhc3QgPSBwYXJ0cy5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsYXN0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgbGFzdC5zcGxpdChcIjtcIikuc2hpZnQoKV07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHVuZGVmaW5lZF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuZnVuY3Rpb24gc2V0QXV0aG9yaXphdGlvbkhlYWRlcklmUmVxdWlyZWQoY2xvbmVkSGVhZGVycywgYWRkUmVmcmVzaFRva2VuKSB7XG4gICAgaWYgKGFkZFJlZnJlc2hUb2tlbiA9PT0gdm9pZCAwKSB7XG4gICAgICAgIGFkZFJlZnJlc2hUb2tlbiA9IGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhY2Nlc3NUb2tlbiwgcmVmcmVzaFRva2VuO1xuICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9iKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9iLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAoMCwgbG9nZ2VyXzEubG9nRGVidWdNZXNzYWdlKShcInNldFRva2VuSGVhZGVyczogYWRkaW5nIGV4aXN0aW5nIHRva2VucyBhcyBoZWFkZXJcIik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIGdldFRva2VuRm9ySGVhZGVyQXV0aChcImFjY2Vzc1wiKV07XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBhY2Nlc3NUb2tlbiA9IF9iLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgZ2V0VG9rZW5Gb3JIZWFkZXJBdXRoKFwicmVmcmVzaFwiKV07XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICByZWZyZXNoVG9rZW4gPSBfYi5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIFdlIGRvbid0IGFsd2F5cyBuZWVkIHRoZSByZWZyZXNoIHRva2VuIGJlY2F1c2UgdGhhdCdzIG9ubHkgcmVxdWlyZWQgYnkgdGhlIHJlZnJlc2ggY2FsbFxuICAgICAgICAgICAgICAgICAgICAvLyBTdGlsbCwgd2Ugb25seSBhZGQgdGhlIGFjY2VzcyB0b2tlbiB0byBBdXRob3JpemF0aW9uIGhlYWRlciBpZiBib3RoIGFyZSBwcmVzZW50LCBiZWNhdXNlIHdlIGFyZSBwbGFubmluZyB0byBhZGQgYW4gb3B0aW9uIHRvIGV4cG9zZSB0aGVcbiAgICAgICAgICAgICAgICAgICAgLy8gYWNjZXNzIHRva2VuIHRvIHRoZSBmcm9udGVuZCB3aGlsZSB1c2luZyBjb29raWUgYmFzZWQgYXV0aCAtIHNvIHRoYXQgdXNlcnMgY2FuIGdldCB0aGUgYWNjZXNzIHRva2VuIHdpdGhvdXQgdXNpbmcgaGVhZGVyIGJhc2VkIGF1dGhcbiAgICAgICAgICAgICAgICAgICAgLy8gV2UgY2FuIGFkZCB0aGUgcmVmcmVzaCB0b2tlbiBldmVuIGlmIG9ubHkgdGhhdCBvbmUgaXMgcHJlc2VudCwgdG8gbWFrZSBtYW51YWwgdGVzdGluZyBlYXNpZXIgLSB5b3UgY2FuIHRoZW5cbiAgICAgICAgICAgICAgICAgICAgLy8gZm9yY2UgYSByZWZyZXNoIGJ5IGp1c3QgZGVsZXRpbmcgdGhlIGFjY2VzcyB0b2tlbi5cbiAgICAgICAgICAgICAgICAgICAgaWYgKChhZGRSZWZyZXNoVG9rZW4gfHwgYWNjZXNzVG9rZW4gIT09IHVuZGVmaW5lZCkgJiYgcmVmcmVzaFRva2VuICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoZSBIZWFkZXJzIGNsYXNzIG5vcm1hbGl6ZXMgaGVhZGVyIG5hbWVzIHNvIHdlIGRvbid0IGhhdmUgdG8gd29ycnkgYWJvdXQgY2FzaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2xvbmVkSGVhZGVycy5oYXMoXCJBdXRob3JpemF0aW9uXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKDAsIGxvZ2dlcl8xLmxvZ0RlYnVnTWVzc2FnZSkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwic2V0QXV0aG9yaXphdGlvbkhlYWRlcklmUmVxdWlyZWQ6IEF1dGhvcml6YXRpb24gaGVhZGVyIGRlZmluZWQgYnkgdGhlIHVzZXIsIG5vdCBhZGRpbmdcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICgwLCBsb2dnZXJfMS5sb2dEZWJ1Z01lc3NhZ2UpKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInNldEF1dGhvcml6YXRpb25IZWFkZXJJZlJlcXVpcmVkOiBhZGRlZCBhdXRob3JpemF0aW9uIGhlYWRlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbG9uZWRIZWFkZXJzLnNldChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJBdXRob3JpemF0aW9uXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiQmVhcmVyIFwiLmNvbmNhdChhZGRSZWZyZXNoVG9rZW4gPyByZWZyZXNoVG9rZW4gOiBhY2Nlc3NUb2tlbilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgKDAsIGxvZ2dlcl8xLmxvZ0RlYnVnTWVzc2FnZSkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJzZXRBdXRob3JpemF0aW9uSGVhZGVySWZSZXF1aXJlZDogdG9rZW4gZm9yIGhlYWRlciBiYXNlZCBhdXRoIG5vdCBmb3VuZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG5mdW5jdGlvbiBzYXZlVG9rZW5zRnJvbUhlYWRlcnMocmVzcG9uc2UpIHtcbiAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciByZWZyZXNoVG9rZW4sIGFjY2Vzc1Rva2VuLCBmcm9udFRva2VuLCBhbnRpQ3NyZlRva2VuLCB0b2s7XG4gICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2IpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2IubGFiZWwpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICgwLFxuICAgICAgICAgICAgICAgICAgICBsb2dnZXJfMS5sb2dEZWJ1Z01lc3NhZ2UpKFwic2F2ZVRva2Vuc0Zyb21IZWFkZXJzOiBTYXZpbmcgdXBkYXRlZCB0b2tlbnMgZnJvbSB0aGUgcmVzcG9uc2UgaGVhZGVyc1wiKTtcbiAgICAgICAgICAgICAgICAgICAgcmVmcmVzaFRva2VuID0gcmVzcG9uc2UuaGVhZGVycy5nZXQoXCJzdC1yZWZyZXNoLXRva2VuXCIpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIShyZWZyZXNoVG9rZW4gIT09IG51bGwpKSByZXR1cm4gWzMgLypicmVhayovLCAyXTtcbiAgICAgICAgICAgICAgICAgICAgKDAsIGxvZ2dlcl8xLmxvZ0RlYnVnTWVzc2FnZSkoXCJzYXZlVG9rZW5zRnJvbUhlYWRlcnM6IHNhdmluZyBuZXcgcmVmcmVzaCB0b2tlblwiKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgc2V0VG9rZW4oXCJyZWZyZXNoXCIsIHJlZnJlc2hUb2tlbildO1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgX2Iuc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICBfYi5sYWJlbCA9IDI7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBhY2Nlc3NUb2tlbiA9IHJlc3BvbnNlLmhlYWRlcnMuZ2V0KFwic3QtYWNjZXNzLXRva2VuXCIpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIShhY2Nlc3NUb2tlbiAhPT0gbnVsbCkpIHJldHVybiBbMyAvKmJyZWFrKi8sIDRdO1xuICAgICAgICAgICAgICAgICAgICAoMCwgbG9nZ2VyXzEubG9nRGVidWdNZXNzYWdlKShcInNhdmVUb2tlbnNGcm9tSGVhZGVyczogc2F2aW5nIG5ldyBhY2Nlc3MgdG9rZW5cIik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHNldFRva2VuKFwiYWNjZXNzXCIsIGFjY2Vzc1Rva2VuKV07XG4gICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICBfYi5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgIF9iLmxhYmVsID0gNDtcbiAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgIGZyb250VG9rZW4gPSByZXNwb25zZS5oZWFkZXJzLmdldChcImZyb250LXRva2VuXCIpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIShmcm9udFRva2VuICE9PSBudWxsKSkgcmV0dXJuIFszIC8qYnJlYWsqLywgNl07XG4gICAgICAgICAgICAgICAgICAgICgwLCBsb2dnZXJfMS5sb2dEZWJ1Z01lc3NhZ2UpKFwic2F2ZVRva2Vuc0Zyb21IZWFkZXJzOiBTZXR0aW5nIHNGcm9udFRva2VuOiBcIiArIGZyb250VG9rZW4pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBGcm9udFRva2VuLnNldEl0ZW0oZnJvbnRUb2tlbildO1xuICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICAgICAgX2Iuc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICBfYi5sYWJlbCA9IDY7XG4gICAgICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICAgICAgICBhbnRpQ3NyZlRva2VuID0gcmVzcG9uc2UuaGVhZGVycy5nZXQoXCJhbnRpLWNzcmZcIik7XG4gICAgICAgICAgICAgICAgICAgIGlmICghKGFudGlDc3JmVG9rZW4gIT09IG51bGwpKSByZXR1cm4gWzMgLypicmVhayovLCA5XTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgZ2V0TG9jYWxTZXNzaW9uU3RhdGUodHJ1ZSldO1xuICAgICAgICAgICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgICAgICAgICAgdG9rID0gX2Iuc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoISh0b2suc3RhdHVzID09PSBcIkVYSVNUU1wiKSkgcmV0dXJuIFszIC8qYnJlYWsqLywgOV07XG4gICAgICAgICAgICAgICAgICAgICgwLCBsb2dnZXJfMS5sb2dEZWJ1Z01lc3NhZ2UpKFwic2F2ZVRva2Vuc0Zyb21IZWFkZXJzOiBTZXR0aW5nIGFudGktY3NyZiB0b2tlblwiKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgQW50aUNzcmZUb2tlbi5zZXRJdGVtKHRvay5sYXN0QWNjZXNzVG9rZW5VcGRhdGUsIGFudGlDc3JmVG9rZW4pXTtcbiAgICAgICAgICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgICAgICAgICAgIF9iLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgX2IubGFiZWwgPSA5O1xuICAgICAgICAgICAgICAgIGNhc2UgOTpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIHNhdmVMYXN0QWNjZXNzVG9rZW5VcGRhdGUoKSB7XG4gICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbm93O1xuICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9iKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9iLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAoMCwgbG9nZ2VyXzEubG9nRGVidWdNZXNzYWdlKShcInNhdmVMYXN0QWNjZXNzVG9rZW5VcGRhdGU6IGNhbGxlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgbm93ID0gRGF0ZS5ub3coKS50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICAoMCwgbG9nZ2VyXzEubG9nRGVidWdNZXNzYWdlKShcInNhdmVMYXN0QWNjZXNzVG9rZW5VcGRhdGU6IHNldHRpbmcgXCIgKyBub3cpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBzdG9yZUluQ29va2llcyhMQVNUX0FDQ0VTU19UT0tFTl9VUERBVEUsIG5vdywgTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIpXTtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIF9iLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gV2UgY2xlYXIgdGhlIHNJUlRGcm9udGVuZCBjb29raWVcbiAgICAgICAgICAgICAgICAgICAgLy8gV2UgYXJlIGhhbmRsaW5nIHRoaXMgYXMgYSBzcGVjaWFsIGNhc2UgaGVyZSBiZWNhdXNlIHdlIHdhbnQgdG8gbGltaXQgdGhlIHNjb3BlIG9mIGxlZ2FjeSBjb2RlXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHN0b3JlSW5Db29raWVzKFwic0lSVEZyb250ZW5kXCIsIFwiXCIsIDApXTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIC8vIFdlIGNsZWFyIHRoZSBzSVJURnJvbnRlbmQgY29va2llXG4gICAgICAgICAgICAgICAgICAgIC8vIFdlIGFyZSBoYW5kbGluZyB0aGlzIGFzIGEgc3BlY2lhbCBjYXNlIGhlcmUgYmVjYXVzZSB3ZSB3YW50IHRvIGxpbWl0IHRoZSBzY29wZSBvZiBsZWdhY3kgY29kZVxuICAgICAgICAgICAgICAgICAgICBfYi5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG5leHBvcnRzLnNhdmVMYXN0QWNjZXNzVG9rZW5VcGRhdGUgPSBzYXZlTGFzdEFjY2Vzc1Rva2VuVXBkYXRlO1xuZnVuY3Rpb24gZ2V0QW50aUNTUkZUb2tlbigpIHtcbiAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZ1bmN0aW9uIGdldEFudGlDU1JGcm9tQ29va2llKCkge1xuICAgICAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciB2YWx1ZSwgX2IsIHBhcnRzLCBsYXN0LCB0ZW1wO1xuICAgICAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2MpIHtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfYy5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9iID0gXCI7IFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDQgLyp5aWVsZCovLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb29raWVIYW5kbGVyXzEuZGVmYXVsdC5nZXRSZWZlcmVuY2VPclRocm93KCkuY29va2llSGFuZGxlci5nZXRDb29raWUoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBfYiArIF9jLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJ0cyA9IHZhbHVlLnNwbGl0KFwiOyBcIiArIEFOVElfQ1NSRl9OQU1FICsgXCI9XCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPj0gMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXN0ID0gcGFydHMucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsYXN0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXAgPSBsYXN0LnNwbGl0KFwiO1wiKS5zaGlmdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRlbXAgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBudWxsXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCB0ZW1wXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgbnVsbF07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHZhciBmcm9tQ29va2llO1xuICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9iKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9iLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAoMCwgbG9nZ2VyXzEubG9nRGVidWdNZXNzYWdlKShcImdldEFudGlDU1JGVG9rZW46IGNhbGxlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgZ2V0TG9jYWxTZXNzaW9uU3RhdGUodHJ1ZSldO1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgLy8gd2UgZG8gbm90IGNhbGwgZG9lc1Nlc3Npb25FeGlzdCBoZXJlIGNhdXNlIHRoZSB1c2VyIG1pZ2h0IG92ZXJyaWRlIHRoYXRcbiAgICAgICAgICAgICAgICAgICAgLy8gZnVuY3Rpb24gaGVyZSBhbmQgdGhlbiBpdCBtYXkgYnJlYWsgdGhlIGxvZ2ljIG9mIG91ciBvcmlnaW5hbCBpbXBsZW1lbnRhdGlvbi5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCEoX2Iuc2VudCgpLnN0YXR1cyA9PT0gXCJFWElTVFNcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICgwLCBsb2dnZXJfMS5sb2dEZWJ1Z01lc3NhZ2UpKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZ2V0QW50aUNTUkZUb2tlbjogUmV0dXJuaW5nIGJlY2F1c2UgbG9jYWwgc2Vzc2lvbiBzdGF0ZSAhPSBFWElTVFNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBudWxsXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBnZXRBbnRpQ1NSRnJvbUNvb2tpZSgpXTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGZyb21Db29raWUgPSBfYi5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICgwLCBsb2dnZXJfMS5sb2dEZWJ1Z01lc3NhZ2UpKFwiZ2V0QW50aUNTUkZUb2tlbjogcmV0dXJuaW5nOiBcIiArIGZyb21Db29raWUpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgZnJvbUNvb2tpZV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuLy8gZ2l2ZSBhbnRpQ1NSRlRva2VuIGFzIHVuZGVmaW5lZCB0byByZW1vdmUgaXQuXG5mdW5jdGlvbiBzZXRBbnRpQ1NSRihhbnRpQ1NSRlRva2VuKSB7XG4gICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9iKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9iLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAoMCwgbG9nZ2VyXzEubG9nRGVidWdNZXNzYWdlKShcInNldEFudGlDU1JGOiBjYWxsZWQ6IFwiICsgYW50aUNTUkZUb2tlbik7XG4gICAgICAgICAgICAgICAgICAgIGlmICghKGFudGlDU1JGVG9rZW4gIT09IHVuZGVmaW5lZCkpIHJldHVybiBbMyAvKmJyZWFrKi8sIDJdO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBzdG9yZUluQ29va2llcyhBTlRJX0NTUkZfTkFNRSwgYW50aUNTUkZUb2tlbiwgTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIpXTtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIF9iLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgNF07XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBzdG9yZUluQ29va2llcyhBTlRJX0NTUkZfTkFNRSwgXCJcIiwgMCldO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgX2Iuc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICBfYi5sYWJlbCA9IDQ7XG4gICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuZXhwb3J0cy5zZXRBbnRpQ1NSRiA9IHNldEFudGlDU1JGO1xuZnVuY3Rpb24gZ2V0RnJvbnRUb2tlbkZyb21Db29raWUoKSB7XG4gICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdmFsO1xuICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9iKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9iLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAoMCwgbG9nZ2VyXzEubG9nRGVidWdNZXNzYWdlKShcImdldEZyb250VG9rZW5Gcm9tQ29va2llOiBjYWxsZWRcIik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIGdldEZyb21Db29raWVzKEZST05UX1RPS0VOX05BTUUpXTtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIHZhbCA9IF9iLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHZhbCA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IHZhbF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuZnVuY3Rpb24gcGFyc2VGcm9udFRva2VuKGZyb250VG9rZW4pIHtcbiAgICByZXR1cm4gSlNPTi5wYXJzZShkZWNvZGVVUklDb21wb25lbnQoZXNjYXBlKGF0b2IoZnJvbnRUb2tlbikpKSk7XG59XG5mdW5jdGlvbiBnZXRGcm9udFRva2VuKCkge1xuICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGZyb21Db29raWU7XG4gICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2IpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2IubGFiZWwpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICgwLCBsb2dnZXJfMS5sb2dEZWJ1Z01lc3NhZ2UpKFwiZ2V0RnJvbnRUb2tlbjogY2FsbGVkXCIpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBnZXRMb2NhbFNlc3Npb25TdGF0ZSh0cnVlKV07XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAvLyB3ZSBkbyBub3QgY2FsbCBkb2VzU2Vzc2lvbkV4aXN0IGhlcmUgYmVjYXVzZSB0aGF0IGRpcmVjdGx5IGNhbGxzIHRoaXMgZnVuY3Rpb24uXG4gICAgICAgICAgICAgICAgICAgIGlmICghKF9iLnNlbnQoKS5zdGF0dXMgPT09IFwiRVhJU1RTXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAoMCwgbG9nZ2VyXzEubG9nRGVidWdNZXNzYWdlKShcImdldEZyb250VG9rZW46IFJldHVybmluZyBiZWNhdXNlIHNJUlRGcm9udGVuZCAhPSBFWElTVFNcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgbnVsbF07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgZ2V0RnJvbnRUb2tlbkZyb21Db29raWUoKV07XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBmcm9tQ29va2llID0gX2Iuc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAoMCwgbG9nZ2VyXzEubG9nRGVidWdNZXNzYWdlKShcImdldEZyb250VG9rZW46IHJldHVybmluZzogXCIgKyBmcm9tQ29va2llKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIGZyb21Db29raWVdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcbn1cbmV4cG9ydHMuZ2V0RnJvbnRUb2tlbiA9IGdldEZyb250VG9rZW47XG5mdW5jdGlvbiBzZXRGcm9udFRva2VuKGZyb250VG9rZW4pIHtcbiAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBvbGRUb2tlbiwgb2xkUGF5bG9hZCwgbmV3UGF5bG9hZDtcbiAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYikge1xuICAgICAgICAgICAgc3dpdGNoIChfYi5sYWJlbCkge1xuICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgKDAsIGxvZ2dlcl8xLmxvZ0RlYnVnTWVzc2FnZSkoXCJzZXRGcm9udFRva2VuOiBjYWxsZWRcIik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIGdldEZyb250VG9rZW5Gcm9tQ29va2llKCldO1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgb2xkVG9rZW4gPSBfYi5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvbGRUb2tlbiAhPT0gbnVsbCAmJiBmcm9udFRva2VuICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9sZFBheWxvYWQgPSBwYXJzZUZyb250VG9rZW4ob2xkVG9rZW4pLnVwO1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3UGF5bG9hZCA9IHBhcnNlRnJvbnRUb2tlbihmcm9udFRva2VuKS51cDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChKU09OLnN0cmluZ2lmeShvbGRQYXlsb2FkKSAhPT0gSlNPTi5zdHJpbmdpZnkobmV3UGF5bG9hZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvblRva2VuVXBkYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKCEoZnJvbnRUb2tlbiA9PT0gdW5kZWZpbmVkKSkgcmV0dXJuIFszIC8qYnJlYWsqLywgM107XG4gICAgICAgICAgICAgICAgICAgIC8vIGNsZWFyIHRoZSBjb29raWVcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgc3RvcmVJbkNvb2tpZXMoRlJPTlRfVE9LRU5fTkFNRSwgXCJcIiwgMCldO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgLy8gY2xlYXIgdGhlIGNvb2tpZVxuICAgICAgICAgICAgICAgICAgICBfYi5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDVdO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgc3RvcmVJbkNvb2tpZXMoRlJPTlRfVE9LRU5fTkFNRSwgZnJvbnRUb2tlbiwgTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIpXTtcbiAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgIF9iLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgX2IubGFiZWwgPSA1O1xuICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcbn1cbmV4cG9ydHMuc2V0RnJvbnRUb2tlbiA9IHNldEZyb250VG9rZW47XG5mdW5jdGlvbiBmaXJlU2Vzc2lvblVwZGF0ZUV2ZW50c0lmTmVjZXNzYXJ5KHdhc0xvZ2dlZEluLCBzdGF0dXMsIGZyb250VG9rZW5IZWFkZXJGcm9tUmVzcG9uc2UpIHtcbiAgICAvLyBJbiBjYXNlIHdlJ3ZlIHJlY2VpdmVkIGEgNDAxIHRoYXQgZGlkbid0IGNsZWFyIHRoZSBzZXNzaW9uIChlLmcuOiB3ZSd2ZSBzZW50IG5vIHNlc3Npb24gdG9rZW4sIG9yIHdlIHNob3VsZCB0cnkgcmVmcmVzaGluZylcbiAgICAvLyB0aGVuIG9uVW5hdXRob3Jpc2VkIHdpbGwgaGFuZGxlIGZpcmluZyB0aGUgVU5BVVRIT1JJU0VEIGV2ZW50IGlmIG5lY2Vzc2FyeVxuICAgIC8vIEluIHNvbWUgcmFyZSBjYXNlcyAod2hlcmUgd2UgcmVjZWl2ZSBhIDQwMSB0aGF0IGFsc28gY2xlYXJzIHRoZSBzZXNzaW9uKSB0aGlzIHdpbGwgZmlyZSB0aGUgZXZlbnQgdHdpY2UuXG4gICAgLy8gVGhpcyBtYXkgYmUgY29uc2lkZXJlZCBhIGJ1ZywgYnV0IGl0IGlzIHRoZSBleGlzdGluZyBiZWhhdmlvdXIgYmVmb3JlIHRoZSByZXdvcmtcbiAgICBpZiAoZnJvbnRUb2tlbkhlYWRlckZyb21SZXNwb25zZSA9PT0gdW5kZWZpbmVkIHx8IGZyb250VG9rZW5IZWFkZXJGcm9tUmVzcG9uc2UgPT09IG51bGwpIHtcbiAgICAgICAgLy8gVGhlIGFjY2VzcyB0b2tlbiAoYW5kIHRoZSBzZXNzaW9uKSBoYXNuJ3QgYmVlbiB1cGRhdGVkLlxuICAgICAgICAoMCwgbG9nZ2VyXzEubG9nRGVidWdNZXNzYWdlKShcbiAgICAgICAgICAgIFwiZmlyZVNlc3Npb25VcGRhdGVFdmVudHNJZk5lY2Vzc2FyeSByZXR1cm5pbmcgZWFybHkgYmVjYXVzZSB0aGUgZnJvbnQgdG9rZW4gd2FzIG5vdCB1cGRhdGVkXCJcbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBpZiB0aGUgY3VycmVudCBlbmRwb2ludCBjbGVhcnMgdGhlIHNlc3Npb24gaXQnbGwgc2V0IHRoZSBmcm9udC10b2tlbiB0byByZW1vdmVcbiAgICAvLyBhbnkgb3RoZXIgdXBkYXRlIG1lYW5zIGl0J3MgY3JlYXRlZCBvciB1cGRhdGVkLlxuICAgIHZhciBmcm9udFRva2VuRXhpc3RzQWZ0ZXIgPSBmcm9udFRva2VuSGVhZGVyRnJvbVJlc3BvbnNlICE9PSBcInJlbW92ZVwiO1xuICAgICgwLCBsb2dnZXJfMS5sb2dEZWJ1Z01lc3NhZ2UpKFxuICAgICAgICBcImZpcmVTZXNzaW9uVXBkYXRlRXZlbnRzSWZOZWNlc3Nhcnkgd2FzTG9nZ2VkSW46IFwiXG4gICAgICAgICAgICAuY29uY2F0KHdhc0xvZ2dlZEluLCBcIiBmcm9udFRva2VuRXhpc3RzQWZ0ZXI6IFwiKVxuICAgICAgICAgICAgLmNvbmNhdChmcm9udFRva2VuRXhpc3RzQWZ0ZXIsIFwiIHN0YXR1czogXCIpXG4gICAgICAgICAgICAuY29uY2F0KHN0YXR1cylcbiAgICApO1xuICAgIGlmICh3YXNMb2dnZWRJbikge1xuICAgICAgICAvLyB3ZSBjaGVjayBmb3Igd2FzTG9nZ2VkSW4gY2F1c2Ugd2UgZG9uJ3Qgd2FudCB0byBmaXJlIGFuIGV2ZW50XG4gICAgICAgIC8vIHVubmVjZXNzYXJpbHkgb24gZmlyc3QgYXBwIGxvYWQgb3IgaWYgdGhlIHVzZXIgdHJpZWRcbiAgICAgICAgLy8gdG8gcXVlcnkgYW4gQVBJIHRoYXQgcmV0dXJuZWQgNDAxIHdoaWxlIHRoZSB1c2VyIHdhcyBub3QgbG9nZ2VkIGluLi4uXG4gICAgICAgIGlmICghZnJvbnRUb2tlbkV4aXN0c0FmdGVyKSB7XG4gICAgICAgICAgICBpZiAoc3RhdHVzID09PSBBdXRoSHR0cFJlcXVlc3QuY29uZmlnLnNlc3Npb25FeHBpcmVkU3RhdHVzQ29kZSkge1xuICAgICAgICAgICAgICAgICgwLCBsb2dnZXJfMS5sb2dEZWJ1Z01lc3NhZ2UpKFwib25VbmF1dGhvcmlzZWRSZXNwb25zZTogZmlyaW5nIFVOQVVUSE9SSVNFRCBldmVudFwiKTtcbiAgICAgICAgICAgICAgICBBdXRoSHR0cFJlcXVlc3QuY29uZmlnLm9uSGFuZGxlRXZlbnQoe1xuICAgICAgICAgICAgICAgICAgICBhY3Rpb246IFwiVU5BVVRIT1JJU0VEXCIsXG4gICAgICAgICAgICAgICAgICAgIHNlc3Npb25FeHBpcmVkT3JSZXZva2VkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICB1c2VyQ29udGV4dDoge31cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgKDAsIGxvZ2dlcl8xLmxvZ0RlYnVnTWVzc2FnZSkoXCJvblVuYXV0aG9yaXNlZFJlc3BvbnNlOiBmaXJpbmcgU0lHTl9PVVQgZXZlbnRcIik7XG4gICAgICAgICAgICAgICAgQXV0aEh0dHBSZXF1ZXN0LmNvbmZpZy5vbkhhbmRsZUV2ZW50KHtcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiBcIlNJR05fT1VUXCIsXG4gICAgICAgICAgICAgICAgICAgIHVzZXJDb250ZXh0OiB7fVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSBlbHNlIGlmIChmcm9udFRva2VuRXhpc3RzQWZ0ZXIpIHtcbiAgICAgICAgKDAsIGxvZ2dlcl8xLmxvZ0RlYnVnTWVzc2FnZSkoXCJvblVuYXV0aG9yaXNlZFJlc3BvbnNlOiBmaXJpbmcgU0VTU0lPTl9DUkVBVEVEIGV2ZW50XCIpO1xuICAgICAgICBBdXRoSHR0cFJlcXVlc3QuY29uZmlnLm9uSGFuZGxlRXZlbnQoe1xuICAgICAgICAgICAgYWN0aW9uOiBcIlNFU1NJT05fQ1JFQVRFRFwiLFxuICAgICAgICAgICAgdXNlckNvbnRleHQ6IHt9XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmV4cG9ydHMuZmlyZVNlc3Npb25VcGRhdGVFdmVudHNJZk5lY2Vzc2FyeSA9IGZpcmVTZXNzaW9uVXBkYXRlRXZlbnRzSWZOZWNlc3Nhcnk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/supertokens-website/lib/build/fetch.js\n"));

/***/ }),

/***/ "./node_modules/supertokens-website/lib/build/index.js":
/*!*************************************************************!*\
  !*** ./node_modules/supertokens-website/lib/build/index.js ***!
  \*************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\n/* Copyright (c) 2020, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nvar __awaiter =\n    (this && this.__awaiter) ||\n    function (thisArg, _arguments, P, generator) {\n        function adopt(value) {\n            return value instanceof P\n                ? value\n                : new P(function (resolve) {\n                      resolve(value);\n                  });\n        }\n        return new (P || (P = Promise))(function (resolve, reject) {\n            function fulfilled(value) {\n                try {\n                    step(generator.next(value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function rejected(value) {\n                try {\n                    step(generator[\"throw\"](value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function step(result) {\n                result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n            }\n            step((generator = generator.apply(thisArg, _arguments || [])).next());\n        });\n    };\nvar __generator =\n    (this && this.__generator) ||\n    function (thisArg, body) {\n        var _ = {\n                label: 0,\n                sent: function () {\n                    if (t[0] & 1) throw t[1];\n                    return t[1];\n                },\n                trys: [],\n                ops: []\n            },\n            f,\n            y,\n            t,\n            g;\n        return (\n            (g = { next: verb(0), throw: verb(1), return: verb(2) }),\n            typeof Symbol === \"function\" &&\n                (g[Symbol.iterator] = function () {\n                    return this;\n                }),\n            g\n        );\n        function verb(n) {\n            return function (v) {\n                return step([n, v]);\n            };\n        }\n        function step(op) {\n            if (f) throw new TypeError(\"Generator is already executing.\");\n            while (_)\n                try {\n                    if (\n                        ((f = 1),\n                        y &&\n                            (t =\n                                op[0] & 2\n                                    ? y[\"return\"]\n                                    : op[0]\n                                    ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0)\n                                    : y.next) &&\n                            !(t = t.call(y, op[1])).done)\n                    )\n                        return t;\n                    if (((y = 0), t)) op = [op[0] & 2, t.value];\n                    switch (op[0]) {\n                        case 0:\n                        case 1:\n                            t = op;\n                            break;\n                        case 4:\n                            _.label++;\n                            return { value: op[1], done: false };\n                        case 5:\n                            _.label++;\n                            y = op[1];\n                            op = [0];\n                            continue;\n                        case 7:\n                            op = _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                        default:\n                            if (\n                                !((t = _.trys), (t = t.length > 0 && t[t.length - 1])) &&\n                                (op[0] === 6 || op[0] === 2)\n                            ) {\n                                _ = 0;\n                                continue;\n                            }\n                            if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) {\n                                _.label = op[1];\n                                break;\n                            }\n                            if (op[0] === 6 && _.label < t[1]) {\n                                _.label = t[1];\n                                t = op;\n                                break;\n                            }\n                            if (t && _.label < t[2]) {\n                                _.label = t[2];\n                                _.ops.push(op);\n                                break;\n                            }\n                            if (t[2]) _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                    }\n                    op = body.call(thisArg, _);\n                } catch (e) {\n                    op = [6, e];\n                    y = 0;\n                } finally {\n                    f = t = 0;\n                }\n            if (op[0] & 5) throw op[1];\n            return { value: op[0] ? op[1] : void 0, done: true };\n        }\n    };\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.BooleanClaim =\n    exports.PrimitiveArrayClaim =\n    exports.PrimitiveClaim =\n    exports.SessionClaimValidator =\n    exports.getInvalidClaimsFromResponse =\n    exports.getClaimValue =\n    exports.validateClaims =\n    exports.signOut =\n    exports.addAxiosInterceptors =\n    exports.doesSessionExist =\n    exports.attemptRefreshingSession =\n    exports.getAccessToken =\n    exports.getAccessTokenPayloadSecurely =\n    exports.getUserId =\n    exports.init =\n        void 0;\nvar fetch_1 = __webpack_require__(/*! ./fetch */ \"./node_modules/supertokens-website/lib/build/fetch.js\");\nvar recipeImplementation_1 = __webpack_require__(/*! ./recipeImplementation */ \"./node_modules/supertokens-website/lib/build/recipeImplementation.js\");\nvar supertokens_js_override_1 = __webpack_require__(/*! supertokens-js-override */ \"./node_modules/supertokens-js-override/lib/build/index.js\");\nvar utils_1 = __webpack_require__(/*! ./utils */ \"./node_modules/supertokens-website/lib/build/utils/index.js\");\nvar cookieHandler_1 = __webpack_require__(/*! ./utils/cookieHandler */ \"./node_modules/supertokens-website/lib/build/utils/cookieHandler/index.js\");\nvar windowHandler_1 = __webpack_require__(/*! ./utils/windowHandler */ \"./node_modules/supertokens-website/lib/build/utils/windowHandler/index.js\");\nvar lockFactory_1 = __webpack_require__(/*! ./utils/lockFactory */ \"./node_modules/supertokens-website/lib/build/utils/lockFactory/index.js\");\nvar sessionClaimValidatorStore_1 = __webpack_require__(/*! ./utils/sessionClaimValidatorStore */ \"./node_modules/supertokens-website/lib/build/utils/sessionClaimValidatorStore.js\");\nvar AuthHttpRequest = /** @class */ (function () {\n    function AuthHttpRequest() {}\n    AuthHttpRequest.init = function (options) {\n        cookieHandler_1.default.init(options.cookieHandler);\n        windowHandler_1.default.init(options.windowHandler);\n        lockFactory_1.default.init(\n            options.lockFactory,\n            windowHandler_1.default.getReferenceOrThrow().windowHandler.localStorage\n        );\n        var config = (0, utils_1.validateAndNormaliseInputOrThrowError)(options);\n        var recipeImpl = new supertokens_js_override_1.default(\n            (0, recipeImplementation_1.default)({\n                onHandleEvent: config.onHandleEvent,\n                preAPIHook: config.preAPIHook,\n                postAPIHook: config.postAPIHook,\n                sessionExpiredStatusCode: config.sessionExpiredStatusCode\n            })\n        )\n            .override(config.override.functions)\n            .build();\n        fetch_1.default.init(config, recipeImpl);\n        AuthHttpRequest.axiosInterceptorQueue.forEach(function (f) {\n            f();\n        });\n        AuthHttpRequest.axiosInterceptorQueue = [];\n    };\n    AuthHttpRequest.getUserId = function (input) {\n        return fetch_1.default.recipeImpl.getUserId({\n            userContext: (0, utils_1.getNormalisedUserContext)(input === undefined ? undefined : input.userContext)\n        });\n    };\n    AuthHttpRequest.getAccessTokenPayloadSecurely = function (input) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_b) {\n                return [\n                    2 /*return*/,\n                    fetch_1.default.recipeImpl.getAccessTokenPayloadSecurely({\n                        userContext: (0, utils_1.getNormalisedUserContext)(\n                            input === undefined ? undefined : input.userContext\n                        )\n                    })\n                ];\n            });\n        });\n    };\n    var _a;\n    _a = AuthHttpRequest;\n    AuthHttpRequest.axiosInterceptorQueue = [];\n    AuthHttpRequest.attemptRefreshingSession = function () {\n        return __awaiter(void 0, void 0, void 0, function () {\n            return __generator(_a, function (_b) {\n                return [2 /*return*/, fetch_1.default.attemptRefreshingSession()];\n            });\n        });\n    };\n    AuthHttpRequest.doesSessionExist = function (input) {\n        return fetch_1.default.recipeImpl.doesSessionExist({\n            userContext: (0, utils_1.getNormalisedUserContext)(input === undefined ? undefined : input.userContext)\n        });\n    };\n    /**\n     * @deprecated\n     */\n    AuthHttpRequest.addAxiosInterceptors = function (axiosInstance, userContext) {\n        if (!fetch_1.default.initCalled) {\n            // the recipe implementation has not been initialised yet, so add\n            // this to the queue and wait for it to be initialised, and then on\n            // init call, we add all the interceptors.\n            AuthHttpRequest.axiosInterceptorQueue.push(function () {\n                fetch_1.default.recipeImpl.addAxiosInterceptors({\n                    axiosInstance: axiosInstance,\n                    userContext: (0, utils_1.getNormalisedUserContext)(userContext)\n                });\n            });\n        } else {\n            fetch_1.default.recipeImpl.addAxiosInterceptors({\n                axiosInstance: axiosInstance,\n                userContext: (0, utils_1.getNormalisedUserContext)(userContext)\n            });\n        }\n    };\n    AuthHttpRequest.signOut = function (input) {\n        return fetch_1.default.recipeImpl.signOut({\n            userContext: (0, utils_1.getNormalisedUserContext)(input === undefined ? undefined : input.userContext)\n        });\n    };\n    AuthHttpRequest.getInvalidClaimsFromResponse = function (input) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_b) {\n                return [\n                    2 /*return*/,\n                    fetch_1.default.recipeImpl.getInvalidClaimsFromResponse({\n                        response: input.response,\n                        userContext: (0, utils_1.getNormalisedUserContext)(input.userContext)\n                    })\n                ];\n            });\n        });\n    };\n    AuthHttpRequest.getClaimValue = function (input) {\n        return __awaiter(this, void 0, void 0, function () {\n            var userContext, accessTokenPayload;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        userContext = (0, utils_1.getNormalisedUserContext)(\n                            input === undefined ? undefined : input.userContext\n                        );\n                        return [\n                            4 /*yield*/,\n                            AuthHttpRequest.getAccessTokenPayloadSecurely({ userContext: userContext })\n                        ];\n                    case 1:\n                        accessTokenPayload = _b.sent();\n                        return [2 /*return*/, input.claim.getValueFromPayload(accessTokenPayload, userContext)];\n                }\n            });\n        });\n    };\n    AuthHttpRequest.validateClaims = function (overrideGlobalClaimValidators, userContext) {\n        var normalisedUserContext = (0, utils_1.getNormalisedUserContext)(userContext);\n        var claimValidatorsAddedByOtherRecipes =\n            sessionClaimValidatorStore_1.SessionClaimValidatorStore.getClaimValidatorsAddedByOtherRecipes();\n        var globalClaimValidators = fetch_1.default.recipeImpl.getGlobalClaimValidators({\n            claimValidatorsAddedByOtherRecipes: claimValidatorsAddedByOtherRecipes,\n            userContext: normalisedUserContext\n        });\n        var claimValidators =\n            overrideGlobalClaimValidators !== undefined\n                ? overrideGlobalClaimValidators(globalClaimValidators, normalisedUserContext)\n                : globalClaimValidators;\n        if (claimValidators.length === 0) {\n            return [];\n        }\n        return fetch_1.default.recipeImpl.validateClaims({\n            claimValidators: claimValidators,\n            userContext: (0, utils_1.getNormalisedUserContext)(userContext)\n        });\n    };\n    AuthHttpRequest.getAccessToken = function (input) {\n        return __awaiter(void 0, void 0, void 0, function () {\n            return __generator(_a, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        return [\n                            4 /*yield*/,\n                            fetch_1.default.recipeImpl.doesSessionExist({\n                                userContext: (0, utils_1.getNormalisedUserContext)(\n                                    input === undefined ? undefined : input.userContext\n                                )\n                            })\n                        ];\n                    case 1:\n                        // This takes care of refreshing the access token if necessary.\n                        if (_b.sent()) {\n                            return [2 /*return*/, (0, fetch_1.getTokenForHeaderAuth)(\"access\")];\n                        }\n                        return [2 /*return*/, undefined];\n                }\n            });\n        });\n    };\n    return AuthHttpRequest;\n})();\nexports[\"default\"] = AuthHttpRequest;\nexports.init = AuthHttpRequest.init;\nexports.getUserId = AuthHttpRequest.getUserId;\nexports.getAccessTokenPayloadSecurely = AuthHttpRequest.getAccessTokenPayloadSecurely;\nexports.getAccessToken = AuthHttpRequest.getAccessToken;\nexports.attemptRefreshingSession = AuthHttpRequest.attemptRefreshingSession;\nexports.doesSessionExist = AuthHttpRequest.doesSessionExist;\n/**\n * @deprecated\n */\nexports.addAxiosInterceptors = AuthHttpRequest.addAxiosInterceptors;\nexports.signOut = AuthHttpRequest.signOut;\nexports.validateClaims = AuthHttpRequest.validateClaims;\nexports.getClaimValue = AuthHttpRequest.getClaimValue;\nexports.getInvalidClaimsFromResponse = AuthHttpRequest.getInvalidClaimsFromResponse;\nvar types_1 = __webpack_require__(/*! ./types */ \"./node_modules/supertokens-website/lib/build/types.js\");\nObject.defineProperty(exports, \"SessionClaimValidator\", ({\n    enumerable: true,\n    get: function () {\n        return types_1.SessionClaimValidator;\n    }\n}));\nvar primitiveClaim_1 = __webpack_require__(/*! ./claims/primitiveClaim */ \"./node_modules/supertokens-website/lib/build/claims/primitiveClaim.js\");\nObject.defineProperty(exports, \"PrimitiveClaim\", ({\n    enumerable: true,\n    get: function () {\n        return primitiveClaim_1.PrimitiveClaim;\n    }\n}));\nvar primitiveArrayClaim_1 = __webpack_require__(/*! ./claims/primitiveArrayClaim */ \"./node_modules/supertokens-website/lib/build/claims/primitiveArrayClaim.js\");\nObject.defineProperty(exports, \"PrimitiveArrayClaim\", ({\n    enumerable: true,\n    get: function () {\n        return primitiveArrayClaim_1.PrimitiveArrayClaim;\n    }\n}));\nvar booleanClaim_1 = __webpack_require__(/*! ./claims/booleanClaim */ \"./node_modules/supertokens-website/lib/build/claims/booleanClaim.js\");\nObject.defineProperty(exports, \"BooleanClaim\", ({\n    enumerable: true,\n    get: function () {\n        return booleanClaim_1.BooleanClaim;\n    }\n}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3VwZXJ0b2tlbnMtd2Vic2l0ZS9saWIvYnVpbGQvaW5kZXguanMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLGdEQUFnRDtBQUNuRTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUM7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0Qsb0JBQW9CO0FBQ3BCLElBQUksMkJBQTJCO0FBQy9CLElBQUksc0JBQXNCO0FBQzFCLElBQUksNkJBQTZCO0FBQ2pDLElBQUksb0NBQW9DO0FBQ3hDLElBQUkscUJBQXFCO0FBQ3pCLElBQUksc0JBQXNCO0FBQzFCLElBQUksZUFBZTtBQUNuQixJQUFJLDRCQUE0QjtBQUNoQyxJQUFJLHdCQUF3QjtBQUM1QixJQUFJLGdDQUFnQztBQUNwQyxJQUFJLHNCQUFzQjtBQUMxQixJQUFJLHFDQUFxQztBQUN6QyxJQUFJLGlCQUFpQjtBQUNyQixJQUFJLFlBQVk7QUFDaEI7QUFDQSxjQUFjLG1CQUFPLENBQUMsc0VBQVM7QUFDL0IsNkJBQTZCLG1CQUFPLENBQUMsb0dBQXdCO0FBQzdELGdDQUFnQyxtQkFBTyxDQUFDLDBGQUF5QjtBQUNqRSxjQUFjLG1CQUFPLENBQUMsNEVBQVM7QUFDL0Isc0JBQXNCLG1CQUFPLENBQUMsd0dBQXVCO0FBQ3JELHNCQUFzQixtQkFBTyxDQUFDLHdHQUF1QjtBQUNyRCxvQkFBb0IsbUJBQU8sQ0FBQyxvR0FBcUI7QUFDakQsbUNBQW1DLG1CQUFPLENBQUMsNEhBQW9DO0FBQy9FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2IsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEVBQTRFLDBCQUEwQjtBQUN0RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0EsQ0FBQztBQUNELGtCQUFlO0FBQ2YsWUFBWTtBQUNaLGlCQUFpQjtBQUNqQixxQ0FBcUM7QUFDckMsc0JBQXNCO0FBQ3RCLGdDQUFnQztBQUNoQyx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCO0FBQzVCLGVBQWU7QUFDZixzQkFBc0I7QUFDdEIscUJBQXFCO0FBQ3JCLG9DQUFvQztBQUNwQyxjQUFjLG1CQUFPLENBQUMsc0VBQVM7QUFDL0IseURBQXdEO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxFQUFDO0FBQ0YsdUJBQXVCLG1CQUFPLENBQUMsc0dBQXlCO0FBQ3hELGtEQUFpRDtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsRUFBQztBQUNGLDRCQUE0QixtQkFBTyxDQUFDLGdIQUE4QjtBQUNsRSx1REFBc0Q7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLEVBQUM7QUFDRixxQkFBcUIsbUJBQU8sQ0FBQyxrR0FBdUI7QUFDcEQsZ0RBQStDO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9zdXBlcnRva2Vucy13ZWJzaXRlL2xpYi9idWlsZC9pbmRleC5qcz83MzZmIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyogQ29weXJpZ2h0IChjKSAyMDIwLCBWUkFJIExhYnMgYW5kL29yIGl0cyBhZmZpbGlhdGVzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc29mdHdhcmUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlXG4gKiBcIkxpY2Vuc2VcIikgYXMgcHVibGlzaGVkIGJ5IHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRhdGlvbi5cbiAqXG4gKiBZb3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXlcbiAqIG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLCBXSVRIT1VUXG4gKiBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuIFNlZSB0aGVcbiAqIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zXG4gKiB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIF9fYXdhaXRlciA9XG4gICAgKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8XG4gICAgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgICAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUFxuICAgICAgICAgICAgICAgID8gdmFsdWVcbiAgICAgICAgICAgICAgICA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgICAgICB9KTtcbiAgICB9O1xudmFyIF9fZ2VuZXJhdG9yID1cbiAgICAodGhpcyAmJiB0aGlzLl9fZ2VuZXJhdG9yKSB8fFxuICAgIGZ1bmN0aW9uICh0aGlzQXJnLCBib2R5KSB7XG4gICAgICAgIHZhciBfID0ge1xuICAgICAgICAgICAgICAgIGxhYmVsOiAwLFxuICAgICAgICAgICAgICAgIHNlbnQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdFsxXTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHRyeXM6IFtdLFxuICAgICAgICAgICAgICAgIG9wczogW11cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmLFxuICAgICAgICAgICAgeSxcbiAgICAgICAgICAgIHQsXG4gICAgICAgICAgICBnO1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgKGcgPSB7IG5leHQ6IHZlcmIoMCksIHRocm93OiB2ZXJiKDEpLCByZXR1cm46IHZlcmIoMikgfSksXG4gICAgICAgICAgICB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiZcbiAgICAgICAgICAgICAgICAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIGdcbiAgICAgICAgKTtcbiAgICAgICAgZnVuY3Rpb24gdmVyYihuKSB7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RlcChbbiwgdl0pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XG4gICAgICAgICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XG4gICAgICAgICAgICB3aGlsZSAoXylcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAoKGYgPSAxKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAodCA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wWzBdICYgMlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB5W1wicmV0dXJuXCJdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG9wWzBdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHkubmV4dCkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCgoeSA9IDApLCB0KSkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHQgPSBvcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfLmxhYmVsKys7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF8ubGFiZWwrKztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB5ID0gb3BbMV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3AgPSBbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3AgPSBfLm9wcy5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgISgodCA9IF8udHJ5cyksICh0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXyA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXy5sYWJlbCA9IG9wWzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF8ubGFiZWwgPSB0WzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ID0gb3A7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfLmxhYmVsID0gdFsyXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXy5vcHMucHVzaChvcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgb3AgPSBbNiwgZV07XG4gICAgICAgICAgICAgICAgICAgIHkgPSAwO1xuICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIGYgPSB0ID0gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTtcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XG4gICAgICAgIH1cbiAgICB9O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Cb29sZWFuQ2xhaW0gPVxuICAgIGV4cG9ydHMuUHJpbWl0aXZlQXJyYXlDbGFpbSA9XG4gICAgZXhwb3J0cy5QcmltaXRpdmVDbGFpbSA9XG4gICAgZXhwb3J0cy5TZXNzaW9uQ2xhaW1WYWxpZGF0b3IgPVxuICAgIGV4cG9ydHMuZ2V0SW52YWxpZENsYWltc0Zyb21SZXNwb25zZSA9XG4gICAgZXhwb3J0cy5nZXRDbGFpbVZhbHVlID1cbiAgICBleHBvcnRzLnZhbGlkYXRlQ2xhaW1zID1cbiAgICBleHBvcnRzLnNpZ25PdXQgPVxuICAgIGV4cG9ydHMuYWRkQXhpb3NJbnRlcmNlcHRvcnMgPVxuICAgIGV4cG9ydHMuZG9lc1Nlc3Npb25FeGlzdCA9XG4gICAgZXhwb3J0cy5hdHRlbXB0UmVmcmVzaGluZ1Nlc3Npb24gPVxuICAgIGV4cG9ydHMuZ2V0QWNjZXNzVG9rZW4gPVxuICAgIGV4cG9ydHMuZ2V0QWNjZXNzVG9rZW5QYXlsb2FkU2VjdXJlbHkgPVxuICAgIGV4cG9ydHMuZ2V0VXNlcklkID1cbiAgICBleHBvcnRzLmluaXQgPVxuICAgICAgICB2b2lkIDA7XG52YXIgZmV0Y2hfMSA9IHJlcXVpcmUoXCIuL2ZldGNoXCIpO1xudmFyIHJlY2lwZUltcGxlbWVudGF0aW9uXzEgPSByZXF1aXJlKFwiLi9yZWNpcGVJbXBsZW1lbnRhdGlvblwiKTtcbnZhciBzdXBlcnRva2Vuc19qc19vdmVycmlkZV8xID0gcmVxdWlyZShcInN1cGVydG9rZW5zLWpzLW92ZXJyaWRlXCIpO1xudmFyIHV0aWxzXzEgPSByZXF1aXJlKFwiLi91dGlsc1wiKTtcbnZhciBjb29raWVIYW5kbGVyXzEgPSByZXF1aXJlKFwiLi91dGlscy9jb29raWVIYW5kbGVyXCIpO1xudmFyIHdpbmRvd0hhbmRsZXJfMSA9IHJlcXVpcmUoXCIuL3V0aWxzL3dpbmRvd0hhbmRsZXJcIik7XG52YXIgbG9ja0ZhY3RvcnlfMSA9IHJlcXVpcmUoXCIuL3V0aWxzL2xvY2tGYWN0b3J5XCIpO1xudmFyIHNlc3Npb25DbGFpbVZhbGlkYXRvclN0b3JlXzEgPSByZXF1aXJlKFwiLi91dGlscy9zZXNzaW9uQ2xhaW1WYWxpZGF0b3JTdG9yZVwiKTtcbnZhciBBdXRoSHR0cFJlcXVlc3QgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQXV0aEh0dHBSZXF1ZXN0KCkge31cbiAgICBBdXRoSHR0cFJlcXVlc3QuaW5pdCA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIGNvb2tpZUhhbmRsZXJfMS5kZWZhdWx0LmluaXQob3B0aW9ucy5jb29raWVIYW5kbGVyKTtcbiAgICAgICAgd2luZG93SGFuZGxlcl8xLmRlZmF1bHQuaW5pdChvcHRpb25zLndpbmRvd0hhbmRsZXIpO1xuICAgICAgICBsb2NrRmFjdG9yeV8xLmRlZmF1bHQuaW5pdChcbiAgICAgICAgICAgIG9wdGlvbnMubG9ja0ZhY3RvcnksXG4gICAgICAgICAgICB3aW5kb3dIYW5kbGVyXzEuZGVmYXVsdC5nZXRSZWZlcmVuY2VPclRocm93KCkud2luZG93SGFuZGxlci5sb2NhbFN0b3JhZ2VcbiAgICAgICAgKTtcbiAgICAgICAgdmFyIGNvbmZpZyA9ICgwLCB1dGlsc18xLnZhbGlkYXRlQW5kTm9ybWFsaXNlSW5wdXRPclRocm93RXJyb3IpKG9wdGlvbnMpO1xuICAgICAgICB2YXIgcmVjaXBlSW1wbCA9IG5ldyBzdXBlcnRva2Vuc19qc19vdmVycmlkZV8xLmRlZmF1bHQoXG4gICAgICAgICAgICAoMCwgcmVjaXBlSW1wbGVtZW50YXRpb25fMS5kZWZhdWx0KSh7XG4gICAgICAgICAgICAgICAgb25IYW5kbGVFdmVudDogY29uZmlnLm9uSGFuZGxlRXZlbnQsXG4gICAgICAgICAgICAgICAgcHJlQVBJSG9vazogY29uZmlnLnByZUFQSUhvb2ssXG4gICAgICAgICAgICAgICAgcG9zdEFQSUhvb2s6IGNvbmZpZy5wb3N0QVBJSG9vayxcbiAgICAgICAgICAgICAgICBzZXNzaW9uRXhwaXJlZFN0YXR1c0NvZGU6IGNvbmZpZy5zZXNzaW9uRXhwaXJlZFN0YXR1c0NvZGVcbiAgICAgICAgICAgIH0pXG4gICAgICAgIClcbiAgICAgICAgICAgIC5vdmVycmlkZShjb25maWcub3ZlcnJpZGUuZnVuY3Rpb25zKVxuICAgICAgICAgICAgLmJ1aWxkKCk7XG4gICAgICAgIGZldGNoXzEuZGVmYXVsdC5pbml0KGNvbmZpZywgcmVjaXBlSW1wbCk7XG4gICAgICAgIEF1dGhIdHRwUmVxdWVzdC5heGlvc0ludGVyY2VwdG9yUXVldWUuZm9yRWFjaChmdW5jdGlvbiAoZikge1xuICAgICAgICAgICAgZigpO1xuICAgICAgICB9KTtcbiAgICAgICAgQXV0aEh0dHBSZXF1ZXN0LmF4aW9zSW50ZXJjZXB0b3JRdWV1ZSA9IFtdO1xuICAgIH07XG4gICAgQXV0aEh0dHBSZXF1ZXN0LmdldFVzZXJJZCA9IGZ1bmN0aW9uIChpbnB1dCkge1xuICAgICAgICByZXR1cm4gZmV0Y2hfMS5kZWZhdWx0LnJlY2lwZUltcGwuZ2V0VXNlcklkKHtcbiAgICAgICAgICAgIHVzZXJDb250ZXh0OiAoMCwgdXRpbHNfMS5nZXROb3JtYWxpc2VkVXNlckNvbnRleHQpKGlucHV0ID09PSB1bmRlZmluZWQgPyB1bmRlZmluZWQgOiBpbnB1dC51c2VyQ29udGV4dClcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBBdXRoSHR0cFJlcXVlc3QuZ2V0QWNjZXNzVG9rZW5QYXlsb2FkU2VjdXJlbHkgPSBmdW5jdGlvbiAoaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYikge1xuICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgIDIgLypyZXR1cm4qLyxcbiAgICAgICAgICAgICAgICAgICAgZmV0Y2hfMS5kZWZhdWx0LnJlY2lwZUltcGwuZ2V0QWNjZXNzVG9rZW5QYXlsb2FkU2VjdXJlbHkoe1xuICAgICAgICAgICAgICAgICAgICAgICAgdXNlckNvbnRleHQ6ICgwLCB1dGlsc18xLmdldE5vcm1hbGlzZWRVc2VyQ29udGV4dCkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXQgPT09IHVuZGVmaW5lZCA/IHVuZGVmaW5lZCA6IGlucHV0LnVzZXJDb250ZXh0XG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIHZhciBfYTtcbiAgICBfYSA9IEF1dGhIdHRwUmVxdWVzdDtcbiAgICBBdXRoSHR0cFJlcXVlc3QuYXhpb3NJbnRlcmNlcHRvclF1ZXVlID0gW107XG4gICAgQXV0aEh0dHBSZXF1ZXN0LmF0dGVtcHRSZWZyZXNoaW5nU2Vzc2lvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IoX2EsIGZ1bmN0aW9uIChfYikge1xuICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBmZXRjaF8xLmRlZmF1bHQuYXR0ZW1wdFJlZnJlc2hpbmdTZXNzaW9uKCldO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgQXV0aEh0dHBSZXF1ZXN0LmRvZXNTZXNzaW9uRXhpc3QgPSBmdW5jdGlvbiAoaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIGZldGNoXzEuZGVmYXVsdC5yZWNpcGVJbXBsLmRvZXNTZXNzaW9uRXhpc3Qoe1xuICAgICAgICAgICAgdXNlckNvbnRleHQ6ICgwLCB1dGlsc18xLmdldE5vcm1hbGlzZWRVc2VyQ29udGV4dCkoaW5wdXQgPT09IHVuZGVmaW5lZCA/IHVuZGVmaW5lZCA6IGlucHV0LnVzZXJDb250ZXh0KVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBkZXByZWNhdGVkXG4gICAgICovXG4gICAgQXV0aEh0dHBSZXF1ZXN0LmFkZEF4aW9zSW50ZXJjZXB0b3JzID0gZnVuY3Rpb24gKGF4aW9zSW5zdGFuY2UsIHVzZXJDb250ZXh0KSB7XG4gICAgICAgIGlmICghZmV0Y2hfMS5kZWZhdWx0LmluaXRDYWxsZWQpIHtcbiAgICAgICAgICAgIC8vIHRoZSByZWNpcGUgaW1wbGVtZW50YXRpb24gaGFzIG5vdCBiZWVuIGluaXRpYWxpc2VkIHlldCwgc28gYWRkXG4gICAgICAgICAgICAvLyB0aGlzIHRvIHRoZSBxdWV1ZSBhbmQgd2FpdCBmb3IgaXQgdG8gYmUgaW5pdGlhbGlzZWQsIGFuZCB0aGVuIG9uXG4gICAgICAgICAgICAvLyBpbml0IGNhbGwsIHdlIGFkZCBhbGwgdGhlIGludGVyY2VwdG9ycy5cbiAgICAgICAgICAgIEF1dGhIdHRwUmVxdWVzdC5heGlvc0ludGVyY2VwdG9yUXVldWUucHVzaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZmV0Y2hfMS5kZWZhdWx0LnJlY2lwZUltcGwuYWRkQXhpb3NJbnRlcmNlcHRvcnMoe1xuICAgICAgICAgICAgICAgICAgICBheGlvc0luc3RhbmNlOiBheGlvc0luc3RhbmNlLFxuICAgICAgICAgICAgICAgICAgICB1c2VyQ29udGV4dDogKDAsIHV0aWxzXzEuZ2V0Tm9ybWFsaXNlZFVzZXJDb250ZXh0KSh1c2VyQ29udGV4dClcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZmV0Y2hfMS5kZWZhdWx0LnJlY2lwZUltcGwuYWRkQXhpb3NJbnRlcmNlcHRvcnMoe1xuICAgICAgICAgICAgICAgIGF4aW9zSW5zdGFuY2U6IGF4aW9zSW5zdGFuY2UsXG4gICAgICAgICAgICAgICAgdXNlckNvbnRleHQ6ICgwLCB1dGlsc18xLmdldE5vcm1hbGlzZWRVc2VyQ29udGV4dCkodXNlckNvbnRleHQpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQXV0aEh0dHBSZXF1ZXN0LnNpZ25PdXQgPSBmdW5jdGlvbiAoaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIGZldGNoXzEuZGVmYXVsdC5yZWNpcGVJbXBsLnNpZ25PdXQoe1xuICAgICAgICAgICAgdXNlckNvbnRleHQ6ICgwLCB1dGlsc18xLmdldE5vcm1hbGlzZWRVc2VyQ29udGV4dCkoaW5wdXQgPT09IHVuZGVmaW5lZCA/IHVuZGVmaW5lZCA6IGlucHV0LnVzZXJDb250ZXh0KVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIEF1dGhIdHRwUmVxdWVzdC5nZXRJbnZhbGlkQ2xhaW1zRnJvbVJlc3BvbnNlID0gZnVuY3Rpb24gKGlucHV0KSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2IpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAyIC8qcmV0dXJuKi8sXG4gICAgICAgICAgICAgICAgICAgIGZldGNoXzEuZGVmYXVsdC5yZWNpcGVJbXBsLmdldEludmFsaWRDbGFpbXNGcm9tUmVzcG9uc2Uoe1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2U6IGlucHV0LnJlc3BvbnNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdXNlckNvbnRleHQ6ICgwLCB1dGlsc18xLmdldE5vcm1hbGlzZWRVc2VyQ29udGV4dCkoaW5wdXQudXNlckNvbnRleHQpXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIEF1dGhIdHRwUmVxdWVzdC5nZXRDbGFpbVZhbHVlID0gZnVuY3Rpb24gKGlucHV0KSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciB1c2VyQ29udGV4dCwgYWNjZXNzVG9rZW5QYXlsb2FkO1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYikge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2IubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgdXNlckNvbnRleHQgPSAoMCwgdXRpbHNfMS5nZXROb3JtYWxpc2VkVXNlckNvbnRleHQpKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0ID09PSB1bmRlZmluZWQgPyB1bmRlZmluZWQgOiBpbnB1dC51c2VyQ29udGV4dFxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgNCAvKnlpZWxkKi8sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQXV0aEh0dHBSZXF1ZXN0LmdldEFjY2Vzc1Rva2VuUGF5bG9hZFNlY3VyZWx5KHsgdXNlckNvbnRleHQ6IHVzZXJDb250ZXh0IH0pXG4gICAgICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICBhY2Nlc3NUb2tlblBheWxvYWQgPSBfYi5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgaW5wdXQuY2xhaW0uZ2V0VmFsdWVGcm9tUGF5bG9hZChhY2Nlc3NUb2tlblBheWxvYWQsIHVzZXJDb250ZXh0KV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgQXV0aEh0dHBSZXF1ZXN0LnZhbGlkYXRlQ2xhaW1zID0gZnVuY3Rpb24gKG92ZXJyaWRlR2xvYmFsQ2xhaW1WYWxpZGF0b3JzLCB1c2VyQ29udGV4dCkge1xuICAgICAgICB2YXIgbm9ybWFsaXNlZFVzZXJDb250ZXh0ID0gKDAsIHV0aWxzXzEuZ2V0Tm9ybWFsaXNlZFVzZXJDb250ZXh0KSh1c2VyQ29udGV4dCk7XG4gICAgICAgIHZhciBjbGFpbVZhbGlkYXRvcnNBZGRlZEJ5T3RoZXJSZWNpcGVzID1cbiAgICAgICAgICAgIHNlc3Npb25DbGFpbVZhbGlkYXRvclN0b3JlXzEuU2Vzc2lvbkNsYWltVmFsaWRhdG9yU3RvcmUuZ2V0Q2xhaW1WYWxpZGF0b3JzQWRkZWRCeU90aGVyUmVjaXBlcygpO1xuICAgICAgICB2YXIgZ2xvYmFsQ2xhaW1WYWxpZGF0b3JzID0gZmV0Y2hfMS5kZWZhdWx0LnJlY2lwZUltcGwuZ2V0R2xvYmFsQ2xhaW1WYWxpZGF0b3JzKHtcbiAgICAgICAgICAgIGNsYWltVmFsaWRhdG9yc0FkZGVkQnlPdGhlclJlY2lwZXM6IGNsYWltVmFsaWRhdG9yc0FkZGVkQnlPdGhlclJlY2lwZXMsXG4gICAgICAgICAgICB1c2VyQ29udGV4dDogbm9ybWFsaXNlZFVzZXJDb250ZXh0XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgY2xhaW1WYWxpZGF0b3JzID1cbiAgICAgICAgICAgIG92ZXJyaWRlR2xvYmFsQ2xhaW1WYWxpZGF0b3JzICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICA/IG92ZXJyaWRlR2xvYmFsQ2xhaW1WYWxpZGF0b3JzKGdsb2JhbENsYWltVmFsaWRhdG9ycywgbm9ybWFsaXNlZFVzZXJDb250ZXh0KVxuICAgICAgICAgICAgICAgIDogZ2xvYmFsQ2xhaW1WYWxpZGF0b3JzO1xuICAgICAgICBpZiAoY2xhaW1WYWxpZGF0b3JzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmZXRjaF8xLmRlZmF1bHQucmVjaXBlSW1wbC52YWxpZGF0ZUNsYWltcyh7XG4gICAgICAgICAgICBjbGFpbVZhbGlkYXRvcnM6IGNsYWltVmFsaWRhdG9ycyxcbiAgICAgICAgICAgIHVzZXJDb250ZXh0OiAoMCwgdXRpbHNfMS5nZXROb3JtYWxpc2VkVXNlckNvbnRleHQpKHVzZXJDb250ZXh0KVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIEF1dGhIdHRwUmVxdWVzdC5nZXRBY2Nlc3NUb2tlbiA9IGZ1bmN0aW9uIChpbnB1dCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcihfYSwgZnVuY3Rpb24gKF9iKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYi5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDQgLyp5aWVsZCovLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZldGNoXzEuZGVmYXVsdC5yZWNpcGVJbXBsLmRvZXNTZXNzaW9uRXhpc3Qoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyQ29udGV4dDogKDAsIHV0aWxzXzEuZ2V0Tm9ybWFsaXNlZFVzZXJDb250ZXh0KShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0ID09PSB1bmRlZmluZWQgPyB1bmRlZmluZWQgOiBpbnB1dC51c2VyQ29udGV4dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgdGFrZXMgY2FyZSBvZiByZWZyZXNoaW5nIHRoZSBhY2Nlc3MgdG9rZW4gaWYgbmVjZXNzYXJ5LlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9iLnNlbnQoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCAoMCwgZmV0Y2hfMS5nZXRUb2tlbkZvckhlYWRlckF1dGgpKFwiYWNjZXNzXCIpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCB1bmRlZmluZWRdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIHJldHVybiBBdXRoSHR0cFJlcXVlc3Q7XG59KSgpO1xuZXhwb3J0cy5kZWZhdWx0ID0gQXV0aEh0dHBSZXF1ZXN0O1xuZXhwb3J0cy5pbml0ID0gQXV0aEh0dHBSZXF1ZXN0LmluaXQ7XG5leHBvcnRzLmdldFVzZXJJZCA9IEF1dGhIdHRwUmVxdWVzdC5nZXRVc2VySWQ7XG5leHBvcnRzLmdldEFjY2Vzc1Rva2VuUGF5bG9hZFNlY3VyZWx5ID0gQXV0aEh0dHBSZXF1ZXN0LmdldEFjY2Vzc1Rva2VuUGF5bG9hZFNlY3VyZWx5O1xuZXhwb3J0cy5nZXRBY2Nlc3NUb2tlbiA9IEF1dGhIdHRwUmVxdWVzdC5nZXRBY2Nlc3NUb2tlbjtcbmV4cG9ydHMuYXR0ZW1wdFJlZnJlc2hpbmdTZXNzaW9uID0gQXV0aEh0dHBSZXF1ZXN0LmF0dGVtcHRSZWZyZXNoaW5nU2Vzc2lvbjtcbmV4cG9ydHMuZG9lc1Nlc3Npb25FeGlzdCA9IEF1dGhIdHRwUmVxdWVzdC5kb2VzU2Vzc2lvbkV4aXN0O1xuLyoqXG4gKiBAZGVwcmVjYXRlZFxuICovXG5leHBvcnRzLmFkZEF4aW9zSW50ZXJjZXB0b3JzID0gQXV0aEh0dHBSZXF1ZXN0LmFkZEF4aW9zSW50ZXJjZXB0b3JzO1xuZXhwb3J0cy5zaWduT3V0ID0gQXV0aEh0dHBSZXF1ZXN0LnNpZ25PdXQ7XG5leHBvcnRzLnZhbGlkYXRlQ2xhaW1zID0gQXV0aEh0dHBSZXF1ZXN0LnZhbGlkYXRlQ2xhaW1zO1xuZXhwb3J0cy5nZXRDbGFpbVZhbHVlID0gQXV0aEh0dHBSZXF1ZXN0LmdldENsYWltVmFsdWU7XG5leHBvcnRzLmdldEludmFsaWRDbGFpbXNGcm9tUmVzcG9uc2UgPSBBdXRoSHR0cFJlcXVlc3QuZ2V0SW52YWxpZENsYWltc0Zyb21SZXNwb25zZTtcbnZhciB0eXBlc18xID0gcmVxdWlyZShcIi4vdHlwZXNcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJTZXNzaW9uQ2xhaW1WYWxpZGF0b3JcIiwge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0eXBlc18xLlNlc3Npb25DbGFpbVZhbGlkYXRvcjtcbiAgICB9XG59KTtcbnZhciBwcmltaXRpdmVDbGFpbV8xID0gcmVxdWlyZShcIi4vY2xhaW1zL3ByaW1pdGl2ZUNsYWltXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiUHJpbWl0aXZlQ2xhaW1cIiwge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBwcmltaXRpdmVDbGFpbV8xLlByaW1pdGl2ZUNsYWltO1xuICAgIH1cbn0pO1xudmFyIHByaW1pdGl2ZUFycmF5Q2xhaW1fMSA9IHJlcXVpcmUoXCIuL2NsYWltcy9wcmltaXRpdmVBcnJheUNsYWltXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiUHJpbWl0aXZlQXJyYXlDbGFpbVwiLCB7XG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHByaW1pdGl2ZUFycmF5Q2xhaW1fMS5QcmltaXRpdmVBcnJheUNsYWltO1xuICAgIH1cbn0pO1xudmFyIGJvb2xlYW5DbGFpbV8xID0gcmVxdWlyZShcIi4vY2xhaW1zL2Jvb2xlYW5DbGFpbVwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIkJvb2xlYW5DbGFpbVwiLCB7XG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGJvb2xlYW5DbGFpbV8xLkJvb2xlYW5DbGFpbTtcbiAgICB9XG59KTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/supertokens-website/lib/build/index.js\n"));

/***/ }),

/***/ "./node_modules/supertokens-website/lib/build/logger.js":
/*!**************************************************************!*\
  !*** ./node_modules/supertokens-website/lib/build/logger.js ***!
  \**************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\n/* Copyright (c) 2021, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.logDebugMessage = exports.disableLogging = exports.enableLogging = void 0;\nvar version_1 = __webpack_require__(/*! ./version */ \"./node_modules/supertokens-website/lib/build/version.js\");\nvar SUPERTOKENS_DEBUG_NAMESPACE = \"com.supertokens\";\nvar __supertokensWebsiteLogging = false;\nfunction enableLogging() {\n    __supertokensWebsiteLogging = true;\n}\nexports.enableLogging = enableLogging;\nfunction disableLogging() {\n    __supertokensWebsiteLogging = false;\n}\nexports.disableLogging = disableLogging;\nfunction logDebugMessage(message) {\n    if (__supertokensWebsiteLogging) {\n        console.log(\n            \"\"\n                .concat(SUPERTOKENS_DEBUG_NAMESPACE, ' {t: \"')\n                .concat(new Date().toISOString(), '\", message: \"')\n                .concat(message, '\", supertokens-website-ver: \"')\n                .concat(version_1.package_version, '\"}')\n        );\n    }\n}\nexports.logDebugMessage = logDebugMessage;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3VwZXJ0b2tlbnMtd2Vic2l0ZS9saWIvYnVpbGQvbG9nZ2VyLmpzLmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCx1QkFBdUIsR0FBRyxzQkFBc0IsR0FBRyxxQkFBcUI7QUFDeEUsZ0JBQWdCLG1CQUFPLENBQUMsMEVBQVc7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3REFBd0Q7QUFDeEQ7QUFDQTtBQUNBLHNEQUFzRDtBQUN0RDtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3N1cGVydG9rZW5zLXdlYnNpdGUvbGliL2J1aWxkL2xvZ2dlci5qcz8xMDBiIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyogQ29weXJpZ2h0IChjKSAyMDIxLCBWUkFJIExhYnMgYW5kL29yIGl0cyBhZmZpbGlhdGVzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc29mdHdhcmUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlXG4gKiBcIkxpY2Vuc2VcIikgYXMgcHVibGlzaGVkIGJ5IHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRhdGlvbi5cbiAqXG4gKiBZb3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXlcbiAqIG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLCBXSVRIT1VUXG4gKiBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuIFNlZSB0aGVcbiAqIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zXG4gKiB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5sb2dEZWJ1Z01lc3NhZ2UgPSBleHBvcnRzLmRpc2FibGVMb2dnaW5nID0gZXhwb3J0cy5lbmFibGVMb2dnaW5nID0gdm9pZCAwO1xudmFyIHZlcnNpb25fMSA9IHJlcXVpcmUoXCIuL3ZlcnNpb25cIik7XG52YXIgU1VQRVJUT0tFTlNfREVCVUdfTkFNRVNQQUNFID0gXCJjb20uc3VwZXJ0b2tlbnNcIjtcbnZhciBfX3N1cGVydG9rZW5zV2Vic2l0ZUxvZ2dpbmcgPSBmYWxzZTtcbmZ1bmN0aW9uIGVuYWJsZUxvZ2dpbmcoKSB7XG4gICAgX19zdXBlcnRva2Vuc1dlYnNpdGVMb2dnaW5nID0gdHJ1ZTtcbn1cbmV4cG9ydHMuZW5hYmxlTG9nZ2luZyA9IGVuYWJsZUxvZ2dpbmc7XG5mdW5jdGlvbiBkaXNhYmxlTG9nZ2luZygpIHtcbiAgICBfX3N1cGVydG9rZW5zV2Vic2l0ZUxvZ2dpbmcgPSBmYWxzZTtcbn1cbmV4cG9ydHMuZGlzYWJsZUxvZ2dpbmcgPSBkaXNhYmxlTG9nZ2luZztcbmZ1bmN0aW9uIGxvZ0RlYnVnTWVzc2FnZShtZXNzYWdlKSB7XG4gICAgaWYgKF9fc3VwZXJ0b2tlbnNXZWJzaXRlTG9nZ2luZykge1xuICAgICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgICAgIFwiXCJcbiAgICAgICAgICAgICAgICAuY29uY2F0KFNVUEVSVE9LRU5TX0RFQlVHX05BTUVTUEFDRSwgJyB7dDogXCInKVxuICAgICAgICAgICAgICAgIC5jb25jYXQobmV3IERhdGUoKS50b0lTT1N0cmluZygpLCAnXCIsIG1lc3NhZ2U6IFwiJylcbiAgICAgICAgICAgICAgICAuY29uY2F0KG1lc3NhZ2UsICdcIiwgc3VwZXJ0b2tlbnMtd2Vic2l0ZS12ZXI6IFwiJylcbiAgICAgICAgICAgICAgICAuY29uY2F0KHZlcnNpb25fMS5wYWNrYWdlX3ZlcnNpb24sICdcIn0nKVxuICAgICAgICApO1xuICAgIH1cbn1cbmV4cG9ydHMubG9nRGVidWdNZXNzYWdlID0gbG9nRGVidWdNZXNzYWdlO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/supertokens-website/lib/build/logger.js\n"));

/***/ }),

/***/ "./node_modules/supertokens-website/lib/build/normalisedURLDomain.js":
/*!***************************************************************************!*\
  !*** ./node_modules/supertokens-website/lib/build/normalisedURLDomain.js ***!
  \***************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\n/* Copyright (c) 2021, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.isAnIpAddress = void 0;\nfunction isAnIpAddress(ipaddress) {\n    return /^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(\n        ipaddress\n    );\n}\nexports.isAnIpAddress = isAnIpAddress;\nvar NormalisedURLDomain = /** @class */ (function () {\n    function NormalisedURLDomain(url) {\n        var _this = this;\n        this.getAsStringDangerous = function () {\n            return _this.value;\n        };\n        this.value = normaliseURLDomainOrThrowError(url);\n    }\n    return NormalisedURLDomain;\n})();\nexports[\"default\"] = NormalisedURLDomain;\nfunction normaliseURLDomainOrThrowError(input, ignoreProtocol) {\n    if (ignoreProtocol === void 0) {\n        ignoreProtocol = false;\n    }\n    input = input.trim();\n    try {\n        if (!input.startsWith(\"http://\") && !input.startsWith(\"https://\")) {\n            throw new Error(\"converting to proper URL\");\n        }\n        var urlObj = new URL(input);\n        if (ignoreProtocol) {\n            if (urlObj.hostname.startsWith(\"localhost\") || isAnIpAddress(urlObj.hostname)) {\n                input = \"http://\" + urlObj.host;\n            } else {\n                input = \"https://\" + urlObj.host;\n            }\n        } else {\n            input = urlObj.protocol + \"//\" + urlObj.host;\n        }\n        return input;\n        // eslint-disable-next-line no-empty\n    } catch (err) {}\n    if (input.startsWith(\"/\")) {\n        throw new Error(\"Please provide a valid domain name\");\n    }\n    // not a valid URL\n    if (input.indexOf(\".\") === 0) {\n        input = input.substr(1);\n    }\n    // If the input contains a . it means they have given a domain name.\n    // So we try assuming that they have given a domain name\n    if (\n        (input.indexOf(\".\") !== -1 || input.startsWith(\"localhost\")) &&\n        !input.startsWith(\"http://\") &&\n        !input.startsWith(\"https://\")\n    ) {\n        input = \"https://\" + input;\n        // at this point, it should be a valid URL. So we test that before doing a recursive call\n        try {\n            new URL(input);\n            return normaliseURLDomainOrThrowError(input, true);\n            // eslint-disable-next-line no-empty\n        } catch (err) {}\n    }\n    throw new Error(\"Please provide a valid domain name\");\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3VwZXJ0b2tlbnMtd2Vic2l0ZS9saWIvYnVpbGQvbm9ybWFsaXNlZFVSTERvbWFpbi5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELGtCQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvc3VwZXJ0b2tlbnMtd2Vic2l0ZS9saWIvYnVpbGQvbm9ybWFsaXNlZFVSTERvbWFpbi5qcz8yZTllIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyogQ29weXJpZ2h0IChjKSAyMDIxLCBWUkFJIExhYnMgYW5kL29yIGl0cyBhZmZpbGlhdGVzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc29mdHdhcmUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlXG4gKiBcIkxpY2Vuc2VcIikgYXMgcHVibGlzaGVkIGJ5IHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRhdGlvbi5cbiAqXG4gKiBZb3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXlcbiAqIG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLCBXSVRIT1VUXG4gKiBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuIFNlZSB0aGVcbiAqIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zXG4gKiB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5pc0FuSXBBZGRyZXNzID0gdm9pZCAwO1xuZnVuY3Rpb24gaXNBbklwQWRkcmVzcyhpcGFkZHJlc3MpIHtcbiAgICByZXR1cm4gL14oMjVbMC01XXwyWzAtNF1bMC05XXxbMDFdP1swLTldWzAtOV0/KVxcLigyNVswLTVdfDJbMC00XVswLTldfFswMV0/WzAtOV1bMC05XT8pXFwuKDI1WzAtNV18MlswLTRdWzAtOV18WzAxXT9bMC05XVswLTldPylcXC4oMjVbMC01XXwyWzAtNF1bMC05XXxbMDFdP1swLTldWzAtOV0/KSQvLnRlc3QoXG4gICAgICAgIGlwYWRkcmVzc1xuICAgICk7XG59XG5leHBvcnRzLmlzQW5JcEFkZHJlc3MgPSBpc0FuSXBBZGRyZXNzO1xudmFyIE5vcm1hbGlzZWRVUkxEb21haW4gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTm9ybWFsaXNlZFVSTERvbWFpbih1cmwpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5nZXRBc1N0cmluZ0Rhbmdlcm91cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy52YWx1ZTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy52YWx1ZSA9IG5vcm1hbGlzZVVSTERvbWFpbk9yVGhyb3dFcnJvcih1cmwpO1xuICAgIH1cbiAgICByZXR1cm4gTm9ybWFsaXNlZFVSTERvbWFpbjtcbn0pKCk7XG5leHBvcnRzLmRlZmF1bHQgPSBOb3JtYWxpc2VkVVJMRG9tYWluO1xuZnVuY3Rpb24gbm9ybWFsaXNlVVJMRG9tYWluT3JUaHJvd0Vycm9yKGlucHV0LCBpZ25vcmVQcm90b2NvbCkge1xuICAgIGlmIChpZ25vcmVQcm90b2NvbCA9PT0gdm9pZCAwKSB7XG4gICAgICAgIGlnbm9yZVByb3RvY29sID0gZmFsc2U7XG4gICAgfVxuICAgIGlucHV0ID0gaW5wdXQudHJpbSgpO1xuICAgIHRyeSB7XG4gICAgICAgIGlmICghaW5wdXQuc3RhcnRzV2l0aChcImh0dHA6Ly9cIikgJiYgIWlucHV0LnN0YXJ0c1dpdGgoXCJodHRwczovL1wiKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiY29udmVydGluZyB0byBwcm9wZXIgVVJMXCIpO1xuICAgICAgICB9XG4gICAgICAgIHZhciB1cmxPYmogPSBuZXcgVVJMKGlucHV0KTtcbiAgICAgICAgaWYgKGlnbm9yZVByb3RvY29sKSB7XG4gICAgICAgICAgICBpZiAodXJsT2JqLmhvc3RuYW1lLnN0YXJ0c1dpdGgoXCJsb2NhbGhvc3RcIikgfHwgaXNBbklwQWRkcmVzcyh1cmxPYmouaG9zdG5hbWUpKSB7XG4gICAgICAgICAgICAgICAgaW5wdXQgPSBcImh0dHA6Ly9cIiArIHVybE9iai5ob3N0O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpbnB1dCA9IFwiaHR0cHM6Ly9cIiArIHVybE9iai5ob3N0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaW5wdXQgPSB1cmxPYmoucHJvdG9jb2wgKyBcIi8vXCIgKyB1cmxPYmouaG9zdDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaW5wdXQ7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1lbXB0eVxuICAgIH0gY2F0Y2ggKGVycikge31cbiAgICBpZiAoaW5wdXQuc3RhcnRzV2l0aChcIi9cIikpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUGxlYXNlIHByb3ZpZGUgYSB2YWxpZCBkb21haW4gbmFtZVwiKTtcbiAgICB9XG4gICAgLy8gbm90IGEgdmFsaWQgVVJMXG4gICAgaWYgKGlucHV0LmluZGV4T2YoXCIuXCIpID09PSAwKSB7XG4gICAgICAgIGlucHV0ID0gaW5wdXQuc3Vic3RyKDEpO1xuICAgIH1cbiAgICAvLyBJZiB0aGUgaW5wdXQgY29udGFpbnMgYSAuIGl0IG1lYW5zIHRoZXkgaGF2ZSBnaXZlbiBhIGRvbWFpbiBuYW1lLlxuICAgIC8vIFNvIHdlIHRyeSBhc3N1bWluZyB0aGF0IHRoZXkgaGF2ZSBnaXZlbiBhIGRvbWFpbiBuYW1lXG4gICAgaWYgKFxuICAgICAgICAoaW5wdXQuaW5kZXhPZihcIi5cIikgIT09IC0xIHx8IGlucHV0LnN0YXJ0c1dpdGgoXCJsb2NhbGhvc3RcIikpICYmXG4gICAgICAgICFpbnB1dC5zdGFydHNXaXRoKFwiaHR0cDovL1wiKSAmJlxuICAgICAgICAhaW5wdXQuc3RhcnRzV2l0aChcImh0dHBzOi8vXCIpXG4gICAgKSB7XG4gICAgICAgIGlucHV0ID0gXCJodHRwczovL1wiICsgaW5wdXQ7XG4gICAgICAgIC8vIGF0IHRoaXMgcG9pbnQsIGl0IHNob3VsZCBiZSBhIHZhbGlkIFVSTC4gU28gd2UgdGVzdCB0aGF0IGJlZm9yZSBkb2luZyBhIHJlY3Vyc2l2ZSBjYWxsXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBuZXcgVVJMKGlucHV0KTtcbiAgICAgICAgICAgIHJldHVybiBub3JtYWxpc2VVUkxEb21haW5PclRocm93RXJyb3IoaW5wdXQsIHRydWUpO1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWVtcHR5XG4gICAgICAgIH0gY2F0Y2ggKGVycikge31cbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiUGxlYXNlIHByb3ZpZGUgYSB2YWxpZCBkb21haW4gbmFtZVwiKTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/supertokens-website/lib/build/normalisedURLDomain.js\n"));

/***/ }),

/***/ "./node_modules/supertokens-website/lib/build/normalisedURLPath.js":
/*!*************************************************************************!*\
  !*** ./node_modules/supertokens-website/lib/build/normalisedURLPath.js ***!
  \*************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\n/* Copyright (c) 2021, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nvar NormalisedURLPath = /** @class */ (function () {\n    function NormalisedURLPath(url) {\n        var _this = this;\n        this.startsWith = function (other) {\n            return _this.value.startsWith(other.value);\n        };\n        this.appendPath = function (other) {\n            return new NormalisedURLPath(_this.value + other.value);\n        };\n        this.getAsStringDangerous = function () {\n            return _this.value;\n        };\n        this.value = normaliseURLPathOrThrowError(url);\n    }\n    return NormalisedURLPath;\n})();\nexports[\"default\"] = NormalisedURLPath;\nfunction normaliseURLPathOrThrowError(input) {\n    input = input.trim();\n    try {\n        if (!input.startsWith(\"http://\") && !input.startsWith(\"https://\")) {\n            throw new Error(\"converting to proper URL\");\n        }\n        var urlObj = new URL(input);\n        input = urlObj.pathname;\n        if (input.charAt(input.length - 1) === \"/\") {\n            return input.substr(0, input.length - 1);\n        }\n        return input;\n        // eslint-disable-next-line no-empty\n    } catch (err) {}\n    // not a valid URL\n    // If the input contains a . it means they have given a domain name.\n    // So we try assuming that they have given a domain name + path\n    if (\n        (domainGiven(input) || input.startsWith(\"localhost\")) &&\n        !input.startsWith(\"http://\") &&\n        !input.startsWith(\"https://\")\n    ) {\n        input = \"http://\" + input;\n        return normaliseURLPathOrThrowError(input);\n    }\n    if (input.charAt(0) !== \"/\") {\n        input = \"/\" + input;\n    }\n    // at this point, we should be able to convert it into a fake URL and recursively call this function.\n    try {\n        // test that we can convert this to prevent an infinite loop\n        new URL(\"http://example.com\" + input);\n        return normaliseURLPathOrThrowError(\"http://example.com\" + input);\n    } catch (err) {\n        throw new Error(\"Please provide a valid URL path\");\n    }\n}\nfunction domainGiven(input) {\n    // If no dot, return false.\n    if (input.indexOf(\".\") === -1 || input.startsWith(\"/\")) {\n        return false;\n    }\n    try {\n        var url = new URL(input);\n        return url.hostname.indexOf(\".\") !== -1;\n    } catch (e) {}\n    try {\n        var url = new URL(\"http://\" + input);\n        return url.hostname.indexOf(\".\") !== -1;\n    } catch (e) {}\n    return false;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3VwZXJ0b2tlbnMtd2Vic2l0ZS9saWIvYnVpbGQvbm9ybWFsaXNlZFVSTFBhdGguanMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCxrQkFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3N1cGVydG9rZW5zLXdlYnNpdGUvbGliL2J1aWxkL25vcm1hbGlzZWRVUkxQYXRoLmpzP2Y0MWMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKiBDb3B5cmlnaHQgKGMpIDIwMjEsIFZSQUkgTGFicyBhbmQvb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb2Z0d2FyZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGVcbiAqIFwiTGljZW5zZVwiKSBhcyBwdWJsaXNoZWQgYnkgdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLlxuICpcbiAqIFlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heVxuICogb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVRcbiAqIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gU2VlIHRoZVxuICogTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnNcbiAqIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgTm9ybWFsaXNlZFVSTFBhdGggPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTm9ybWFsaXNlZFVSTFBhdGgodXJsKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuc3RhcnRzV2l0aCA9IGZ1bmN0aW9uIChvdGhlcikge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzLnZhbHVlLnN0YXJ0c1dpdGgob3RoZXIudmFsdWUpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmFwcGVuZFBhdGggPSBmdW5jdGlvbiAob3RoZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgTm9ybWFsaXNlZFVSTFBhdGgoX3RoaXMudmFsdWUgKyBvdGhlci52YWx1ZSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZ2V0QXNTdHJpbmdEYW5nZXJvdXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMudmFsdWU7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMudmFsdWUgPSBub3JtYWxpc2VVUkxQYXRoT3JUaHJvd0Vycm9yKHVybCk7XG4gICAgfVxuICAgIHJldHVybiBOb3JtYWxpc2VkVVJMUGF0aDtcbn0pKCk7XG5leHBvcnRzLmRlZmF1bHQgPSBOb3JtYWxpc2VkVVJMUGF0aDtcbmZ1bmN0aW9uIG5vcm1hbGlzZVVSTFBhdGhPclRocm93RXJyb3IoaW5wdXQpIHtcbiAgICBpbnB1dCA9IGlucHV0LnRyaW0oKTtcbiAgICB0cnkge1xuICAgICAgICBpZiAoIWlucHV0LnN0YXJ0c1dpdGgoXCJodHRwOi8vXCIpICYmICFpbnB1dC5zdGFydHNXaXRoKFwiaHR0cHM6Ly9cIikpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImNvbnZlcnRpbmcgdG8gcHJvcGVyIFVSTFwiKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdXJsT2JqID0gbmV3IFVSTChpbnB1dCk7XG4gICAgICAgIGlucHV0ID0gdXJsT2JqLnBhdGhuYW1lO1xuICAgICAgICBpZiAoaW5wdXQuY2hhckF0KGlucHV0Lmxlbmd0aCAtIDEpID09PSBcIi9cIikge1xuICAgICAgICAgICAgcmV0dXJuIGlucHV0LnN1YnN0cigwLCBpbnB1dC5sZW5ndGggLSAxKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaW5wdXQ7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1lbXB0eVxuICAgIH0gY2F0Y2ggKGVycikge31cbiAgICAvLyBub3QgYSB2YWxpZCBVUkxcbiAgICAvLyBJZiB0aGUgaW5wdXQgY29udGFpbnMgYSAuIGl0IG1lYW5zIHRoZXkgaGF2ZSBnaXZlbiBhIGRvbWFpbiBuYW1lLlxuICAgIC8vIFNvIHdlIHRyeSBhc3N1bWluZyB0aGF0IHRoZXkgaGF2ZSBnaXZlbiBhIGRvbWFpbiBuYW1lICsgcGF0aFxuICAgIGlmIChcbiAgICAgICAgKGRvbWFpbkdpdmVuKGlucHV0KSB8fCBpbnB1dC5zdGFydHNXaXRoKFwibG9jYWxob3N0XCIpKSAmJlxuICAgICAgICAhaW5wdXQuc3RhcnRzV2l0aChcImh0dHA6Ly9cIikgJiZcbiAgICAgICAgIWlucHV0LnN0YXJ0c1dpdGgoXCJodHRwczovL1wiKVxuICAgICkge1xuICAgICAgICBpbnB1dCA9IFwiaHR0cDovL1wiICsgaW5wdXQ7XG4gICAgICAgIHJldHVybiBub3JtYWxpc2VVUkxQYXRoT3JUaHJvd0Vycm9yKGlucHV0KTtcbiAgICB9XG4gICAgaWYgKGlucHV0LmNoYXJBdCgwKSAhPT0gXCIvXCIpIHtcbiAgICAgICAgaW5wdXQgPSBcIi9cIiArIGlucHV0O1xuICAgIH1cbiAgICAvLyBhdCB0aGlzIHBvaW50LCB3ZSBzaG91bGQgYmUgYWJsZSB0byBjb252ZXJ0IGl0IGludG8gYSBmYWtlIFVSTCBhbmQgcmVjdXJzaXZlbHkgY2FsbCB0aGlzIGZ1bmN0aW9uLlxuICAgIHRyeSB7XG4gICAgICAgIC8vIHRlc3QgdGhhdCB3ZSBjYW4gY29udmVydCB0aGlzIHRvIHByZXZlbnQgYW4gaW5maW5pdGUgbG9vcFxuICAgICAgICBuZXcgVVJMKFwiaHR0cDovL2V4YW1wbGUuY29tXCIgKyBpbnB1dCk7XG4gICAgICAgIHJldHVybiBub3JtYWxpc2VVUkxQYXRoT3JUaHJvd0Vycm9yKFwiaHR0cDovL2V4YW1wbGUuY29tXCIgKyBpbnB1dCk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlBsZWFzZSBwcm92aWRlIGEgdmFsaWQgVVJMIHBhdGhcIik7XG4gICAgfVxufVxuZnVuY3Rpb24gZG9tYWluR2l2ZW4oaW5wdXQpIHtcbiAgICAvLyBJZiBubyBkb3QsIHJldHVybiBmYWxzZS5cbiAgICBpZiAoaW5wdXQuaW5kZXhPZihcIi5cIikgPT09IC0xIHx8IGlucHV0LnN0YXJ0c1dpdGgoXCIvXCIpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgdmFyIHVybCA9IG5ldyBVUkwoaW5wdXQpO1xuICAgICAgICByZXR1cm4gdXJsLmhvc3RuYW1lLmluZGV4T2YoXCIuXCIpICE9PSAtMTtcbiAgICB9IGNhdGNoIChlKSB7fVxuICAgIHRyeSB7XG4gICAgICAgIHZhciB1cmwgPSBuZXcgVVJMKFwiaHR0cDovL1wiICsgaW5wdXQpO1xuICAgICAgICByZXR1cm4gdXJsLmhvc3RuYW1lLmluZGV4T2YoXCIuXCIpICE9PSAtMTtcbiAgICB9IGNhdGNoIChlKSB7fVxuICAgIHJldHVybiBmYWxzZTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/supertokens-website/lib/build/normalisedURLPath.js\n"));

/***/ }),

/***/ "./node_modules/supertokens-website/lib/build/processState.js":
/*!********************************************************************!*\
  !*** ./node_modules/supertokens-website/lib/build/processState.js ***!
  \********************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("/* provided dependency */ var process = __webpack_require__(/*! process */ \"./node_modules/next/dist/build/polyfills/process.js\");\n\n/* Copyright (c) 2020, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nvar __awaiter =\n    (this && this.__awaiter) ||\n    function (thisArg, _arguments, P, generator) {\n        function adopt(value) {\n            return value instanceof P\n                ? value\n                : new P(function (resolve) {\n                      resolve(value);\n                  });\n        }\n        return new (P || (P = Promise))(function (resolve, reject) {\n            function fulfilled(value) {\n                try {\n                    step(generator.next(value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function rejected(value) {\n                try {\n                    step(generator[\"throw\"](value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function step(result) {\n                result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n            }\n            step((generator = generator.apply(thisArg, _arguments || [])).next());\n        });\n    };\nvar __generator =\n    (this && this.__generator) ||\n    function (thisArg, body) {\n        var _ = {\n                label: 0,\n                sent: function () {\n                    if (t[0] & 1) throw t[1];\n                    return t[1];\n                },\n                trys: [],\n                ops: []\n            },\n            f,\n            y,\n            t,\n            g;\n        return (\n            (g = { next: verb(0), throw: verb(1), return: verb(2) }),\n            typeof Symbol === \"function\" &&\n                (g[Symbol.iterator] = function () {\n                    return this;\n                }),\n            g\n        );\n        function verb(n) {\n            return function (v) {\n                return step([n, v]);\n            };\n        }\n        function step(op) {\n            if (f) throw new TypeError(\"Generator is already executing.\");\n            while (_)\n                try {\n                    if (\n                        ((f = 1),\n                        y &&\n                            (t =\n                                op[0] & 2\n                                    ? y[\"return\"]\n                                    : op[0]\n                                    ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0)\n                                    : y.next) &&\n                            !(t = t.call(y, op[1])).done)\n                    )\n                        return t;\n                    if (((y = 0), t)) op = [op[0] & 2, t.value];\n                    switch (op[0]) {\n                        case 0:\n                        case 1:\n                            t = op;\n                            break;\n                        case 4:\n                            _.label++;\n                            return { value: op[1], done: false };\n                        case 5:\n                            _.label++;\n                            y = op[1];\n                            op = [0];\n                            continue;\n                        case 7:\n                            op = _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                        default:\n                            if (\n                                !((t = _.trys), (t = t.length > 0 && t[t.length - 1])) &&\n                                (op[0] === 6 || op[0] === 2)\n                            ) {\n                                _ = 0;\n                                continue;\n                            }\n                            if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) {\n                                _.label = op[1];\n                                break;\n                            }\n                            if (op[0] === 6 && _.label < t[1]) {\n                                _.label = t[1];\n                                t = op;\n                                break;\n                            }\n                            if (t && _.label < t[2]) {\n                                _.label = t[2];\n                                _.ops.push(op);\n                                break;\n                            }\n                            if (t[2]) _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                    }\n                    op = body.call(thisArg, _);\n                } catch (e) {\n                    op = [6, e];\n                    y = 0;\n                } finally {\n                    f = t = 0;\n                }\n            if (op[0] & 5) throw op[1];\n            return { value: op[0] ? op[1] : void 0, done: true };\n        }\n    };\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.ProcessState = exports.PROCESS_STATE = void 0;\nvar PROCESS_STATE;\n(function (PROCESS_STATE) {\n    //CALLING_INTERCEPTION_REQUEST : Process state for the request interceptor.\n    //CALLING_INTERCEPTION_RESOPONSE : Process state for the response interceptor.\n    PROCESS_STATE[(PROCESS_STATE[\"CALLING_INTERCEPTION_REQUEST\"] = 0)] = \"CALLING_INTERCEPTION_REQUEST\";\n    PROCESS_STATE[(PROCESS_STATE[\"CALLING_INTERCEPTION_RESPONSE\"] = 1)] = \"CALLING_INTERCEPTION_RESPONSE\";\n})((PROCESS_STATE = exports.PROCESS_STATE || (exports.PROCESS_STATE = {})));\nvar ProcessState = /** @class */ (function () {\n    function ProcessState() {\n        var _this = this;\n        this.history = [];\n        this.addState = function (state) {\n            try {\n                if (process !== undefined && process.env !== undefined && process.env.TEST_MODE === \"testing\") {\n                    _this.history.push(state);\n                }\n            } catch (ignored) {}\n        };\n        this.getEventByLastEventByName = function (state) {\n            for (var i = _this.history.length - 1; i >= 0; i--) {\n                if (_this.history[i] == state) {\n                    return _this.history[i];\n                }\n            }\n            return undefined;\n        };\n        this.reset = function () {\n            _this.history = [];\n        };\n        this.waitForEvent = function (state, timeInMS) {\n            if (timeInMS === void 0) {\n                timeInMS = 7000;\n            }\n            return __awaiter(_this, void 0, void 0, function () {\n                var startTime;\n                var _this = this;\n                return __generator(this, function (_a) {\n                    startTime = Date.now();\n                    return [\n                        2 /*return*/,\n                        new Promise(function (resolve) {\n                            var actualThis = _this;\n                            function tryAndGet() {\n                                var result = actualThis.getEventByLastEventByName(state);\n                                if (result === undefined) {\n                                    if (Date.now() - startTime > timeInMS) {\n                                        resolve(undefined);\n                                    } else {\n                                        setTimeout(tryAndGet, 1000);\n                                    }\n                                } else {\n                                    resolve(result);\n                                }\n                            }\n                            tryAndGet();\n                        })\n                    ];\n                });\n            });\n        };\n    }\n    ProcessState.getInstance = function () {\n        if (ProcessState.instance == undefined) {\n            ProcessState.instance = new ProcessState();\n        }\n        return ProcessState.instance;\n    };\n    return ProcessState;\n})();\nexports.ProcessState = ProcessState;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3VwZXJ0b2tlbnMtd2Vic2l0ZS9saWIvYnVpbGQvcHJvY2Vzc1N0YXRlLmpzLmpzIiwibWFwcGluZ3MiOiI7QUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsZ0RBQWdEO0FBQ25FO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxvQkFBb0IsR0FBRyxxQkFBcUI7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyw2Q0FBNkMscUJBQXFCLEtBQUs7QUFDeEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLE9BQU8sa0JBQWtCLE9BQU8sc0JBQXNCLE9BQU87QUFDakY7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0EsbURBQW1ELFFBQVE7QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDO0FBQ3RDO0FBQ0E7QUFDQSxrQ0FBa0M7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCxvQkFBb0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3N1cGVydG9rZW5zLXdlYnNpdGUvbGliL2J1aWxkL3Byb2Nlc3NTdGF0ZS5qcz9mNDNhIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyogQ29weXJpZ2h0IChjKSAyMDIwLCBWUkFJIExhYnMgYW5kL29yIGl0cyBhZmZpbGlhdGVzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc29mdHdhcmUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlXG4gKiBcIkxpY2Vuc2VcIikgYXMgcHVibGlzaGVkIGJ5IHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRhdGlvbi5cbiAqXG4gKiBZb3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXlcbiAqIG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLCBXSVRIT1VUXG4gKiBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuIFNlZSB0aGVcbiAqIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zXG4gKiB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIF9fYXdhaXRlciA9XG4gICAgKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8XG4gICAgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgICAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUFxuICAgICAgICAgICAgICAgID8gdmFsdWVcbiAgICAgICAgICAgICAgICA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgICAgICB9KTtcbiAgICB9O1xudmFyIF9fZ2VuZXJhdG9yID1cbiAgICAodGhpcyAmJiB0aGlzLl9fZ2VuZXJhdG9yKSB8fFxuICAgIGZ1bmN0aW9uICh0aGlzQXJnLCBib2R5KSB7XG4gICAgICAgIHZhciBfID0ge1xuICAgICAgICAgICAgICAgIGxhYmVsOiAwLFxuICAgICAgICAgICAgICAgIHNlbnQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdFsxXTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHRyeXM6IFtdLFxuICAgICAgICAgICAgICAgIG9wczogW11cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmLFxuICAgICAgICAgICAgeSxcbiAgICAgICAgICAgIHQsXG4gICAgICAgICAgICBnO1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgKGcgPSB7IG5leHQ6IHZlcmIoMCksIHRocm93OiB2ZXJiKDEpLCByZXR1cm46IHZlcmIoMikgfSksXG4gICAgICAgICAgICB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiZcbiAgICAgICAgICAgICAgICAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIGdcbiAgICAgICAgKTtcbiAgICAgICAgZnVuY3Rpb24gdmVyYihuKSB7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RlcChbbiwgdl0pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XG4gICAgICAgICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XG4gICAgICAgICAgICB3aGlsZSAoXylcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAoKGYgPSAxKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAodCA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wWzBdICYgMlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB5W1wicmV0dXJuXCJdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG9wWzBdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHkubmV4dCkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCgoeSA9IDApLCB0KSkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHQgPSBvcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfLmxhYmVsKys7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF8ubGFiZWwrKztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB5ID0gb3BbMV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3AgPSBbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3AgPSBfLm9wcy5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgISgodCA9IF8udHJ5cyksICh0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXyA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXy5sYWJlbCA9IG9wWzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF8ubGFiZWwgPSB0WzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ID0gb3A7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfLmxhYmVsID0gdFsyXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXy5vcHMucHVzaChvcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgb3AgPSBbNiwgZV07XG4gICAgICAgICAgICAgICAgICAgIHkgPSAwO1xuICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIGYgPSB0ID0gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTtcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XG4gICAgICAgIH1cbiAgICB9O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Qcm9jZXNzU3RhdGUgPSBleHBvcnRzLlBST0NFU1NfU1RBVEUgPSB2b2lkIDA7XG52YXIgUFJPQ0VTU19TVEFURTtcbihmdW5jdGlvbiAoUFJPQ0VTU19TVEFURSkge1xuICAgIC8vQ0FMTElOR19JTlRFUkNFUFRJT05fUkVRVUVTVCA6IFByb2Nlc3Mgc3RhdGUgZm9yIHRoZSByZXF1ZXN0IGludGVyY2VwdG9yLlxuICAgIC8vQ0FMTElOR19JTlRFUkNFUFRJT05fUkVTT1BPTlNFIDogUHJvY2VzcyBzdGF0ZSBmb3IgdGhlIHJlc3BvbnNlIGludGVyY2VwdG9yLlxuICAgIFBST0NFU1NfU1RBVEVbKFBST0NFU1NfU1RBVEVbXCJDQUxMSU5HX0lOVEVSQ0VQVElPTl9SRVFVRVNUXCJdID0gMCldID0gXCJDQUxMSU5HX0lOVEVSQ0VQVElPTl9SRVFVRVNUXCI7XG4gICAgUFJPQ0VTU19TVEFURVsoUFJPQ0VTU19TVEFURVtcIkNBTExJTkdfSU5URVJDRVBUSU9OX1JFU1BPTlNFXCJdID0gMSldID0gXCJDQUxMSU5HX0lOVEVSQ0VQVElPTl9SRVNQT05TRVwiO1xufSkoKFBST0NFU1NfU1RBVEUgPSBleHBvcnRzLlBST0NFU1NfU1RBVEUgfHwgKGV4cG9ydHMuUFJPQ0VTU19TVEFURSA9IHt9KSkpO1xudmFyIFByb2Nlc3NTdGF0ZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBQcm9jZXNzU3RhdGUoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuaGlzdG9yeSA9IFtdO1xuICAgICAgICB0aGlzLmFkZFN0YXRlID0gZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmIChwcm9jZXNzICE9PSB1bmRlZmluZWQgJiYgcHJvY2Vzcy5lbnYgIT09IHVuZGVmaW5lZCAmJiBwcm9jZXNzLmVudi5URVNUX01PREUgPT09IFwidGVzdGluZ1wiKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmhpc3RvcnkucHVzaChzdGF0ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBjYXRjaCAoaWdub3JlZCkge31cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5nZXRFdmVudEJ5TGFzdEV2ZW50QnlOYW1lID0gZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gX3RoaXMuaGlzdG9yeS5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5oaXN0b3J5W2ldID09IHN0YXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5oaXN0b3J5W2ldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5oaXN0b3J5ID0gW107XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMud2FpdEZvckV2ZW50ID0gZnVuY3Rpb24gKHN0YXRlLCB0aW1lSW5NUykge1xuICAgICAgICAgICAgaWYgKHRpbWVJbk1TID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICB0aW1lSW5NUyA9IDcwMDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gX19hd2FpdGVyKF90aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBzdGFydFRpbWU7XG4gICAgICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0VGltZSA9IERhdGUubm93KCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAyIC8qcmV0dXJuKi8sXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhY3R1YWxUaGlzID0gX3RoaXM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gdHJ5QW5kR2V0KCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gYWN0dWFsVGhpcy5nZXRFdmVudEJ5TGFzdEV2ZW50QnlOYW1lKHN0YXRlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoRGF0ZS5ub3coKSAtIHN0YXJ0VGltZSA+IHRpbWVJbk1TKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh1bmRlZmluZWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KHRyeUFuZEdldCwgMTAwMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5QW5kR2V0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIFByb2Nlc3NTdGF0ZS5nZXRJbnN0YW5jZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKFByb2Nlc3NTdGF0ZS5pbnN0YW5jZSA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIFByb2Nlc3NTdGF0ZS5pbnN0YW5jZSA9IG5ldyBQcm9jZXNzU3RhdGUoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUHJvY2Vzc1N0YXRlLmluc3RhbmNlO1xuICAgIH07XG4gICAgcmV0dXJuIFByb2Nlc3NTdGF0ZTtcbn0pKCk7XG5leHBvcnRzLlByb2Nlc3NTdGF0ZSA9IFByb2Nlc3NTdGF0ZTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/supertokens-website/lib/build/processState.js\n"));

/***/ }),

/***/ "./node_modules/supertokens-website/lib/build/recipeImplementation.js":
/*!****************************************************************************!*\
  !*** ./node_modules/supertokens-website/lib/build/recipeImplementation.js ***!
  \****************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nvar __assign =\n    (this && this.__assign) ||\n    function () {\n        __assign =\n            Object.assign ||\n            function (t) {\n                for (var s, i = 1, n = arguments.length; i < n; i++) {\n                    s = arguments[i];\n                    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n                }\n                return t;\n            };\n        return __assign.apply(this, arguments);\n    };\nvar __awaiter =\n    (this && this.__awaiter) ||\n    function (thisArg, _arguments, P, generator) {\n        function adopt(value) {\n            return value instanceof P\n                ? value\n                : new P(function (resolve) {\n                      resolve(value);\n                  });\n        }\n        return new (P || (P = Promise))(function (resolve, reject) {\n            function fulfilled(value) {\n                try {\n                    step(generator.next(value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function rejected(value) {\n                try {\n                    step(generator[\"throw\"](value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function step(result) {\n                result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n            }\n            step((generator = generator.apply(thisArg, _arguments || [])).next());\n        });\n    };\nvar __generator =\n    (this && this.__generator) ||\n    function (thisArg, body) {\n        var _ = {\n                label: 0,\n                sent: function () {\n                    if (t[0] & 1) throw t[1];\n                    return t[1];\n                },\n                trys: [],\n                ops: []\n            },\n            f,\n            y,\n            t,\n            g;\n        return (\n            (g = { next: verb(0), throw: verb(1), return: verb(2) }),\n            typeof Symbol === \"function\" &&\n                (g[Symbol.iterator] = function () {\n                    return this;\n                }),\n            g\n        );\n        function verb(n) {\n            return function (v) {\n                return step([n, v]);\n            };\n        }\n        function step(op) {\n            if (f) throw new TypeError(\"Generator is already executing.\");\n            while (_)\n                try {\n                    if (\n                        ((f = 1),\n                        y &&\n                            (t =\n                                op[0] & 2\n                                    ? y[\"return\"]\n                                    : op[0]\n                                    ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0)\n                                    : y.next) &&\n                            !(t = t.call(y, op[1])).done)\n                    )\n                        return t;\n                    if (((y = 0), t)) op = [op[0] & 2, t.value];\n                    switch (op[0]) {\n                        case 0:\n                        case 1:\n                            t = op;\n                            break;\n                        case 4:\n                            _.label++;\n                            return { value: op[1], done: false };\n                        case 5:\n                            _.label++;\n                            y = op[1];\n                            op = [0];\n                            continue;\n                        case 7:\n                            op = _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                        default:\n                            if (\n                                !((t = _.trys), (t = t.length > 0 && t[t.length - 1])) &&\n                                (op[0] === 6 || op[0] === 2)\n                            ) {\n                                _ = 0;\n                                continue;\n                            }\n                            if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) {\n                                _.label = op[1];\n                                break;\n                            }\n                            if (op[0] === 6 && _.label < t[1]) {\n                                _.label = t[1];\n                                t = op;\n                                break;\n                            }\n                            if (t && _.label < t[2]) {\n                                _.label = t[2];\n                                _.ops.push(op);\n                                break;\n                            }\n                            if (t[2]) _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                    }\n                    op = body.call(thisArg, _);\n                } catch (e) {\n                    op = [6, e];\n                    y = 0;\n                } finally {\n                    f = t = 0;\n                }\n            if (op[0] & 5) throw op[1];\n            return { value: op[0] ? op[1] : void 0, done: true };\n        }\n    };\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nvar fetch_1 = __webpack_require__(/*! ./fetch */ \"./node_modules/supertokens-website/lib/build/fetch.js\");\nvar axios_1 = __webpack_require__(/*! ./axios */ \"./node_modules/supertokens-website/lib/build/axios.js\");\nvar version_1 = __webpack_require__(/*! ./version */ \"./node_modules/supertokens-website/lib/build/version.js\");\nvar logger_1 = __webpack_require__(/*! ./logger */ \"./node_modules/supertokens-website/lib/build/logger.js\");\nvar error_1 = __webpack_require__(/*! ./error */ \"./node_modules/supertokens-website/lib/build/error.js\");\nvar xmlhttprequest_1 = __webpack_require__(/*! ./xmlhttprequest */ \"./node_modules/supertokens-website/lib/build/xmlhttprequest.js\");\nfunction RecipeImplementation(recipeImplInput) {\n    return {\n        addXMLHttpRequestInterceptor: function (_) {\n            (0, logger_1.logDebugMessage)(\"addXMLHttpRequestInterceptorAndReturnModified: called\");\n            (0, xmlhttprequest_1.addInterceptorsToXMLHttpRequest)();\n        },\n        addFetchInterceptorsAndReturnModifiedFetch: function (input) {\n            (0, logger_1.logDebugMessage)(\"addFetchInterceptorsAndReturnModifiedFetch: called\");\n            return function (url, config) {\n                return __awaiter(this, void 0, void 0, function () {\n                    return __generator(this, function (_a) {\n                        switch (_a.label) {\n                            case 0:\n                                return [\n                                    4 /*yield*/,\n                                    fetch_1.default.doRequest(\n                                        function (config) {\n                                            return input.originalFetch(\n                                                typeof url === \"object\" && \"clone\" in url ? url.clone() : url,\n                                                __assign({}, config)\n                                            );\n                                        },\n                                        config,\n                                        url\n                                    )\n                                ];\n                            case 1:\n                                return [2 /*return*/, _a.sent()];\n                        }\n                    });\n                });\n            };\n        },\n        addAxiosInterceptors: function (input) {\n            (0, logger_1.logDebugMessage)(\"addAxiosInterceptors: called\");\n            if (XMLHttpRequest.__interceptedBySuperTokens) {\n                console.warn(\n                    \"Not adding axios interceptor since XMLHttpRequest is already added. This is just a warning.\"\n                );\n                console.warn(\"Our axios and XMLHttpRequest interceptors cannot be used at the same time.\");\n                console.warn(\n                    \"Since XMLHttpRequest is added automatically and supports axios by default, you can just remove addAxiosInterceptors from your code.\"\n                );\n                console.warn(\n                    \"If you want to continue using our axios interceptor, you can override addXMLHttpRequestInterceptor with an empty function.\"\n                );\n                (0, logger_1.logDebugMessage)(\n                    \"addAxiosInterceptors: not adding, because XHR interceptors are already in place\"\n                );\n                return;\n            }\n            // we first check if this axiosInstance already has our interceptors.\n            var requestInterceptors = input.axiosInstance.interceptors.request;\n            for (var i = 0; i < requestInterceptors.handlers.length; i++) {\n                if (requestInterceptors.handlers[i].fulfilled === axios_1.interceptorFunctionRequestFulfilled) {\n                    (0, logger_1.logDebugMessage)(\n                        \"addAxiosInterceptors: not adding because already added on this instance\"\n                    );\n                    return;\n                }\n            }\n            // Add a request interceptor\n            input.axiosInstance.interceptors.request.use(axios_1.interceptorFunctionRequestFulfilled, function (error) {\n                return __awaiter(this, void 0, void 0, function () {\n                    return __generator(this, function (_a) {\n                        throw error;\n                    });\n                });\n            });\n            // Add a response interceptor\n            input.axiosInstance.interceptors.response.use(\n                (0, axios_1.responseInterceptor)(input.axiosInstance),\n                (0, axios_1.responseErrorInterceptor)(input.axiosInstance)\n            );\n        },\n        getUserId: function (_) {\n            return __awaiter(this, void 0, void 0, function () {\n                var tokenInfo;\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            (0, logger_1.logDebugMessage)(\"getUserId: called\");\n                            return [4 /*yield*/, fetch_1.FrontToken.getTokenInfo()];\n                        case 1:\n                            tokenInfo = _a.sent();\n                            if (tokenInfo === undefined) {\n                                throw new Error(\"No session exists\");\n                            }\n                            (0, logger_1.logDebugMessage)(\"getUserId: returning: \" + tokenInfo.uid);\n                            return [2 /*return*/, tokenInfo.uid];\n                    }\n                });\n            });\n        },\n        getAccessTokenPayloadSecurely: function (input) {\n            return __awaiter(this, void 0, void 0, function () {\n                var tokenInfo, retry;\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            (0, logger_1.logDebugMessage)(\"getAccessTokenPayloadSecurely: called\");\n                            return [4 /*yield*/, fetch_1.FrontToken.getTokenInfo()];\n                        case 1:\n                            tokenInfo = _a.sent();\n                            if (tokenInfo === undefined) {\n                                throw new Error(\"No session exists\");\n                            }\n                            if (!(tokenInfo.ate < Date.now())) return [3 /*break*/, 5];\n                            (0,\n                            logger_1.logDebugMessage)(\"getAccessTokenPayloadSecurely: access token expired. Refreshing session\");\n                            return [4 /*yield*/, fetch_1.default.attemptRefreshingSession()];\n                        case 2:\n                            retry = _a.sent();\n                            if (!retry) return [3 /*break*/, 4];\n                            return [\n                                4 /*yield*/,\n                                this.getAccessTokenPayloadSecurely({\n                                    userContext: input.userContext\n                                })\n                            ];\n                        case 3:\n                            return [2 /*return*/, _a.sent()];\n                        case 4:\n                            throw new Error(\"Could not refresh session\");\n                        case 5:\n                            (0,\n                            logger_1.logDebugMessage)(\"getAccessTokenPayloadSecurely: returning: \" + JSON.stringify(tokenInfo.up));\n                            return [2 /*return*/, tokenInfo.up];\n                    }\n                });\n            });\n        },\n        doesSessionExist: function (_) {\n            return __awaiter(this, void 0, void 0, function () {\n                var tokenInfo, preRequestLSS, refresh;\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            (0, logger_1.logDebugMessage)(\"doesSessionExist: called\");\n                            return [4 /*yield*/, fetch_1.FrontToken.getTokenInfo()];\n                        case 1:\n                            tokenInfo = _a.sent();\n                            // The above includes getLocalSessionState(true), which would call refresh if the FE cookies were cleared for some reason\n                            if (tokenInfo === undefined) {\n                                (0, logger_1.logDebugMessage)(\"doesSessionExist: access token does not exist locally\");\n                                return [2 /*return*/, false];\n                            }\n                            if (!(tokenInfo.ate < Date.now())) return [3 /*break*/, 4];\n                            (0, logger_1.logDebugMessage)(\"doesSessionExist: access token expired. Refreshing session\");\n                            return [4 /*yield*/, (0, fetch_1.getLocalSessionState)(false)];\n                        case 2:\n                            preRequestLSS = _a.sent();\n                            return [4 /*yield*/, (0, fetch_1.onUnauthorisedResponse)(preRequestLSS)];\n                        case 3:\n                            refresh = _a.sent();\n                            return [2 /*return*/, refresh.result === \"RETRY\"];\n                        case 4:\n                            return [2 /*return*/, true];\n                    }\n                });\n            });\n        },\n        signOut: function (input) {\n            return __awaiter(this, void 0, void 0, function () {\n                var preAPIResult, resp, responseJson, message;\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            (0, logger_1.logDebugMessage)(\"signOut: called\");\n                            return [4 /*yield*/, this.doesSessionExist(input)];\n                        case 1:\n                            if (!_a.sent()) {\n                                (0, logger_1.logDebugMessage)(\"signOut: exiting early because session does not exist\");\n                                (0, logger_1.logDebugMessage)(\"signOut: firing SIGN_OUT event\");\n                                recipeImplInput.onHandleEvent({\n                                    action: \"SIGN_OUT\",\n                                    userContext: input.userContext\n                                });\n                                return [2 /*return*/];\n                            }\n                            (0, logger_1.logDebugMessage)(\"signOut: Calling refresh pre API hook\");\n                            return [\n                                4 /*yield*/,\n                                recipeImplInput.preAPIHook({\n                                    action: \"SIGN_OUT\",\n                                    requestInit: {\n                                        method: \"post\",\n                                        headers: {\n                                            \"fdi-version\": version_1.supported_fdi.join(\",\"),\n                                            rid: fetch_1.default.rid\n                                        }\n                                    },\n                                    url: fetch_1.default.signOutUrl,\n                                    userContext: input.userContext\n                                })\n                            ];\n                        case 2:\n                            preAPIResult = _a.sent();\n                            (0, logger_1.logDebugMessage)(\"signOut: Calling API\");\n                            return [4 /*yield*/, fetch(preAPIResult.url, preAPIResult.requestInit)];\n                        case 3:\n                            resp = _a.sent();\n                            (0, logger_1.logDebugMessage)(\"signOut: API ended\");\n                            (0, logger_1.logDebugMessage)(\"signOut: API responded with status code: \" + resp.status);\n                            if (resp.status === recipeImplInput.sessionExpiredStatusCode) {\n                                // refresh must have already sent session expiry event\n                                return [2 /*return*/];\n                            }\n                            if (resp.status >= 300) {\n                                throw resp;\n                            }\n                            return [\n                                4 /*yield*/,\n                                recipeImplInput.postAPIHook({\n                                    action: \"SIGN_OUT\",\n                                    requestInit: preAPIResult.requestInit,\n                                    url: preAPIResult.url,\n                                    fetchResponse: resp.clone(),\n                                    userContext: input.userContext\n                                })\n                            ];\n                        case 4:\n                            _a.sent();\n                            return [4 /*yield*/, resp.clone().json()];\n                        case 5:\n                            responseJson = _a.sent();\n                            if (responseJson.status === \"GENERAL_ERROR\") {\n                                (0, logger_1.logDebugMessage)(\"doRequest: Throwing general error\");\n                                message =\n                                    responseJson.message === undefined\n                                        ? \"No Error Message Provided\"\n                                        : responseJson.message;\n                                throw new error_1.STGeneralError(message);\n                            }\n                            return [2 /*return*/];\n                    }\n                });\n            });\n        },\n        getInvalidClaimsFromResponse: function (input) {\n            return __awaiter(this, void 0, void 0, function () {\n                var body;\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            if (!(\"body\" in input.response)) return [3 /*break*/, 2];\n                            return [4 /*yield*/, input.response.clone().json()];\n                        case 1:\n                            body = _a.sent();\n                            return [3 /*break*/, 3];\n                        case 2:\n                            if (typeof input.response.data === \"string\") {\n                                body = JSON.parse(input.response.data);\n                            } else {\n                                body = input.response.data;\n                            }\n                            _a.label = 3;\n                        case 3:\n                            return [2 /*return*/, body.claimValidationErrors];\n                    }\n                });\n            });\n        },\n        getGlobalClaimValidators: function (input) {\n            return input.claimValidatorsAddedByOtherRecipes;\n        },\n        validateClaims: function (input) {\n            return __awaiter(this, void 0, void 0, function () {\n                var accessTokenPayload, _i, _a, validator, err_1, errors, _b, _c, validator, validationRes;\n                return __generator(this, function (_d) {\n                    switch (_d.label) {\n                        case 0:\n                            return [\n                                4 /*yield*/,\n                                this.getAccessTokenPayloadSecurely({ userContext: input.userContext })\n                            ];\n                        case 1:\n                            accessTokenPayload = _d.sent();\n                            (_i = 0), (_a = input.claimValidators);\n                            _d.label = 2;\n                        case 2:\n                            if (!(_i < _a.length)) return [3 /*break*/, 10];\n                            validator = _a[_i];\n                            return [4 /*yield*/, validator.shouldRefresh(accessTokenPayload, input.userContext)];\n                        case 3:\n                            if (!_d.sent()) return [3 /*break*/, 9];\n                            _d.label = 4;\n                        case 4:\n                            _d.trys.push([4, 6, , 7]);\n                            return [4 /*yield*/, validator.refresh(input.userContext)];\n                        case 5:\n                            _d.sent();\n                            return [3 /*break*/, 7];\n                        case 6:\n                            err_1 = _d.sent();\n                            console.error(\n                                \"Encountered an error while refreshing validator \".concat(validator.id),\n                                err_1\n                            );\n                            return [3 /*break*/, 7];\n                        case 7:\n                            return [\n                                4 /*yield*/,\n                                this.getAccessTokenPayloadSecurely({ userContext: input.userContext })\n                            ];\n                        case 8:\n                            accessTokenPayload = _d.sent();\n                            _d.label = 9;\n                        case 9:\n                            _i++;\n                            return [3 /*break*/, 2];\n                        case 10:\n                            errors = [];\n                            (_b = 0), (_c = input.claimValidators);\n                            _d.label = 11;\n                        case 11:\n                            if (!(_b < _c.length)) return [3 /*break*/, 14];\n                            validator = _c[_b];\n                            return [4 /*yield*/, validator.validate(accessTokenPayload, input.userContext)];\n                        case 12:\n                            validationRes = _d.sent();\n                            if (!validationRes.isValid) {\n                                errors.push({\n                                    validatorId: validator.id,\n                                    reason: validationRes.reason\n                                });\n                            }\n                            _d.label = 13;\n                        case 13:\n                            _b++;\n                            return [3 /*break*/, 11];\n                        case 14:\n                            return [2 /*return*/, errors];\n                    }\n                });\n            });\n        }\n    };\n}\nexports[\"default\"] = RecipeImplementation;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3VwZXJ0b2tlbnMtd2Vic2l0ZS9saWIvYnVpbGQvcmVjaXBlSW1wbGVtZW50YXRpb24uanMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5REFBeUQsT0FBTztBQUNoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixnREFBZ0Q7QUFDbkU7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGNBQWMsbUJBQU8sQ0FBQyxzRUFBUztBQUMvQixjQUFjLG1CQUFPLENBQUMsc0VBQVM7QUFDL0IsZ0JBQWdCLG1CQUFPLENBQUMsMEVBQVc7QUFDbkMsZUFBZSxtQkFBTyxDQUFDLHdFQUFVO0FBQ2pDLGNBQWMsbUJBQU8sQ0FBQyxzRUFBUztBQUMvQix1QkFBdUIsbUJBQU8sQ0FBQyx3RkFBa0I7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJEQUEyRDtBQUMzRDtBQUNBLHlDQUF5QztBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0Qix5Q0FBeUM7QUFDckU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQztBQUNyQztBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUVBQXFFLGdDQUFnQztBQUNyRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFFQUFxRSxnQ0FBZ0M7QUFDckc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGtCQUFlIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9zdXBlcnRva2Vucy13ZWJzaXRlL2xpYi9idWlsZC9yZWNpcGVJbXBsZW1lbnRhdGlvbi5qcz8wNTY2Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fYXNzaWduID1cbiAgICAodGhpcyAmJiB0aGlzLl9fYXNzaWduKSB8fFxuICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX19hc3NpZ24gPVxuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbiB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKHQpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHQ7XG4gICAgICAgICAgICB9O1xuICAgICAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9O1xudmFyIF9fYXdhaXRlciA9XG4gICAgKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8XG4gICAgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgICAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUFxuICAgICAgICAgICAgICAgID8gdmFsdWVcbiAgICAgICAgICAgICAgICA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgICAgICB9KTtcbiAgICB9O1xudmFyIF9fZ2VuZXJhdG9yID1cbiAgICAodGhpcyAmJiB0aGlzLl9fZ2VuZXJhdG9yKSB8fFxuICAgIGZ1bmN0aW9uICh0aGlzQXJnLCBib2R5KSB7XG4gICAgICAgIHZhciBfID0ge1xuICAgICAgICAgICAgICAgIGxhYmVsOiAwLFxuICAgICAgICAgICAgICAgIHNlbnQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdFsxXTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHRyeXM6IFtdLFxuICAgICAgICAgICAgICAgIG9wczogW11cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmLFxuICAgICAgICAgICAgeSxcbiAgICAgICAgICAgIHQsXG4gICAgICAgICAgICBnO1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgKGcgPSB7IG5leHQ6IHZlcmIoMCksIHRocm93OiB2ZXJiKDEpLCByZXR1cm46IHZlcmIoMikgfSksXG4gICAgICAgICAgICB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiZcbiAgICAgICAgICAgICAgICAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIGdcbiAgICAgICAgKTtcbiAgICAgICAgZnVuY3Rpb24gdmVyYihuKSB7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RlcChbbiwgdl0pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XG4gICAgICAgICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XG4gICAgICAgICAgICB3aGlsZSAoXylcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAoKGYgPSAxKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAodCA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wWzBdICYgMlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB5W1wicmV0dXJuXCJdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG9wWzBdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHkubmV4dCkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCgoeSA9IDApLCB0KSkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHQgPSBvcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfLmxhYmVsKys7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF8ubGFiZWwrKztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB5ID0gb3BbMV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3AgPSBbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3AgPSBfLm9wcy5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgISgodCA9IF8udHJ5cyksICh0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXyA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXy5sYWJlbCA9IG9wWzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF8ubGFiZWwgPSB0WzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ID0gb3A7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfLmxhYmVsID0gdFsyXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXy5vcHMucHVzaChvcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgb3AgPSBbNiwgZV07XG4gICAgICAgICAgICAgICAgICAgIHkgPSAwO1xuICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIGYgPSB0ID0gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTtcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XG4gICAgICAgIH1cbiAgICB9O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIGZldGNoXzEgPSByZXF1aXJlKFwiLi9mZXRjaFwiKTtcbnZhciBheGlvc18xID0gcmVxdWlyZShcIi4vYXhpb3NcIik7XG52YXIgdmVyc2lvbl8xID0gcmVxdWlyZShcIi4vdmVyc2lvblwiKTtcbnZhciBsb2dnZXJfMSA9IHJlcXVpcmUoXCIuL2xvZ2dlclwiKTtcbnZhciBlcnJvcl8xID0gcmVxdWlyZShcIi4vZXJyb3JcIik7XG52YXIgeG1saHR0cHJlcXVlc3RfMSA9IHJlcXVpcmUoXCIuL3htbGh0dHByZXF1ZXN0XCIpO1xuZnVuY3Rpb24gUmVjaXBlSW1wbGVtZW50YXRpb24ocmVjaXBlSW1wbElucHV0KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgYWRkWE1MSHR0cFJlcXVlc3RJbnRlcmNlcHRvcjogZnVuY3Rpb24gKF8pIHtcbiAgICAgICAgICAgICgwLCBsb2dnZXJfMS5sb2dEZWJ1Z01lc3NhZ2UpKFwiYWRkWE1MSHR0cFJlcXVlc3RJbnRlcmNlcHRvckFuZFJldHVybk1vZGlmaWVkOiBjYWxsZWRcIik7XG4gICAgICAgICAgICAoMCwgeG1saHR0cHJlcXVlc3RfMS5hZGRJbnRlcmNlcHRvcnNUb1hNTEh0dHBSZXF1ZXN0KSgpO1xuICAgICAgICB9LFxuICAgICAgICBhZGRGZXRjaEludGVyY2VwdG9yc0FuZFJldHVybk1vZGlmaWVkRmV0Y2g6IGZ1bmN0aW9uIChpbnB1dCkge1xuICAgICAgICAgICAgKDAsIGxvZ2dlcl8xLmxvZ0RlYnVnTWVzc2FnZSkoXCJhZGRGZXRjaEludGVyY2VwdG9yc0FuZFJldHVybk1vZGlmaWVkRmV0Y2g6IGNhbGxlZFwiKTtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAodXJsLCBjb25maWcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA0IC8qeWllbGQqLyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZldGNoXzEuZGVmYXVsdC5kb1JlcXVlc3QoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKGNvbmZpZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW5wdXQub3JpZ2luYWxGZXRjaChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVvZiB1cmwgPT09IFwib2JqZWN0XCIgJiYgXCJjbG9uZVwiIGluIHVybCA/IHVybC5jbG9uZSgpIDogdXJsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX19hc3NpZ24oe30sIGNvbmZpZylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBfYS5zZW50KCldO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgICAgIGFkZEF4aW9zSW50ZXJjZXB0b3JzOiBmdW5jdGlvbiAoaW5wdXQpIHtcbiAgICAgICAgICAgICgwLCBsb2dnZXJfMS5sb2dEZWJ1Z01lc3NhZ2UpKFwiYWRkQXhpb3NJbnRlcmNlcHRvcnM6IGNhbGxlZFwiKTtcbiAgICAgICAgICAgIGlmIChYTUxIdHRwUmVxdWVzdC5fX2ludGVyY2VwdGVkQnlTdXBlclRva2Vucykge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICAgICAgICAgICAgXCJOb3QgYWRkaW5nIGF4aW9zIGludGVyY2VwdG9yIHNpbmNlIFhNTEh0dHBSZXF1ZXN0IGlzIGFscmVhZHkgYWRkZWQuIFRoaXMgaXMganVzdCBhIHdhcm5pbmcuXCJcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIk91ciBheGlvcyBhbmQgWE1MSHR0cFJlcXVlc3QgaW50ZXJjZXB0b3JzIGNhbm5vdCBiZSB1c2VkIGF0IHRoZSBzYW1lIHRpbWUuXCIpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICAgICAgICAgICAgXCJTaW5jZSBYTUxIdHRwUmVxdWVzdCBpcyBhZGRlZCBhdXRvbWF0aWNhbGx5IGFuZCBzdXBwb3J0cyBheGlvcyBieSBkZWZhdWx0LCB5b3UgY2FuIGp1c3QgcmVtb3ZlIGFkZEF4aW9zSW50ZXJjZXB0b3JzIGZyb20geW91ciBjb2RlLlwiXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXG4gICAgICAgICAgICAgICAgICAgIFwiSWYgeW91IHdhbnQgdG8gY29udGludWUgdXNpbmcgb3VyIGF4aW9zIGludGVyY2VwdG9yLCB5b3UgY2FuIG92ZXJyaWRlIGFkZFhNTEh0dHBSZXF1ZXN0SW50ZXJjZXB0b3Igd2l0aCBhbiBlbXB0eSBmdW5jdGlvbi5cIlxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgKDAsIGxvZ2dlcl8xLmxvZ0RlYnVnTWVzc2FnZSkoXG4gICAgICAgICAgICAgICAgICAgIFwiYWRkQXhpb3NJbnRlcmNlcHRvcnM6IG5vdCBhZGRpbmcsIGJlY2F1c2UgWEhSIGludGVyY2VwdG9ycyBhcmUgYWxyZWFkeSBpbiBwbGFjZVwiXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyB3ZSBmaXJzdCBjaGVjayBpZiB0aGlzIGF4aW9zSW5zdGFuY2UgYWxyZWFkeSBoYXMgb3VyIGludGVyY2VwdG9ycy5cbiAgICAgICAgICAgIHZhciByZXF1ZXN0SW50ZXJjZXB0b3JzID0gaW5wdXQuYXhpb3NJbnN0YW5jZS5pbnRlcmNlcHRvcnMucmVxdWVzdDtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVxdWVzdEludGVyY2VwdG9ycy5oYW5kbGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChyZXF1ZXN0SW50ZXJjZXB0b3JzLmhhbmRsZXJzW2ldLmZ1bGZpbGxlZCA9PT0gYXhpb3NfMS5pbnRlcmNlcHRvckZ1bmN0aW9uUmVxdWVzdEZ1bGZpbGxlZCkge1xuICAgICAgICAgICAgICAgICAgICAoMCwgbG9nZ2VyXzEubG9nRGVidWdNZXNzYWdlKShcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiYWRkQXhpb3NJbnRlcmNlcHRvcnM6IG5vdCBhZGRpbmcgYmVjYXVzZSBhbHJlYWR5IGFkZGVkIG9uIHRoaXMgaW5zdGFuY2VcIlxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQWRkIGEgcmVxdWVzdCBpbnRlcmNlcHRvclxuICAgICAgICAgICAgaW5wdXQuYXhpb3NJbnN0YW5jZS5pbnRlcmNlcHRvcnMucmVxdWVzdC51c2UoYXhpb3NfMS5pbnRlcmNlcHRvckZ1bmN0aW9uUmVxdWVzdEZ1bGZpbGxlZCwgZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIEFkZCBhIHJlc3BvbnNlIGludGVyY2VwdG9yXG4gICAgICAgICAgICBpbnB1dC5heGlvc0luc3RhbmNlLmludGVyY2VwdG9ycy5yZXNwb25zZS51c2UoXG4gICAgICAgICAgICAgICAgKDAsIGF4aW9zXzEucmVzcG9uc2VJbnRlcmNlcHRvcikoaW5wdXQuYXhpb3NJbnN0YW5jZSksXG4gICAgICAgICAgICAgICAgKDAsIGF4aW9zXzEucmVzcG9uc2VFcnJvckludGVyY2VwdG9yKShpbnB1dC5heGlvc0luc3RhbmNlKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0VXNlcklkOiBmdW5jdGlvbiAoXykge1xuICAgICAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciB0b2tlbkluZm87XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKDAsIGxvZ2dlcl8xLmxvZ0RlYnVnTWVzc2FnZSkoXCJnZXRVc2VySWQ6IGNhbGxlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBmZXRjaF8xLkZyb250VG9rZW4uZ2V0VG9rZW5JbmZvKCldO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuSW5mbyA9IF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodG9rZW5JbmZvID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gc2Vzc2lvbiBleGlzdHNcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICgwLCBsb2dnZXJfMS5sb2dEZWJ1Z01lc3NhZ2UpKFwiZ2V0VXNlcklkOiByZXR1cm5pbmc6IFwiICsgdG9rZW5JbmZvLnVpZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHRva2VuSW5mby51aWRdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0QWNjZXNzVG9rZW5QYXlsb2FkU2VjdXJlbHk6IGZ1bmN0aW9uIChpbnB1dCkge1xuICAgICAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciB0b2tlbkluZm8sIHJldHJ5O1xuICAgICAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICgwLCBsb2dnZXJfMS5sb2dEZWJ1Z01lc3NhZ2UpKFwiZ2V0QWNjZXNzVG9rZW5QYXlsb2FkU2VjdXJlbHk6IGNhbGxlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBmZXRjaF8xLkZyb250VG9rZW4uZ2V0VG9rZW5JbmZvKCldO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuSW5mbyA9IF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodG9rZW5JbmZvID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gc2Vzc2lvbiBleGlzdHNcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKHRva2VuSW5mby5hdGUgPCBEYXRlLm5vdygpKSkgcmV0dXJuIFszIC8qYnJlYWsqLywgNV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nRGVidWdNZXNzYWdlKShcImdldEFjY2Vzc1Rva2VuUGF5bG9hZFNlY3VyZWx5OiBhY2Nlc3MgdG9rZW4gZXhwaXJlZC4gUmVmcmVzaGluZyBzZXNzaW9uXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIGZldGNoXzEuZGVmYXVsdC5hdHRlbXB0UmVmcmVzaGluZ1Nlc3Npb24oKV07XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0cnkgPSBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFyZXRyeSkgcmV0dXJuIFszIC8qYnJlYWsqLywgNF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgNCAvKnlpZWxkKi8sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0QWNjZXNzVG9rZW5QYXlsb2FkU2VjdXJlbHkoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlckNvbnRleHQ6IGlucHV0LnVzZXJDb250ZXh0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgX2Euc2VudCgpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZCBub3QgcmVmcmVzaCBzZXNzaW9uXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICgwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ0RlYnVnTWVzc2FnZSkoXCJnZXRBY2Nlc3NUb2tlblBheWxvYWRTZWN1cmVseTogcmV0dXJuaW5nOiBcIiArIEpTT04uc3RyaW5naWZ5KHRva2VuSW5mby51cCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCB0b2tlbkluZm8udXBdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgZG9lc1Nlc3Npb25FeGlzdDogZnVuY3Rpb24gKF8pIHtcbiAgICAgICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgdG9rZW5JbmZvLCBwcmVSZXF1ZXN0TFNTLCByZWZyZXNoO1xuICAgICAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICgwLCBsb2dnZXJfMS5sb2dEZWJ1Z01lc3NhZ2UpKFwiZG9lc1Nlc3Npb25FeGlzdDogY2FsbGVkXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIGZldGNoXzEuRnJvbnRUb2tlbi5nZXRUb2tlbkluZm8oKV07XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW5JbmZvID0gX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZSBhYm92ZSBpbmNsdWRlcyBnZXRMb2NhbFNlc3Npb25TdGF0ZSh0cnVlKSwgd2hpY2ggd291bGQgY2FsbCByZWZyZXNoIGlmIHRoZSBGRSBjb29raWVzIHdlcmUgY2xlYXJlZCBmb3Igc29tZSByZWFzb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodG9rZW5JbmZvID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKDAsIGxvZ2dlcl8xLmxvZ0RlYnVnTWVzc2FnZSkoXCJkb2VzU2Vzc2lvbkV4aXN0OiBhY2Nlc3MgdG9rZW4gZG9lcyBub3QgZXhpc3QgbG9jYWxseVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIGZhbHNlXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEodG9rZW5JbmZvLmF0ZSA8IERhdGUubm93KCkpKSByZXR1cm4gWzMgLypicmVhayovLCA0XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoMCwgbG9nZ2VyXzEubG9nRGVidWdNZXNzYWdlKShcImRvZXNTZXNzaW9uRXhpc3Q6IGFjY2VzcyB0b2tlbiBleHBpcmVkLiBSZWZyZXNoaW5nIHNlc3Npb25cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgKDAsIGZldGNoXzEuZ2V0TG9jYWxTZXNzaW9uU3RhdGUpKGZhbHNlKV07XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJlUmVxdWVzdExTUyA9IF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCAoMCwgZmV0Y2hfMS5vblVuYXV0aG9yaXNlZFJlc3BvbnNlKShwcmVSZXF1ZXN0TFNTKV07XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmcmVzaCA9IF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgcmVmcmVzaC5yZXN1bHQgPT09IFwiUkVUUllcIl07XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHRydWVdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSxcbiAgICAgICAgc2lnbk91dDogZnVuY3Rpb24gKGlucHV0KSB7XG4gICAgICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIHByZUFQSVJlc3VsdCwgcmVzcCwgcmVzcG9uc2VKc29uLCBtZXNzYWdlO1xuICAgICAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICgwLCBsb2dnZXJfMS5sb2dEZWJ1Z01lc3NhZ2UpKFwic2lnbk91dDogY2FsbGVkXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuZG9lc1Nlc3Npb25FeGlzdChpbnB1dCldO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghX2Euc2VudCgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICgwLCBsb2dnZXJfMS5sb2dEZWJ1Z01lc3NhZ2UpKFwic2lnbk91dDogZXhpdGluZyBlYXJseSBiZWNhdXNlIHNlc3Npb24gZG9lcyBub3QgZXhpc3RcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICgwLCBsb2dnZXJfMS5sb2dEZWJ1Z01lc3NhZ2UpKFwic2lnbk91dDogZmlyaW5nIFNJR05fT1VUIGV2ZW50XCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWNpcGVJbXBsSW5wdXQub25IYW5kbGVFdmVudCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb246IFwiU0lHTl9PVVRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJDb250ZXh0OiBpbnB1dC51c2VyQ29udGV4dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoMCwgbG9nZ2VyXzEubG9nRGVidWdNZXNzYWdlKShcInNpZ25PdXQ6IENhbGxpbmcgcmVmcmVzaCBwcmUgQVBJIGhvb2tcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgNCAvKnlpZWxkKi8sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlY2lwZUltcGxJbnB1dC5wcmVBUElIb29rKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbjogXCJTSUdOX09VVFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdEluaXQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6IFwicG9zdFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJmZGktdmVyc2lvblwiOiB2ZXJzaW9uXzEuc3VwcG9ydGVkX2ZkaS5qb2luKFwiLFwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmlkOiBmZXRjaF8xLmRlZmF1bHQucmlkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogZmV0Y2hfMS5kZWZhdWx0LnNpZ25PdXRVcmwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyQ29udGV4dDogaW5wdXQudXNlckNvbnRleHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZUFQSVJlc3VsdCA9IF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoMCwgbG9nZ2VyXzEubG9nRGVidWdNZXNzYWdlKShcInNpZ25PdXQ6IENhbGxpbmcgQVBJXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIGZldGNoKHByZUFQSVJlc3VsdC51cmwsIHByZUFQSVJlc3VsdC5yZXF1ZXN0SW5pdCldO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3AgPSBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKDAsIGxvZ2dlcl8xLmxvZ0RlYnVnTWVzc2FnZSkoXCJzaWduT3V0OiBBUEkgZW5kZWRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKDAsIGxvZ2dlcl8xLmxvZ0RlYnVnTWVzc2FnZSkoXCJzaWduT3V0OiBBUEkgcmVzcG9uZGVkIHdpdGggc3RhdHVzIGNvZGU6IFwiICsgcmVzcC5zdGF0dXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwLnN0YXR1cyA9PT0gcmVjaXBlSW1wbElucHV0LnNlc3Npb25FeHBpcmVkU3RhdHVzQ29kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyByZWZyZXNoIG11c3QgaGF2ZSBhbHJlYWR5IHNlbnQgc2Vzc2lvbiBleHBpcnkgZXZlbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcC5zdGF0dXMgPj0gMzAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IHJlc3A7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDQgLyp5aWVsZCovLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWNpcGVJbXBsSW5wdXQucG9zdEFQSUhvb2soe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiBcIlNJR05fT1VUXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1ZXN0SW5pdDogcHJlQVBJUmVzdWx0LnJlcXVlc3RJbml0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBwcmVBUElSZXN1bHQudXJsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmV0Y2hSZXNwb25zZTogcmVzcC5jbG9uZSgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlckNvbnRleHQ6IGlucHV0LnVzZXJDb250ZXh0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgcmVzcC5jbG9uZSgpLmpzb24oKV07XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VKc29uID0gX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZUpzb24uc3RhdHVzID09PSBcIkdFTkVSQUxfRVJST1JcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoMCwgbG9nZ2VyXzEubG9nRGVidWdNZXNzYWdlKShcImRvUmVxdWVzdDogVGhyb3dpbmcgZ2VuZXJhbCBlcnJvclwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZUpzb24ubWVzc2FnZSA9PT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcIk5vIEVycm9yIE1lc3NhZ2UgUHJvdmlkZWRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogcmVzcG9uc2VKc29uLm1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBlcnJvcl8xLlNUR2VuZXJhbEVycm9yKG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBnZXRJbnZhbGlkQ2xhaW1zRnJvbVJlc3BvbnNlOiBmdW5jdGlvbiAoaW5wdXQpIHtcbiAgICAgICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgYm9keTtcbiAgICAgICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShcImJvZHlcIiBpbiBpbnB1dC5yZXNwb25zZSkpIHJldHVybiBbMyAvKmJyZWFrKi8sIDJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIGlucHV0LnJlc3BvbnNlLmNsb25lKCkuanNvbigpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBib2R5ID0gX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDNdO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgaW5wdXQucmVzcG9uc2UuZGF0YSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib2R5ID0gSlNPTi5wYXJzZShpbnB1dC5yZXNwb25zZS5kYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib2R5ID0gaW5wdXQucmVzcG9uc2UuZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2EubGFiZWwgPSAzO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBib2R5LmNsYWltVmFsaWRhdGlvbkVycm9yc107XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBnZXRHbG9iYWxDbGFpbVZhbGlkYXRvcnM6IGZ1bmN0aW9uIChpbnB1dCkge1xuICAgICAgICAgICAgcmV0dXJuIGlucHV0LmNsYWltVmFsaWRhdG9yc0FkZGVkQnlPdGhlclJlY2lwZXM7XG4gICAgICAgIH0sXG4gICAgICAgIHZhbGlkYXRlQ2xhaW1zOiBmdW5jdGlvbiAoaW5wdXQpIHtcbiAgICAgICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgYWNjZXNzVG9rZW5QYXlsb2FkLCBfaSwgX2EsIHZhbGlkYXRvciwgZXJyXzEsIGVycm9ycywgX2IsIF9jLCB2YWxpZGF0b3IsIHZhbGlkYXRpb25SZXM7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfZCkge1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9kLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgNCAvKnlpZWxkKi8sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0QWNjZXNzVG9rZW5QYXlsb2FkU2VjdXJlbHkoeyB1c2VyQ29udGV4dDogaW5wdXQudXNlckNvbnRleHQgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjY2Vzc1Rva2VuUGF5bG9hZCA9IF9kLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoX2kgPSAwKSwgKF9hID0gaW5wdXQuY2xhaW1WYWxpZGF0b3JzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZC5sYWJlbCA9IDI7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoX2kgPCBfYS5sZW5ndGgpKSByZXR1cm4gWzMgLypicmVhayovLCAxMF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdG9yID0gX2FbX2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHZhbGlkYXRvci5zaG91bGRSZWZyZXNoKGFjY2Vzc1Rva2VuUGF5bG9hZCwgaW5wdXQudXNlckNvbnRleHQpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV9kLnNlbnQoKSkgcmV0dXJuIFszIC8qYnJlYWsqLywgOV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2QubGFiZWwgPSA0O1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9kLnRyeXMucHVzaChbNCwgNiwgLCA3XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdmFsaWRhdG9yLnJlZnJlc2goaW5wdXQudXNlckNvbnRleHQpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZC5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgN107XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyXzEgPSBfZC5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJFbmNvdW50ZXJlZCBhbiBlcnJvciB3aGlsZSByZWZyZXNoaW5nIHZhbGlkYXRvciBcIi5jb25jYXQodmFsaWRhdG9yLmlkKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyXzFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDddO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDQgLyp5aWVsZCovLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdldEFjY2Vzc1Rva2VuUGF5bG9hZFNlY3VyZWx5KHsgdXNlckNvbnRleHQ6IGlucHV0LnVzZXJDb250ZXh0IH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgODpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY2Nlc3NUb2tlblBheWxvYWQgPSBfZC5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2QubGFiZWwgPSA5O1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA5OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pKys7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgMl07XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDEwOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9ycyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChfYiA9IDApLCAoX2MgPSBpbnB1dC5jbGFpbVZhbGlkYXRvcnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9kLmxhYmVsID0gMTE7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDExOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKF9iIDwgX2MubGVuZ3RoKSkgcmV0dXJuIFszIC8qYnJlYWsqLywgMTRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRvciA9IF9jW19iXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB2YWxpZGF0b3IudmFsaWRhdGUoYWNjZXNzVG9rZW5QYXlsb2FkLCBpbnB1dC51c2VyQ29udGV4dCldO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxMjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uUmVzID0gX2Quc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdmFsaWRhdGlvblJlcy5pc1ZhbGlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9ycy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRvcklkOiB2YWxpZGF0b3IuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFzb246IHZhbGlkYXRpb25SZXMucmVhc29uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZC5sYWJlbCA9IDEzO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxMzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYisrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDExXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIGVycm9yc107XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcbn1cbmV4cG9ydHMuZGVmYXVsdCA9IFJlY2lwZUltcGxlbWVudGF0aW9uO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/supertokens-website/lib/build/recipeImplementation.js\n"));

/***/ }),

/***/ "./node_modules/supertokens-website/lib/build/types.js":
/*!*************************************************************!*\
  !*** ./node_modules/supertokens-website/lib/build/types.js ***!
  \*************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\n/* Copyright (c) 2020, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.SessionClaimValidator = void 0;\nvar SessionClaimValidator = /** @class */ (function () {\n    function SessionClaimValidator(id) {\n        this.id = id;\n    }\n    return SessionClaimValidator;\n})();\nexports.SessionClaimValidator = SessionClaimValidator;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3VwZXJ0b2tlbnMtd2Vic2l0ZS9saWIvYnVpbGQvdHlwZXMuanMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELDZCQUE2QiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvc3VwZXJ0b2tlbnMtd2Vic2l0ZS9saWIvYnVpbGQvdHlwZXMuanM/Yzc0OSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qIENvcHlyaWdodCAoYykgMjAyMCwgVlJBSSBMYWJzIGFuZC9vciBpdHMgYWZmaWxpYXRlcy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvZnR3YXJlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZVxuICogXCJMaWNlbnNlXCIpIGFzIHB1Ymxpc2hlZCBieSB0aGUgQXBhY2hlIFNvZnR3YXJlIEZvdW5kYXRpb24uXG4gKlxuICogWW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5XG4gKiBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVFxuICogV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiBTZWUgdGhlXG4gKiBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9uc1xuICogdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuU2Vzc2lvbkNsYWltVmFsaWRhdG9yID0gdm9pZCAwO1xudmFyIFNlc3Npb25DbGFpbVZhbGlkYXRvciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTZXNzaW9uQ2xhaW1WYWxpZGF0b3IoaWQpIHtcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgIH1cbiAgICByZXR1cm4gU2Vzc2lvbkNsYWltVmFsaWRhdG9yO1xufSkoKTtcbmV4cG9ydHMuU2Vzc2lvbkNsYWltVmFsaWRhdG9yID0gU2Vzc2lvbkNsYWltVmFsaWRhdG9yO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/supertokens-website/lib/build/types.js\n"));

/***/ }),

/***/ "./node_modules/supertokens-website/lib/build/utils/cookieHandler/defaultImplementation.js":
/*!*************************************************************************************************!*\
  !*** ./node_modules/supertokens-website/lib/build/utils/cookieHandler/defaultImplementation.js ***!
  \*************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nvar __awaiter =\n    (this && this.__awaiter) ||\n    function (thisArg, _arguments, P, generator) {\n        function adopt(value) {\n            return value instanceof P\n                ? value\n                : new P(function (resolve) {\n                      resolve(value);\n                  });\n        }\n        return new (P || (P = Promise))(function (resolve, reject) {\n            function fulfilled(value) {\n                try {\n                    step(generator.next(value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function rejected(value) {\n                try {\n                    step(generator[\"throw\"](value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function step(result) {\n                result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n            }\n            step((generator = generator.apply(thisArg, _arguments || [])).next());\n        });\n    };\nvar __generator =\n    (this && this.__generator) ||\n    function (thisArg, body) {\n        var _ = {\n                label: 0,\n                sent: function () {\n                    if (t[0] & 1) throw t[1];\n                    return t[1];\n                },\n                trys: [],\n                ops: []\n            },\n            f,\n            y,\n            t,\n            g;\n        return (\n            (g = { next: verb(0), throw: verb(1), return: verb(2) }),\n            typeof Symbol === \"function\" &&\n                (g[Symbol.iterator] = function () {\n                    return this;\n                }),\n            g\n        );\n        function verb(n) {\n            return function (v) {\n                return step([n, v]);\n            };\n        }\n        function step(op) {\n            if (f) throw new TypeError(\"Generator is already executing.\");\n            while (_)\n                try {\n                    if (\n                        ((f = 1),\n                        y &&\n                            (t =\n                                op[0] & 2\n                                    ? y[\"return\"]\n                                    : op[0]\n                                    ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0)\n                                    : y.next) &&\n                            !(t = t.call(y, op[1])).done)\n                    )\n                        return t;\n                    if (((y = 0), t)) op = [op[0] & 2, t.value];\n                    switch (op[0]) {\n                        case 0:\n                        case 1:\n                            t = op;\n                            break;\n                        case 4:\n                            _.label++;\n                            return { value: op[1], done: false };\n                        case 5:\n                            _.label++;\n                            y = op[1];\n                            op = [0];\n                            continue;\n                        case 7:\n                            op = _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                        default:\n                            if (\n                                !((t = _.trys), (t = t.length > 0 && t[t.length - 1])) &&\n                                (op[0] === 6 || op[0] === 2)\n                            ) {\n                                _ = 0;\n                                continue;\n                            }\n                            if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) {\n                                _.label = op[1];\n                                break;\n                            }\n                            if (op[0] === 6 && _.label < t[1]) {\n                                _.label = t[1];\n                                t = op;\n                                break;\n                            }\n                            if (t && _.label < t[2]) {\n                                _.label = t[2];\n                                _.ops.push(op);\n                                break;\n                            }\n                            if (t[2]) _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                    }\n                    op = body.call(thisArg, _);\n                } catch (e) {\n                    op = [6, e];\n                    y = 0;\n                } finally {\n                    f = t = 0;\n                }\n            if (op[0] & 5) throw op[1];\n            return { value: op[0] ? op[1] : void 0, done: true };\n        }\n    };\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.defaultCookieHandlerImplementation = void 0;\nvar windowHandler_1 = __webpack_require__(/*! ../windowHandler */ \"./node_modules/supertokens-website/lib/build/utils/windowHandler/index.js\");\nexports.defaultCookieHandlerImplementation = {\n    getCookie: function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [\n                    2 /*return*/,\n                    windowHandler_1.default.getReferenceOrThrow().windowHandler.getWindowUnsafe().document.cookie\n                ];\n            });\n        });\n    },\n    setCookie: function (cookieString) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                windowHandler_1.default.getReferenceOrThrow().windowHandler.getWindowUnsafe().document.cookie =\n                    cookieString;\n                return [2 /*return*/];\n            });\n        });\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3VwZXJ0b2tlbnMtd2Vic2l0ZS9saWIvYnVpbGQvdXRpbHMvY29va2llSGFuZGxlci9kZWZhdWx0SW1wbGVtZW50YXRpb24uanMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsZ0RBQWdEO0FBQ25FO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCwwQ0FBMEM7QUFDMUMsc0JBQXNCLG1CQUFPLENBQUMsbUdBQWtCO0FBQ2hELDBDQUEwQztBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvc3VwZXJ0b2tlbnMtd2Vic2l0ZS9saWIvYnVpbGQvdXRpbHMvY29va2llSGFuZGxlci9kZWZhdWx0SW1wbGVtZW50YXRpb24uanM/NjVkMCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2F3YWl0ZXIgPVxuICAgICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fFxuICAgIGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICAgICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFBcbiAgICAgICAgICAgICAgICA/IHZhbHVlXG4gICAgICAgICAgICAgICAgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkge1xuICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbnZhciBfX2dlbmVyYXRvciA9XG4gICAgKHRoaXMgJiYgdGhpcy5fX2dlbmVyYXRvcikgfHxcbiAgICBmdW5jdGlvbiAodGhpc0FyZywgYm9keSkge1xuICAgICAgICB2YXIgXyA9IHtcbiAgICAgICAgICAgICAgICBsYWJlbDogMCxcbiAgICAgICAgICAgICAgICBzZW50OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRbMV07XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB0cnlzOiBbXSxcbiAgICAgICAgICAgICAgICBvcHM6IFtdXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZixcbiAgICAgICAgICAgIHksXG4gICAgICAgICAgICB0LFxuICAgICAgICAgICAgZztcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIChnID0geyBuZXh0OiB2ZXJiKDApLCB0aHJvdzogdmVyYigxKSwgcmV0dXJuOiB2ZXJiKDIpIH0pLFxuICAgICAgICAgICAgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmXG4gICAgICAgICAgICAgICAgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBnXG4gICAgICAgICk7XG4gICAgICAgIGZ1bmN0aW9uIHZlcmIobikge1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICh2KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0ZXAoW24sIHZdKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChvcCkge1xuICAgICAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xuICAgICAgICAgICAgd2hpbGUgKF8pXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgKChmID0gMSksXG4gICAgICAgICAgICAgICAgICAgICAgICB5ICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKHQgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcFswXSAmIDJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8geVtcInJldHVyblwiXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBvcFswXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiB5Lm5leHQpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSlcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHQ7XG4gICAgICAgICAgICAgICAgICAgIGlmICgoKHkgPSAwKSwgdCkpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ID0gb3A7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXy5sYWJlbCsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfLmxhYmVsKys7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeSA9IG9wWzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wID0gWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wID0gXy5vcHMucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICEoKHQgPSBfLnRyeXMpLCAodCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF8gPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF8ubGFiZWwgPSBvcFsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfLmxhYmVsID0gdFsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdCA9IG9wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXy5sYWJlbCA9IHRbMl07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF8ub3BzLnB1c2gob3ApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIG9wID0gWzYsIGVdO1xuICAgICAgICAgICAgICAgICAgICB5ID0gMDtcbiAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICBmID0gdCA9IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07XG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xuICAgICAgICB9XG4gICAgfTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuZGVmYXVsdENvb2tpZUhhbmRsZXJJbXBsZW1lbnRhdGlvbiA9IHZvaWQgMDtcbnZhciB3aW5kb3dIYW5kbGVyXzEgPSByZXF1aXJlKFwiLi4vd2luZG93SGFuZGxlclwiKTtcbmV4cG9ydHMuZGVmYXVsdENvb2tpZUhhbmRsZXJJbXBsZW1lbnRhdGlvbiA9IHtcbiAgICBnZXRDb29raWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgIDIgLypyZXR1cm4qLyxcbiAgICAgICAgICAgICAgICAgICAgd2luZG93SGFuZGxlcl8xLmRlZmF1bHQuZ2V0UmVmZXJlbmNlT3JUaHJvdygpLndpbmRvd0hhbmRsZXIuZ2V0V2luZG93VW5zYWZlKCkuZG9jdW1lbnQuY29va2llXG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9LFxuICAgIHNldENvb2tpZTogZnVuY3Rpb24gKGNvb2tpZVN0cmluZykge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgd2luZG93SGFuZGxlcl8xLmRlZmF1bHQuZ2V0UmVmZXJlbmNlT3JUaHJvdygpLndpbmRvd0hhbmRsZXIuZ2V0V2luZG93VW5zYWZlKCkuZG9jdW1lbnQuY29va2llID1cbiAgICAgICAgICAgICAgICAgICAgY29va2llU3RyaW5nO1xuICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovXTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/supertokens-website/lib/build/utils/cookieHandler/defaultImplementation.js\n"));

/***/ }),

/***/ "./node_modules/supertokens-website/lib/build/utils/cookieHandler/index.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/supertokens-website/lib/build/utils/cookieHandler/index.js ***!
  \*********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.CookieHandlerReference = void 0;\n/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nvar defaultImplementation_1 = __webpack_require__(/*! ./defaultImplementation */ \"./node_modules/supertokens-website/lib/build/utils/cookieHandler/defaultImplementation.js\");\nvar CookieHandlerReference = /** @class */ (function () {\n    function CookieHandlerReference(cookieHandlerInput) {\n        var cookieHandlerFunc = function (original) {\n            return original;\n        };\n        if (cookieHandlerInput !== undefined) {\n            cookieHandlerFunc = cookieHandlerInput;\n        }\n        this.cookieHandler = cookieHandlerFunc(defaultImplementation_1.defaultCookieHandlerImplementation);\n    }\n    CookieHandlerReference.init = function (cookieHandlerInput) {\n        if (CookieHandlerReference.instance !== undefined) {\n            return;\n        }\n        CookieHandlerReference.instance = new CookieHandlerReference(cookieHandlerInput);\n    };\n    CookieHandlerReference.getReferenceOrThrow = function () {\n        if (CookieHandlerReference.instance === undefined) {\n            throw new Error(\"SuperTokensCookieHandler must be initialized before calling this method.\");\n        }\n        return CookieHandlerReference.instance;\n    };\n    return CookieHandlerReference;\n})();\nexports.CookieHandlerReference = CookieHandlerReference;\nexports[\"default\"] = CookieHandlerReference;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3VwZXJ0b2tlbnMtd2Vic2l0ZS9saWIvYnVpbGQvdXRpbHMvY29va2llSGFuZGxlci9pbmRleC5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QixtQkFBTyxDQUFDLDBIQUF5QjtBQUMvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELDhCQUE4QjtBQUM5QixrQkFBZSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvc3VwZXJ0b2tlbnMtd2Vic2l0ZS9saWIvYnVpbGQvdXRpbHMvY29va2llSGFuZGxlci9pbmRleC5qcz9mNTMyIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Db29raWVIYW5kbGVyUmVmZXJlbmNlID0gdm9pZCAwO1xuLyogQ29weXJpZ2h0IChjKSAyMDIyLCBWUkFJIExhYnMgYW5kL29yIGl0cyBhZmZpbGlhdGVzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc29mdHdhcmUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlXG4gKiBcIkxpY2Vuc2VcIikgYXMgcHVibGlzaGVkIGJ5IHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRhdGlvbi5cbiAqXG4gKiBZb3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXlcbiAqIG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLCBXSVRIT1VUXG4gKiBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuIFNlZSB0aGVcbiAqIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zXG4gKiB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIGRlZmF1bHRJbXBsZW1lbnRhdGlvbl8xID0gcmVxdWlyZShcIi4vZGVmYXVsdEltcGxlbWVudGF0aW9uXCIpO1xudmFyIENvb2tpZUhhbmRsZXJSZWZlcmVuY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQ29va2llSGFuZGxlclJlZmVyZW5jZShjb29raWVIYW5kbGVySW5wdXQpIHtcbiAgICAgICAgdmFyIGNvb2tpZUhhbmRsZXJGdW5jID0gZnVuY3Rpb24gKG9yaWdpbmFsKSB7XG4gICAgICAgICAgICByZXR1cm4gb3JpZ2luYWw7XG4gICAgICAgIH07XG4gICAgICAgIGlmIChjb29raWVIYW5kbGVySW5wdXQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29va2llSGFuZGxlckZ1bmMgPSBjb29raWVIYW5kbGVySW5wdXQ7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb29raWVIYW5kbGVyID0gY29va2llSGFuZGxlckZ1bmMoZGVmYXVsdEltcGxlbWVudGF0aW9uXzEuZGVmYXVsdENvb2tpZUhhbmRsZXJJbXBsZW1lbnRhdGlvbik7XG4gICAgfVxuICAgIENvb2tpZUhhbmRsZXJSZWZlcmVuY2UuaW5pdCA9IGZ1bmN0aW9uIChjb29raWVIYW5kbGVySW5wdXQpIHtcbiAgICAgICAgaWYgKENvb2tpZUhhbmRsZXJSZWZlcmVuY2UuaW5zdGFuY2UgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIENvb2tpZUhhbmRsZXJSZWZlcmVuY2UuaW5zdGFuY2UgPSBuZXcgQ29va2llSGFuZGxlclJlZmVyZW5jZShjb29raWVIYW5kbGVySW5wdXQpO1xuICAgIH07XG4gICAgQ29va2llSGFuZGxlclJlZmVyZW5jZS5nZXRSZWZlcmVuY2VPclRocm93ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoQ29va2llSGFuZGxlclJlZmVyZW5jZS5pbnN0YW5jZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJTdXBlclRva2Vuc0Nvb2tpZUhhbmRsZXIgbXVzdCBiZSBpbml0aWFsaXplZCBiZWZvcmUgY2FsbGluZyB0aGlzIG1ldGhvZC5cIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIENvb2tpZUhhbmRsZXJSZWZlcmVuY2UuaW5zdGFuY2U7XG4gICAgfTtcbiAgICByZXR1cm4gQ29va2llSGFuZGxlclJlZmVyZW5jZTtcbn0pKCk7XG5leHBvcnRzLkNvb2tpZUhhbmRsZXJSZWZlcmVuY2UgPSBDb29raWVIYW5kbGVyUmVmZXJlbmNlO1xuZXhwb3J0cy5kZWZhdWx0ID0gQ29va2llSGFuZGxlclJlZmVyZW5jZTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/supertokens-website/lib/build/utils/cookieHandler/index.js\n"));

/***/ }),

/***/ "./node_modules/supertokens-website/lib/build/utils/index.js":
/*!*******************************************************************!*\
  !*** ./node_modules/supertokens-website/lib/build/utils/index.js ***!
  \*******************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\n/* Copyright (c) 2020, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nvar __assign =\n    (this && this.__assign) ||\n    function () {\n        __assign =\n            Object.assign ||\n            function (t) {\n                for (var s, i = 1, n = arguments.length; i < n; i++) {\n                    s = arguments[i];\n                    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n                }\n                return t;\n            };\n        return __assign.apply(this, arguments);\n    };\nvar __awaiter =\n    (this && this.__awaiter) ||\n    function (thisArg, _arguments, P, generator) {\n        function adopt(value) {\n            return value instanceof P\n                ? value\n                : new P(function (resolve) {\n                      resolve(value);\n                  });\n        }\n        return new (P || (P = Promise))(function (resolve, reject) {\n            function fulfilled(value) {\n                try {\n                    step(generator.next(value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function rejected(value) {\n                try {\n                    step(generator[\"throw\"](value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function step(result) {\n                result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n            }\n            step((generator = generator.apply(thisArg, _arguments || [])).next());\n        });\n    };\nvar __generator =\n    (this && this.__generator) ||\n    function (thisArg, body) {\n        var _ = {\n                label: 0,\n                sent: function () {\n                    if (t[0] & 1) throw t[1];\n                    return t[1];\n                },\n                trys: [],\n                ops: []\n            },\n            f,\n            y,\n            t,\n            g;\n        return (\n            (g = { next: verb(0), throw: verb(1), return: verb(2) }),\n            typeof Symbol === \"function\" &&\n                (g[Symbol.iterator] = function () {\n                    return this;\n                }),\n            g\n        );\n        function verb(n) {\n            return function (v) {\n                return step([n, v]);\n            };\n        }\n        function step(op) {\n            if (f) throw new TypeError(\"Generator is already executing.\");\n            while (_)\n                try {\n                    if (\n                        ((f = 1),\n                        y &&\n                            (t =\n                                op[0] & 2\n                                    ? y[\"return\"]\n                                    : op[0]\n                                    ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0)\n                                    : y.next) &&\n                            !(t = t.call(y, op[1])).done)\n                    )\n                        return t;\n                    if (((y = 0), t)) op = [op[0] & 2, t.value];\n                    switch (op[0]) {\n                        case 0:\n                        case 1:\n                            t = op;\n                            break;\n                        case 4:\n                            _.label++;\n                            return { value: op[1], done: false };\n                        case 5:\n                            _.label++;\n                            y = op[1];\n                            op = [0];\n                            continue;\n                        case 7:\n                            op = _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                        default:\n                            if (\n                                !((t = _.trys), (t = t.length > 0 && t[t.length - 1])) &&\n                                (op[0] === 6 || op[0] === 2)\n                            ) {\n                                _ = 0;\n                                continue;\n                            }\n                            if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) {\n                                _.label = op[1];\n                                break;\n                            }\n                            if (op[0] === 6 && _.label < t[1]) {\n                                _.label = t[1];\n                                t = op;\n                                break;\n                            }\n                            if (t && _.label < t[2]) {\n                                _.label = t[2];\n                                _.ops.push(op);\n                                break;\n                            }\n                            if (t[2]) _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                    }\n                    op = body.call(thisArg, _);\n                } catch (e) {\n                    op = [6, e];\n                    y = 0;\n                } finally {\n                    f = t = 0;\n                }\n            if (op[0] & 5) throw op[1];\n            return { value: op[0] ? op[1] : void 0, done: true };\n        }\n    };\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.getNormalisedUserContext =\n    exports.shouldDoInterceptionBasedOnUrl =\n    exports.validateAndNormaliseInputOrThrowError =\n    exports.normaliseSessionScopeOrThrowError =\n    exports.normaliseURLPathOrThrowError =\n    exports.normaliseURLDomainOrThrowError =\n        void 0;\nvar normalisedURLDomain_1 = __webpack_require__(/*! ../normalisedURLDomain */ \"./node_modules/supertokens-website/lib/build/normalisedURLDomain.js\");\nvar normalisedURLPath_1 = __webpack_require__(/*! ../normalisedURLPath */ \"./node_modules/supertokens-website/lib/build/normalisedURLPath.js\");\nvar windowHandler_1 = __webpack_require__(/*! ../utils/windowHandler */ \"./node_modules/supertokens-website/lib/build/utils/windowHandler/index.js\");\nvar logger_1 = __webpack_require__(/*! ../logger */ \"./node_modules/supertokens-website/lib/build/logger.js\");\nfunction normaliseURLDomainOrThrowError(input) {\n    var str = new normalisedURLDomain_1.default(input).getAsStringDangerous();\n    return str;\n}\nexports.normaliseURLDomainOrThrowError = normaliseURLDomainOrThrowError;\nfunction normaliseURLPathOrThrowError(input) {\n    return new normalisedURLPath_1.default(input).getAsStringDangerous();\n}\nexports.normaliseURLPathOrThrowError = normaliseURLPathOrThrowError;\nfunction normaliseSessionScopeOrThrowError(sessionTokenFrontendDomain) {\n    function helper(sessionTokenFrontendDomain) {\n        sessionTokenFrontendDomain = sessionTokenFrontendDomain.trim().toLowerCase();\n        // first we convert it to a URL so that we can use the URL class\n        if (sessionTokenFrontendDomain.startsWith(\".\")) {\n            sessionTokenFrontendDomain = sessionTokenFrontendDomain.substr(1);\n        }\n        if (!sessionTokenFrontendDomain.startsWith(\"http://\") && !sessionTokenFrontendDomain.startsWith(\"https://\")) {\n            sessionTokenFrontendDomain = \"http://\" + sessionTokenFrontendDomain;\n        }\n        try {\n            var urlObj = new URL(sessionTokenFrontendDomain);\n            sessionTokenFrontendDomain = urlObj.hostname;\n            // remove leading dot\n            if (sessionTokenFrontendDomain.startsWith(\".\")) {\n                sessionTokenFrontendDomain = sessionTokenFrontendDomain.substr(1);\n            }\n            return sessionTokenFrontendDomain;\n        } catch (err) {\n            throw new Error(\"Please provide a valid sessionTokenFrontendDomain\");\n        }\n    }\n    var noDotNormalised = helper(sessionTokenFrontendDomain);\n    if (noDotNormalised === \"localhost\" || (0, normalisedURLDomain_1.isAnIpAddress)(noDotNormalised)) {\n        return noDotNormalised;\n    }\n    if (sessionTokenFrontendDomain.startsWith(\".\")) {\n        return \".\" + noDotNormalised;\n    }\n    return noDotNormalised;\n}\nexports.normaliseSessionScopeOrThrowError = normaliseSessionScopeOrThrowError;\nfunction validateAndNormaliseInputOrThrowError(options) {\n    var _this = this;\n    var apiDomain = normaliseURLDomainOrThrowError(options.apiDomain);\n    var apiBasePath = normaliseURLPathOrThrowError(\"/auth\");\n    if (options.apiBasePath !== undefined) {\n        apiBasePath = normaliseURLPathOrThrowError(options.apiBasePath);\n    }\n    var defaultSessionScope = windowHandler_1.default.getReferenceOrThrow().windowHandler.location.getHostName();\n    // See https://github.com/supertokens/supertokens-website/issues/98\n    var sessionTokenFrontendDomain = normaliseSessionScopeOrThrowError(\n        options !== undefined && options.sessionTokenFrontendDomain !== undefined\n            ? options.sessionTokenFrontendDomain\n            : defaultSessionScope\n    );\n    var sessionExpiredStatusCode = 401;\n    if (options.sessionExpiredStatusCode !== undefined) {\n        sessionExpiredStatusCode = options.sessionExpiredStatusCode;\n    }\n    var invalidClaimStatusCode = 403;\n    if (options.invalidClaimStatusCode !== undefined) {\n        invalidClaimStatusCode = options.invalidClaimStatusCode;\n    }\n    if (sessionExpiredStatusCode === invalidClaimStatusCode) {\n        throw new Error(\"sessionExpiredStatusCode and invalidClaimStatusCode cannot be the same.\");\n    }\n    var autoAddCredentials = true;\n    if (options.autoAddCredentials !== undefined) {\n        autoAddCredentials = options.autoAddCredentials;\n    }\n    var isInIframe = false;\n    if (options.isInIframe !== undefined) {\n        isInIframe = options.isInIframe;\n    }\n    var sessionTokenBackendDomain = undefined;\n    if (options.sessionTokenBackendDomain !== undefined) {\n        sessionTokenBackendDomain = normaliseSessionScopeOrThrowError(options.sessionTokenBackendDomain);\n    }\n    var preAPIHook = function (context) {\n        return __awaiter(_this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, { url: context.url, requestInit: context.requestInit }];\n            });\n        });\n    };\n    if (options.preAPIHook !== undefined) {\n        preAPIHook = options.preAPIHook;\n    }\n    var postAPIHook = function () {\n        return __awaiter(_this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/];\n            });\n        });\n    };\n    if (options.postAPIHook !== undefined) {\n        postAPIHook = options.postAPIHook;\n    }\n    var onHandleEvent = function () {};\n    if (options.onHandleEvent !== undefined) {\n        onHandleEvent = options.onHandleEvent;\n    }\n    var override = __assign(\n        {\n            functions: function (oI) {\n                return oI;\n            }\n        },\n        options.override\n    );\n    if (options.enableDebugLogs !== undefined && options.enableDebugLogs) {\n        (0, logger_1.enableLogging)();\n    }\n    return {\n        apiDomain: apiDomain,\n        apiBasePath: apiBasePath,\n        sessionTokenFrontendDomain: sessionTokenFrontendDomain,\n        sessionExpiredStatusCode: sessionExpiredStatusCode,\n        invalidClaimStatusCode: invalidClaimStatusCode,\n        autoAddCredentials: autoAddCredentials,\n        isInIframe: isInIframe,\n        tokenTransferMethod: options.tokenTransferMethod !== undefined ? options.tokenTransferMethod : \"cookie\",\n        sessionTokenBackendDomain: sessionTokenBackendDomain,\n        preAPIHook: preAPIHook,\n        postAPIHook: postAPIHook,\n        onHandleEvent: onHandleEvent,\n        override: override\n    };\n}\nexports.validateAndNormaliseInputOrThrowError = validateAndNormaliseInputOrThrowError;\nfunction shouldDoInterceptionBasedOnUrl(toCheckUrl, apiDomain, sessionTokenBackendDomain) {\n    (0, logger_1.logDebugMessage)(\n        \"shouldDoInterceptionBasedOnUrl: toCheckUrl: \" +\n            toCheckUrl +\n            \" apiDomain: \" +\n            apiDomain +\n            \" sessionTokenBackendDomain: \" +\n            sessionTokenBackendDomain\n    );\n    function isNumeric(str) {\n        if (typeof str != \"string\") return false; // we only process strings!\n        return (\n            !isNaN(str) && !isNaN(parseFloat(str)) // use type coercion to parse the _entirety_ of the string (`parseFloat` alone does not do this)...\n        ); // ...and ensure strings of whitespace fail\n    }\n    // The safest/best way to add this is the hash as the browser strips it before sending\n    // but we don't have a reason to limit checking to that part.\n    if (toCheckUrl.includes(\"superTokensDoNotDoInterception\")) {\n        return false;\n    }\n    toCheckUrl = normaliseURLDomainOrThrowError(toCheckUrl);\n    var urlObj = new URL(toCheckUrl);\n    var domain = urlObj.hostname;\n    if (sessionTokenBackendDomain === undefined) {\n        domain = urlObj.port === \"\" ? domain : domain + \":\" + urlObj.port;\n        apiDomain = normaliseURLDomainOrThrowError(apiDomain);\n        var apiUrlObj = new URL(apiDomain);\n        return domain === (apiUrlObj.port === \"\" ? apiUrlObj.hostname : apiUrlObj.hostname + \":\" + apiUrlObj.port);\n    } else {\n        var normalisedsessionDomain = normaliseSessionScopeOrThrowError(sessionTokenBackendDomain);\n        if (sessionTokenBackendDomain.split(\":\").length > 1) {\n            // means port may provided\n            var portStr = sessionTokenBackendDomain.split(\":\")[sessionTokenBackendDomain.split(\":\").length - 1];\n            if (isNumeric(portStr)) {\n                normalisedsessionDomain += \":\" + portStr;\n                domain = urlObj.port === \"\" ? domain : domain + \":\" + urlObj.port;\n            }\n        }\n        if (sessionTokenBackendDomain.startsWith(\".\")) {\n            return (\".\" + domain).endsWith(normalisedsessionDomain);\n        } else {\n            return domain === normalisedsessionDomain;\n        }\n    }\n}\nexports.shouldDoInterceptionBasedOnUrl = shouldDoInterceptionBasedOnUrl;\nfunction getNormalisedUserContext(userContext) {\n    if (userContext === undefined) {\n        return {};\n    }\n    return userContext;\n}\nexports.getNormalisedUserContext = getNormalisedUserContext;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3VwZXJ0b2tlbnMtd2Vic2l0ZS9saWIvYnVpbGQvdXRpbHMvaW5kZXguanMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseURBQXlELE9BQU87QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsZ0RBQWdEO0FBQ25FO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxnQ0FBZ0M7QUFDaEMsSUFBSSxzQ0FBc0M7QUFDMUMsSUFBSSw2Q0FBNkM7QUFDakQsSUFBSSx5Q0FBeUM7QUFDN0MsSUFBSSxvQ0FBb0M7QUFDeEMsSUFBSSxzQ0FBc0M7QUFDMUM7QUFDQSw0QkFBNEIsbUJBQU8sQ0FBQyxtR0FBd0I7QUFDNUQsMEJBQTBCLG1CQUFPLENBQUMsK0ZBQXNCO0FBQ3hELHNCQUFzQixtQkFBTyxDQUFDLHlHQUF3QjtBQUN0RCxlQUFlLG1CQUFPLENBQUMseUVBQVc7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0M7QUFDdEM7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUM7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0Msb0RBQW9EO0FBQzVGLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0RBQWtEO0FBQ2xEO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvc3VwZXJ0b2tlbnMtd2Vic2l0ZS9saWIvYnVpbGQvdXRpbHMvaW5kZXguanM/ZTEyNyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qIENvcHlyaWdodCAoYykgMjAyMCwgVlJBSSBMYWJzIGFuZC9vciBpdHMgYWZmaWxpYXRlcy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvZnR3YXJlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZVxuICogXCJMaWNlbnNlXCIpIGFzIHB1Ymxpc2hlZCBieSB0aGUgQXBhY2hlIFNvZnR3YXJlIEZvdW5kYXRpb24uXG4gKlxuICogWW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5XG4gKiBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVFxuICogV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiBTZWUgdGhlXG4gKiBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9uc1xuICogdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbnZhciBfX2Fzc2lnbiA9XG4gICAgKHRoaXMgJiYgdGhpcy5fX2Fzc2lnbikgfHxcbiAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF9fYXNzaWduID1cbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24gfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uICh0KSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0O1xuICAgICAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfTtcbnZhciBfX2F3YWl0ZXIgPVxuICAgICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fFxuICAgIGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICAgICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFBcbiAgICAgICAgICAgICAgICA/IHZhbHVlXG4gICAgICAgICAgICAgICAgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkge1xuICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbnZhciBfX2dlbmVyYXRvciA9XG4gICAgKHRoaXMgJiYgdGhpcy5fX2dlbmVyYXRvcikgfHxcbiAgICBmdW5jdGlvbiAodGhpc0FyZywgYm9keSkge1xuICAgICAgICB2YXIgXyA9IHtcbiAgICAgICAgICAgICAgICBsYWJlbDogMCxcbiAgICAgICAgICAgICAgICBzZW50OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRbMV07XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB0cnlzOiBbXSxcbiAgICAgICAgICAgICAgICBvcHM6IFtdXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZixcbiAgICAgICAgICAgIHksXG4gICAgICAgICAgICB0LFxuICAgICAgICAgICAgZztcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIChnID0geyBuZXh0OiB2ZXJiKDApLCB0aHJvdzogdmVyYigxKSwgcmV0dXJuOiB2ZXJiKDIpIH0pLFxuICAgICAgICAgICAgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmXG4gICAgICAgICAgICAgICAgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBnXG4gICAgICAgICk7XG4gICAgICAgIGZ1bmN0aW9uIHZlcmIobikge1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICh2KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0ZXAoW24sIHZdKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChvcCkge1xuICAgICAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xuICAgICAgICAgICAgd2hpbGUgKF8pXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgKChmID0gMSksXG4gICAgICAgICAgICAgICAgICAgICAgICB5ICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKHQgPVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcFswXSAmIDJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8geVtcInJldHVyblwiXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBvcFswXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiB5Lm5leHQpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSlcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHQ7XG4gICAgICAgICAgICAgICAgICAgIGlmICgoKHkgPSAwKSwgdCkpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ID0gb3A7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXy5sYWJlbCsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfLmxhYmVsKys7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeSA9IG9wWzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wID0gWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wID0gXy5vcHMucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICEoKHQgPSBfLnRyeXMpLCAodCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF8gPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF8ubGFiZWwgPSBvcFsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfLmxhYmVsID0gdFsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdCA9IG9wO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXy5sYWJlbCA9IHRbMl07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF8ub3BzLnB1c2gob3ApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIG9wID0gWzYsIGVdO1xuICAgICAgICAgICAgICAgICAgICB5ID0gMDtcbiAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICBmID0gdCA9IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07XG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xuICAgICAgICB9XG4gICAgfTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuZ2V0Tm9ybWFsaXNlZFVzZXJDb250ZXh0ID1cbiAgICBleHBvcnRzLnNob3VsZERvSW50ZXJjZXB0aW9uQmFzZWRPblVybCA9XG4gICAgZXhwb3J0cy52YWxpZGF0ZUFuZE5vcm1hbGlzZUlucHV0T3JUaHJvd0Vycm9yID1cbiAgICBleHBvcnRzLm5vcm1hbGlzZVNlc3Npb25TY29wZU9yVGhyb3dFcnJvciA9XG4gICAgZXhwb3J0cy5ub3JtYWxpc2VVUkxQYXRoT3JUaHJvd0Vycm9yID1cbiAgICBleHBvcnRzLm5vcm1hbGlzZVVSTERvbWFpbk9yVGhyb3dFcnJvciA9XG4gICAgICAgIHZvaWQgMDtcbnZhciBub3JtYWxpc2VkVVJMRG9tYWluXzEgPSByZXF1aXJlKFwiLi4vbm9ybWFsaXNlZFVSTERvbWFpblwiKTtcbnZhciBub3JtYWxpc2VkVVJMUGF0aF8xID0gcmVxdWlyZShcIi4uL25vcm1hbGlzZWRVUkxQYXRoXCIpO1xudmFyIHdpbmRvd0hhbmRsZXJfMSA9IHJlcXVpcmUoXCIuLi91dGlscy93aW5kb3dIYW5kbGVyXCIpO1xudmFyIGxvZ2dlcl8xID0gcmVxdWlyZShcIi4uL2xvZ2dlclwiKTtcbmZ1bmN0aW9uIG5vcm1hbGlzZVVSTERvbWFpbk9yVGhyb3dFcnJvcihpbnB1dCkge1xuICAgIHZhciBzdHIgPSBuZXcgbm9ybWFsaXNlZFVSTERvbWFpbl8xLmRlZmF1bHQoaW5wdXQpLmdldEFzU3RyaW5nRGFuZ2Vyb3VzKCk7XG4gICAgcmV0dXJuIHN0cjtcbn1cbmV4cG9ydHMubm9ybWFsaXNlVVJMRG9tYWluT3JUaHJvd0Vycm9yID0gbm9ybWFsaXNlVVJMRG9tYWluT3JUaHJvd0Vycm9yO1xuZnVuY3Rpb24gbm9ybWFsaXNlVVJMUGF0aE9yVGhyb3dFcnJvcihpbnB1dCkge1xuICAgIHJldHVybiBuZXcgbm9ybWFsaXNlZFVSTFBhdGhfMS5kZWZhdWx0KGlucHV0KS5nZXRBc1N0cmluZ0Rhbmdlcm91cygpO1xufVxuZXhwb3J0cy5ub3JtYWxpc2VVUkxQYXRoT3JUaHJvd0Vycm9yID0gbm9ybWFsaXNlVVJMUGF0aE9yVGhyb3dFcnJvcjtcbmZ1bmN0aW9uIG5vcm1hbGlzZVNlc3Npb25TY29wZU9yVGhyb3dFcnJvcihzZXNzaW9uVG9rZW5Gcm9udGVuZERvbWFpbikge1xuICAgIGZ1bmN0aW9uIGhlbHBlcihzZXNzaW9uVG9rZW5Gcm9udGVuZERvbWFpbikge1xuICAgICAgICBzZXNzaW9uVG9rZW5Gcm9udGVuZERvbWFpbiA9IHNlc3Npb25Ub2tlbkZyb250ZW5kRG9tYWluLnRyaW0oKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAvLyBmaXJzdCB3ZSBjb252ZXJ0IGl0IHRvIGEgVVJMIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGUgVVJMIGNsYXNzXG4gICAgICAgIGlmIChzZXNzaW9uVG9rZW5Gcm9udGVuZERvbWFpbi5zdGFydHNXaXRoKFwiLlwiKSkge1xuICAgICAgICAgICAgc2Vzc2lvblRva2VuRnJvbnRlbmREb21haW4gPSBzZXNzaW9uVG9rZW5Gcm9udGVuZERvbWFpbi5zdWJzdHIoMSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFzZXNzaW9uVG9rZW5Gcm9udGVuZERvbWFpbi5zdGFydHNXaXRoKFwiaHR0cDovL1wiKSAmJiAhc2Vzc2lvblRva2VuRnJvbnRlbmREb21haW4uc3RhcnRzV2l0aChcImh0dHBzOi8vXCIpKSB7XG4gICAgICAgICAgICBzZXNzaW9uVG9rZW5Gcm9udGVuZERvbWFpbiA9IFwiaHR0cDovL1wiICsgc2Vzc2lvblRva2VuRnJvbnRlbmREb21haW47XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciB1cmxPYmogPSBuZXcgVVJMKHNlc3Npb25Ub2tlbkZyb250ZW5kRG9tYWluKTtcbiAgICAgICAgICAgIHNlc3Npb25Ub2tlbkZyb250ZW5kRG9tYWluID0gdXJsT2JqLmhvc3RuYW1lO1xuICAgICAgICAgICAgLy8gcmVtb3ZlIGxlYWRpbmcgZG90XG4gICAgICAgICAgICBpZiAoc2Vzc2lvblRva2VuRnJvbnRlbmREb21haW4uc3RhcnRzV2l0aChcIi5cIikpIHtcbiAgICAgICAgICAgICAgICBzZXNzaW9uVG9rZW5Gcm9udGVuZERvbWFpbiA9IHNlc3Npb25Ub2tlbkZyb250ZW5kRG9tYWluLnN1YnN0cigxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBzZXNzaW9uVG9rZW5Gcm9udGVuZERvbWFpbjtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJQbGVhc2UgcHJvdmlkZSBhIHZhbGlkIHNlc3Npb25Ub2tlbkZyb250ZW5kRG9tYWluXCIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHZhciBub0RvdE5vcm1hbGlzZWQgPSBoZWxwZXIoc2Vzc2lvblRva2VuRnJvbnRlbmREb21haW4pO1xuICAgIGlmIChub0RvdE5vcm1hbGlzZWQgPT09IFwibG9jYWxob3N0XCIgfHwgKDAsIG5vcm1hbGlzZWRVUkxEb21haW5fMS5pc0FuSXBBZGRyZXNzKShub0RvdE5vcm1hbGlzZWQpKSB7XG4gICAgICAgIHJldHVybiBub0RvdE5vcm1hbGlzZWQ7XG4gICAgfVxuICAgIGlmIChzZXNzaW9uVG9rZW5Gcm9udGVuZERvbWFpbi5zdGFydHNXaXRoKFwiLlwiKSkge1xuICAgICAgICByZXR1cm4gXCIuXCIgKyBub0RvdE5vcm1hbGlzZWQ7XG4gICAgfVxuICAgIHJldHVybiBub0RvdE5vcm1hbGlzZWQ7XG59XG5leHBvcnRzLm5vcm1hbGlzZVNlc3Npb25TY29wZU9yVGhyb3dFcnJvciA9IG5vcm1hbGlzZVNlc3Npb25TY29wZU9yVGhyb3dFcnJvcjtcbmZ1bmN0aW9uIHZhbGlkYXRlQW5kTm9ybWFsaXNlSW5wdXRPclRocm93RXJyb3Iob3B0aW9ucykge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgdmFyIGFwaURvbWFpbiA9IG5vcm1hbGlzZVVSTERvbWFpbk9yVGhyb3dFcnJvcihvcHRpb25zLmFwaURvbWFpbik7XG4gICAgdmFyIGFwaUJhc2VQYXRoID0gbm9ybWFsaXNlVVJMUGF0aE9yVGhyb3dFcnJvcihcIi9hdXRoXCIpO1xuICAgIGlmIChvcHRpb25zLmFwaUJhc2VQYXRoICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgYXBpQmFzZVBhdGggPSBub3JtYWxpc2VVUkxQYXRoT3JUaHJvd0Vycm9yKG9wdGlvbnMuYXBpQmFzZVBhdGgpO1xuICAgIH1cbiAgICB2YXIgZGVmYXVsdFNlc3Npb25TY29wZSA9IHdpbmRvd0hhbmRsZXJfMS5kZWZhdWx0LmdldFJlZmVyZW5jZU9yVGhyb3coKS53aW5kb3dIYW5kbGVyLmxvY2F0aW9uLmdldEhvc3ROYW1lKCk7XG4gICAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9zdXBlcnRva2Vucy9zdXBlcnRva2Vucy13ZWJzaXRlL2lzc3Vlcy85OFxuICAgIHZhciBzZXNzaW9uVG9rZW5Gcm9udGVuZERvbWFpbiA9IG5vcm1hbGlzZVNlc3Npb25TY29wZU9yVGhyb3dFcnJvcihcbiAgICAgICAgb3B0aW9ucyAhPT0gdW5kZWZpbmVkICYmIG9wdGlvbnMuc2Vzc2lvblRva2VuRnJvbnRlbmREb21haW4gIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgPyBvcHRpb25zLnNlc3Npb25Ub2tlbkZyb250ZW5kRG9tYWluXG4gICAgICAgICAgICA6IGRlZmF1bHRTZXNzaW9uU2NvcGVcbiAgICApO1xuICAgIHZhciBzZXNzaW9uRXhwaXJlZFN0YXR1c0NvZGUgPSA0MDE7XG4gICAgaWYgKG9wdGlvbnMuc2Vzc2lvbkV4cGlyZWRTdGF0dXNDb2RlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgc2Vzc2lvbkV4cGlyZWRTdGF0dXNDb2RlID0gb3B0aW9ucy5zZXNzaW9uRXhwaXJlZFN0YXR1c0NvZGU7XG4gICAgfVxuICAgIHZhciBpbnZhbGlkQ2xhaW1TdGF0dXNDb2RlID0gNDAzO1xuICAgIGlmIChvcHRpb25zLmludmFsaWRDbGFpbVN0YXR1c0NvZGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpbnZhbGlkQ2xhaW1TdGF0dXNDb2RlID0gb3B0aW9ucy5pbnZhbGlkQ2xhaW1TdGF0dXNDb2RlO1xuICAgIH1cbiAgICBpZiAoc2Vzc2lvbkV4cGlyZWRTdGF0dXNDb2RlID09PSBpbnZhbGlkQ2xhaW1TdGF0dXNDb2RlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcInNlc3Npb25FeHBpcmVkU3RhdHVzQ29kZSBhbmQgaW52YWxpZENsYWltU3RhdHVzQ29kZSBjYW5ub3QgYmUgdGhlIHNhbWUuXCIpO1xuICAgIH1cbiAgICB2YXIgYXV0b0FkZENyZWRlbnRpYWxzID0gdHJ1ZTtcbiAgICBpZiAob3B0aW9ucy5hdXRvQWRkQ3JlZGVudGlhbHMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBhdXRvQWRkQ3JlZGVudGlhbHMgPSBvcHRpb25zLmF1dG9BZGRDcmVkZW50aWFscztcbiAgICB9XG4gICAgdmFyIGlzSW5JZnJhbWUgPSBmYWxzZTtcbiAgICBpZiAob3B0aW9ucy5pc0luSWZyYW1lICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaXNJbklmcmFtZSA9IG9wdGlvbnMuaXNJbklmcmFtZTtcbiAgICB9XG4gICAgdmFyIHNlc3Npb25Ub2tlbkJhY2tlbmREb21haW4gPSB1bmRlZmluZWQ7XG4gICAgaWYgKG9wdGlvbnMuc2Vzc2lvblRva2VuQmFja2VuZERvbWFpbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHNlc3Npb25Ub2tlbkJhY2tlbmREb21haW4gPSBub3JtYWxpc2VTZXNzaW9uU2NvcGVPclRocm93RXJyb3Iob3B0aW9ucy5zZXNzaW9uVG9rZW5CYWNrZW5kRG9tYWluKTtcbiAgICB9XG4gICAgdmFyIHByZUFQSUhvb2sgPSBmdW5jdGlvbiAoY29udGV4dCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKF90aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCB7IHVybDogY29udGV4dC51cmwsIHJlcXVlc3RJbml0OiBjb250ZXh0LnJlcXVlc3RJbml0IH1dO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgaWYgKG9wdGlvbnMucHJlQVBJSG9vayAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHByZUFQSUhvb2sgPSBvcHRpb25zLnByZUFQSUhvb2s7XG4gICAgfVxuICAgIHZhciBwb3N0QVBJSG9vayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcihfdGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBpZiAob3B0aW9ucy5wb3N0QVBJSG9vayAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHBvc3RBUElIb29rID0gb3B0aW9ucy5wb3N0QVBJSG9vaztcbiAgICB9XG4gICAgdmFyIG9uSGFuZGxlRXZlbnQgPSBmdW5jdGlvbiAoKSB7fTtcbiAgICBpZiAob3B0aW9ucy5vbkhhbmRsZUV2ZW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgb25IYW5kbGVFdmVudCA9IG9wdGlvbnMub25IYW5kbGVFdmVudDtcbiAgICB9XG4gICAgdmFyIG92ZXJyaWRlID0gX19hc3NpZ24oXG4gICAgICAgIHtcbiAgICAgICAgICAgIGZ1bmN0aW9uczogZnVuY3Rpb24gKG9JKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9JO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBvcHRpb25zLm92ZXJyaWRlXG4gICAgKTtcbiAgICBpZiAob3B0aW9ucy5lbmFibGVEZWJ1Z0xvZ3MgIT09IHVuZGVmaW5lZCAmJiBvcHRpb25zLmVuYWJsZURlYnVnTG9ncykge1xuICAgICAgICAoMCwgbG9nZ2VyXzEuZW5hYmxlTG9nZ2luZykoKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgYXBpRG9tYWluOiBhcGlEb21haW4sXG4gICAgICAgIGFwaUJhc2VQYXRoOiBhcGlCYXNlUGF0aCxcbiAgICAgICAgc2Vzc2lvblRva2VuRnJvbnRlbmREb21haW46IHNlc3Npb25Ub2tlbkZyb250ZW5kRG9tYWluLFxuICAgICAgICBzZXNzaW9uRXhwaXJlZFN0YXR1c0NvZGU6IHNlc3Npb25FeHBpcmVkU3RhdHVzQ29kZSxcbiAgICAgICAgaW52YWxpZENsYWltU3RhdHVzQ29kZTogaW52YWxpZENsYWltU3RhdHVzQ29kZSxcbiAgICAgICAgYXV0b0FkZENyZWRlbnRpYWxzOiBhdXRvQWRkQ3JlZGVudGlhbHMsXG4gICAgICAgIGlzSW5JZnJhbWU6IGlzSW5JZnJhbWUsXG4gICAgICAgIHRva2VuVHJhbnNmZXJNZXRob2Q6IG9wdGlvbnMudG9rZW5UcmFuc2Zlck1ldGhvZCAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy50b2tlblRyYW5zZmVyTWV0aG9kIDogXCJjb29raWVcIixcbiAgICAgICAgc2Vzc2lvblRva2VuQmFja2VuZERvbWFpbjogc2Vzc2lvblRva2VuQmFja2VuZERvbWFpbixcbiAgICAgICAgcHJlQVBJSG9vazogcHJlQVBJSG9vayxcbiAgICAgICAgcG9zdEFQSUhvb2s6IHBvc3RBUElIb29rLFxuICAgICAgICBvbkhhbmRsZUV2ZW50OiBvbkhhbmRsZUV2ZW50LFxuICAgICAgICBvdmVycmlkZTogb3ZlcnJpZGVcbiAgICB9O1xufVxuZXhwb3J0cy52YWxpZGF0ZUFuZE5vcm1hbGlzZUlucHV0T3JUaHJvd0Vycm9yID0gdmFsaWRhdGVBbmROb3JtYWxpc2VJbnB1dE9yVGhyb3dFcnJvcjtcbmZ1bmN0aW9uIHNob3VsZERvSW50ZXJjZXB0aW9uQmFzZWRPblVybCh0b0NoZWNrVXJsLCBhcGlEb21haW4sIHNlc3Npb25Ub2tlbkJhY2tlbmREb21haW4pIHtcbiAgICAoMCwgbG9nZ2VyXzEubG9nRGVidWdNZXNzYWdlKShcbiAgICAgICAgXCJzaG91bGREb0ludGVyY2VwdGlvbkJhc2VkT25Vcmw6IHRvQ2hlY2tVcmw6IFwiICtcbiAgICAgICAgICAgIHRvQ2hlY2tVcmwgK1xuICAgICAgICAgICAgXCIgYXBpRG9tYWluOiBcIiArXG4gICAgICAgICAgICBhcGlEb21haW4gK1xuICAgICAgICAgICAgXCIgc2Vzc2lvblRva2VuQmFja2VuZERvbWFpbjogXCIgK1xuICAgICAgICAgICAgc2Vzc2lvblRva2VuQmFja2VuZERvbWFpblxuICAgICk7XG4gICAgZnVuY3Rpb24gaXNOdW1lcmljKHN0cikge1xuICAgICAgICBpZiAodHlwZW9mIHN0ciAhPSBcInN0cmluZ1wiKSByZXR1cm4gZmFsc2U7IC8vIHdlIG9ubHkgcHJvY2VzcyBzdHJpbmdzIVxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgIWlzTmFOKHN0cikgJiYgIWlzTmFOKHBhcnNlRmxvYXQoc3RyKSkgLy8gdXNlIHR5cGUgY29lcmNpb24gdG8gcGFyc2UgdGhlIF9lbnRpcmV0eV8gb2YgdGhlIHN0cmluZyAoYHBhcnNlRmxvYXRgIGFsb25lIGRvZXMgbm90IGRvIHRoaXMpLi4uXG4gICAgICAgICk7IC8vIC4uLmFuZCBlbnN1cmUgc3RyaW5ncyBvZiB3aGl0ZXNwYWNlIGZhaWxcbiAgICB9XG4gICAgLy8gVGhlIHNhZmVzdC9iZXN0IHdheSB0byBhZGQgdGhpcyBpcyB0aGUgaGFzaCBhcyB0aGUgYnJvd3NlciBzdHJpcHMgaXQgYmVmb3JlIHNlbmRpbmdcbiAgICAvLyBidXQgd2UgZG9uJ3QgaGF2ZSBhIHJlYXNvbiB0byBsaW1pdCBjaGVja2luZyB0byB0aGF0IHBhcnQuXG4gICAgaWYgKHRvQ2hlY2tVcmwuaW5jbHVkZXMoXCJzdXBlclRva2Vuc0RvTm90RG9JbnRlcmNlcHRpb25cIikpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB0b0NoZWNrVXJsID0gbm9ybWFsaXNlVVJMRG9tYWluT3JUaHJvd0Vycm9yKHRvQ2hlY2tVcmwpO1xuICAgIHZhciB1cmxPYmogPSBuZXcgVVJMKHRvQ2hlY2tVcmwpO1xuICAgIHZhciBkb21haW4gPSB1cmxPYmouaG9zdG5hbWU7XG4gICAgaWYgKHNlc3Npb25Ub2tlbkJhY2tlbmREb21haW4gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBkb21haW4gPSB1cmxPYmoucG9ydCA9PT0gXCJcIiA/IGRvbWFpbiA6IGRvbWFpbiArIFwiOlwiICsgdXJsT2JqLnBvcnQ7XG4gICAgICAgIGFwaURvbWFpbiA9IG5vcm1hbGlzZVVSTERvbWFpbk9yVGhyb3dFcnJvcihhcGlEb21haW4pO1xuICAgICAgICB2YXIgYXBpVXJsT2JqID0gbmV3IFVSTChhcGlEb21haW4pO1xuICAgICAgICByZXR1cm4gZG9tYWluID09PSAoYXBpVXJsT2JqLnBvcnQgPT09IFwiXCIgPyBhcGlVcmxPYmouaG9zdG5hbWUgOiBhcGlVcmxPYmouaG9zdG5hbWUgKyBcIjpcIiArIGFwaVVybE9iai5wb3J0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgbm9ybWFsaXNlZHNlc3Npb25Eb21haW4gPSBub3JtYWxpc2VTZXNzaW9uU2NvcGVPclRocm93RXJyb3Ioc2Vzc2lvblRva2VuQmFja2VuZERvbWFpbik7XG4gICAgICAgIGlmIChzZXNzaW9uVG9rZW5CYWNrZW5kRG9tYWluLnNwbGl0KFwiOlwiKS5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAvLyBtZWFucyBwb3J0IG1heSBwcm92aWRlZFxuICAgICAgICAgICAgdmFyIHBvcnRTdHIgPSBzZXNzaW9uVG9rZW5CYWNrZW5kRG9tYWluLnNwbGl0KFwiOlwiKVtzZXNzaW9uVG9rZW5CYWNrZW5kRG9tYWluLnNwbGl0KFwiOlwiKS5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgIGlmIChpc051bWVyaWMocG9ydFN0cikpIHtcbiAgICAgICAgICAgICAgICBub3JtYWxpc2Vkc2Vzc2lvbkRvbWFpbiArPSBcIjpcIiArIHBvcnRTdHI7XG4gICAgICAgICAgICAgICAgZG9tYWluID0gdXJsT2JqLnBvcnQgPT09IFwiXCIgPyBkb21haW4gOiBkb21haW4gKyBcIjpcIiArIHVybE9iai5wb3J0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzZXNzaW9uVG9rZW5CYWNrZW5kRG9tYWluLnN0YXJ0c1dpdGgoXCIuXCIpKSB7XG4gICAgICAgICAgICByZXR1cm4gKFwiLlwiICsgZG9tYWluKS5lbmRzV2l0aChub3JtYWxpc2Vkc2Vzc2lvbkRvbWFpbik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZG9tYWluID09PSBub3JtYWxpc2Vkc2Vzc2lvbkRvbWFpbjtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydHMuc2hvdWxkRG9JbnRlcmNlcHRpb25CYXNlZE9uVXJsID0gc2hvdWxkRG9JbnRlcmNlcHRpb25CYXNlZE9uVXJsO1xuZnVuY3Rpb24gZ2V0Tm9ybWFsaXNlZFVzZXJDb250ZXh0KHVzZXJDb250ZXh0KSB7XG4gICAgaWYgKHVzZXJDb250ZXh0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgICByZXR1cm4gdXNlckNvbnRleHQ7XG59XG5leHBvcnRzLmdldE5vcm1hbGlzZWRVc2VyQ29udGV4dCA9IGdldE5vcm1hbGlzZWRVc2VyQ29udGV4dDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/supertokens-website/lib/build/utils/index.js\n"));

/***/ }),

/***/ "./node_modules/supertokens-website/lib/build/utils/lockFactory/index.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/supertokens-website/lib/build/utils/lockFactory/index.js ***!
  \*******************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.LockFactoryReference = void 0;\nvar browser_tabs_lock_1 = __webpack_require__(/*! browser-tabs-lock */ \"./node_modules/browser-tabs-lock/index.js\");\nvar defaultFactory = function (storageHandler) {\n    return function () {\n        return Promise.resolve(new browser_tabs_lock_1.default(storageHandler));\n    };\n};\nvar LockFactoryReference = /** @class */ (function () {\n    function LockFactoryReference(lockFactory) {\n        this.lockFactory = lockFactory;\n    }\n    LockFactoryReference.init = function (lockFactory, storageHandler) {\n        // This is copied from the other XXXReference clasess\n        if (this.instance !== undefined) {\n            return;\n        }\n        this.instance = new LockFactoryReference(\n            lockFactory !== null && lockFactory !== void 0 ? lockFactory : defaultFactory(storageHandler)\n        );\n    };\n    LockFactoryReference.getReferenceOrThrow = function () {\n        if (LockFactoryReference.instance === undefined) {\n            throw new Error(\"SuperTokensLockReference must be initialized before calling this method.\");\n        }\n        return LockFactoryReference.instance;\n    };\n    return LockFactoryReference;\n})();\nexports.LockFactoryReference = LockFactoryReference;\nexports[\"default\"] = LockFactoryReference;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3VwZXJ0b2tlbnMtd2Vic2l0ZS9saWIvYnVpbGQvdXRpbHMvbG9ja0ZhY3RvcnkvaW5kZXguanMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYiw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsNEJBQTRCO0FBQzVCLDBCQUEwQixtQkFBTyxDQUFDLG9FQUFtQjtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCw0QkFBNEI7QUFDNUIsa0JBQWUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3N1cGVydG9rZW5zLXdlYnNpdGUvbGliL2J1aWxkL3V0aWxzL2xvY2tGYWN0b3J5L2luZGV4LmpzP2M0YzMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkxvY2tGYWN0b3J5UmVmZXJlbmNlID0gdm9pZCAwO1xudmFyIGJyb3dzZXJfdGFic19sb2NrXzEgPSByZXF1aXJlKFwiYnJvd3Nlci10YWJzLWxvY2tcIik7XG52YXIgZGVmYXVsdEZhY3RvcnkgPSBmdW5jdGlvbiAoc3RvcmFnZUhhbmRsZXIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG5ldyBicm93c2VyX3RhYnNfbG9ja18xLmRlZmF1bHQoc3RvcmFnZUhhbmRsZXIpKTtcbiAgICB9O1xufTtcbnZhciBMb2NrRmFjdG9yeVJlZmVyZW5jZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBMb2NrRmFjdG9yeVJlZmVyZW5jZShsb2NrRmFjdG9yeSkge1xuICAgICAgICB0aGlzLmxvY2tGYWN0b3J5ID0gbG9ja0ZhY3Rvcnk7XG4gICAgfVxuICAgIExvY2tGYWN0b3J5UmVmZXJlbmNlLmluaXQgPSBmdW5jdGlvbiAobG9ja0ZhY3RvcnksIHN0b3JhZ2VIYW5kbGVyKSB7XG4gICAgICAgIC8vIFRoaXMgaXMgY29waWVkIGZyb20gdGhlIG90aGVyIFhYWFJlZmVyZW5jZSBjbGFzZXNzXG4gICAgICAgIGlmICh0aGlzLmluc3RhbmNlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmluc3RhbmNlID0gbmV3IExvY2tGYWN0b3J5UmVmZXJlbmNlKFxuICAgICAgICAgICAgbG9ja0ZhY3RvcnkgIT09IG51bGwgJiYgbG9ja0ZhY3RvcnkgIT09IHZvaWQgMCA/IGxvY2tGYWN0b3J5IDogZGVmYXVsdEZhY3Rvcnkoc3RvcmFnZUhhbmRsZXIpXG4gICAgICAgICk7XG4gICAgfTtcbiAgICBMb2NrRmFjdG9yeVJlZmVyZW5jZS5nZXRSZWZlcmVuY2VPclRocm93ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoTG9ja0ZhY3RvcnlSZWZlcmVuY2UuaW5zdGFuY2UgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiU3VwZXJUb2tlbnNMb2NrUmVmZXJlbmNlIG11c3QgYmUgaW5pdGlhbGl6ZWQgYmVmb3JlIGNhbGxpbmcgdGhpcyBtZXRob2QuXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBMb2NrRmFjdG9yeVJlZmVyZW5jZS5pbnN0YW5jZTtcbiAgICB9O1xuICAgIHJldHVybiBMb2NrRmFjdG9yeVJlZmVyZW5jZTtcbn0pKCk7XG5leHBvcnRzLkxvY2tGYWN0b3J5UmVmZXJlbmNlID0gTG9ja0ZhY3RvcnlSZWZlcmVuY2U7XG5leHBvcnRzLmRlZmF1bHQgPSBMb2NrRmFjdG9yeVJlZmVyZW5jZTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/supertokens-website/lib/build/utils/lockFactory/index.js\n"));

/***/ }),

/***/ "./node_modules/supertokens-website/lib/build/utils/sessionClaimValidatorStore.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/supertokens-website/lib/build/utils/sessionClaimValidatorStore.js ***!
  \****************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\n/* Copyright (c) 2020, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.SessionClaimValidatorStore = void 0;\nvar SessionClaimValidatorStore = /** @class */ (function () {\n    function SessionClaimValidatorStore() {}\n    SessionClaimValidatorStore.claimValidatorsAddedByOtherRecipes = [];\n    SessionClaimValidatorStore.addClaimValidatorFromOtherRecipe = function (builder) {\n        SessionClaimValidatorStore.claimValidatorsAddedByOtherRecipes.push(builder);\n    };\n    SessionClaimValidatorStore.getClaimValidatorsAddedByOtherRecipes = function () {\n        return SessionClaimValidatorStore.claimValidatorsAddedByOtherRecipes;\n    };\n    return SessionClaimValidatorStore;\n})();\nexports.SessionClaimValidatorStore = SessionClaimValidatorStore;\nexports[\"default\"] = SessionClaimValidatorStore;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3VwZXJ0b2tlbnMtd2Vic2l0ZS9saWIvYnVpbGQvdXRpbHMvc2Vzc2lvbkNsYWltVmFsaWRhdG9yU3RvcmUuanMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQTZDLEVBQUUsYUFBYSxFQUFDO0FBQzdELGtDQUFrQztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCxrQ0FBa0M7QUFDbEMsa0JBQWUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3N1cGVydG9rZW5zLXdlYnNpdGUvbGliL2J1aWxkL3V0aWxzL3Nlc3Npb25DbGFpbVZhbGlkYXRvclN0b3JlLmpzPzI4MDkiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vKiBDb3B5cmlnaHQgKGMpIDIwMjAsIFZSQUkgTGFicyBhbmQvb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb2Z0d2FyZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGVcbiAqIFwiTGljZW5zZVwiKSBhcyBwdWJsaXNoZWQgYnkgdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLlxuICpcbiAqIFlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heVxuICogb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVRcbiAqIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gU2VlIHRoZVxuICogTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnNcbiAqIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlNlc3Npb25DbGFpbVZhbGlkYXRvclN0b3JlID0gdm9pZCAwO1xudmFyIFNlc3Npb25DbGFpbVZhbGlkYXRvclN0b3JlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFNlc3Npb25DbGFpbVZhbGlkYXRvclN0b3JlKCkge31cbiAgICBTZXNzaW9uQ2xhaW1WYWxpZGF0b3JTdG9yZS5jbGFpbVZhbGlkYXRvcnNBZGRlZEJ5T3RoZXJSZWNpcGVzID0gW107XG4gICAgU2Vzc2lvbkNsYWltVmFsaWRhdG9yU3RvcmUuYWRkQ2xhaW1WYWxpZGF0b3JGcm9tT3RoZXJSZWNpcGUgPSBmdW5jdGlvbiAoYnVpbGRlcikge1xuICAgICAgICBTZXNzaW9uQ2xhaW1WYWxpZGF0b3JTdG9yZS5jbGFpbVZhbGlkYXRvcnNBZGRlZEJ5T3RoZXJSZWNpcGVzLnB1c2goYnVpbGRlcik7XG4gICAgfTtcbiAgICBTZXNzaW9uQ2xhaW1WYWxpZGF0b3JTdG9yZS5nZXRDbGFpbVZhbGlkYXRvcnNBZGRlZEJ5T3RoZXJSZWNpcGVzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gU2Vzc2lvbkNsYWltVmFsaWRhdG9yU3RvcmUuY2xhaW1WYWxpZGF0b3JzQWRkZWRCeU90aGVyUmVjaXBlcztcbiAgICB9O1xuICAgIHJldHVybiBTZXNzaW9uQ2xhaW1WYWxpZGF0b3JTdG9yZTtcbn0pKCk7XG5leHBvcnRzLlNlc3Npb25DbGFpbVZhbGlkYXRvclN0b3JlID0gU2Vzc2lvbkNsYWltVmFsaWRhdG9yU3RvcmU7XG5leHBvcnRzLmRlZmF1bHQgPSBTZXNzaW9uQ2xhaW1WYWxpZGF0b3JTdG9yZTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/supertokens-website/lib/build/utils/sessionClaimValidatorStore.js\n"));

/***/ }),

/***/ "./node_modules/supertokens-website/lib/build/utils/windowHandler/defaultImplementation.js":
/*!*************************************************************************************************!*\
  !*** ./node_modules/supertokens-website/lib/build/utils/windowHandler/defaultImplementation.js ***!
  \*************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nvar __awaiter =\n    (this && this.__awaiter) ||\n    function (thisArg, _arguments, P, generator) {\n        function adopt(value) {\n            return value instanceof P\n                ? value\n                : new P(function (resolve) {\n                      resolve(value);\n                  });\n        }\n        return new (P || (P = Promise))(function (resolve, reject) {\n            function fulfilled(value) {\n                try {\n                    step(generator.next(value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function rejected(value) {\n                try {\n                    step(generator[\"throw\"](value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function step(result) {\n                result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n            }\n            step((generator = generator.apply(thisArg, _arguments || [])).next());\n        });\n    };\nvar __generator =\n    (this && this.__generator) ||\n    function (thisArg, body) {\n        var _ = {\n                label: 0,\n                sent: function () {\n                    if (t[0] & 1) throw t[1];\n                    return t[1];\n                },\n                trys: [],\n                ops: []\n            },\n            f,\n            y,\n            t,\n            g;\n        return (\n            (g = { next: verb(0), throw: verb(1), return: verb(2) }),\n            typeof Symbol === \"function\" &&\n                (g[Symbol.iterator] = function () {\n                    return this;\n                }),\n            g\n        );\n        function verb(n) {\n            return function (v) {\n                return step([n, v]);\n            };\n        }\n        function step(op) {\n            if (f) throw new TypeError(\"Generator is already executing.\");\n            while (_)\n                try {\n                    if (\n                        ((f = 1),\n                        y &&\n                            (t =\n                                op[0] & 2\n                                    ? y[\"return\"]\n                                    : op[0]\n                                    ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0)\n                                    : y.next) &&\n                            !(t = t.call(y, op[1])).done)\n                    )\n                        return t;\n                    if (((y = 0), t)) op = [op[0] & 2, t.value];\n                    switch (op[0]) {\n                        case 0:\n                        case 1:\n                            t = op;\n                            break;\n                        case 4:\n                            _.label++;\n                            return { value: op[1], done: false };\n                        case 5:\n                            _.label++;\n                            y = op[1];\n                            op = [0];\n                            continue;\n                        case 7:\n                            op = _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                        default:\n                            if (\n                                !((t = _.trys), (t = t.length > 0 && t[t.length - 1])) &&\n                                (op[0] === 6 || op[0] === 2)\n                            ) {\n                                _ = 0;\n                                continue;\n                            }\n                            if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) {\n                                _.label = op[1];\n                                break;\n                            }\n                            if (op[0] === 6 && _.label < t[1]) {\n                                _.label = t[1];\n                                t = op;\n                                break;\n                            }\n                            if (t && _.label < t[2]) {\n                                _.label = t[2];\n                                _.ops.push(op);\n                                break;\n                            }\n                            if (t[2]) _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                    }\n                    op = body.call(thisArg, _);\n                } catch (e) {\n                    op = [6, e];\n                    y = 0;\n                } finally {\n                    f = t = 0;\n                }\n            if (op[0] & 5) throw op[1];\n            return { value: op[0] ? op[1] : void 0, done: true };\n        }\n    };\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.defaultWindowHandlerImplementation = void 0;\nfunction getWindowOrThrow() {\n    if (typeof window === \"undefined\") {\n        throw Error(\n            \"If you are using this package with server-side rendering, please make sure that you are checking if the window object is defined.\"\n        );\n    }\n    return window;\n}\nvar defaultLocalStorageHandler = {\n    key: function (index) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, getWindowOrThrow().localStorage.key(index)];\n            });\n        });\n    },\n    clear: function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, getWindowOrThrow().localStorage.clear()];\n            });\n        });\n    },\n    getItem: function (key) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, getWindowOrThrow().localStorage.getItem(key)];\n            });\n        });\n    },\n    removeItem: function (key) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, getWindowOrThrow().localStorage.removeItem(key)];\n            });\n        });\n    },\n    setItem: function (key, value) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, getWindowOrThrow().localStorage.setItem(key, value)];\n            });\n        });\n    },\n    keySync: function (index) {\n        return getWindowOrThrow().localStorage.key(index);\n    },\n    clearSync: function () {\n        return getWindowOrThrow().localStorage.clear();\n    },\n    getItemSync: function (key) {\n        return getWindowOrThrow().localStorage.getItem(key);\n    },\n    removeItemSync: function (key) {\n        return getWindowOrThrow().localStorage.removeItem(key);\n    },\n    setItemSync: function (key, value) {\n        return getWindowOrThrow().localStorage.setItem(key, value);\n    }\n};\nvar defaultSessionStorageHandler = {\n    key: function (index) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, getWindowOrThrow().sessionStorage.key(index)];\n            });\n        });\n    },\n    clear: function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, getWindowOrThrow().sessionStorage.clear()];\n            });\n        });\n    },\n    getItem: function (key) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, getWindowOrThrow().sessionStorage.getItem(key)];\n            });\n        });\n    },\n    removeItem: function (key) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, getWindowOrThrow().sessionStorage.removeItem(key)];\n            });\n        });\n    },\n    setItem: function (key, value) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, getWindowOrThrow().sessionStorage.setItem(key, value)];\n            });\n        });\n    },\n    keySync: function (index) {\n        return getWindowOrThrow().sessionStorage.key(index);\n    },\n    clearSync: function () {\n        return getWindowOrThrow().sessionStorage.clear();\n    },\n    getItemSync: function (key) {\n        return getWindowOrThrow().sessionStorage.getItem(key);\n    },\n    removeItemSync: function (key) {\n        return getWindowOrThrow().sessionStorage.removeItem(key);\n    },\n    setItemSync: function (key, value) {\n        return getWindowOrThrow().sessionStorage.setItem(key, value);\n    }\n};\nexports.defaultWindowHandlerImplementation = {\n    history: {\n        replaceState: function (data, unused, url) {\n            return getWindowOrThrow().history.replaceState(data, unused, url);\n        },\n        getState: function () {\n            return getWindowOrThrow().history.state;\n        }\n    },\n    location: {\n        getHref: function () {\n            return getWindowOrThrow().location.href;\n        },\n        setHref: function (href) {\n            getWindowOrThrow().location.href = href;\n        },\n        getSearch: function () {\n            return getWindowOrThrow().location.search;\n        },\n        getHash: function () {\n            return getWindowOrThrow().location.hash;\n        },\n        getPathName: function () {\n            return getWindowOrThrow().location.pathname;\n        },\n        assign: function (url) {\n            /**\n             * The type for assign accepts URL | string but when building\n             * it complains about only accepting a string. To prevent this\n             * we use any\n             */\n            getWindowOrThrow().location.assign(url);\n        },\n        getHostName: function () {\n            return getWindowOrThrow().location.hostname;\n        },\n        getHost: function () {\n            return getWindowOrThrow().location.host;\n        },\n        getOrigin: function () {\n            return getWindowOrThrow().location.origin;\n        }\n    },\n    getDocument: function () {\n        return getWindowOrThrow().document;\n    },\n    getWindowUnsafe: function () {\n        return getWindowOrThrow().window;\n    },\n    localStorage: defaultLocalStorageHandler,\n    sessionStorage: defaultSessionStorageHandler\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3VwZXJ0b2tlbnMtd2Vic2l0ZS9saWIvYnVpbGQvdXRpbHMvd2luZG93SGFuZGxlci9kZWZhdWx0SW1wbGVtZW50YXRpb24uanMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsZ0RBQWdEO0FBQ25FO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQztBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCwwQ0FBMEM7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDO0FBQzFDO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9zdXBlcnRva2Vucy13ZWJzaXRlL2xpYi9idWlsZC91dGlscy93aW5kb3dIYW5kbGVyL2RlZmF1bHRJbXBsZW1lbnRhdGlvbi5qcz8zZDEzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xudmFyIF9fYXdhaXRlciA9XG4gICAgKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8XG4gICAgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgICAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUFxuICAgICAgICAgICAgICAgID8gdmFsdWVcbiAgICAgICAgICAgICAgICA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgICAgICB9KTtcbiAgICB9O1xudmFyIF9fZ2VuZXJhdG9yID1cbiAgICAodGhpcyAmJiB0aGlzLl9fZ2VuZXJhdG9yKSB8fFxuICAgIGZ1bmN0aW9uICh0aGlzQXJnLCBib2R5KSB7XG4gICAgICAgIHZhciBfID0ge1xuICAgICAgICAgICAgICAgIGxhYmVsOiAwLFxuICAgICAgICAgICAgICAgIHNlbnQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdFsxXTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHRyeXM6IFtdLFxuICAgICAgICAgICAgICAgIG9wczogW11cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmLFxuICAgICAgICAgICAgeSxcbiAgICAgICAgICAgIHQsXG4gICAgICAgICAgICBnO1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgKGcgPSB7IG5leHQ6IHZlcmIoMCksIHRocm93OiB2ZXJiKDEpLCByZXR1cm46IHZlcmIoMikgfSksXG4gICAgICAgICAgICB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiZcbiAgICAgICAgICAgICAgICAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIGdcbiAgICAgICAgKTtcbiAgICAgICAgZnVuY3Rpb24gdmVyYihuKSB7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RlcChbbiwgdl0pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XG4gICAgICAgICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XG4gICAgICAgICAgICB3aGlsZSAoXylcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAoKGYgPSAxKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAodCA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wWzBdICYgMlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB5W1wicmV0dXJuXCJdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG9wWzBdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHkubmV4dCkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCgoeSA9IDApLCB0KSkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHQgPSBvcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfLmxhYmVsKys7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF8ubGFiZWwrKztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB5ID0gb3BbMV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3AgPSBbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3AgPSBfLm9wcy5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgISgodCA9IF8udHJ5cyksICh0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXyA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXy5sYWJlbCA9IG9wWzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF8ubGFiZWwgPSB0WzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ID0gb3A7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfLmxhYmVsID0gdFsyXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXy5vcHMucHVzaChvcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgb3AgPSBbNiwgZV07XG4gICAgICAgICAgICAgICAgICAgIHkgPSAwO1xuICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIGYgPSB0ID0gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTtcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XG4gICAgICAgIH1cbiAgICB9O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5kZWZhdWx0V2luZG93SGFuZGxlckltcGxlbWVudGF0aW9uID0gdm9pZCAwO1xuZnVuY3Rpb24gZ2V0V2luZG93T3JUaHJvdygpIHtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICB0aHJvdyBFcnJvcihcbiAgICAgICAgICAgIFwiSWYgeW91IGFyZSB1c2luZyB0aGlzIHBhY2thZ2Ugd2l0aCBzZXJ2ZXItc2lkZSByZW5kZXJpbmcsIHBsZWFzZSBtYWtlIHN1cmUgdGhhdCB5b3UgYXJlIGNoZWNraW5nIGlmIHRoZSB3aW5kb3cgb2JqZWN0IGlzIGRlZmluZWQuXCJcbiAgICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHdpbmRvdztcbn1cbnZhciBkZWZhdWx0TG9jYWxTdG9yYWdlSGFuZGxlciA9IHtcbiAgICBrZXk6IGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIGdldFdpbmRvd09yVGhyb3coKS5sb2NhbFN0b3JhZ2Uua2V5KGluZGV4KV07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICBjbGVhcjogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIGdldFdpbmRvd09yVGhyb3coKS5sb2NhbFN0b3JhZ2UuY2xlYXIoKV07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICBnZXRJdGVtOiBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgZ2V0V2luZG93T3JUaHJvdygpLmxvY2FsU3RvcmFnZS5nZXRJdGVtKGtleSldO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgcmVtb3ZlSXRlbTogZnVuY3Rpb24gKGtleSkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIGdldFdpbmRvd09yVGhyb3coKS5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShrZXkpXTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9LFxuICAgIHNldEl0ZW06IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgZ2V0V2luZG93T3JUaHJvdygpLmxvY2FsU3RvcmFnZS5zZXRJdGVtKGtleSwgdmFsdWUpXTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9LFxuICAgIGtleVN5bmM6IGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgICByZXR1cm4gZ2V0V2luZG93T3JUaHJvdygpLmxvY2FsU3RvcmFnZS5rZXkoaW5kZXgpO1xuICAgIH0sXG4gICAgY2xlYXJTeW5jOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBnZXRXaW5kb3dPclRocm93KCkubG9jYWxTdG9yYWdlLmNsZWFyKCk7XG4gICAgfSxcbiAgICBnZXRJdGVtU3luYzogZnVuY3Rpb24gKGtleSkge1xuICAgICAgICByZXR1cm4gZ2V0V2luZG93T3JUaHJvdygpLmxvY2FsU3RvcmFnZS5nZXRJdGVtKGtleSk7XG4gICAgfSxcbiAgICByZW1vdmVJdGVtU3luYzogZnVuY3Rpb24gKGtleSkge1xuICAgICAgICByZXR1cm4gZ2V0V2luZG93T3JUaHJvdygpLmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKGtleSk7XG4gICAgfSxcbiAgICBzZXRJdGVtU3luYzogZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGdldFdpbmRvd09yVGhyb3coKS5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShrZXksIHZhbHVlKTtcbiAgICB9XG59O1xudmFyIGRlZmF1bHRTZXNzaW9uU3RvcmFnZUhhbmRsZXIgPSB7XG4gICAga2V5OiBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBnZXRXaW5kb3dPclRocm93KCkuc2Vzc2lvblN0b3JhZ2Uua2V5KGluZGV4KV07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICBjbGVhcjogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIGdldFdpbmRvd09yVGhyb3coKS5zZXNzaW9uU3RvcmFnZS5jbGVhcigpXTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9LFxuICAgIGdldEl0ZW06IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBnZXRXaW5kb3dPclRocm93KCkuc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShrZXkpXTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9LFxuICAgIHJlbW92ZUl0ZW06IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBnZXRXaW5kb3dPclRocm93KCkuc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbShrZXkpXTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9LFxuICAgIHNldEl0ZW06IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgZ2V0V2luZG93T3JUaHJvdygpLnNlc3Npb25TdG9yYWdlLnNldEl0ZW0oa2V5LCB2YWx1ZSldO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAga2V5U3luYzogZnVuY3Rpb24gKGluZGV4KSB7XG4gICAgICAgIHJldHVybiBnZXRXaW5kb3dPclRocm93KCkuc2Vzc2lvblN0b3JhZ2Uua2V5KGluZGV4KTtcbiAgICB9LFxuICAgIGNsZWFyU3luYzogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gZ2V0V2luZG93T3JUaHJvdygpLnNlc3Npb25TdG9yYWdlLmNsZWFyKCk7XG4gICAgfSxcbiAgICBnZXRJdGVtU3luYzogZnVuY3Rpb24gKGtleSkge1xuICAgICAgICByZXR1cm4gZ2V0V2luZG93T3JUaHJvdygpLnNlc3Npb25TdG9yYWdlLmdldEl0ZW0oa2V5KTtcbiAgICB9LFxuICAgIHJlbW92ZUl0ZW1TeW5jOiBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHJldHVybiBnZXRXaW5kb3dPclRocm93KCkuc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbShrZXkpO1xuICAgIH0sXG4gICAgc2V0SXRlbVN5bmM6IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBnZXRXaW5kb3dPclRocm93KCkuc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShrZXksIHZhbHVlKTtcbiAgICB9XG59O1xuZXhwb3J0cy5kZWZhdWx0V2luZG93SGFuZGxlckltcGxlbWVudGF0aW9uID0ge1xuICAgIGhpc3Rvcnk6IHtcbiAgICAgICAgcmVwbGFjZVN0YXRlOiBmdW5jdGlvbiAoZGF0YSwgdW51c2VkLCB1cmwpIHtcbiAgICAgICAgICAgIHJldHVybiBnZXRXaW5kb3dPclRocm93KCkuaGlzdG9yeS5yZXBsYWNlU3RhdGUoZGF0YSwgdW51c2VkLCB1cmwpO1xuICAgICAgICB9LFxuICAgICAgICBnZXRTdGF0ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGdldFdpbmRvd09yVGhyb3coKS5oaXN0b3J5LnN0YXRlO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBsb2NhdGlvbjoge1xuICAgICAgICBnZXRIcmVmOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0V2luZG93T3JUaHJvdygpLmxvY2F0aW9uLmhyZWY7XG4gICAgICAgIH0sXG4gICAgICAgIHNldEhyZWY6IGZ1bmN0aW9uIChocmVmKSB7XG4gICAgICAgICAgICBnZXRXaW5kb3dPclRocm93KCkubG9jYXRpb24uaHJlZiA9IGhyZWY7XG4gICAgICAgIH0sXG4gICAgICAgIGdldFNlYXJjaDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGdldFdpbmRvd09yVGhyb3coKS5sb2NhdGlvbi5zZWFyY2g7XG4gICAgICAgIH0sXG4gICAgICAgIGdldEhhc2g6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBnZXRXaW5kb3dPclRocm93KCkubG9jYXRpb24uaGFzaDtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0UGF0aE5hbWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBnZXRXaW5kb3dPclRocm93KCkubG9jYXRpb24ucGF0aG5hbWU7XG4gICAgICAgIH0sXG4gICAgICAgIGFzc2lnbjogZnVuY3Rpb24gKHVybCkge1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBUaGUgdHlwZSBmb3IgYXNzaWduIGFjY2VwdHMgVVJMIHwgc3RyaW5nIGJ1dCB3aGVuIGJ1aWxkaW5nXG4gICAgICAgICAgICAgKiBpdCBjb21wbGFpbnMgYWJvdXQgb25seSBhY2NlcHRpbmcgYSBzdHJpbmcuIFRvIHByZXZlbnQgdGhpc1xuICAgICAgICAgICAgICogd2UgdXNlIGFueVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBnZXRXaW5kb3dPclRocm93KCkubG9jYXRpb24uYXNzaWduKHVybCk7XG4gICAgICAgIH0sXG4gICAgICAgIGdldEhvc3ROYW1lOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0V2luZG93T3JUaHJvdygpLmxvY2F0aW9uLmhvc3RuYW1lO1xuICAgICAgICB9LFxuICAgICAgICBnZXRIb3N0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0V2luZG93T3JUaHJvdygpLmxvY2F0aW9uLmhvc3Q7XG4gICAgICAgIH0sXG4gICAgICAgIGdldE9yaWdpbjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGdldFdpbmRvd09yVGhyb3coKS5sb2NhdGlvbi5vcmlnaW47XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGdldERvY3VtZW50OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBnZXRXaW5kb3dPclRocm93KCkuZG9jdW1lbnQ7XG4gICAgfSxcbiAgICBnZXRXaW5kb3dVbnNhZmU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGdldFdpbmRvd09yVGhyb3coKS53aW5kb3c7XG4gICAgfSxcbiAgICBsb2NhbFN0b3JhZ2U6IGRlZmF1bHRMb2NhbFN0b3JhZ2VIYW5kbGVyLFxuICAgIHNlc3Npb25TdG9yYWdlOiBkZWZhdWx0U2Vzc2lvblN0b3JhZ2VIYW5kbGVyXG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/supertokens-website/lib/build/utils/windowHandler/defaultImplementation.js\n"));

/***/ }),

/***/ "./node_modules/supertokens-website/lib/build/utils/windowHandler/index.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/supertokens-website/lib/build/utils/windowHandler/index.js ***!
  \*********************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.WindowHandlerReference = void 0;\n/* Copyright (c) 2022, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nvar defaultImplementation_1 = __webpack_require__(/*! ./defaultImplementation */ \"./node_modules/supertokens-website/lib/build/utils/windowHandler/defaultImplementation.js\");\nvar WindowHandlerReference = /** @class */ (function () {\n    function WindowHandlerReference(windowHandlerInput) {\n        var windowHandlerFunc = function (original) {\n            return original;\n        };\n        if (windowHandlerInput !== undefined) {\n            windowHandlerFunc = windowHandlerInput;\n        }\n        this.windowHandler = windowHandlerFunc(defaultImplementation_1.defaultWindowHandlerImplementation);\n    }\n    WindowHandlerReference.init = function (windowHandlerInput) {\n        if (WindowHandlerReference.instance !== undefined) {\n            return;\n        }\n        WindowHandlerReference.instance = new WindowHandlerReference(windowHandlerInput);\n    };\n    WindowHandlerReference.getReferenceOrThrow = function () {\n        if (WindowHandlerReference.instance === undefined) {\n            throw new Error(\"SuperTokensWindowHandler must be initialized before calling this method.\");\n        }\n        return WindowHandlerReference.instance;\n    };\n    return WindowHandlerReference;\n})();\nexports.WindowHandlerReference = WindowHandlerReference;\nexports[\"default\"] = WindowHandlerReference;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3VwZXJ0b2tlbnMtd2Vic2l0ZS9saWIvYnVpbGQvdXRpbHMvd2luZG93SGFuZGxlci9pbmRleC5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QixtQkFBTyxDQUFDLDBIQUF5QjtBQUMvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELDhCQUE4QjtBQUM5QixrQkFBZSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvc3VwZXJ0b2tlbnMtd2Vic2l0ZS9saWIvYnVpbGQvdXRpbHMvd2luZG93SGFuZGxlci9pbmRleC5qcz82YTM5Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5XaW5kb3dIYW5kbGVyUmVmZXJlbmNlID0gdm9pZCAwO1xuLyogQ29weXJpZ2h0IChjKSAyMDIyLCBWUkFJIExhYnMgYW5kL29yIGl0cyBhZmZpbGlhdGVzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc29mdHdhcmUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlXG4gKiBcIkxpY2Vuc2VcIikgYXMgcHVibGlzaGVkIGJ5IHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRhdGlvbi5cbiAqXG4gKiBZb3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXlcbiAqIG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLCBXSVRIT1VUXG4gKiBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuIFNlZSB0aGVcbiAqIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zXG4gKiB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIGRlZmF1bHRJbXBsZW1lbnRhdGlvbl8xID0gcmVxdWlyZShcIi4vZGVmYXVsdEltcGxlbWVudGF0aW9uXCIpO1xudmFyIFdpbmRvd0hhbmRsZXJSZWZlcmVuY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gV2luZG93SGFuZGxlclJlZmVyZW5jZSh3aW5kb3dIYW5kbGVySW5wdXQpIHtcbiAgICAgICAgdmFyIHdpbmRvd0hhbmRsZXJGdW5jID0gZnVuY3Rpb24gKG9yaWdpbmFsKSB7XG4gICAgICAgICAgICByZXR1cm4gb3JpZ2luYWw7XG4gICAgICAgIH07XG4gICAgICAgIGlmICh3aW5kb3dIYW5kbGVySW5wdXQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd2luZG93SGFuZGxlckZ1bmMgPSB3aW5kb3dIYW5kbGVySW5wdXQ7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy53aW5kb3dIYW5kbGVyID0gd2luZG93SGFuZGxlckZ1bmMoZGVmYXVsdEltcGxlbWVudGF0aW9uXzEuZGVmYXVsdFdpbmRvd0hhbmRsZXJJbXBsZW1lbnRhdGlvbik7XG4gICAgfVxuICAgIFdpbmRvd0hhbmRsZXJSZWZlcmVuY2UuaW5pdCA9IGZ1bmN0aW9uICh3aW5kb3dIYW5kbGVySW5wdXQpIHtcbiAgICAgICAgaWYgKFdpbmRvd0hhbmRsZXJSZWZlcmVuY2UuaW5zdGFuY2UgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIFdpbmRvd0hhbmRsZXJSZWZlcmVuY2UuaW5zdGFuY2UgPSBuZXcgV2luZG93SGFuZGxlclJlZmVyZW5jZSh3aW5kb3dIYW5kbGVySW5wdXQpO1xuICAgIH07XG4gICAgV2luZG93SGFuZGxlclJlZmVyZW5jZS5nZXRSZWZlcmVuY2VPclRocm93ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoV2luZG93SGFuZGxlclJlZmVyZW5jZS5pbnN0YW5jZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJTdXBlclRva2Vuc1dpbmRvd0hhbmRsZXIgbXVzdCBiZSBpbml0aWFsaXplZCBiZWZvcmUgY2FsbGluZyB0aGlzIG1ldGhvZC5cIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFdpbmRvd0hhbmRsZXJSZWZlcmVuY2UuaW5zdGFuY2U7XG4gICAgfTtcbiAgICByZXR1cm4gV2luZG93SGFuZGxlclJlZmVyZW5jZTtcbn0pKCk7XG5leHBvcnRzLldpbmRvd0hhbmRsZXJSZWZlcmVuY2UgPSBXaW5kb3dIYW5kbGVyUmVmZXJlbmNlO1xuZXhwb3J0cy5kZWZhdWx0ID0gV2luZG93SGFuZGxlclJlZmVyZW5jZTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/supertokens-website/lib/build/utils/windowHandler/index.js\n"));

/***/ }),

/***/ "./node_modules/supertokens-website/lib/build/version.js":
/*!***************************************************************!*\
  !*** ./node_modules/supertokens-website/lib/build/version.js ***!
  \***************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.supported_fdi = exports.package_version = void 0;\n/* Copyright (c) 2020, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nexports.package_version = \"16.0.9\";\nexports.supported_fdi = [\"1.16\"];\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3VwZXJ0b2tlbnMtd2Vic2l0ZS9saWIvYnVpbGQvdmVyc2lvbi5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBYTtBQUNiLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxxQkFBcUIsR0FBRyx1QkFBdUI7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QjtBQUN2QixxQkFBcUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3N1cGVydG9rZW5zLXdlYnNpdGUvbGliL2J1aWxkL3ZlcnNpb24uanM/MGU4ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuc3VwcG9ydGVkX2ZkaSA9IGV4cG9ydHMucGFja2FnZV92ZXJzaW9uID0gdm9pZCAwO1xuLyogQ29weXJpZ2h0IChjKSAyMDIwLCBWUkFJIExhYnMgYW5kL29yIGl0cyBhZmZpbGlhdGVzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc29mdHdhcmUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlXG4gKiBcIkxpY2Vuc2VcIikgYXMgcHVibGlzaGVkIGJ5IHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRhdGlvbi5cbiAqXG4gKiBZb3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXlcbiAqIG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLCBXSVRIT1VUXG4gKiBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuIFNlZSB0aGVcbiAqIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zXG4gKiB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuZXhwb3J0cy5wYWNrYWdlX3ZlcnNpb24gPSBcIjE2LjAuOVwiO1xuZXhwb3J0cy5zdXBwb3J0ZWRfZmRpID0gW1wiMS4xNlwiXTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/supertokens-website/lib/build/version.js\n"));

/***/ }),

/***/ "./node_modules/supertokens-website/lib/build/xmlhttprequest.js":
/*!**********************************************************************!*\
  !*** ./node_modules/supertokens-website/lib/build/xmlhttprequest.js ***!
  \**********************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\n/* Copyright (c) 2020, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\nvar __awaiter =\n    (this && this.__awaiter) ||\n    function (thisArg, _arguments, P, generator) {\n        function adopt(value) {\n            return value instanceof P\n                ? value\n                : new P(function (resolve) {\n                      resolve(value);\n                  });\n        }\n        return new (P || (P = Promise))(function (resolve, reject) {\n            function fulfilled(value) {\n                try {\n                    step(generator.next(value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function rejected(value) {\n                try {\n                    step(generator[\"throw\"](value));\n                } catch (e) {\n                    reject(e);\n                }\n            }\n            function step(result) {\n                result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n            }\n            step((generator = generator.apply(thisArg, _arguments || [])).next());\n        });\n    };\nvar __generator =\n    (this && this.__generator) ||\n    function (thisArg, body) {\n        var _ = {\n                label: 0,\n                sent: function () {\n                    if (t[0] & 1) throw t[1];\n                    return t[1];\n                },\n                trys: [],\n                ops: []\n            },\n            f,\n            y,\n            t,\n            g;\n        return (\n            (g = { next: verb(0), throw: verb(1), return: verb(2) }),\n            typeof Symbol === \"function\" &&\n                (g[Symbol.iterator] = function () {\n                    return this;\n                }),\n            g\n        );\n        function verb(n) {\n            return function (v) {\n                return step([n, v]);\n            };\n        }\n        function step(op) {\n            if (f) throw new TypeError(\"Generator is already executing.\");\n            while (_)\n                try {\n                    if (\n                        ((f = 1),\n                        y &&\n                            (t =\n                                op[0] & 2\n                                    ? y[\"return\"]\n                                    : op[0]\n                                    ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0)\n                                    : y.next) &&\n                            !(t = t.call(y, op[1])).done)\n                    )\n                        return t;\n                    if (((y = 0), t)) op = [op[0] & 2, t.value];\n                    switch (op[0]) {\n                        case 0:\n                        case 1:\n                            t = op;\n                            break;\n                        case 4:\n                            _.label++;\n                            return { value: op[1], done: false };\n                        case 5:\n                            _.label++;\n                            y = op[1];\n                            op = [0];\n                            continue;\n                        case 7:\n                            op = _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                        default:\n                            if (\n                                !((t = _.trys), (t = t.length > 0 && t[t.length - 1])) &&\n                                (op[0] === 6 || op[0] === 2)\n                            ) {\n                                _ = 0;\n                                continue;\n                            }\n                            if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) {\n                                _.label = op[1];\n                                break;\n                            }\n                            if (op[0] === 6 && _.label < t[1]) {\n                                _.label = t[1];\n                                t = op;\n                                break;\n                            }\n                            if (t && _.label < t[2]) {\n                                _.label = t[2];\n                                _.ops.push(op);\n                                break;\n                            }\n                            if (t[2]) _.ops.pop();\n                            _.trys.pop();\n                            continue;\n                    }\n                    op = body.call(thisArg, _);\n                } catch (e) {\n                    op = [6, e];\n                    y = 0;\n                } finally {\n                    f = t = 0;\n                }\n            if (op[0] & 5) throw op[1];\n            return { value: op[0] ? op[1] : void 0, done: true };\n        }\n    };\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports.addInterceptorsToXMLHttpRequest = void 0;\nvar utils_1 = __webpack_require__(/*! ./utils */ \"./node_modules/supertokens-website/lib/build/utils/index.js\");\nvar fetch_1 = __webpack_require__(/*! ./fetch */ \"./node_modules/supertokens-website/lib/build/fetch.js\");\nvar logger_1 = __webpack_require__(/*! ./logger */ \"./node_modules/supertokens-website/lib/build/logger.js\");\nvar windowHandler_1 = __webpack_require__(/*! ./utils/windowHandler */ \"./node_modules/supertokens-website/lib/build/utils/windowHandler/index.js\");\nvar processState_1 = __webpack_require__(/*! ./processState */ \"./node_modules/supertokens-website/lib/build/processState.js\");\nvar XHR_EVENTS = [\"readystatechange\", \"abort\", \"error\", \"load\", \"loadend\", \"loadstart\", \"progress\", \"timeout\"];\nfunction addInterceptorsToXMLHttpRequest() {\n    var firstEventLoopDone = new Promise(function (res) {\n        return setTimeout(res, 0);\n    });\n    var oldXMLHttpRequest = XMLHttpRequest;\n    (0, logger_1.logDebugMessage)(\"addInterceptorsToXMLHttpRequest called\");\n    // create XMLHttpRequest proxy object\n    // define constructor for my proxy object\n    XMLHttpRequest = function () {\n        var actual = new oldXMLHttpRequest();\n        var delayedQueue = firstEventLoopDone;\n        function delayIfNecessary(cb) {\n            delayedQueue = delayedQueue.finally(function () {\n                var _a;\n                return (_a = cb()) === null || _a === void 0 ? void 0 : _a.catch(console.error);\n            });\n        }\n        var self = this;\n        var listOfFunctionCallsInProxy = [];\n        var requestHeaders = [];\n        var customGetterValues = {};\n        var customResponseHeaders;\n        var eventHandlers = new Map();\n        // We define these during open\n        // let method: string = \"\";\n        var url = \"\";\n        var doNotDoInterception = false;\n        var preRequestLSS = undefined;\n        var body;\n        // we do not provide onerror cause that is fired only on\n        // network level failures and nothing else. If a status code is > 400,\n        // then onload and onreadystatechange are called.\n        // Setting up props (event handlers) that we use in event handlers\n        // These require processing the response (and possibly retrying) before they are forwarded to the user\n        self.onload = null;\n        self.onreadystatechange = null;\n        self.onloadend = null;\n        // TODO: add support for other event listener options\n        // https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener#parameters\n        self.addEventListener = function (type, listener, _options) {\n            var handlers = eventHandlers.get(type);\n            if (handlers === undefined) {\n                handlers = new Set();\n                eventHandlers.set(type, handlers);\n            }\n            handlers.add(listener);\n        };\n        self.removeEventListener = function (type, listener) {\n            var handlers = eventHandlers.get(type);\n            if (handlers === undefined) {\n                handlers = new Set();\n                eventHandlers.set(type, handlers);\n            }\n            handlers.delete(listener);\n        };\n        function redispatchEvent(name, ev) {\n            var handlers = eventHandlers.get(name);\n            (0, logger_1.logDebugMessage)(\n                \"XHRInterceptor dispatching \".concat(ev.type, \" to \").concat(handlers ? handlers.size : 0, \" listeners\")\n            );\n            if (handlers) {\n                Array.from(handlers).forEach(function (handler) {\n                    return handler.apply(self, [ev]);\n                });\n            }\n        }\n        function handleRetryPostRefreshing() {\n            return __awaiter(this, void 0, void 0, function () {\n                var refreshResult, retryXhr;\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            if (preRequestLSS === undefined) {\n                                throw new Error(\"Should never come here..\");\n                            }\n                            (0,\n                            logger_1.logDebugMessage)(\"XHRInterceptor.handleRetryPostRefreshing: preRequestLSS \" + preRequestLSS.status);\n                            return [4 /*yield*/, (0, fetch_1.onUnauthorisedResponse)(preRequestLSS)];\n                        case 1:\n                            refreshResult = _a.sent();\n                            if (refreshResult.result !== \"RETRY\") {\n                                (0, logger_1.logDebugMessage)(\n                                    \"XHRInterceptor.handleRetryPostRefreshing: Not retrying original request \" +\n                                        !!refreshResult.error\n                                );\n                                if (refreshResult.error !== undefined) {\n                                    // this will cause the responseText of the self to be updated\n                                    // to the error message and make the status code the same as\n                                    // what the error's status code is.\n                                    throw refreshResult.error;\n                                }\n                                // it can come here if refreshResult.result is SESSION_EXPIRED.\n                                // in that case, the status of self is already 401. So we let it\n                                // pass through.\n                                return [2 /*return*/, true];\n                            }\n                            (0,\n                            logger_1.logDebugMessage)(\"XHRInterceptor.handleRetryPostRefreshing: Retrying original request\");\n                            retryXhr = new oldXMLHttpRequest();\n                            setUpXHR(self, retryXhr, true);\n                            // this also calls the send function with the appropriate body\n                            listOfFunctionCallsInProxy.forEach(function (i) {\n                                i(retryXhr);\n                            });\n                            sendXHR(retryXhr, body);\n                            return [2 /*return*/, false];\n                    }\n                });\n            });\n        }\n        function handleResponse(xhr) {\n            return __awaiter(this, void 0, void 0, function () {\n                var status_1, headers, err_1, resp;\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            if (doNotDoInterception) {\n                                (0, logger_1.logDebugMessage)(\n                                    \"XHRInterceptor.handleResponse: Returning without interception\"\n                                );\n                                return [2 /*return*/, true];\n                            }\n                            _a.label = 1;\n                        case 1:\n                            _a.trys.push([1, 14, , 18]);\n                            _a.label = 2;\n                        case 2:\n                            _a.trys.push([2, , 8, 13]);\n                            (0, logger_1.logDebugMessage)(\"XHRInterceptor.handleResponse: Interception started\");\n                            processState_1.ProcessState.getInstance().addState(\n                                processState_1.PROCESS_STATE.CALLING_INTERCEPTION_RESPONSE\n                            );\n                            status_1 = xhr.status;\n                            headers = getResponseHeadersFromXHR(xhr);\n                            return [4 /*yield*/, saveTokensFromHeaders(headers)];\n                        case 3:\n                            _a.sent();\n                            (0,\n                            fetch_1.fireSessionUpdateEventsIfNecessary)(preRequestLSS.status === \"EXISTS\", status_1, headers.get(\"front-token\"));\n                            if (!(status_1 === fetch_1.default.config.sessionExpiredStatusCode))\n                                return [3 /*break*/, 5];\n                            (0, logger_1.logDebugMessage)(\"responseInterceptor: Status code is: \" + status_1);\n                            return [4 /*yield*/, handleRetryPostRefreshing()];\n                        case 4:\n                            return [2 /*return*/, _a.sent()];\n                        case 5:\n                            if (!(status_1 === fetch_1.default.config.invalidClaimStatusCode)) return [3 /*break*/, 7];\n                            return [\n                                4 /*yield*/,\n                                (0, fetch_1.onInvalidClaimResponse)({\n                                    data: JSON.parse(xhr.responseText)\n                                })\n                            ];\n                        case 6:\n                            _a.sent();\n                            _a.label = 7;\n                        case 7:\n                            return [2 /*return*/, true];\n                        case 8:\n                            (0, logger_1.logDebugMessage)(\"XHRInterceptor.handleResponse: doFinallyCheck running\");\n                            return [4 /*yield*/, (0, fetch_1.getLocalSessionState)(false)];\n                        case 9:\n                            if (!!(_a.sent().status === \"EXISTS\")) return [3 /*break*/, 12];\n                            (0,\n                            logger_1.logDebugMessage)(\"XHRInterceptor.handleResponse: local session doesn't exist, so removing anti-csrf and sFrontToken\");\n                            return [4 /*yield*/, fetch_1.AntiCsrfToken.removeToken()];\n                        case 10:\n                            _a.sent();\n                            return [4 /*yield*/, fetch_1.FrontToken.removeToken()];\n                        case 11:\n                            _a.sent();\n                            _a.label = 12;\n                        case 12:\n                            return [7 /*endfinally*/];\n                        case 13:\n                            return [3 /*break*/, 18];\n                        case 14:\n                            err_1 = _a.sent();\n                            (0, logger_1.logDebugMessage)(\"XHRInterceptor.handleResponse: caught error\");\n                            if (!(err_1.status !== undefined)) return [3 /*break*/, 16];\n                            return [4 /*yield*/, getXMLHttpStatusAndResponseTextFromFetchResponse(err_1)];\n                        case 15:\n                            resp = _a.sent();\n                            customGetterValues[\"status\"] = resp.status;\n                            customGetterValues[\"statusText\"] = resp.statusText;\n                            customGetterValues[\"responseType\"] = resp.responseType;\n                            customResponseHeaders = resp.headers;\n                            if (resp.responseType === \"json\") {\n                                try {\n                                    customGetterValues[\"response\"] = JSON.parse(resp.responseText);\n                                } catch (_b) {\n                                    customGetterValues[\"response\"] = resp.responseText;\n                                }\n                            } else {\n                                customGetterValues[\"response\"] = resp.responseText;\n                            }\n                            customGetterValues[\"responseText\"] = resp.responseText;\n                            return [3 /*break*/, 17];\n                        case 16:\n                            // Here we only need to handle fetch related errors, from the refresh endpoint called by the retry\n                            // So we should only get network level errors here\n                            redispatchEvent(\"error\", new Event(\"error\"));\n                            _a.label = 17;\n                        case 17:\n                            return [2 /*return*/, true];\n                        case 18:\n                            return [2 /*return*/];\n                    }\n                });\n            });\n        }\n        self.open = function (_, u) {\n            (0, logger_1.logDebugMessage)(\"XHRInterceptor.open called\");\n            var args = arguments;\n            // method = m;\n            url = u;\n            try {\n                doNotDoInterception =\n                    (typeof url === \"string\" &&\n                        !(0, utils_1.shouldDoInterceptionBasedOnUrl)(\n                            url,\n                            fetch_1.default.config.apiDomain,\n                            fetch_1.default.config.sessionTokenBackendDomain\n                        )) ||\n                    (typeof url !== \"string\" &&\n                        !(0, utils_1.shouldDoInterceptionBasedOnUrl)(\n                            url.toString(),\n                            fetch_1.default.config.apiDomain,\n                            fetch_1.default.config.sessionTokenBackendDomain\n                        ));\n            } catch (err) {\n                if (err.message === \"Please provide a valid domain name\") {\n                    (0, logger_1.logDebugMessage)(\n                        \"XHRInterceptor.open: Trying shouldDoInterceptionBasedOnUrl with location.origin\"\n                    );\n                    // .origin gives the port as well..\n                    doNotDoInterception = !(0, utils_1.shouldDoInterceptionBasedOnUrl)(\n                        windowHandler_1.default.getReferenceOrThrow().windowHandler.location.getOrigin(),\n                        fetch_1.default.config.apiDomain,\n                        fetch_1.default.config.sessionTokenBackendDomain\n                    );\n                } else {\n                    throw err;\n                }\n            }\n            delayIfNecessary(function () {\n                listOfFunctionCallsInProxy.push(function (xhr) {\n                    xhr.open.apply(xhr, args);\n                });\n                // here we use the apply syntax cause there are other optional args that\n                // can be passed by the user.\n                actual.open.apply(actual, args);\n            });\n        };\n        self.send = function (inputBody) {\n            body = inputBody;\n            sendXHR(actual, body);\n        };\n        self.setRequestHeader = function (name, value) {\n            var _this = this;\n            (0, logger_1.logDebugMessage)(\"XHRInterceptor.setRequestHeader: Called with \".concat(name));\n            if (doNotDoInterception) {\n                delayIfNecessary(function () {\n                    return actual.setRequestHeader(name, value);\n                });\n                return;\n            }\n            // We need to do this, because if there is another interceptor wrapping this (e.g.: the axios interceptor)\n            // then the anti-csrf token they add would be concatenated to the anti-csrf token added by this interceptor\n            if (name === \"anti-csrf\") {\n                return;\n            }\n            delayIfNecessary(function () {\n                return __awaiter(_this, void 0, void 0, function () {\n                    var accessToken;\n                    return __generator(this, function (_a) {\n                        switch (_a.label) {\n                            case 0:\n                                if (!(name.toLowerCase() === \"authorization\")) return [3 /*break*/, 2];\n                                (0,\n                                logger_1.logDebugMessage)(\"XHRInterceptor.setRequestHeader: checking if user provided auth header matches local token\");\n                                return [4 /*yield*/, (0, fetch_1.getTokenForHeaderAuth)(\"access\")];\n                            case 1:\n                                accessToken = _a.sent();\n                                if (value === \"Bearer \".concat(accessToken)) {\n                                    // We are ignoring the Authorization header set by the user in this case, because it would cause issues\n                                    // If we do not ignore this, then this header would be used even if the request is being retried after a refresh, even though it contains an outdated access token.\n                                    // This causes an infinite refresh loop.\n                                    (0, logger_1.logDebugMessage)(\n                                        \"XHRInterceptor.setRequestHeader: skipping Authorization from user provided headers because it contains our access token\"\n                                    );\n                                    return [2 /*return*/];\n                                }\n                                _a.label = 2;\n                            case 2:\n                                listOfFunctionCallsInProxy.push(function (xhr) {\n                                    xhr.setRequestHeader(name, value);\n                                });\n                                // The original version \"combines\" headers according to MDN.\n                                requestHeaders.push({ name: name, value: value });\n                                actual.setRequestHeader(name, value);\n                                return [2 /*return*/];\n                        }\n                    });\n                });\n            });\n        };\n        var copiedProps = undefined;\n        setUpXHR(self, actual, false);\n        function setUpXHR(self, xhr, isRetry) {\n            var responseProcessed;\n            var delayedEvents = [\"load\", \"loadend\", \"readystatechange\"];\n            (0, logger_1.logDebugMessage)(\"XHRInterceptor.setUpXHR called\");\n            var _loop_1 = function (name_1) {\n                (0, logger_1.logDebugMessage)(\"XHRInterceptor added listener for event \".concat(name_1));\n                xhr.addEventListener(name_1, function (ev) {\n                    (0, logger_1.logDebugMessage)(\"XHRInterceptor got event \".concat(name_1));\n                    if (!delayedEvents.includes(name_1)) {\n                        redispatchEvent(name_1, ev);\n                    }\n                });\n            };\n            for (var _i = 0, XHR_EVENTS_1 = XHR_EVENTS; _i < XHR_EVENTS_1.length; _i++) {\n                var name_1 = XHR_EVENTS_1[_i];\n                _loop_1(name_1);\n            }\n            xhr.onload = function (ev) {\n                if (responseProcessed === undefined) {\n                    responseProcessed = handleResponse(xhr);\n                }\n                responseProcessed.then(function (callself) {\n                    if (!callself) {\n                        return;\n                    }\n                    if (self.onload) {\n                        self.onload(ev);\n                    }\n                    redispatchEvent(\"load\", ev);\n                });\n            };\n            xhr.onreadystatechange = function (ev) {\n                // In local files, status is 0 upon success in Mozilla Firefox\n                if (xhr.readyState === oldXMLHttpRequest.DONE) {\n                    if (responseProcessed === undefined) {\n                        responseProcessed = handleResponse(xhr);\n                    }\n                    responseProcessed.then(function (callself) {\n                        if (!callself) {\n                            return;\n                        }\n                        if (self.onreadystatechange) self.onreadystatechange(ev);\n                        redispatchEvent(\"readystatechange\", ev);\n                    });\n                } else {\n                    if (self.onreadystatechange) {\n                        self.onreadystatechange(ev);\n                    }\n                    redispatchEvent(\"readystatechange\", ev);\n                }\n            };\n            xhr.onloadend = function (ev) {\n                if (responseProcessed === undefined) {\n                    responseProcessed = handleResponse(xhr);\n                }\n                responseProcessed.then(function (callself) {\n                    if (!callself) {\n                        return;\n                    }\n                    if (self.onloadend) {\n                        self.onloadend(ev);\n                    }\n                    redispatchEvent(\"loadend\", ev);\n                });\n            };\n            self.getAllResponseHeaders = function () {\n                var headersString;\n                if (customResponseHeaders) {\n                    headersString = \"\";\n                    customResponseHeaders.forEach(function (v, k) {\n                        return (headersString += \"\".concat(k, \": \").concat(v, \"\\r\\n\"));\n                    });\n                } else {\n                    headersString = xhr.getAllResponseHeaders();\n                }\n                // We use this \"fake-header\" to signal other interceptors (axios) that this is done\n                // in case both is applied\n                return headersString + \"x-supertokens-xhr-intercepted: true\\r\\n\";\n            };\n            self.getResponseHeader = function (name) {\n                if (name === \"x-supertokens-xhr-intercepted\") {\n                    return \"true\";\n                }\n                if (customResponseHeaders) {\n                    return customResponseHeaders.get(name);\n                }\n                return xhr.getResponseHeader(name);\n            };\n            if (copiedProps === undefined) {\n                copiedProps = [];\n                // iterate all properties in actual to proxy them according to their type\n                // For functions, we call actual and return the result\n                // For non-functions, we make getters/setters\n                // If the property already exists on self, then don't proxy it\n                for (var prop in xhr) {\n                    // skip properties we already have - this will skip both the above defined properties\n                    // that we don't want to proxy and skip properties on the prototype belonging to Object\n                    if (!(prop in self)) {\n                        // We save these props into an array - in case we need to set up a retry XHR\n                        copiedProps.push(prop);\n                    }\n                }\n            }\n            var _loop_2 = function (prop) {\n                if (typeof xhr[prop] === \"function\") {\n                    // define our own property that calls the same method on the actual\n                    Object.defineProperty(self, prop, {\n                        configurable: true,\n                        value: function () {\n                            var args = arguments;\n                            if (!isRetry) {\n                                listOfFunctionCallsInProxy.push(function (xhr) {\n                                    xhr[prop].apply(xhr, args);\n                                });\n                            }\n                            return xhr[prop].apply(xhr, args);\n                        }\n                    });\n                } else {\n                    // define our own property that just gets or sets the same prop on the actual\n                    Object.defineProperty(self, prop, {\n                        configurable: true,\n                        get: function () {\n                            if (customGetterValues[prop] !== undefined) {\n                                return customGetterValues[prop];\n                            }\n                            return xhr[prop];\n                        },\n                        set: function (val) {\n                            if (!isRetry) {\n                                listOfFunctionCallsInProxy.push(function (xhr) {\n                                    xhr[prop] = val;\n                                });\n                            }\n                            (0, logger_1.logDebugMessage)(\"XHRInterceptor.set[\".concat(prop, \"] = \").concat(val));\n                            xhr[prop] = val;\n                        }\n                    });\n                }\n            };\n            for (var _a = 0, copiedProps_1 = copiedProps; _a < copiedProps_1.length; _a++) {\n                var prop = copiedProps_1[_a];\n                _loop_2(prop);\n            }\n        }\n        function sendXHR(xhr, body) {\n            var _this = this;\n            (0, logger_1.logDebugMessage)(\"XHRInterceptor.send: called\");\n            (0, logger_1.logDebugMessage)(\"XHRInterceptor.send: Value of doNotDoInterception: \" + doNotDoInterception);\n            if (doNotDoInterception) {\n                (0, logger_1.logDebugMessage)(\"XHRInterceptor.send: Returning without interception\");\n                delayIfNecessary(function () {\n                    return xhr.send(body);\n                });\n                return;\n            }\n            (0, logger_1.logDebugMessage)(\"XHRInterceptor.send: Interception started\");\n            processState_1.ProcessState.getInstance().addState(\n                processState_1.PROCESS_STATE.CALLING_INTERCEPTION_REQUEST\n            );\n            delayIfNecessary(function () {\n                return __awaiter(_this, void 0, void 0, function () {\n                    var antiCsrfToken, transferMethod;\n                    return __generator(this, function (_a) {\n                        switch (_a.label) {\n                            case 0:\n                                return [4 /*yield*/, (0, fetch_1.getLocalSessionState)(true)];\n                            case 1:\n                                preRequestLSS = _a.sent();\n                                if (!(preRequestLSS.status === \"EXISTS\")) return [3 /*break*/, 3];\n                                return [\n                                    4 /*yield*/,\n                                    fetch_1.AntiCsrfToken.getToken(preRequestLSS.lastAccessTokenUpdate)\n                                ];\n                            case 2:\n                                antiCsrfToken = _a.sent();\n                                if (antiCsrfToken !== undefined) {\n                                    (0, logger_1.logDebugMessage)(\n                                        \"XHRInterceptor.send: Adding anti-csrf token to request\"\n                                    );\n                                    xhr.setRequestHeader(\"anti-csrf\", antiCsrfToken);\n                                }\n                                _a.label = 3;\n                            case 3:\n                                if (fetch_1.default.config.autoAddCredentials) {\n                                    (0, logger_1.logDebugMessage)(\"XHRInterceptor.send: Adding credentials include\");\n                                    self.withCredentials = true;\n                                }\n                                if (\n                                    !requestHeaders.some(function (i) {\n                                        return i.name === \"rid\";\n                                    })\n                                ) {\n                                    (0, logger_1.logDebugMessage)(\"XHRInterceptor.send: Adding rid header: anti-csrf\");\n                                    xhr.setRequestHeader(\"rid\", \"anti-csrf\");\n                                } else {\n                                    (0, logger_1.logDebugMessage)(\n                                        \"XHRInterceptor.send: rid header was already there in request\"\n                                    );\n                                }\n                                transferMethod = fetch_1.default.config.tokenTransferMethod;\n                                if (\n                                    !requestHeaders.some(function (i) {\n                                        return i.name === \"st-auth-mode\";\n                                    })\n                                ) {\n                                    (0, logger_1.logDebugMessage)(\n                                        \"XHRInterceptor.send: Adding st-auth-mode header: \" + transferMethod\n                                    );\n                                    xhr.setRequestHeader(\"st-auth-mode\", transferMethod);\n                                } else {\n                                    (0, logger_1.logDebugMessage)(\n                                        \"XHRInterceptor.send: st-auth-mode header was already there in request\"\n                                    );\n                                }\n                                return [4 /*yield*/, setAuthorizationHeaderIfRequired(xhr, requestHeaders)];\n                            case 4:\n                                _a.sent();\n                                (0, logger_1.logDebugMessage)(\"XHRInterceptor.send: Making user's http call\");\n                                return [2 /*return*/, xhr.send(body)];\n                        }\n                    });\n                });\n            });\n        }\n    };\n    // This can be used by other interceptors (axios) to detect if this interceptor has been added or not\n    XMLHttpRequest.__interceptedBySuperTokens = true;\n    XMLHttpRequest.__original = oldXMLHttpRequest;\n}\nexports.addInterceptorsToXMLHttpRequest = addInterceptorsToXMLHttpRequest;\nfunction getXMLHttpStatusAndResponseTextFromFetchResponse(response) {\n    return __awaiter(this, void 0, void 0, function () {\n        var contentType, data, responseType, _a, _b, _c;\n        return __generator(this, function (_d) {\n            switch (_d.label) {\n                case 0:\n                    contentType = response.headers.get(\"content-type\");\n                    data = \"\";\n                    responseType = \"text\";\n                    if (!(contentType === null)) return [3 /*break*/, 5];\n                    _d.label = 1;\n                case 1:\n                    _d.trys.push([1, 3, , 4]);\n                    return [4 /*yield*/, response.text()];\n                case 2:\n                    data = _d.sent();\n                    return [3 /*break*/, 4];\n                case 3:\n                    _a = _d.sent();\n                    data = \"\";\n                    return [3 /*break*/, 4];\n                case 4:\n                    return [3 /*break*/, 9];\n                case 5:\n                    if (!contentType.includes(\"application/json\")) return [3 /*break*/, 7];\n                    responseType = \"json\";\n                    _c = (_b = JSON).stringify;\n                    return [4 /*yield*/, response.json()];\n                case 6:\n                    data = _c.apply(_b, [_d.sent()]);\n                    return [3 /*break*/, 9];\n                case 7:\n                    if (!contentType.includes(\"text/\")) return [3 /*break*/, 9];\n                    return [4 /*yield*/, response.text()];\n                case 8:\n                    data = _d.sent();\n                    _d.label = 9;\n                case 9:\n                    return [\n                        2 /*return*/,\n                        {\n                            status: response.status,\n                            responseText: data,\n                            statusText: response.statusText,\n                            responseType: responseType,\n                            headers: response.headers\n                        }\n                    ];\n            }\n        });\n    });\n}\nfunction setAuthorizationHeaderIfRequired(xhr, requestHeaders) {\n    return __awaiter(this, void 0, void 0, function () {\n        var accessToken, refreshToken;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    (0, logger_1.logDebugMessage)(\"setAuthorizationHeaderIfRequired: adding existing tokens as header\");\n                    return [4 /*yield*/, (0, fetch_1.getTokenForHeaderAuth)(\"access\")];\n                case 1:\n                    accessToken = _a.sent();\n                    return [4 /*yield*/, (0, fetch_1.getTokenForHeaderAuth)(\"refresh\")];\n                case 2:\n                    refreshToken = _a.sent();\n                    // We don't add the refresh token because that's only required by the refresh call which is done with fetch\n                    // Still, we only add the Authorization header if both are present, because we are planning to add an option to expose the\n                    // access token to the frontend while using cookie based auth - so that users can get the access token to use\n                    if (accessToken !== undefined && refreshToken !== undefined) {\n                        if (\n                            requestHeaders.some(function (_a) {\n                                var name = _a.name;\n                                return name.toLowerCase() === \"authorization\";\n                            })\n                        ) {\n                            (0, logger_1.logDebugMessage)(\n                                \"setAuthorizationHeaderIfRequired: Authorization header defined by the user, not adding\"\n                            );\n                        } else {\n                            if (accessToken !== undefined) {\n                                (0, logger_1.logDebugMessage)(\n                                    \"setAuthorizationHeaderIfRequired: added authorization header\"\n                                );\n                                xhr.setRequestHeader(\"Authorization\", \"Bearer \".concat(accessToken));\n                            }\n                            // We don't add the refresh token because that's only required by the refresh call which is done with fetch\n                        }\n                    } else {\n                        (0, logger_1.logDebugMessage)(\n                            \"setAuthorizationHeaderIfRequired: token for header based auth not found\"\n                        );\n                    }\n                    return [2 /*return*/];\n            }\n        });\n    });\n}\nfunction saveTokensFromHeaders(headers) {\n    return __awaiter(this, void 0, void 0, function () {\n        var refreshToken, accessToken, frontToken, antiCsrfToken, tok;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    (0, logger_1.logDebugMessage)(\"saveTokensFromHeaders: Saving updated tokens from the response\");\n                    refreshToken = headers.get(\"st-refresh-token\");\n                    if (!(refreshToken !== null)) return [3 /*break*/, 2];\n                    (0, logger_1.logDebugMessage)(\"saveTokensFromHeaders: saving new refresh token\");\n                    return [4 /*yield*/, (0, fetch_1.setToken)(\"refresh\", refreshToken)];\n                case 1:\n                    _a.sent();\n                    _a.label = 2;\n                case 2:\n                    accessToken = headers.get(\"st-access-token\");\n                    if (!(accessToken !== null)) return [3 /*break*/, 4];\n                    (0, logger_1.logDebugMessage)(\"saveTokensFromHeaders: saving new access token\");\n                    return [4 /*yield*/, (0, fetch_1.setToken)(\"access\", accessToken)];\n                case 3:\n                    _a.sent();\n                    _a.label = 4;\n                case 4:\n                    frontToken = headers.get(\"front-token\");\n                    if (!(frontToken !== null)) return [3 /*break*/, 6];\n                    (0, logger_1.logDebugMessage)(\"saveTokensFromHeaders: Setting sFrontToken: \" + frontToken);\n                    return [4 /*yield*/, fetch_1.FrontToken.setItem(frontToken)];\n                case 5:\n                    _a.sent();\n                    _a.label = 6;\n                case 6:\n                    antiCsrfToken = headers.get(\"anti-csrf\");\n                    if (!(antiCsrfToken !== null)) return [3 /*break*/, 9];\n                    return [4 /*yield*/, (0, fetch_1.getLocalSessionState)(true)];\n                case 7:\n                    tok = _a.sent();\n                    if (!(tok.status === \"EXISTS\")) return [3 /*break*/, 9];\n                    (0, logger_1.logDebugMessage)(\"saveTokensFromHeaders: Setting anti-csrf token\");\n                    return [4 /*yield*/, fetch_1.AntiCsrfToken.setItem(tok.lastAccessTokenUpdate, antiCsrfToken)];\n                case 8:\n                    _a.sent();\n                    _a.label = 9;\n                case 9:\n                    return [2 /*return*/];\n            }\n        });\n    });\n}\nfunction getResponseHeadersFromXHR(xhr) {\n    return new Headers(\n        xhr\n            .getAllResponseHeaders()\n            .split(\"\\r\\n\")\n            .map(function (line) {\n                var sep = line.indexOf(\": \");\n                if (sep === -1) {\n                    return [\"\", \"\"];\n                }\n                return [line.slice(0, sep), line.slice(sep + 2)];\n            })\n            .filter(function (e) {\n                return e[0].length !== 0;\n            })\n    );\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3VwZXJ0b2tlbnMtd2Vic2l0ZS9saWIvYnVpbGQveG1saHR0cHJlcXVlc3QuanMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLGdEQUFnRDtBQUNuRTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUM7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsdUNBQXVDO0FBQ3ZDLGNBQWMsbUJBQU8sQ0FBQyw0RUFBUztBQUMvQixjQUFjLG1CQUFPLENBQUMsc0VBQVM7QUFDL0IsZUFBZSxtQkFBTyxDQUFDLHdFQUFVO0FBQ2pDLHNCQUFzQixtQkFBTyxDQUFDLHdHQUF1QjtBQUNyRCxxQkFBcUIsbUJBQU8sQ0FBQyxvRkFBZ0I7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQSw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBLHNEQUFzRCwwQkFBMEI7QUFDaEY7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLHdEQUF3RCwwQkFBMEI7QUFDbEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckIsa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQixrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0EsMERBQTBELDJCQUEyQjtBQUNyRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUM7QUFDckM7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUM7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QztBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9zdXBlcnRva2Vucy13ZWJzaXRlL2xpYi9idWlsZC94bWxodHRwcmVxdWVzdC5qcz84YzA0Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLyogQ29weXJpZ2h0IChjKSAyMDIwLCBWUkFJIExhYnMgYW5kL29yIGl0cyBhZmZpbGlhdGVzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc29mdHdhcmUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlXG4gKiBcIkxpY2Vuc2VcIikgYXMgcHVibGlzaGVkIGJ5IHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRhdGlvbi5cbiAqXG4gKiBZb3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXlcbiAqIG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLCBXSVRIT1VUXG4gKiBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuIFNlZSB0aGVcbiAqIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zXG4gKiB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xudmFyIF9fYXdhaXRlciA9XG4gICAgKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8XG4gICAgZnVuY3Rpb24gKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xuICAgICAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUFxuICAgICAgICAgICAgICAgID8gdmFsdWVcbiAgICAgICAgICAgICAgICA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgICAgICB9KTtcbiAgICB9O1xudmFyIF9fZ2VuZXJhdG9yID1cbiAgICAodGhpcyAmJiB0aGlzLl9fZ2VuZXJhdG9yKSB8fFxuICAgIGZ1bmN0aW9uICh0aGlzQXJnLCBib2R5KSB7XG4gICAgICAgIHZhciBfID0ge1xuICAgICAgICAgICAgICAgIGxhYmVsOiAwLFxuICAgICAgICAgICAgICAgIHNlbnQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdFsxXTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHRyeXM6IFtdLFxuICAgICAgICAgICAgICAgIG9wczogW11cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmLFxuICAgICAgICAgICAgeSxcbiAgICAgICAgICAgIHQsXG4gICAgICAgICAgICBnO1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgKGcgPSB7IG5leHQ6IHZlcmIoMCksIHRocm93OiB2ZXJiKDEpLCByZXR1cm46IHZlcmIoMikgfSksXG4gICAgICAgICAgICB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiZcbiAgICAgICAgICAgICAgICAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIGdcbiAgICAgICAgKTtcbiAgICAgICAgZnVuY3Rpb24gdmVyYihuKSB7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RlcChbbiwgdl0pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XG4gICAgICAgICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XG4gICAgICAgICAgICB3aGlsZSAoXylcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAoKGYgPSAxKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAodCA9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wWzBdICYgMlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB5W1wicmV0dXJuXCJdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG9wWzBdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHkubmV4dCkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCgoeSA9IDApLCB0KSkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHQgPSBvcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfLmxhYmVsKys7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF8ubGFiZWwrKztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB5ID0gb3BbMV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3AgPSBbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3AgPSBfLm9wcy5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgISgodCA9IF8udHJ5cyksICh0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXyA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXy5sYWJlbCA9IG9wWzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF8ubGFiZWwgPSB0WzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ID0gb3A7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfLmxhYmVsID0gdFsyXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXy5vcHMucHVzaChvcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgb3AgPSBbNiwgZV07XG4gICAgICAgICAgICAgICAgICAgIHkgPSAwO1xuICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIGYgPSB0ID0gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTtcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XG4gICAgICAgIH1cbiAgICB9O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5hZGRJbnRlcmNlcHRvcnNUb1hNTEh0dHBSZXF1ZXN0ID0gdm9pZCAwO1xudmFyIHV0aWxzXzEgPSByZXF1aXJlKFwiLi91dGlsc1wiKTtcbnZhciBmZXRjaF8xID0gcmVxdWlyZShcIi4vZmV0Y2hcIik7XG52YXIgbG9nZ2VyXzEgPSByZXF1aXJlKFwiLi9sb2dnZXJcIik7XG52YXIgd2luZG93SGFuZGxlcl8xID0gcmVxdWlyZShcIi4vdXRpbHMvd2luZG93SGFuZGxlclwiKTtcbnZhciBwcm9jZXNzU3RhdGVfMSA9IHJlcXVpcmUoXCIuL3Byb2Nlc3NTdGF0ZVwiKTtcbnZhciBYSFJfRVZFTlRTID0gW1wicmVhZHlzdGF0ZWNoYW5nZVwiLCBcImFib3J0XCIsIFwiZXJyb3JcIiwgXCJsb2FkXCIsIFwibG9hZGVuZFwiLCBcImxvYWRzdGFydFwiLCBcInByb2dyZXNzXCIsIFwidGltZW91dFwiXTtcbmZ1bmN0aW9uIGFkZEludGVyY2VwdG9yc1RvWE1MSHR0cFJlcXVlc3QoKSB7XG4gICAgdmFyIGZpcnN0RXZlbnRMb29wRG9uZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQocmVzLCAwKTtcbiAgICB9KTtcbiAgICB2YXIgb2xkWE1MSHR0cFJlcXVlc3QgPSBYTUxIdHRwUmVxdWVzdDtcbiAgICAoMCwgbG9nZ2VyXzEubG9nRGVidWdNZXNzYWdlKShcImFkZEludGVyY2VwdG9yc1RvWE1MSHR0cFJlcXVlc3QgY2FsbGVkXCIpO1xuICAgIC8vIGNyZWF0ZSBYTUxIdHRwUmVxdWVzdCBwcm94eSBvYmplY3RcbiAgICAvLyBkZWZpbmUgY29uc3RydWN0b3IgZm9yIG15IHByb3h5IG9iamVjdFxuICAgIFhNTEh0dHBSZXF1ZXN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYWN0dWFsID0gbmV3IG9sZFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgICAgIHZhciBkZWxheWVkUXVldWUgPSBmaXJzdEV2ZW50TG9vcERvbmU7XG4gICAgICAgIGZ1bmN0aW9uIGRlbGF5SWZOZWNlc3NhcnkoY2IpIHtcbiAgICAgICAgICAgIGRlbGF5ZWRRdWV1ZSA9IGRlbGF5ZWRRdWV1ZS5maW5hbGx5KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChfYSA9IGNiKCkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYXRjaChjb25zb2xlLmVycm9yKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgdmFyIGxpc3RPZkZ1bmN0aW9uQ2FsbHNJblByb3h5ID0gW107XG4gICAgICAgIHZhciByZXF1ZXN0SGVhZGVycyA9IFtdO1xuICAgICAgICB2YXIgY3VzdG9tR2V0dGVyVmFsdWVzID0ge307XG4gICAgICAgIHZhciBjdXN0b21SZXNwb25zZUhlYWRlcnM7XG4gICAgICAgIHZhciBldmVudEhhbmRsZXJzID0gbmV3IE1hcCgpO1xuICAgICAgICAvLyBXZSBkZWZpbmUgdGhlc2UgZHVyaW5nIG9wZW5cbiAgICAgICAgLy8gbGV0IG1ldGhvZDogc3RyaW5nID0gXCJcIjtcbiAgICAgICAgdmFyIHVybCA9IFwiXCI7XG4gICAgICAgIHZhciBkb05vdERvSW50ZXJjZXB0aW9uID0gZmFsc2U7XG4gICAgICAgIHZhciBwcmVSZXF1ZXN0TFNTID0gdW5kZWZpbmVkO1xuICAgICAgICB2YXIgYm9keTtcbiAgICAgICAgLy8gd2UgZG8gbm90IHByb3ZpZGUgb25lcnJvciBjYXVzZSB0aGF0IGlzIGZpcmVkIG9ubHkgb25cbiAgICAgICAgLy8gbmV0d29yayBsZXZlbCBmYWlsdXJlcyBhbmQgbm90aGluZyBlbHNlLiBJZiBhIHN0YXR1cyBjb2RlIGlzID4gNDAwLFxuICAgICAgICAvLyB0aGVuIG9ubG9hZCBhbmQgb25yZWFkeXN0YXRlY2hhbmdlIGFyZSBjYWxsZWQuXG4gICAgICAgIC8vIFNldHRpbmcgdXAgcHJvcHMgKGV2ZW50IGhhbmRsZXJzKSB0aGF0IHdlIHVzZSBpbiBldmVudCBoYW5kbGVyc1xuICAgICAgICAvLyBUaGVzZSByZXF1aXJlIHByb2Nlc3NpbmcgdGhlIHJlc3BvbnNlIChhbmQgcG9zc2libHkgcmV0cnlpbmcpIGJlZm9yZSB0aGV5IGFyZSBmb3J3YXJkZWQgdG8gdGhlIHVzZXJcbiAgICAgICAgc2VsZi5vbmxvYWQgPSBudWxsO1xuICAgICAgICBzZWxmLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IG51bGw7XG4gICAgICAgIHNlbGYub25sb2FkZW5kID0gbnVsbDtcbiAgICAgICAgLy8gVE9ETzogYWRkIHN1cHBvcnQgZm9yIG90aGVyIGV2ZW50IGxpc3RlbmVyIG9wdGlvbnNcbiAgICAgICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0V2ZW50VGFyZ2V0L2FkZEV2ZW50TGlzdGVuZXIjcGFyYW1ldGVyc1xuICAgICAgICBzZWxmLmFkZEV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbiAodHlwZSwgbGlzdGVuZXIsIF9vcHRpb25zKSB7XG4gICAgICAgICAgICB2YXIgaGFuZGxlcnMgPSBldmVudEhhbmRsZXJzLmdldCh0eXBlKTtcbiAgICAgICAgICAgIGlmIChoYW5kbGVycyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlcnMgPSBuZXcgU2V0KCk7XG4gICAgICAgICAgICAgICAgZXZlbnRIYW5kbGVycy5zZXQodHlwZSwgaGFuZGxlcnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaGFuZGxlcnMuYWRkKGxpc3RlbmVyKTtcbiAgICAgICAgfTtcbiAgICAgICAgc2VsZi5yZW1vdmVFdmVudExpc3RlbmVyID0gZnVuY3Rpb24gKHR5cGUsIGxpc3RlbmVyKSB7XG4gICAgICAgICAgICB2YXIgaGFuZGxlcnMgPSBldmVudEhhbmRsZXJzLmdldCh0eXBlKTtcbiAgICAgICAgICAgIGlmIChoYW5kbGVycyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlcnMgPSBuZXcgU2V0KCk7XG4gICAgICAgICAgICAgICAgZXZlbnRIYW5kbGVycy5zZXQodHlwZSwgaGFuZGxlcnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaGFuZGxlcnMuZGVsZXRlKGxpc3RlbmVyKTtcbiAgICAgICAgfTtcbiAgICAgICAgZnVuY3Rpb24gcmVkaXNwYXRjaEV2ZW50KG5hbWUsIGV2KSB7XG4gICAgICAgICAgICB2YXIgaGFuZGxlcnMgPSBldmVudEhhbmRsZXJzLmdldChuYW1lKTtcbiAgICAgICAgICAgICgwLCBsb2dnZXJfMS5sb2dEZWJ1Z01lc3NhZ2UpKFxuICAgICAgICAgICAgICAgIFwiWEhSSW50ZXJjZXB0b3IgZGlzcGF0Y2hpbmcgXCIuY29uY2F0KGV2LnR5cGUsIFwiIHRvIFwiKS5jb25jYXQoaGFuZGxlcnMgPyBoYW5kbGVycy5zaXplIDogMCwgXCIgbGlzdGVuZXJzXCIpXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgaWYgKGhhbmRsZXJzKSB7XG4gICAgICAgICAgICAgICAgQXJyYXkuZnJvbShoYW5kbGVycykuZm9yRWFjaChmdW5jdGlvbiAoaGFuZGxlcikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlci5hcHBseShzZWxmLCBbZXZdKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBoYW5kbGVSZXRyeVBvc3RSZWZyZXNoaW5nKCkge1xuICAgICAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciByZWZyZXNoUmVzdWx0LCByZXRyeVhocjtcbiAgICAgICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJlUmVxdWVzdExTUyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlNob3VsZCBuZXZlciBjb21lIGhlcmUuLlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nRGVidWdNZXNzYWdlKShcIlhIUkludGVyY2VwdG9yLmhhbmRsZVJldHJ5UG9zdFJlZnJlc2hpbmc6IHByZVJlcXVlc3RMU1MgXCIgKyBwcmVSZXF1ZXN0TFNTLnN0YXR1cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgKDAsIGZldGNoXzEub25VbmF1dGhvcmlzZWRSZXNwb25zZSkocHJlUmVxdWVzdExTUyldO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hSZXN1bHQgPSBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlZnJlc2hSZXN1bHQucmVzdWx0ICE9PSBcIlJFVFJZXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKDAsIGxvZ2dlcl8xLmxvZ0RlYnVnTWVzc2FnZSkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlhIUkludGVyY2VwdG9yLmhhbmRsZVJldHJ5UG9zdFJlZnJlc2hpbmc6IE5vdCByZXRyeWluZyBvcmlnaW5hbCByZXF1ZXN0IFwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAhIXJlZnJlc2hSZXN1bHQuZXJyb3JcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlZnJlc2hSZXN1bHQuZXJyb3IgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhpcyB3aWxsIGNhdXNlIHRoZSByZXNwb25zZVRleHQgb2YgdGhlIHNlbGYgdG8gYmUgdXBkYXRlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdG8gdGhlIGVycm9yIG1lc3NhZ2UgYW5kIG1ha2UgdGhlIHN0YXR1cyBjb2RlIHRoZSBzYW1lIGFzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB3aGF0IHRoZSBlcnJvcidzIHN0YXR1cyBjb2RlIGlzLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgcmVmcmVzaFJlc3VsdC5lcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpdCBjYW4gY29tZSBoZXJlIGlmIHJlZnJlc2hSZXN1bHQucmVzdWx0IGlzIFNFU1NJT05fRVhQSVJFRC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaW4gdGhhdCBjYXNlLCB0aGUgc3RhdHVzIG9mIHNlbGYgaXMgYWxyZWFkeSA0MDEuIFNvIHdlIGxldCBpdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBwYXNzIHRocm91Z2guXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCB0cnVlXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nRGVidWdNZXNzYWdlKShcIlhIUkludGVyY2VwdG9yLmhhbmRsZVJldHJ5UG9zdFJlZnJlc2hpbmc6IFJldHJ5aW5nIG9yaWdpbmFsIHJlcXVlc3RcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0cnlYaHIgPSBuZXcgb2xkWE1MSHR0cFJlcXVlc3QoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRVcFhIUihzZWxmLCByZXRyeVhociwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhpcyBhbHNvIGNhbGxzIHRoZSBzZW5kIGZ1bmN0aW9uIHdpdGggdGhlIGFwcHJvcHJpYXRlIGJvZHlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0T2ZGdW5jdGlvbkNhbGxzSW5Qcm94eS5mb3JFYWNoKGZ1bmN0aW9uIChpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkocmV0cnlYaHIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRYSFIocmV0cnlYaHIsIGJvZHkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBmYWxzZV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGhhbmRsZVJlc3BvbnNlKHhocikge1xuICAgICAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBzdGF0dXNfMSwgaGVhZGVycywgZXJyXzEsIHJlc3A7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRvTm90RG9JbnRlcmNlcHRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKDAsIGxvZ2dlcl8xLmxvZ0RlYnVnTWVzc2FnZSkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlhIUkludGVyY2VwdG9yLmhhbmRsZVJlc3BvbnNlOiBSZXR1cm5pbmcgd2l0aG91dCBpbnRlcmNlcHRpb25cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgdHJ1ZV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9hLmxhYmVsID0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYS50cnlzLnB1c2goWzEsIDE0LCAsIDE4XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2EubGFiZWwgPSAyO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9hLnRyeXMucHVzaChbMiwgLCA4LCAxM10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICgwLCBsb2dnZXJfMS5sb2dEZWJ1Z01lc3NhZ2UpKFwiWEhSSW50ZXJjZXB0b3IuaGFuZGxlUmVzcG9uc2U6IEludGVyY2VwdGlvbiBzdGFydGVkXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3NTdGF0ZV8xLlByb2Nlc3NTdGF0ZS5nZXRJbnN0YW5jZSgpLmFkZFN0YXRlKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzU3RhdGVfMS5QUk9DRVNTX1NUQVRFLkNBTExJTkdfSU5URVJDRVBUSU9OX1JFU1BPTlNFXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXNfMSA9IHhoci5zdGF0dXM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVycyA9IGdldFJlc3BvbnNlSGVhZGVyc0Zyb21YSFIoeGhyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBzYXZlVG9rZW5zRnJvbUhlYWRlcnMoaGVhZGVycyldO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmZXRjaF8xLmZpcmVTZXNzaW9uVXBkYXRlRXZlbnRzSWZOZWNlc3NhcnkpKHByZVJlcXVlc3RMU1Muc3RhdHVzID09PSBcIkVYSVNUU1wiLCBzdGF0dXNfMSwgaGVhZGVycy5nZXQoXCJmcm9udC10b2tlblwiKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoc3RhdHVzXzEgPT09IGZldGNoXzEuZGVmYXVsdC5jb25maWcuc2Vzc2lvbkV4cGlyZWRTdGF0dXNDb2RlKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgNV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKDAsIGxvZ2dlcl8xLmxvZ0RlYnVnTWVzc2FnZSkoXCJyZXNwb25zZUludGVyY2VwdG9yOiBTdGF0dXMgY29kZSBpczogXCIgKyBzdGF0dXNfMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgaGFuZGxlUmV0cnlQb3N0UmVmcmVzaGluZygpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgX2Euc2VudCgpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShzdGF0dXNfMSA9PT0gZmV0Y2hfMS5kZWZhdWx0LmNvbmZpZy5pbnZhbGlkQ2xhaW1TdGF0dXNDb2RlKSkgcmV0dXJuIFszIC8qYnJlYWsqLywgN107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgNCAvKnlpZWxkKi8sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICgwLCBmZXRjaF8xLm9uSW52YWxpZENsYWltUmVzcG9uc2UpKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IEpTT04ucGFyc2UoeGhyLnJlc3BvbnNlVGV4dClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYS5sYWJlbCA9IDc7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHRydWVdO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA4OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICgwLCBsb2dnZXJfMS5sb2dEZWJ1Z01lc3NhZ2UpKFwiWEhSSW50ZXJjZXB0b3IuaGFuZGxlUmVzcG9uc2U6IGRvRmluYWxseUNoZWNrIHJ1bm5pbmdcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgKDAsIGZldGNoXzEuZ2V0TG9jYWxTZXNzaW9uU3RhdGUpKGZhbHNlKV07XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEhKF9hLnNlbnQoKS5zdGF0dXMgPT09IFwiRVhJU1RTXCIpKSByZXR1cm4gWzMgLypicmVhayovLCAxMl07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nRGVidWdNZXNzYWdlKShcIlhIUkludGVyY2VwdG9yLmhhbmRsZVJlc3BvbnNlOiBsb2NhbCBzZXNzaW9uIGRvZXNuJ3QgZXhpc3QsIHNvIHJlbW92aW5nIGFudGktY3NyZiBhbmQgc0Zyb250VG9rZW5cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgZmV0Y2hfMS5BbnRpQ3NyZlRva2VuLnJlbW92ZVRva2VuKCldO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxMDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgZmV0Y2hfMS5Gcm9udFRva2VuLnJlbW92ZVRva2VuKCldO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxMTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2EubGFiZWwgPSAxMjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs3IC8qZW5kZmluYWxseSovXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTM6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgMThdO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxNDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJfMSA9IF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoMCwgbG9nZ2VyXzEubG9nRGVidWdNZXNzYWdlKShcIlhIUkludGVyY2VwdG9yLmhhbmRsZVJlc3BvbnNlOiBjYXVnaHQgZXJyb3JcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoZXJyXzEuc3RhdHVzICE9PSB1bmRlZmluZWQpKSByZXR1cm4gWzMgLypicmVhayovLCAxNl07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgZ2V0WE1MSHR0cFN0YXR1c0FuZFJlc3BvbnNlVGV4dEZyb21GZXRjaFJlc3BvbnNlKGVycl8xKV07XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE1OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3AgPSBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VzdG9tR2V0dGVyVmFsdWVzW1wic3RhdHVzXCJdID0gcmVzcC5zdGF0dXM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VzdG9tR2V0dGVyVmFsdWVzW1wic3RhdHVzVGV4dFwiXSA9IHJlc3Auc3RhdHVzVGV4dDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXN0b21HZXR0ZXJWYWx1ZXNbXCJyZXNwb25zZVR5cGVcIl0gPSByZXNwLnJlc3BvbnNlVHlwZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXN0b21SZXNwb25zZUhlYWRlcnMgPSByZXNwLmhlYWRlcnM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3AucmVzcG9uc2VUeXBlID09PSBcImpzb25cIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VzdG9tR2V0dGVyVmFsdWVzW1wicmVzcG9uc2VcIl0gPSBKU09OLnBhcnNlKHJlc3AucmVzcG9uc2VUZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoX2IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1c3RvbUdldHRlclZhbHVlc1tcInJlc3BvbnNlXCJdID0gcmVzcC5yZXNwb25zZVRleHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXN0b21HZXR0ZXJWYWx1ZXNbXCJyZXNwb25zZVwiXSA9IHJlc3AucmVzcG9uc2VUZXh0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXN0b21HZXR0ZXJWYWx1ZXNbXCJyZXNwb25zZVRleHRcIl0gPSByZXNwLnJlc3BvbnNlVGV4dDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCAxN107XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE2OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEhlcmUgd2Ugb25seSBuZWVkIHRvIGhhbmRsZSBmZXRjaCByZWxhdGVkIGVycm9ycywgZnJvbSB0aGUgcmVmcmVzaCBlbmRwb2ludCBjYWxsZWQgYnkgdGhlIHJldHJ5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU28gd2Ugc2hvdWxkIG9ubHkgZ2V0IG5ldHdvcmsgbGV2ZWwgZXJyb3JzIGhlcmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWRpc3BhdGNoRXZlbnQoXCJlcnJvclwiLCBuZXcgRXZlbnQoXCJlcnJvclwiKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2EubGFiZWwgPSAxNztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHRydWVdO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxODpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHNlbGYub3BlbiA9IGZ1bmN0aW9uIChfLCB1KSB7XG4gICAgICAgICAgICAoMCwgbG9nZ2VyXzEubG9nRGVidWdNZXNzYWdlKShcIlhIUkludGVyY2VwdG9yLm9wZW4gY2FsbGVkXCIpO1xuICAgICAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICAgICAgICAvLyBtZXRob2QgPSBtO1xuICAgICAgICAgICAgdXJsID0gdTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgZG9Ob3REb0ludGVyY2VwdGlvbiA9XG4gICAgICAgICAgICAgICAgICAgICh0eXBlb2YgdXJsID09PSBcInN0cmluZ1wiICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAhKDAsIHV0aWxzXzEuc2hvdWxkRG9JbnRlcmNlcHRpb25CYXNlZE9uVXJsKShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmV0Y2hfMS5kZWZhdWx0LmNvbmZpZy5hcGlEb21haW4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmV0Y2hfMS5kZWZhdWx0LmNvbmZpZy5zZXNzaW9uVG9rZW5CYWNrZW5kRG9tYWluXG4gICAgICAgICAgICAgICAgICAgICAgICApKSB8fFxuICAgICAgICAgICAgICAgICAgICAodHlwZW9mIHVybCAhPT0gXCJzdHJpbmdcIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgISgwLCB1dGlsc18xLnNob3VsZERvSW50ZXJjZXB0aW9uQmFzZWRPblVybCkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmV0Y2hfMS5kZWZhdWx0LmNvbmZpZy5hcGlEb21haW4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmV0Y2hfMS5kZWZhdWx0LmNvbmZpZy5zZXNzaW9uVG9rZW5CYWNrZW5kRG9tYWluXG4gICAgICAgICAgICAgICAgICAgICAgICApKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIGlmIChlcnIubWVzc2FnZSA9PT0gXCJQbGVhc2UgcHJvdmlkZSBhIHZhbGlkIGRvbWFpbiBuYW1lXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgKDAsIGxvZ2dlcl8xLmxvZ0RlYnVnTWVzc2FnZSkoXG4gICAgICAgICAgICAgICAgICAgICAgICBcIlhIUkludGVyY2VwdG9yLm9wZW46IFRyeWluZyBzaG91bGREb0ludGVyY2VwdGlvbkJhc2VkT25Vcmwgd2l0aCBsb2NhdGlvbi5vcmlnaW5cIlxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAvLyAub3JpZ2luIGdpdmVzIHRoZSBwb3J0IGFzIHdlbGwuLlxuICAgICAgICAgICAgICAgICAgICBkb05vdERvSW50ZXJjZXB0aW9uID0gISgwLCB1dGlsc18xLnNob3VsZERvSW50ZXJjZXB0aW9uQmFzZWRPblVybCkoXG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3dIYW5kbGVyXzEuZGVmYXVsdC5nZXRSZWZlcmVuY2VPclRocm93KCkud2luZG93SGFuZGxlci5sb2NhdGlvbi5nZXRPcmlnaW4oKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZldGNoXzEuZGVmYXVsdC5jb25maWcuYXBpRG9tYWluLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmV0Y2hfMS5kZWZhdWx0LmNvbmZpZy5zZXNzaW9uVG9rZW5CYWNrZW5kRG9tYWluXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlbGF5SWZOZWNlc3NhcnkoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGxpc3RPZkZ1bmN0aW9uQ2FsbHNJblByb3h5LnB1c2goZnVuY3Rpb24gKHhocikge1xuICAgICAgICAgICAgICAgICAgICB4aHIub3Blbi5hcHBseSh4aHIsIGFyZ3MpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIC8vIGhlcmUgd2UgdXNlIHRoZSBhcHBseSBzeW50YXggY2F1c2UgdGhlcmUgYXJlIG90aGVyIG9wdGlvbmFsIGFyZ3MgdGhhdFxuICAgICAgICAgICAgICAgIC8vIGNhbiBiZSBwYXNzZWQgYnkgdGhlIHVzZXIuXG4gICAgICAgICAgICAgICAgYWN0dWFsLm9wZW4uYXBwbHkoYWN0dWFsLCBhcmdzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICBzZWxmLnNlbmQgPSBmdW5jdGlvbiAoaW5wdXRCb2R5KSB7XG4gICAgICAgICAgICBib2R5ID0gaW5wdXRCb2R5O1xuICAgICAgICAgICAgc2VuZFhIUihhY3R1YWwsIGJvZHkpO1xuICAgICAgICB9O1xuICAgICAgICBzZWxmLnNldFJlcXVlc3RIZWFkZXIgPSBmdW5jdGlvbiAobmFtZSwgdmFsdWUpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICAoMCwgbG9nZ2VyXzEubG9nRGVidWdNZXNzYWdlKShcIlhIUkludGVyY2VwdG9yLnNldFJlcXVlc3RIZWFkZXI6IENhbGxlZCB3aXRoIFwiLmNvbmNhdChuYW1lKSk7XG4gICAgICAgICAgICBpZiAoZG9Ob3REb0ludGVyY2VwdGlvbikge1xuICAgICAgICAgICAgICAgIGRlbGF5SWZOZWNlc3NhcnkoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWN0dWFsLnNldFJlcXVlc3RIZWFkZXIobmFtZSwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFdlIG5lZWQgdG8gZG8gdGhpcywgYmVjYXVzZSBpZiB0aGVyZSBpcyBhbm90aGVyIGludGVyY2VwdG9yIHdyYXBwaW5nIHRoaXMgKGUuZy46IHRoZSBheGlvcyBpbnRlcmNlcHRvcilcbiAgICAgICAgICAgIC8vIHRoZW4gdGhlIGFudGktY3NyZiB0b2tlbiB0aGV5IGFkZCB3b3VsZCBiZSBjb25jYXRlbmF0ZWQgdG8gdGhlIGFudGktY3NyZiB0b2tlbiBhZGRlZCBieSB0aGlzIGludGVyY2VwdG9yXG4gICAgICAgICAgICBpZiAobmFtZSA9PT0gXCJhbnRpLWNzcmZcIikge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlbGF5SWZOZWNlc3NhcnkoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfX2F3YWl0ZXIoX3RoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBhY2Nlc3NUb2tlbjtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEobmFtZS50b0xvd2VyQ2FzZSgpID09PSBcImF1dGhvcml6YXRpb25cIikpIHJldHVybiBbMyAvKmJyZWFrKi8sIDJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nRGVidWdNZXNzYWdlKShcIlhIUkludGVyY2VwdG9yLnNldFJlcXVlc3RIZWFkZXI6IGNoZWNraW5nIGlmIHVzZXIgcHJvdmlkZWQgYXV0aCBoZWFkZXIgbWF0Y2hlcyBsb2NhbCB0b2tlblwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgKDAsIGZldGNoXzEuZ2V0VG9rZW5Gb3JIZWFkZXJBdXRoKShcImFjY2Vzc1wiKV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY2Nlc3NUb2tlbiA9IF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSBcIkJlYXJlciBcIi5jb25jYXQoYWNjZXNzVG9rZW4pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBXZSBhcmUgaWdub3JpbmcgdGhlIEF1dGhvcml6YXRpb24gaGVhZGVyIHNldCBieSB0aGUgdXNlciBpbiB0aGlzIGNhc2UsIGJlY2F1c2UgaXQgd291bGQgY2F1c2UgaXNzdWVzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiB3ZSBkbyBub3QgaWdub3JlIHRoaXMsIHRoZW4gdGhpcyBoZWFkZXIgd291bGQgYmUgdXNlZCBldmVuIGlmIHRoZSByZXF1ZXN0IGlzIGJlaW5nIHJldHJpZWQgYWZ0ZXIgYSByZWZyZXNoLCBldmVuIHRob3VnaCBpdCBjb250YWlucyBhbiBvdXRkYXRlZCBhY2Nlc3MgdG9rZW4uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIGNhdXNlcyBhbiBpbmZpbml0ZSByZWZyZXNoIGxvb3AuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoMCwgbG9nZ2VyXzEubG9nRGVidWdNZXNzYWdlKShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlhIUkludGVyY2VwdG9yLnNldFJlcXVlc3RIZWFkZXI6IHNraXBwaW5nIEF1dGhvcml6YXRpb24gZnJvbSB1c2VyIHByb3ZpZGVkIGhlYWRlcnMgYmVjYXVzZSBpdCBjb250YWlucyBvdXIgYWNjZXNzIHRva2VuXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2EubGFiZWwgPSAyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdE9mRnVuY3Rpb25DYWxsc0luUHJveHkucHVzaChmdW5jdGlvbiAoeGhyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihuYW1lLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGUgb3JpZ2luYWwgdmVyc2lvbiBcImNvbWJpbmVzXCIgaGVhZGVycyBhY2NvcmRpbmcgdG8gTUROLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1ZXN0SGVhZGVycy5wdXNoKHsgbmFtZTogbmFtZSwgdmFsdWU6IHZhbHVlIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3R1YWwuc2V0UmVxdWVzdEhlYWRlcihuYW1lLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIGNvcGllZFByb3BzID0gdW5kZWZpbmVkO1xuICAgICAgICBzZXRVcFhIUihzZWxmLCBhY3R1YWwsIGZhbHNlKTtcbiAgICAgICAgZnVuY3Rpb24gc2V0VXBYSFIoc2VsZiwgeGhyLCBpc1JldHJ5KSB7XG4gICAgICAgICAgICB2YXIgcmVzcG9uc2VQcm9jZXNzZWQ7XG4gICAgICAgICAgICB2YXIgZGVsYXllZEV2ZW50cyA9IFtcImxvYWRcIiwgXCJsb2FkZW5kXCIsIFwicmVhZHlzdGF0ZWNoYW5nZVwiXTtcbiAgICAgICAgICAgICgwLCBsb2dnZXJfMS5sb2dEZWJ1Z01lc3NhZ2UpKFwiWEhSSW50ZXJjZXB0b3Iuc2V0VXBYSFIgY2FsbGVkXCIpO1xuICAgICAgICAgICAgdmFyIF9sb29wXzEgPSBmdW5jdGlvbiAobmFtZV8xKSB7XG4gICAgICAgICAgICAgICAgKDAsIGxvZ2dlcl8xLmxvZ0RlYnVnTWVzc2FnZSkoXCJYSFJJbnRlcmNlcHRvciBhZGRlZCBsaXN0ZW5lciBmb3IgZXZlbnQgXCIuY29uY2F0KG5hbWVfMSkpO1xuICAgICAgICAgICAgICAgIHhoci5hZGRFdmVudExpc3RlbmVyKG5hbWVfMSwgZnVuY3Rpb24gKGV2KSB7XG4gICAgICAgICAgICAgICAgICAgICgwLCBsb2dnZXJfMS5sb2dEZWJ1Z01lc3NhZ2UpKFwiWEhSSW50ZXJjZXB0b3IgZ290IGV2ZW50IFwiLmNvbmNhdChuYW1lXzEpKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFkZWxheWVkRXZlbnRzLmluY2x1ZGVzKG5hbWVfMSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZGlzcGF0Y2hFdmVudChuYW1lXzEsIGV2KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMCwgWEhSX0VWRU5UU18xID0gWEhSX0VWRU5UUzsgX2kgPCBYSFJfRVZFTlRTXzEubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIG5hbWVfMSA9IFhIUl9FVkVOVFNfMVtfaV07XG4gICAgICAgICAgICAgICAgX2xvb3BfMShuYW1lXzEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgeGhyLm9ubG9hZCA9IGZ1bmN0aW9uIChldikge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZVByb2Nlc3NlZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlUHJvY2Vzc2VkID0gaGFuZGxlUmVzcG9uc2UoeGhyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVzcG9uc2VQcm9jZXNzZWQudGhlbihmdW5jdGlvbiAoY2FsbHNlbGYpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjYWxsc2VsZikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChzZWxmLm9ubG9hZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5vbmxvYWQoZXYpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJlZGlzcGF0Y2hFdmVudChcImxvYWRcIiwgZXYpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoZXYpIHtcbiAgICAgICAgICAgICAgICAvLyBJbiBsb2NhbCBmaWxlcywgc3RhdHVzIGlzIDAgdXBvbiBzdWNjZXNzIGluIE1vemlsbGEgRmlyZWZveFxuICAgICAgICAgICAgICAgIGlmICh4aHIucmVhZHlTdGF0ZSA9PT0gb2xkWE1MSHR0cFJlcXVlc3QuRE9ORSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2VQcm9jZXNzZWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VQcm9jZXNzZWQgPSBoYW5kbGVSZXNwb25zZSh4aHIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlUHJvY2Vzc2VkLnRoZW4oZnVuY3Rpb24gKGNhbGxzZWxmKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWNhbGxzZWxmKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGYub25yZWFkeXN0YXRlY2hhbmdlKSBzZWxmLm9ucmVhZHlzdGF0ZWNoYW5nZShldik7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWRpc3BhdGNoRXZlbnQoXCJyZWFkeXN0YXRlY2hhbmdlXCIsIGV2KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGYub25yZWFkeXN0YXRlY2hhbmdlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLm9ucmVhZHlzdGF0ZWNoYW5nZShldik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmVkaXNwYXRjaEV2ZW50KFwicmVhZHlzdGF0ZWNoYW5nZVwiLCBldik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHhoci5vbmxvYWRlbmQgPSBmdW5jdGlvbiAoZXYpIHtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2VQcm9jZXNzZWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICByZXNwb25zZVByb2Nlc3NlZCA9IGhhbmRsZVJlc3BvbnNlKHhocik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJlc3BvbnNlUHJvY2Vzc2VkLnRoZW4oZnVuY3Rpb24gKGNhbGxzZWxmKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghY2FsbHNlbGYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZi5vbmxvYWRlbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYub25sb2FkZW5kKGV2KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZWRpc3BhdGNoRXZlbnQoXCJsb2FkZW5kXCIsIGV2KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBzZWxmLmdldEFsbFJlc3BvbnNlSGVhZGVycyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgaGVhZGVyc1N0cmluZztcbiAgICAgICAgICAgICAgICBpZiAoY3VzdG9tUmVzcG9uc2VIZWFkZXJzKSB7XG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcnNTdHJpbmcgPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICBjdXN0b21SZXNwb25zZUhlYWRlcnMuZm9yRWFjaChmdW5jdGlvbiAodiwgaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChoZWFkZXJzU3RyaW5nICs9IFwiXCIuY29uY2F0KGssIFwiOiBcIikuY29uY2F0KHYsIFwiXFxyXFxuXCIpKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyc1N0cmluZyA9IHhoci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gV2UgdXNlIHRoaXMgXCJmYWtlLWhlYWRlclwiIHRvIHNpZ25hbCBvdGhlciBpbnRlcmNlcHRvcnMgKGF4aW9zKSB0aGF0IHRoaXMgaXMgZG9uZVxuICAgICAgICAgICAgICAgIC8vIGluIGNhc2UgYm90aCBpcyBhcHBsaWVkXG4gICAgICAgICAgICAgICAgcmV0dXJuIGhlYWRlcnNTdHJpbmcgKyBcIngtc3VwZXJ0b2tlbnMteGhyLWludGVyY2VwdGVkOiB0cnVlXFxyXFxuXCI7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgc2VsZi5nZXRSZXNwb25zZUhlYWRlciA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgICAgICAgICAgaWYgKG5hbWUgPT09IFwieC1zdXBlcnRva2Vucy14aHItaW50ZXJjZXB0ZWRcIikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJ0cnVlXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChjdXN0b21SZXNwb25zZUhlYWRlcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGN1c3RvbVJlc3BvbnNlSGVhZGVycy5nZXQobmFtZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB4aHIuZ2V0UmVzcG9uc2VIZWFkZXIobmFtZSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKGNvcGllZFByb3BzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBjb3BpZWRQcm9wcyA9IFtdO1xuICAgICAgICAgICAgICAgIC8vIGl0ZXJhdGUgYWxsIHByb3BlcnRpZXMgaW4gYWN0dWFsIHRvIHByb3h5IHRoZW0gYWNjb3JkaW5nIHRvIHRoZWlyIHR5cGVcbiAgICAgICAgICAgICAgICAvLyBGb3IgZnVuY3Rpb25zLCB3ZSBjYWxsIGFjdHVhbCBhbmQgcmV0dXJuIHRoZSByZXN1bHRcbiAgICAgICAgICAgICAgICAvLyBGb3Igbm9uLWZ1bmN0aW9ucywgd2UgbWFrZSBnZXR0ZXJzL3NldHRlcnNcbiAgICAgICAgICAgICAgICAvLyBJZiB0aGUgcHJvcGVydHkgYWxyZWFkeSBleGlzdHMgb24gc2VsZiwgdGhlbiBkb24ndCBwcm94eSBpdFxuICAgICAgICAgICAgICAgIGZvciAodmFyIHByb3AgaW4geGhyKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHNraXAgcHJvcGVydGllcyB3ZSBhbHJlYWR5IGhhdmUgLSB0aGlzIHdpbGwgc2tpcCBib3RoIHRoZSBhYm92ZSBkZWZpbmVkIHByb3BlcnRpZXNcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhhdCB3ZSBkb24ndCB3YW50IHRvIHByb3h5IGFuZCBza2lwIHByb3BlcnRpZXMgb24gdGhlIHByb3RvdHlwZSBiZWxvbmdpbmcgdG8gT2JqZWN0XG4gICAgICAgICAgICAgICAgICAgIGlmICghKHByb3AgaW4gc2VsZikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdlIHNhdmUgdGhlc2UgcHJvcHMgaW50byBhbiBhcnJheSAtIGluIGNhc2Ugd2UgbmVlZCB0byBzZXQgdXAgYSByZXRyeSBYSFJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvcGllZFByb3BzLnB1c2gocHJvcCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgX2xvb3BfMiA9IGZ1bmN0aW9uIChwcm9wKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB4aHJbcHJvcF0gPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgICAgICAvLyBkZWZpbmUgb3VyIG93biBwcm9wZXJ0eSB0aGF0IGNhbGxzIHRoZSBzYW1lIG1ldGhvZCBvbiB0aGUgYWN0dWFsXG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShzZWxmLCBwcm9wLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaXNSZXRyeSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0T2ZGdW5jdGlvbkNhbGxzSW5Qcm94eS5wdXNoKGZ1bmN0aW9uICh4aHIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHhocltwcm9wXS5hcHBseSh4aHIsIGFyZ3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHhocltwcm9wXS5hcHBseSh4aHIsIGFyZ3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBkZWZpbmUgb3VyIG93biBwcm9wZXJ0eSB0aGF0IGp1c3QgZ2V0cyBvciBzZXRzIHRoZSBzYW1lIHByb3Agb24gdGhlIGFjdHVhbFxuICAgICAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoc2VsZiwgcHJvcCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1c3RvbUdldHRlclZhbHVlc1twcm9wXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjdXN0b21HZXR0ZXJWYWx1ZXNbcHJvcF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB4aHJbcHJvcF07XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpc1JldHJ5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3RPZkZ1bmN0aW9uQ2FsbHNJblByb3h5LnB1c2goZnVuY3Rpb24gKHhocikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeGhyW3Byb3BdID0gdmFsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKDAsIGxvZ2dlcl8xLmxvZ0RlYnVnTWVzc2FnZSkoXCJYSFJJbnRlcmNlcHRvci5zZXRbXCIuY29uY2F0KHByb3AsIFwiXSA9IFwiKS5jb25jYXQodmFsKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeGhyW3Byb3BdID0gdmFsO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgZm9yICh2YXIgX2EgPSAwLCBjb3BpZWRQcm9wc18xID0gY29waWVkUHJvcHM7IF9hIDwgY29waWVkUHJvcHNfMS5sZW5ndGg7IF9hKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgcHJvcCA9IGNvcGllZFByb3BzXzFbX2FdO1xuICAgICAgICAgICAgICAgIF9sb29wXzIocHJvcCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gc2VuZFhIUih4aHIsIGJvZHkpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICAoMCwgbG9nZ2VyXzEubG9nRGVidWdNZXNzYWdlKShcIlhIUkludGVyY2VwdG9yLnNlbmQ6IGNhbGxlZFwiKTtcbiAgICAgICAgICAgICgwLCBsb2dnZXJfMS5sb2dEZWJ1Z01lc3NhZ2UpKFwiWEhSSW50ZXJjZXB0b3Iuc2VuZDogVmFsdWUgb2YgZG9Ob3REb0ludGVyY2VwdGlvbjogXCIgKyBkb05vdERvSW50ZXJjZXB0aW9uKTtcbiAgICAgICAgICAgIGlmIChkb05vdERvSW50ZXJjZXB0aW9uKSB7XG4gICAgICAgICAgICAgICAgKDAsIGxvZ2dlcl8xLmxvZ0RlYnVnTWVzc2FnZSkoXCJYSFJJbnRlcmNlcHRvci5zZW5kOiBSZXR1cm5pbmcgd2l0aG91dCBpbnRlcmNlcHRpb25cIik7XG4gICAgICAgICAgICAgICAgZGVsYXlJZk5lY2Vzc2FyeShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB4aHIuc2VuZChib2R5KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAoMCwgbG9nZ2VyXzEubG9nRGVidWdNZXNzYWdlKShcIlhIUkludGVyY2VwdG9yLnNlbmQ6IEludGVyY2VwdGlvbiBzdGFydGVkXCIpO1xuICAgICAgICAgICAgcHJvY2Vzc1N0YXRlXzEuUHJvY2Vzc1N0YXRlLmdldEluc3RhbmNlKCkuYWRkU3RhdGUoXG4gICAgICAgICAgICAgICAgcHJvY2Vzc1N0YXRlXzEuUFJPQ0VTU19TVEFURS5DQUxMSU5HX0lOVEVSQ0VQVElPTl9SRVFVRVNUXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgZGVsYXlJZk5lY2Vzc2FyeShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9fYXdhaXRlcihfdGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFudGlDc3JmVG9rZW4sIHRyYW5zZmVyTWV0aG9kO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCAoMCwgZmV0Y2hfMS5nZXRMb2NhbFNlc3Npb25TdGF0ZSkodHJ1ZSldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJlUmVxdWVzdExTUyA9IF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEocHJlUmVxdWVzdExTUy5zdGF0dXMgPT09IFwiRVhJU1RTXCIpKSByZXR1cm4gWzMgLypicmVhayovLCAzXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDQgLyp5aWVsZCovLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmV0Y2hfMS5BbnRpQ3NyZlRva2VuLmdldFRva2VuKHByZVJlcXVlc3RMU1MubGFzdEFjY2Vzc1Rva2VuVXBkYXRlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW50aUNzcmZUb2tlbiA9IF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFudGlDc3JmVG9rZW4gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKDAsIGxvZ2dlcl8xLmxvZ0RlYnVnTWVzc2FnZSkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJYSFJJbnRlcmNlcHRvci5zZW5kOiBBZGRpbmcgYW50aS1jc3JmIHRva2VuIHRvIHJlcXVlc3RcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKFwiYW50aS1jc3JmXCIsIGFudGlDc3JmVG9rZW4pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9hLmxhYmVsID0gMztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmZXRjaF8xLmRlZmF1bHQuY29uZmlnLmF1dG9BZGRDcmVkZW50aWFscykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKDAsIGxvZ2dlcl8xLmxvZ0RlYnVnTWVzc2FnZSkoXCJYSFJJbnRlcmNlcHRvci5zZW5kOiBBZGRpbmcgY3JlZGVudGlhbHMgaW5jbHVkZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYud2l0aENyZWRlbnRpYWxzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAhcmVxdWVzdEhlYWRlcnMuc29tZShmdW5jdGlvbiAoaSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpLm5hbWUgPT09IFwicmlkXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICgwLCBsb2dnZXJfMS5sb2dEZWJ1Z01lc3NhZ2UpKFwiWEhSSW50ZXJjZXB0b3Iuc2VuZDogQWRkaW5nIHJpZCBoZWFkZXI6IGFudGktY3NyZlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKFwicmlkXCIsIFwiYW50aS1jc3JmXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKDAsIGxvZ2dlcl8xLmxvZ0RlYnVnTWVzc2FnZSkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJYSFJJbnRlcmNlcHRvci5zZW5kOiByaWQgaGVhZGVyIHdhcyBhbHJlYWR5IHRoZXJlIGluIHJlcXVlc3RcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2Zlck1ldGhvZCA9IGZldGNoXzEuZGVmYXVsdC5jb25maWcudG9rZW5UcmFuc2Zlck1ldGhvZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIXJlcXVlc3RIZWFkZXJzLnNvbWUoZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaS5uYW1lID09PSBcInN0LWF1dGgtbW9kZVwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoMCwgbG9nZ2VyXzEubG9nRGVidWdNZXNzYWdlKShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlhIUkludGVyY2VwdG9yLnNlbmQ6IEFkZGluZyBzdC1hdXRoLW1vZGUgaGVhZGVyOiBcIiArIHRyYW5zZmVyTWV0aG9kXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoXCJzdC1hdXRoLW1vZGVcIiwgdHJhbnNmZXJNZXRob2QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKDAsIGxvZ2dlcl8xLmxvZ0RlYnVnTWVzc2FnZSkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJYSFJJbnRlcmNlcHRvci5zZW5kOiBzdC1hdXRoLW1vZGUgaGVhZGVyIHdhcyBhbHJlYWR5IHRoZXJlIGluIHJlcXVlc3RcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBzZXRBdXRob3JpemF0aW9uSGVhZGVySWZSZXF1aXJlZCh4aHIsIHJlcXVlc3RIZWFkZXJzKV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICgwLCBsb2dnZXJfMS5sb2dEZWJ1Z01lc3NhZ2UpKFwiWEhSSW50ZXJjZXB0b3Iuc2VuZDogTWFraW5nIHVzZXIncyBodHRwIGNhbGxcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCB4aHIuc2VuZChib2R5KV07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8vIFRoaXMgY2FuIGJlIHVzZWQgYnkgb3RoZXIgaW50ZXJjZXB0b3JzIChheGlvcykgdG8gZGV0ZWN0IGlmIHRoaXMgaW50ZXJjZXB0b3IgaGFzIGJlZW4gYWRkZWQgb3Igbm90XG4gICAgWE1MSHR0cFJlcXVlc3QuX19pbnRlcmNlcHRlZEJ5U3VwZXJUb2tlbnMgPSB0cnVlO1xuICAgIFhNTEh0dHBSZXF1ZXN0Ll9fb3JpZ2luYWwgPSBvbGRYTUxIdHRwUmVxdWVzdDtcbn1cbmV4cG9ydHMuYWRkSW50ZXJjZXB0b3JzVG9YTUxIdHRwUmVxdWVzdCA9IGFkZEludGVyY2VwdG9yc1RvWE1MSHR0cFJlcXVlc3Q7XG5mdW5jdGlvbiBnZXRYTUxIdHRwU3RhdHVzQW5kUmVzcG9uc2VUZXh0RnJvbUZldGNoUmVzcG9uc2UocmVzcG9uc2UpIHtcbiAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjb250ZW50VHlwZSwgZGF0YSwgcmVzcG9uc2VUeXBlLCBfYSwgX2IsIF9jO1xuICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9kKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9kLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICBjb250ZW50VHlwZSA9IHJlc3BvbnNlLmhlYWRlcnMuZ2V0KFwiY29udGVudC10eXBlXCIpO1xuICAgICAgICAgICAgICAgICAgICBkYXRhID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VUeXBlID0gXCJ0ZXh0XCI7XG4gICAgICAgICAgICAgICAgICAgIGlmICghKGNvbnRlbnRUeXBlID09PSBudWxsKSkgcmV0dXJuIFszIC8qYnJlYWsqLywgNV07XG4gICAgICAgICAgICAgICAgICAgIF9kLmxhYmVsID0gMTtcbiAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIF9kLnRyeXMucHVzaChbMSwgMywgLCA0XSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHJlc3BvbnNlLnRleHQoKV07XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBkYXRhID0gX2Quc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCA0XTtcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIF9hID0gX2Quc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICBkYXRhID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgNF07XG4gICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCA5XTtcbiAgICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgICAgIGlmICghY29udGVudFR5cGUuaW5jbHVkZXMoXCJhcHBsaWNhdGlvbi9qc29uXCIpKSByZXR1cm4gWzMgLypicmVhayovLCA3XTtcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VUeXBlID0gXCJqc29uXCI7XG4gICAgICAgICAgICAgICAgICAgIF9jID0gKF9iID0gSlNPTikuc3RyaW5naWZ5O1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCByZXNwb25zZS5qc29uKCldO1xuICAgICAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgICAgICAgZGF0YSA9IF9jLmFwcGx5KF9iLCBbX2Quc2VudCgpXSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDldO1xuICAgICAgICAgICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjb250ZW50VHlwZS5pbmNsdWRlcyhcInRleHQvXCIpKSByZXR1cm4gWzMgLypicmVhayovLCA5XTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgcmVzcG9uc2UudGV4dCgpXTtcbiAgICAgICAgICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgICAgICAgICAgIGRhdGEgPSBfZC5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgIF9kLmxhYmVsID0gOTtcbiAgICAgICAgICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAyIC8qcmV0dXJuKi8sXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiByZXNwb25zZS5zdGF0dXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VUZXh0OiBkYXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1c1RleHQ6IHJlc3BvbnNlLnN0YXR1c1RleHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VUeXBlOiByZXNwb25zZVR5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogcmVzcG9uc2UuaGVhZGVyc1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIHNldEF1dGhvcml6YXRpb25IZWFkZXJJZlJlcXVpcmVkKHhociwgcmVxdWVzdEhlYWRlcnMpIHtcbiAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhY2Nlc3NUb2tlbiwgcmVmcmVzaFRva2VuO1xuICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAoMCwgbG9nZ2VyXzEubG9nRGVidWdNZXNzYWdlKShcInNldEF1dGhvcml6YXRpb25IZWFkZXJJZlJlcXVpcmVkOiBhZGRpbmcgZXhpc3RpbmcgdG9rZW5zIGFzIGhlYWRlclwiKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgKDAsIGZldGNoXzEuZ2V0VG9rZW5Gb3JIZWFkZXJBdXRoKShcImFjY2Vzc1wiKV07XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBhY2Nlc3NUb2tlbiA9IF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgKDAsIGZldGNoXzEuZ2V0VG9rZW5Gb3JIZWFkZXJBdXRoKShcInJlZnJlc2hcIildO1xuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgcmVmcmVzaFRva2VuID0gX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAvLyBXZSBkb24ndCBhZGQgdGhlIHJlZnJlc2ggdG9rZW4gYmVjYXVzZSB0aGF0J3Mgb25seSByZXF1aXJlZCBieSB0aGUgcmVmcmVzaCBjYWxsIHdoaWNoIGlzIGRvbmUgd2l0aCBmZXRjaFxuICAgICAgICAgICAgICAgICAgICAvLyBTdGlsbCwgd2Ugb25seSBhZGQgdGhlIEF1dGhvcml6YXRpb24gaGVhZGVyIGlmIGJvdGggYXJlIHByZXNlbnQsIGJlY2F1c2Ugd2UgYXJlIHBsYW5uaW5nIHRvIGFkZCBhbiBvcHRpb24gdG8gZXhwb3NlIHRoZVxuICAgICAgICAgICAgICAgICAgICAvLyBhY2Nlc3MgdG9rZW4gdG8gdGhlIGZyb250ZW5kIHdoaWxlIHVzaW5nIGNvb2tpZSBiYXNlZCBhdXRoIC0gc28gdGhhdCB1c2VycyBjYW4gZ2V0IHRoZSBhY2Nlc3MgdG9rZW4gdG8gdXNlXG4gICAgICAgICAgICAgICAgICAgIGlmIChhY2Nlc3NUb2tlbiAhPT0gdW5kZWZpbmVkICYmIHJlZnJlc2hUb2tlbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdEhlYWRlcnMuc29tZShmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5hbWUgPSBfYS5uYW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmFtZS50b0xvd2VyQ2FzZSgpID09PSBcImF1dGhvcml6YXRpb25cIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKDAsIGxvZ2dlcl8xLmxvZ0RlYnVnTWVzc2FnZSkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwic2V0QXV0aG9yaXphdGlvbkhlYWRlcklmUmVxdWlyZWQ6IEF1dGhvcml6YXRpb24gaGVhZGVyIGRlZmluZWQgYnkgdGhlIHVzZXIsIG5vdCBhZGRpbmdcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhY2Nlc3NUb2tlbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICgwLCBsb2dnZXJfMS5sb2dEZWJ1Z01lc3NhZ2UpKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJzZXRBdXRob3JpemF0aW9uSGVhZGVySWZSZXF1aXJlZDogYWRkZWQgYXV0aG9yaXphdGlvbiBoZWFkZXJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihcIkF1dGhvcml6YXRpb25cIiwgXCJCZWFyZXIgXCIuY29uY2F0KGFjY2Vzc1Rva2VuKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdlIGRvbid0IGFkZCB0aGUgcmVmcmVzaCB0b2tlbiBiZWNhdXNlIHRoYXQncyBvbmx5IHJlcXVpcmVkIGJ5IHRoZSByZWZyZXNoIGNhbGwgd2hpY2ggaXMgZG9uZSB3aXRoIGZldGNoXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAoMCwgbG9nZ2VyXzEubG9nRGVidWdNZXNzYWdlKShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInNldEF1dGhvcml6YXRpb25IZWFkZXJJZlJlcXVpcmVkOiB0b2tlbiBmb3IgaGVhZGVyIGJhc2VkIGF1dGggbm90IGZvdW5kXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIHNhdmVUb2tlbnNGcm9tSGVhZGVycyhoZWFkZXJzKSB7XG4gICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcmVmcmVzaFRva2VuLCBhY2Nlc3NUb2tlbiwgZnJvbnRUb2tlbiwgYW50aUNzcmZUb2tlbiwgdG9rO1xuICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAoMCwgbG9nZ2VyXzEubG9nRGVidWdNZXNzYWdlKShcInNhdmVUb2tlbnNGcm9tSGVhZGVyczogU2F2aW5nIHVwZGF0ZWQgdG9rZW5zIGZyb20gdGhlIHJlc3BvbnNlXCIpO1xuICAgICAgICAgICAgICAgICAgICByZWZyZXNoVG9rZW4gPSBoZWFkZXJzLmdldChcInN0LXJlZnJlc2gtdG9rZW5cIik7XG4gICAgICAgICAgICAgICAgICAgIGlmICghKHJlZnJlc2hUb2tlbiAhPT0gbnVsbCkpIHJldHVybiBbMyAvKmJyZWFrKi8sIDJdO1xuICAgICAgICAgICAgICAgICAgICAoMCwgbG9nZ2VyXzEubG9nRGVidWdNZXNzYWdlKShcInNhdmVUb2tlbnNGcm9tSGVhZGVyczogc2F2aW5nIG5ldyByZWZyZXNoIHRva2VuXCIpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCAoMCwgZmV0Y2hfMS5zZXRUb2tlbikoXCJyZWZyZXNoXCIsIHJlZnJlc2hUb2tlbildO1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICBfYS5sYWJlbCA9IDI7XG4gICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICBhY2Nlc3NUb2tlbiA9IGhlYWRlcnMuZ2V0KFwic3QtYWNjZXNzLXRva2VuXCIpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIShhY2Nlc3NUb2tlbiAhPT0gbnVsbCkpIHJldHVybiBbMyAvKmJyZWFrKi8sIDRdO1xuICAgICAgICAgICAgICAgICAgICAoMCwgbG9nZ2VyXzEubG9nRGVidWdNZXNzYWdlKShcInNhdmVUb2tlbnNGcm9tSGVhZGVyczogc2F2aW5nIG5ldyBhY2Nlc3MgdG9rZW5cIik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sICgwLCBmZXRjaF8xLnNldFRva2VuKShcImFjY2Vzc1wiLCBhY2Nlc3NUb2tlbildO1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICBfYS5sYWJlbCA9IDQ7XG4gICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICBmcm9udFRva2VuID0gaGVhZGVycy5nZXQoXCJmcm9udC10b2tlblwiKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEoZnJvbnRUb2tlbiAhPT0gbnVsbCkpIHJldHVybiBbMyAvKmJyZWFrKi8sIDZdO1xuICAgICAgICAgICAgICAgICAgICAoMCwgbG9nZ2VyXzEubG9nRGVidWdNZXNzYWdlKShcInNhdmVUb2tlbnNGcm9tSGVhZGVyczogU2V0dGluZyBzRnJvbnRUb2tlbjogXCIgKyBmcm9udFRva2VuKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgZmV0Y2hfMS5Gcm9udFRva2VuLnNldEl0ZW0oZnJvbnRUb2tlbildO1xuICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICBfYS5sYWJlbCA9IDY7XG4gICAgICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICAgICAgICBhbnRpQ3NyZlRva2VuID0gaGVhZGVycy5nZXQoXCJhbnRpLWNzcmZcIik7XG4gICAgICAgICAgICAgICAgICAgIGlmICghKGFudGlDc3JmVG9rZW4gIT09IG51bGwpKSByZXR1cm4gWzMgLypicmVhayovLCA5XTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgKDAsIGZldGNoXzEuZ2V0TG9jYWxTZXNzaW9uU3RhdGUpKHRydWUpXTtcbiAgICAgICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgICAgICAgIHRvayA9IF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodG9rLnN0YXR1cyA9PT0gXCJFWElTVFNcIikpIHJldHVybiBbMyAvKmJyZWFrKi8sIDldO1xuICAgICAgICAgICAgICAgICAgICAoMCwgbG9nZ2VyXzEubG9nRGVidWdNZXNzYWdlKShcInNhdmVUb2tlbnNGcm9tSGVhZGVyczogU2V0dGluZyBhbnRpLWNzcmYgdG9rZW5cIik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIGZldGNoXzEuQW50aUNzcmZUb2tlbi5zZXRJdGVtKHRvay5sYXN0QWNjZXNzVG9rZW5VcGRhdGUsIGFudGlDc3JmVG9rZW4pXTtcbiAgICAgICAgICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgX2EubGFiZWwgPSA5O1xuICAgICAgICAgICAgICAgIGNhc2UgOTpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGdldFJlc3BvbnNlSGVhZGVyc0Zyb21YSFIoeGhyKSB7XG4gICAgcmV0dXJuIG5ldyBIZWFkZXJzKFxuICAgICAgICB4aHJcbiAgICAgICAgICAgIC5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKVxuICAgICAgICAgICAgLnNwbGl0KFwiXFxyXFxuXCIpXG4gICAgICAgICAgICAubWFwKGZ1bmN0aW9uIChsaW5lKSB7XG4gICAgICAgICAgICAgICAgdmFyIHNlcCA9IGxpbmUuaW5kZXhPZihcIjogXCIpO1xuICAgICAgICAgICAgICAgIGlmIChzZXAgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbXCJcIiwgXCJcIl07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBbbGluZS5zbGljZSgwLCBzZXApLCBsaW5lLnNsaWNlKHNlcCArIDIpXTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVbMF0ubGVuZ3RoICE9PSAwO1xuICAgICAgICAgICAgfSlcbiAgICApO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/supertokens-website/lib/build/xmlhttprequest.js\n"));

/***/ }),

/***/ "./node_modules/supertokens-website/utils/cookieHandler/index.js":
/*!***********************************************************************!*\
  !*** ./node_modules/supertokens-website/utils/cookieHandler/index.js ***!
  \***********************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("/* Copyright (c) 2020, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n * \n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * \n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License. \n*/\n\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nexports.__esModule = true;\n__export(__webpack_require__(/*! ../../lib/build/utils/cookieHandler */ \"./node_modules/supertokens-website/lib/build/utils/cookieHandler/index.js\"));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3VwZXJ0b2tlbnMtd2Vic2l0ZS91dGlscy9jb29raWVIYW5kbGVyL2luZGV4LmpzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQixTQUFTLG1CQUFPLENBQUMsc0hBQXFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9zdXBlcnRva2Vucy13ZWJzaXRlL3V0aWxzL2Nvb2tpZUhhbmRsZXIvaW5kZXguanM/MGY3NiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBDb3B5cmlnaHQgKGMpIDIwMjAsIFZSQUkgTGFicyBhbmQvb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb2Z0d2FyZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGVcbiAqIFwiTGljZW5zZVwiKSBhcyBwdWJsaXNoZWQgYnkgdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLlxuICogXG4gKiBZb3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXlcbiAqIG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKiBcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVFxuICogV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiBTZWUgdGhlXG4gKiBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9uc1xuICogdW5kZXIgdGhlIExpY2Vuc2UuIFxuKi9cblwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gX19leHBvcnQobSkge1xuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcbn1cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi4vLi4vbGliL2J1aWxkL3V0aWxzL2Nvb2tpZUhhbmRsZXJcIikpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/supertokens-website/utils/cookieHandler/index.js\n"));

/***/ }),

/***/ "./node_modules/supertokens-website/utils/error/index.js":
/*!***************************************************************!*\
  !*** ./node_modules/supertokens-website/utils/error/index.js ***!
  \***************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("/* Copyright (c) 2020, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n *\n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License.\n */\n\nfunction __export(m) {\n  for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nexports.__esModule = true;\n\nlet d = __webpack_require__(/*! ../../lib/build/error */ \"./node_modules/supertokens-website/lib/build/error.js\");\n\nif (d.default !== undefined) {\n    __export(d);\n} else {\n    __export({\n        default: d,\n        ...d,\n    });\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3VwZXJ0b2tlbnMtd2Vic2l0ZS91dGlscy9lcnJvci9pbmRleC5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ2E7QUFDYjtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7O0FBRWxCLFFBQVEsbUJBQU8sQ0FBQyxvRkFBdUI7O0FBRXZDO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9zdXBlcnRva2Vucy13ZWJzaXRlL3V0aWxzL2Vycm9yL2luZGV4LmpzPzY4ZGIiXSwic291cmNlc0NvbnRlbnQiOlsiLyogQ29weXJpZ2h0IChjKSAyMDIwLCBWUkFJIExhYnMgYW5kL29yIGl0cyBhZmZpbGlhdGVzLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc29mdHdhcmUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlXG4gKiBcIkxpY2Vuc2VcIikgYXMgcHVibGlzaGVkIGJ5IHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRhdGlvbi5cbiAqXG4gKiBZb3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXlcbiAqIG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLCBXSVRIT1VUXG4gKiBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuIFNlZSB0aGVcbiAqIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zXG4gKiB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXCJ1c2Ugc3RyaWN0XCI7XG5mdW5jdGlvbiBfX2V4cG9ydChtKSB7XG4gIGZvciAodmFyIHAgaW4gbSkgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcbn1cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbmxldCBkID0gcmVxdWlyZShcIi4uLy4uL2xpYi9idWlsZC9lcnJvclwiKTtcblxuaWYgKGQuZGVmYXVsdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgX19leHBvcnQoZCk7XG59IGVsc2Uge1xuICAgIF9fZXhwb3J0KHtcbiAgICAgICAgZGVmYXVsdDogZCxcbiAgICAgICAgLi4uZCxcbiAgICB9KTtcbn0iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/supertokens-website/utils/error/index.js\n"));

/***/ }),

/***/ "./node_modules/supertokens-website/utils/windowHandler/index.js":
/*!***********************************************************************!*\
  !*** ./node_modules/supertokens-website/utils/windowHandler/index.js ***!
  \***********************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("/* Copyright (c) 2020, VRAI Labs and/or its affiliates. All rights reserved.\n *\n * This software is licensed under the Apache License, Version 2.0 (the\n * \"License\") as published by the Apache Software Foundation.\n * \n * You may not use this file except in compliance with the License. You may\n * obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * \n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations\n * under the License. \n*/\n\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nexports.__esModule = true;\n__export(__webpack_require__(/*! ../../lib/build/utils/windowHandler */ \"./node_modules/supertokens-website/lib/build/utils/windowHandler/index.js\"));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc3VwZXJ0b2tlbnMtd2Vic2l0ZS91dGlscy93aW5kb3dIYW5kbGVyL2luZGV4LmpzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQixTQUFTLG1CQUFPLENBQUMsc0hBQXFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9zdXBlcnRva2Vucy13ZWJzaXRlL3V0aWxzL3dpbmRvd0hhbmRsZXIvaW5kZXguanM/NWM3ZSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBDb3B5cmlnaHQgKGMpIDIwMjAsIFZSQUkgTGFicyBhbmQvb3IgaXRzIGFmZmlsaWF0ZXMuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb2Z0d2FyZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGVcbiAqIFwiTGljZW5zZVwiKSBhcyBwdWJsaXNoZWQgYnkgdGhlIEFwYWNoZSBTb2Z0d2FyZSBGb3VuZGF0aW9uLlxuICogXG4gKiBZb3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXlcbiAqIG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKiBcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVFxuICogV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiBTZWUgdGhlXG4gKiBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZCBsaW1pdGF0aW9uc1xuICogdW5kZXIgdGhlIExpY2Vuc2UuIFxuKi9cblwidXNlIHN0cmljdFwiO1xuZnVuY3Rpb24gX19leHBvcnQobSkge1xuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcbn1cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi4vLi4vbGliL2J1aWxkL3V0aWxzL3dpbmRvd0hhbmRsZXJcIikpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/supertokens-website/utils/windowHandler/index.js\n"));

/***/ })

},
/******/ function(__webpack_require__) { // webpackRuntimeModules
/******/ var __webpack_exec__ = function(moduleId) { return __webpack_require__(__webpack_require__.s = moduleId); }
/******/ __webpack_require__.O(0, ["main"], function() { return __webpack_exec__("./node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?absolutePagePath=private-next-pages%2F_app&page=%2F_app!"), __webpack_exec__("./node_modules/next/dist/client/router.js"); });
/******/ var __webpack_exports__ = __webpack_require__.O();
/******/ _N_E = __webpack_exports__;
/******/ }
]);